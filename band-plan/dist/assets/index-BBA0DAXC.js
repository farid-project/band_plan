function zC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ni=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function d_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var f_={exports:{}},rg={},h_={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=Symbol.for("react.element"),WC=Symbol.for("react.portal"),HC=Symbol.for("react.fragment"),VC=Symbol.for("react.strict_mode"),GC=Symbol.for("react.profiler"),YC=Symbol.for("react.provider"),KC=Symbol.for("react.context"),JC=Symbol.for("react.forward_ref"),XC=Symbol.for("react.suspense"),QC=Symbol.for("react.memo"),ZC=Symbol.for("react.lazy"),hx=Symbol.iterator;function eA(e){return e===null||typeof e!="object"?null:(e=hx&&e[hx]||e["@@iterator"],typeof e=="function"?e:null)}var p_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m_=Object.assign,g_={};function Nf(e,t,n){this.props=e,this.context=t,this.refs=g_,this.updater=n||p_}Nf.prototype.isReactComponent={};Nf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function v_(){}v_.prototype=Nf.prototype;function ky(e,t,n){this.props=e,this.context=t,this.refs=g_,this.updater=n||p_}var jy=ky.prototype=new v_;jy.constructor=ky;m_(jy,Nf.prototype);jy.isPureReactComponent=!0;var px=Array.isArray,y_=Object.prototype.hasOwnProperty,Ey={current:null},w_={key:!0,ref:!0,__self:!0,__source:!0};function x_(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)y_.call(t,r)&&!w_.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:yp,type:e,key:s,ref:a,props:i,_owner:Ey.current}}function tA(e,t){return{$$typeof:yp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cy(e){return typeof e=="object"&&e!==null&&e.$$typeof===yp}function nA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mx=/\/+/g;function R1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nA(""+e.key):t.toString(36)}function Vm(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case yp:case WC:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+R1(a,0):r,px(i)?(n="",e!=null&&(n=e.replace(mx,"$&/")+"/"),Vm(i,t,n,"",function(f){return f})):i!=null&&(Cy(i)&&(i=tA(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(mx,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",px(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+R1(s,l);a+=Vm(s,t,n,c,i)}else if(c=eA(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+R1(s,l++),a+=Vm(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function mm(e,t,n){if(e==null)return e;var r=[],i=0;return Vm(e,r,"","",function(s){return t.call(n,s,i++)}),r}function rA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $i={current:null},Gm={transition:null},iA={ReactCurrentDispatcher:$i,ReactCurrentBatchConfig:Gm,ReactCurrentOwner:Ey};function b_(){throw Error("act(...) is not supported in production builds of React.")}Xt.Children={map:mm,forEach:function(e,t,n){mm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mm(e,function(){t++}),t},toArray:function(e){return mm(e,function(t){return t})||[]},only:function(e){if(!Cy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xt.Component=Nf;Xt.Fragment=HC;Xt.Profiler=GC;Xt.PureComponent=ky;Xt.StrictMode=VC;Xt.Suspense=XC;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iA;Xt.act=b_;Xt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m_({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Ey.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)y_.call(t,c)&&!w_.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:yp,type:e.type,key:i,ref:s,props:r,_owner:a}};Xt.createContext=function(e){return e={$$typeof:KC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:YC,_context:e},e.Consumer=e};Xt.createElement=x_;Xt.createFactory=function(e){var t=x_.bind(null,e);return t.type=e,t};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(e){return{$$typeof:JC,render:e}};Xt.isValidElement=Cy;Xt.lazy=function(e){return{$$typeof:ZC,_payload:{_status:-1,_result:e},_init:rA}};Xt.memo=function(e,t){return{$$typeof:QC,type:e,compare:t===void 0?null:t}};Xt.startTransition=function(e){var t=Gm.transition;Gm.transition={};try{e()}finally{Gm.transition=t}};Xt.unstable_act=b_;Xt.useCallback=function(e,t){return $i.current.useCallback(e,t)};Xt.useContext=function(e){return $i.current.useContext(e)};Xt.useDebugValue=function(){};Xt.useDeferredValue=function(e){return $i.current.useDeferredValue(e)};Xt.useEffect=function(e,t){return $i.current.useEffect(e,t)};Xt.useId=function(){return $i.current.useId()};Xt.useImperativeHandle=function(e,t,n){return $i.current.useImperativeHandle(e,t,n)};Xt.useInsertionEffect=function(e,t){return $i.current.useInsertionEffect(e,t)};Xt.useLayoutEffect=function(e,t){return $i.current.useLayoutEffect(e,t)};Xt.useMemo=function(e,t){return $i.current.useMemo(e,t)};Xt.useReducer=function(e,t,n){return $i.current.useReducer(e,t,n)};Xt.useRef=function(e){return $i.current.useRef(e)};Xt.useState=function(e){return $i.current.useState(e)};Xt.useSyncExternalStore=function(e,t,n){return $i.current.useSyncExternalStore(e,t,n)};Xt.useTransition=function(){return $i.current.useTransition()};Xt.version="18.3.1";h_.exports=Xt;var E=h_.exports;const ht=d_(E),Uv=zC({__proto__:null,default:ht},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sA=E,aA=Symbol.for("react.element"),oA=Symbol.for("react.fragment"),lA=Object.prototype.hasOwnProperty,cA=sA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uA={key:!0,ref:!0,__self:!0,__source:!0};function __(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)lA.call(t,r)&&!uA.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:aA,type:e,key:s,ref:a,props:i,_owner:cA.current}}rg.Fragment=oA;rg.jsx=__;rg.jsxs=__;f_.exports=rg;var h=f_.exports,S_={exports:{}},Ds={},N_={exports:{}},k_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,te){var oe=B.length;B.push(te);e:for(;0<oe;){var Pe=oe-1>>>1,O=B[Pe];if(0<i(O,te))B[Pe]=te,B[oe]=O,oe=Pe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var te=B[0],oe=B.pop();if(oe!==te){B[0]=oe;e:for(var Pe=0,O=B.length,G=O>>>1;Pe<G;){var re=2*(Pe+1)-1,ae=B[re],de=re+1,ke=B[de];if(0>i(ae,oe))de<O&&0>i(ke,ae)?(B[Pe]=ke,B[de]=oe,Pe=de):(B[Pe]=ae,B[re]=oe,Pe=re);else if(de<O&&0>i(ke,oe))B[Pe]=ke,B[de]=oe,Pe=de;else break e}}return te}function i(B,te){var oe=B.sortIndex-te.sortIndex;return oe!==0?oe:B.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],f=[],p=1,m=null,w=3,v=!1,N=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(B){for(var te=n(f);te!==null;){if(te.callback===null)r(f);else if(te.startTime<=B)r(f),te.sortIndex=te.expirationTime,t(c,te);else break;te=n(f)}}function F(B){if(k=!1,L(B),!N)if(n(c)!==null)N=!0,ge(Q);else{var te=n(f);te!==null&&J(F,te.startTime-B)}}function Q(B,te){N=!1,k&&(k=!1,_($),$=-1),v=!0;var oe=w;try{for(L(te),m=n(c);m!==null&&(!(m.expirationTime>te)||B&&!D());){var Pe=m.callback;if(typeof Pe=="function"){m.callback=null,w=m.priorityLevel;var O=Pe(m.expirationTime<=te);te=e.unstable_now(),typeof O=="function"?m.callback=O:m===n(c)&&r(c),L(te)}else r(c);m=n(c)}if(m!==null)var G=!0;else{var re=n(f);re!==null&&J(F,re.startTime-te),G=!1}return G}finally{m=null,w=oe,v=!1}}var ee=!1,W=null,$=-1,Z=5,ie=-1;function D(){return!(e.unstable_now()-ie<Z)}function R(){if(W!==null){var B=e.unstable_now();ie=B;var te=!0;try{te=W(!0,B)}finally{te?V():(ee=!1,W=null)}}else ee=!1}var V;if(typeof S=="function")V=function(){S(R)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,he=Y.port2;Y.port1.onmessage=R,V=function(){he.postMessage(null)}}else V=function(){C(R,0)};function ge(B){W=B,ee||(ee=!0,V())}function J(B,te){$=C(function(){B(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){N||v||(N=!0,ge(Q))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(B){switch(w){case 1:case 2:case 3:var te=3;break;default:te=w}var oe=w;w=te;try{return B()}finally{w=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,te){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=w;w=B;try{return te()}finally{w=oe}},e.unstable_scheduleCallback=function(B,te,oe){var Pe=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Pe+oe:Pe):oe=Pe,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=oe+O,B={id:p++,callback:te,priorityLevel:B,startTime:oe,expirationTime:O,sortIndex:-1},oe>Pe?(B.sortIndex=oe,t(f,B),n(c)===null&&B===n(f)&&(k?(_($),$=-1):k=!0,J(F,oe-Pe))):(B.sortIndex=O,t(c,B),N||v||(N=!0,ge(Q))),B},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(B){var te=w;return function(){var oe=w;w=te;try{return B.apply(this,arguments)}finally{w=oe}}}})(k_);N_.exports=k_;var dA=N_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA=E,Os=dA;function et(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j_=new Set,Vh={};function Uu(e,t){pf(e,t),pf(e+"Capture",t)}function pf(e,t){for(Vh[e]=t,e=0;e<t.length;e++)j_.add(t[e])}var Zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zv=Object.prototype.hasOwnProperty,hA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gx={},vx={};function pA(e){return zv.call(vx,e)?!0:zv.call(gx,e)?!1:hA.test(e)?vx[e]=!0:(gx[e]=!0,!1)}function mA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gA(e,t,n,r){if(t===null||typeof t>"u"||mA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bi(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var ii={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ii[e]=new Bi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ii[t]=new Bi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ii[e]=new Bi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ii[e]=new Bi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ii[e]=new Bi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ii[e]=new Bi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ii[e]=new Bi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ii[e]=new Bi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ii[e]=new Bi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ay=/[\-:]([a-z])/g;function Ly(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ay,Ly);ii[t]=new Bi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ay,Ly);ii[t]=new Bi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ay,Ly);ii[t]=new Bi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ii[e]=new Bi(e,1,!1,e.toLowerCase(),null,!1,!1)});ii.xlinkHref=new Bi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ii[e]=new Bi(e,1,!1,e.toLowerCase(),null,!0,!0)});function Py(e,t,n,r){var i=ii.hasOwnProperty(t)?ii[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gA(t,n,i,r)&&(n=null),r||i===null?pA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var sl=fA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gm=Symbol.for("react.element"),Bd=Symbol.for("react.portal"),Ud=Symbol.for("react.fragment"),Ty=Symbol.for("react.strict_mode"),qv=Symbol.for("react.profiler"),E_=Symbol.for("react.provider"),C_=Symbol.for("react.context"),Oy=Symbol.for("react.forward_ref"),Wv=Symbol.for("react.suspense"),Hv=Symbol.for("react.suspense_list"),Dy=Symbol.for("react.memo"),nc=Symbol.for("react.lazy"),A_=Symbol.for("react.offscreen"),yx=Symbol.iterator;function lh(e){return e===null||typeof e!="object"?null:(e=yx&&e[yx]||e["@@iterator"],typeof e=="function"?e:null)}var cr=Object.assign,F1;function Sh(e){if(F1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F1=t&&t[1]||""}return`
`+F1+e}var $1=!1;function B1(e,t){if(!e||$1)return"";$1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{$1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Sh(e):""}function vA(e){switch(e.tag){case 5:return Sh(e.type);case 16:return Sh("Lazy");case 13:return Sh("Suspense");case 19:return Sh("SuspenseList");case 0:case 2:case 15:return e=B1(e.type,!1),e;case 11:return e=B1(e.type.render,!1),e;case 1:return e=B1(e.type,!0),e;default:return""}}function Vv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ud:return"Fragment";case Bd:return"Portal";case qv:return"Profiler";case Ty:return"StrictMode";case Wv:return"Suspense";case Hv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C_:return(e.displayName||"Context")+".Consumer";case E_:return(e._context.displayName||"Context")+".Provider";case Oy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dy:return t=e.displayName||null,t!==null?t:Vv(e.type)||"Memo";case nc:t=e._payload,e=e._init;try{return Vv(e(t))}catch{}}return null}function yA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vv(t);case 8:return t===Ty?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wA(e){var t=L_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vm(e){e._valueTracker||(e._valueTracker=wA(e))}function P_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=L_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function p0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gv(e,t){var n=t.checked;return cr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=jc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function T_(e,t){t=t.checked,t!=null&&Py(e,"checked",t,!1)}function Yv(e,t){T_(e,t);var n=jc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kv(e,t.type,n):t.hasOwnProperty("defaultValue")&&Kv(e,t.type,jc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Kv(e,t,n){(t!=="number"||p0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Nh=Array.isArray;function ef(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+jc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Jv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(et(91));return cr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(et(92));if(Nh(n)){if(1<n.length)throw Error(et(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jc(n)}}function O_(e,t){var n=jc(t.value),r=jc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _x(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function D_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?D_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ym,M_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ym=ym||document.createElement("div"),ym.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ym.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ah={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xA=["Webkit","ms","Moz","O"];Object.keys(Ah).forEach(function(e){xA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ah[t]=Ah[e]})});function I_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ah.hasOwnProperty(e)&&Ah[e]?(""+t).trim():t+"px"}function R_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=I_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var bA=cr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qv(e,t){if(t){if(bA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(et(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(et(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(et(61))}if(t.style!=null&&typeof t.style!="object")throw Error(et(62))}}function Zv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e2=null;function My(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var t2=null,tf=null,nf=null;function Sx(e){if(e=bp(e)){if(typeof t2!="function")throw Error(et(280));var t=e.stateNode;t&&(t=lg(t),t2(e.stateNode,e.type,t))}}function F_(e){tf?nf?nf.push(e):nf=[e]:tf=e}function $_(){if(tf){var e=tf,t=nf;if(nf=tf=null,Sx(e),t)for(e=0;e<t.length;e++)Sx(t[e])}}function B_(e,t){return e(t)}function U_(){}var U1=!1;function z_(e,t,n){if(U1)return e(t,n);U1=!0;try{return B_(e,t,n)}finally{U1=!1,(tf!==null||nf!==null)&&(U_(),$_())}}function Yh(e,t){var n=e.stateNode;if(n===null)return null;var r=lg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(et(231,t,typeof n));return n}var n2=!1;if(Zo)try{var ch={};Object.defineProperty(ch,"passive",{get:function(){n2=!0}}),window.addEventListener("test",ch,ch),window.removeEventListener("test",ch,ch)}catch{n2=!1}function _A(e,t,n,r,i,s,a,l,c){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(p){this.onError(p)}}var Lh=!1,m0=null,g0=!1,r2=null,SA={onError:function(e){Lh=!0,m0=e}};function NA(e,t,n,r,i,s,a,l,c){Lh=!1,m0=null,_A.apply(SA,arguments)}function kA(e,t,n,r,i,s,a,l,c){if(NA.apply(this,arguments),Lh){if(Lh){var f=m0;Lh=!1,m0=null}else throw Error(et(198));g0||(g0=!0,r2=f)}}function zu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function q_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nx(e){if(zu(e)!==e)throw Error(et(188))}function jA(e){var t=e.alternate;if(!t){if(t=zu(e),t===null)throw Error(et(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Nx(i),e;if(s===r)return Nx(i),t;s=s.sibling}throw Error(et(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(et(189))}}if(n.alternate!==r)throw Error(et(190))}if(n.tag!==3)throw Error(et(188));return n.stateNode.current===n?e:t}function W_(e){return e=jA(e),e!==null?H_(e):null}function H_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=H_(e);if(t!==null)return t;e=e.sibling}return null}var V_=Os.unstable_scheduleCallback,kx=Os.unstable_cancelCallback,EA=Os.unstable_shouldYield,CA=Os.unstable_requestPaint,br=Os.unstable_now,AA=Os.unstable_getCurrentPriorityLevel,Iy=Os.unstable_ImmediatePriority,G_=Os.unstable_UserBlockingPriority,v0=Os.unstable_NormalPriority,LA=Os.unstable_LowPriority,Y_=Os.unstable_IdlePriority,ig=null,fo=null;function PA(e){if(fo&&typeof fo.onCommitFiberRoot=="function")try{fo.onCommitFiberRoot(ig,e,void 0,(e.current.flags&128)===128)}catch{}}var Pa=Math.clz32?Math.clz32:DA,TA=Math.log,OA=Math.LN2;function DA(e){return e>>>=0,e===0?32:31-(TA(e)/OA|0)|0}var wm=64,xm=4194304;function kh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function y0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=kh(l):(s&=a,s!==0&&(r=kh(s)))}else a=n&~i,a!==0?r=kh(a):s!==0&&(r=kh(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pa(t),i=1<<n,r|=e[n],t&=~i;return r}function MA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Pa(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=MA(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function i2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function K_(){var e=wm;return wm<<=1,!(wm&4194240)&&(wm=64),e}function z1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pa(t),e[t]=n}function RA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Pa(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Ry(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pa(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Nn=0;function J_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var X_,Fy,Q_,Z_,e4,s2=!1,bm=[],gc=null,vc=null,yc=null,Kh=new Map,Jh=new Map,ac=[],FA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jx(e,t){switch(e){case"focusin":case"focusout":gc=null;break;case"dragenter":case"dragleave":vc=null;break;case"mouseover":case"mouseout":yc=null;break;case"pointerover":case"pointerout":Kh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jh.delete(t.pointerId)}}function uh(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=bp(t),t!==null&&Fy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $A(e,t,n,r,i){switch(t){case"focusin":return gc=uh(gc,e,t,n,r,i),!0;case"dragenter":return vc=uh(vc,e,t,n,r,i),!0;case"mouseover":return yc=uh(yc,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Kh.set(s,uh(Kh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Jh.set(s,uh(Jh.get(s)||null,e,t,n,r,i)),!0}return!1}function t4(e){var t=ku(e.target);if(t!==null){var n=zu(t);if(n!==null){if(t=n.tag,t===13){if(t=q_(n),t!==null){e.blockedOn=t,e4(e.priority,function(){Q_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ym(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=a2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);e2=r,n.target.dispatchEvent(r),e2=null}else return t=bp(n),t!==null&&Fy(t),e.blockedOn=n,!1;t.shift()}return!0}function Ex(e,t,n){Ym(e)&&n.delete(t)}function BA(){s2=!1,gc!==null&&Ym(gc)&&(gc=null),vc!==null&&Ym(vc)&&(vc=null),yc!==null&&Ym(yc)&&(yc=null),Kh.forEach(Ex),Jh.forEach(Ex)}function dh(e,t){e.blockedOn===t&&(e.blockedOn=null,s2||(s2=!0,Os.unstable_scheduleCallback(Os.unstable_NormalPriority,BA)))}function Xh(e){function t(i){return dh(i,e)}if(0<bm.length){dh(bm[0],e);for(var n=1;n<bm.length;n++){var r=bm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(gc!==null&&dh(gc,e),vc!==null&&dh(vc,e),yc!==null&&dh(yc,e),Kh.forEach(t),Jh.forEach(t),n=0;n<ac.length;n++)r=ac[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ac.length&&(n=ac[0],n.blockedOn===null);)t4(n),n.blockedOn===null&&ac.shift()}var rf=sl.ReactCurrentBatchConfig,w0=!0;function UA(e,t,n,r){var i=Nn,s=rf.transition;rf.transition=null;try{Nn=1,$y(e,t,n,r)}finally{Nn=i,rf.transition=s}}function zA(e,t,n,r){var i=Nn,s=rf.transition;rf.transition=null;try{Nn=4,$y(e,t,n,r)}finally{Nn=i,rf.transition=s}}function $y(e,t,n,r){if(w0){var i=a2(e,t,n,r);if(i===null)Q1(e,t,r,x0,n),jx(e,r);else if($A(i,e,t,n,r))r.stopPropagation();else if(jx(e,r),t&4&&-1<FA.indexOf(e)){for(;i!==null;){var s=bp(i);if(s!==null&&X_(s),s=a2(e,t,n,r),s===null&&Q1(e,t,r,x0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Q1(e,t,r,null,n)}}var x0=null;function a2(e,t,n,r){if(x0=null,e=My(r),e=ku(e),e!==null)if(t=zu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=q_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return x0=e,null}function n4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AA()){case Iy:return 1;case G_:return 4;case v0:case LA:return 16;case Y_:return 536870912;default:return 16}default:return 16}}var dc=null,By=null,Km=null;function r4(){if(Km)return Km;var e,t=By,n=t.length,r,i="value"in dc?dc.value:dc.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Km=i.slice(e,1<r?1-r:void 0)}function Jm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _m(){return!0}function Cx(){return!1}function Ms(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_m:Cx,this.isPropagationStopped=Cx,this}return cr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_m)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_m)},persist:function(){},isPersistent:_m}),t}var kf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uy=Ms(kf),xp=cr({},kf,{view:0,detail:0}),qA=Ms(xp),q1,W1,fh,sg=cr({},xp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fh&&(fh&&e.type==="mousemove"?(q1=e.screenX-fh.screenX,W1=e.screenY-fh.screenY):W1=q1=0,fh=e),q1)},movementY:function(e){return"movementY"in e?e.movementY:W1}}),Ax=Ms(sg),WA=cr({},sg,{dataTransfer:0}),HA=Ms(WA),VA=cr({},xp,{relatedTarget:0}),H1=Ms(VA),GA=cr({},kf,{animationName:0,elapsedTime:0,pseudoElement:0}),YA=Ms(GA),KA=cr({},kf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),JA=Ms(KA),XA=cr({},kf,{data:0}),Lx=Ms(XA),QA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eL[e])?!!t[e]:!1}function zy(){return tL}var nL=cr({},xp,{key:function(e){if(e.key){var t=QA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ZA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zy,charCode:function(e){return e.type==="keypress"?Jm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rL=Ms(nL),iL=cr({},sg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Px=Ms(iL),sL=cr({},xp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zy}),aL=Ms(sL),oL=cr({},kf,{propertyName:0,elapsedTime:0,pseudoElement:0}),lL=Ms(oL),cL=cr({},sg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uL=Ms(cL),dL=[9,13,27,32],qy=Zo&&"CompositionEvent"in window,Ph=null;Zo&&"documentMode"in document&&(Ph=document.documentMode);var fL=Zo&&"TextEvent"in window&&!Ph,i4=Zo&&(!qy||Ph&&8<Ph&&11>=Ph),Tx=" ",Ox=!1;function s4(e,t){switch(e){case"keyup":return dL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zd=!1;function hL(e,t){switch(e){case"compositionend":return a4(t);case"keypress":return t.which!==32?null:(Ox=!0,Tx);case"textInput":return e=t.data,e===Tx&&Ox?null:e;default:return null}}function pL(e,t){if(zd)return e==="compositionend"||!qy&&s4(e,t)?(e=r4(),Km=By=dc=null,zd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i4&&t.locale!=="ko"?null:t.data;default:return null}}var mL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mL[e.type]:t==="textarea"}function o4(e,t,n,r){F_(r),t=b0(t,"onChange"),0<t.length&&(n=new Uy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Th=null,Qh=null;function gL(e){y4(e,0)}function ag(e){var t=Hd(e);if(P_(t))return e}function vL(e,t){if(e==="change")return t}var l4=!1;if(Zo){var V1;if(Zo){var G1="oninput"in document;if(!G1){var Mx=document.createElement("div");Mx.setAttribute("oninput","return;"),G1=typeof Mx.oninput=="function"}V1=G1}else V1=!1;l4=V1&&(!document.documentMode||9<document.documentMode)}function Ix(){Th&&(Th.detachEvent("onpropertychange",c4),Qh=Th=null)}function c4(e){if(e.propertyName==="value"&&ag(Qh)){var t=[];o4(t,Qh,e,My(e)),z_(gL,t)}}function yL(e,t,n){e==="focusin"?(Ix(),Th=t,Qh=n,Th.attachEvent("onpropertychange",c4)):e==="focusout"&&Ix()}function wL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ag(Qh)}function xL(e,t){if(e==="click")return ag(t)}function bL(e,t){if(e==="input"||e==="change")return ag(t)}function _L(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oa=typeof Object.is=="function"?Object.is:_L;function Zh(e,t){if(Oa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zv.call(t,i)||!Oa(e[i],t[i]))return!1}return!0}function Rx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fx(e,t){var n=Rx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rx(n)}}function u4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?u4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function d4(){for(var e=window,t=p0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=p0(e.document)}return t}function Wy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function SL(e){var t=d4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&u4(n.ownerDocument.documentElement,n)){if(r!==null&&Wy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Fx(n,s);var a=Fx(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var NL=Zo&&"documentMode"in document&&11>=document.documentMode,qd=null,o2=null,Oh=null,l2=!1;function $x(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;l2||qd==null||qd!==p0(r)||(r=qd,"selectionStart"in r&&Wy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oh&&Zh(Oh,r)||(Oh=r,r=b0(o2,"onSelect"),0<r.length&&(t=new Uy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qd)))}function Sm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wd={animationend:Sm("Animation","AnimationEnd"),animationiteration:Sm("Animation","AnimationIteration"),animationstart:Sm("Animation","AnimationStart"),transitionend:Sm("Transition","TransitionEnd")},Y1={},f4={};Zo&&(f4=document.createElement("div").style,"AnimationEvent"in window||(delete Wd.animationend.animation,delete Wd.animationiteration.animation,delete Wd.animationstart.animation),"TransitionEvent"in window||delete Wd.transitionend.transition);function og(e){if(Y1[e])return Y1[e];if(!Wd[e])return e;var t=Wd[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in f4)return Y1[e]=t[n];return e}var h4=og("animationend"),p4=og("animationiteration"),m4=og("animationstart"),g4=og("transitionend"),v4=new Map,Bx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oc(e,t){v4.set(e,t),Uu(t,[e])}for(var K1=0;K1<Bx.length;K1++){var J1=Bx[K1],kL=J1.toLowerCase(),jL=J1[0].toUpperCase()+J1.slice(1);Oc(kL,"on"+jL)}Oc(h4,"onAnimationEnd");Oc(p4,"onAnimationIteration");Oc(m4,"onAnimationStart");Oc("dblclick","onDoubleClick");Oc("focusin","onFocus");Oc("focusout","onBlur");Oc(g4,"onTransitionEnd");pf("onMouseEnter",["mouseout","mouseover"]);pf("onMouseLeave",["mouseout","mouseover"]);pf("onPointerEnter",["pointerout","pointerover"]);pf("onPointerLeave",["pointerout","pointerover"]);Uu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EL=new Set("cancel close invalid load scroll toggle".split(" ").concat(jh));function Ux(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kA(r,t,void 0,e),e.currentTarget=null}function y4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,f=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Ux(i,l,f),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,f=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Ux(i,l,f),s=c}}}if(g0)throw e=r2,g0=!1,r2=null,e}function qn(e,t){var n=t[h2];n===void 0&&(n=t[h2]=new Set);var r=e+"__bubble";n.has(r)||(w4(t,e,2,!1),n.add(r))}function X1(e,t,n){var r=0;t&&(r|=4),w4(n,e,r,t)}var Nm="_reactListening"+Math.random().toString(36).slice(2);function ep(e){if(!e[Nm]){e[Nm]=!0,j_.forEach(function(n){n!=="selectionchange"&&(EL.has(n)||X1(n,!1,e),X1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nm]||(t[Nm]=!0,X1("selectionchange",!1,t))}}function w4(e,t,n,r){switch(n4(t)){case 1:var i=UA;break;case 4:i=zA;break;default:i=$y}n=i.bind(null,t,n,e),i=void 0,!n2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Q1(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=ku(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}z_(function(){var f=s,p=My(n),m=[];e:{var w=v4.get(e);if(w!==void 0){var v=Uy,N=e;switch(e){case"keypress":if(Jm(n)===0)break e;case"keydown":case"keyup":v=rL;break;case"focusin":N="focus",v=H1;break;case"focusout":N="blur",v=H1;break;case"beforeblur":case"afterblur":v=H1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ax;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=HA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=aL;break;case h4:case p4:case m4:v=YA;break;case g4:v=lL;break;case"scroll":v=qA;break;case"wheel":v=uL;break;case"copy":case"cut":case"paste":v=JA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Px}var k=(t&4)!==0,C=!k&&e==="scroll",_=k?w!==null?w+"Capture":null:w;k=[];for(var S=f,L;S!==null;){L=S;var F=L.stateNode;if(L.tag===5&&F!==null&&(L=F,_!==null&&(F=Yh(S,_),F!=null&&k.push(tp(S,F,L)))),C)break;S=S.return}0<k.length&&(w=new v(w,N,null,n,p),m.push({event:w,listeners:k}))}}if(!(t&7)){e:{if(w=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",w&&n!==e2&&(N=n.relatedTarget||n.fromElement)&&(ku(N)||N[el]))break e;if((v||w)&&(w=p.window===p?p:(w=p.ownerDocument)?w.defaultView||w.parentWindow:window,v?(N=n.relatedTarget||n.toElement,v=f,N=N?ku(N):null,N!==null&&(C=zu(N),N!==C||N.tag!==5&&N.tag!==6)&&(N=null)):(v=null,N=f),v!==N)){if(k=Ax,F="onMouseLeave",_="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(k=Px,F="onPointerLeave",_="onPointerEnter",S="pointer"),C=v==null?w:Hd(v),L=N==null?w:Hd(N),w=new k(F,S+"leave",v,n,p),w.target=C,w.relatedTarget=L,F=null,ku(p)===f&&(k=new k(_,S+"enter",N,n,p),k.target=L,k.relatedTarget=C,F=k),C=F,v&&N)t:{for(k=v,_=N,S=0,L=k;L;L=Pd(L))S++;for(L=0,F=_;F;F=Pd(F))L++;for(;0<S-L;)k=Pd(k),S--;for(;0<L-S;)_=Pd(_),L--;for(;S--;){if(k===_||_!==null&&k===_.alternate)break t;k=Pd(k),_=Pd(_)}k=null}else k=null;v!==null&&zx(m,w,v,k,!1),N!==null&&C!==null&&zx(m,C,N,k,!0)}}e:{if(w=f?Hd(f):window,v=w.nodeName&&w.nodeName.toLowerCase(),v==="select"||v==="input"&&w.type==="file")var Q=vL;else if(Dx(w))if(l4)Q=bL;else{Q=wL;var ee=yL}else(v=w.nodeName)&&v.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(Q=xL);if(Q&&(Q=Q(e,f))){o4(m,Q,n,p);break e}ee&&ee(e,w,f),e==="focusout"&&(ee=w._wrapperState)&&ee.controlled&&w.type==="number"&&Kv(w,"number",w.value)}switch(ee=f?Hd(f):window,e){case"focusin":(Dx(ee)||ee.contentEditable==="true")&&(qd=ee,o2=f,Oh=null);break;case"focusout":Oh=o2=qd=null;break;case"mousedown":l2=!0;break;case"contextmenu":case"mouseup":case"dragend":l2=!1,$x(m,n,p);break;case"selectionchange":if(NL)break;case"keydown":case"keyup":$x(m,n,p)}var W;if(qy)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else zd?s4(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(i4&&n.locale!=="ko"&&(zd||$!=="onCompositionStart"?$==="onCompositionEnd"&&zd&&(W=r4()):(dc=p,By="value"in dc?dc.value:dc.textContent,zd=!0)),ee=b0(f,$),0<ee.length&&($=new Lx($,e,null,n,p),m.push({event:$,listeners:ee}),W?$.data=W:(W=a4(n),W!==null&&($.data=W)))),(W=fL?hL(e,n):pL(e,n))&&(f=b0(f,"onBeforeInput"),0<f.length&&(p=new Lx("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:f}),p.data=W))}y4(m,t)})}function tp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function b0(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Yh(e,n),s!=null&&r.unshift(tp(e,s,i)),s=Yh(e,t),s!=null&&r.push(tp(e,s,i))),e=e.return}return r}function Pd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zx(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,f=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&f!==null&&(l=f,i?(c=Yh(n,s),c!=null&&a.unshift(tp(n,c,l))):i||(c=Yh(n,s),c!=null&&a.push(tp(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var CL=/\r\n?/g,AL=/\u0000|\uFFFD/g;function qx(e){return(typeof e=="string"?e:""+e).replace(CL,`
`).replace(AL,"")}function km(e,t,n){if(t=qx(t),qx(e)!==t&&n)throw Error(et(425))}function _0(){}var c2=null,u2=null;function d2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var f2=typeof setTimeout=="function"?setTimeout:void 0,LL=typeof clearTimeout=="function"?clearTimeout:void 0,Wx=typeof Promise=="function"?Promise:void 0,PL=typeof queueMicrotask=="function"?queueMicrotask:typeof Wx<"u"?function(e){return Wx.resolve(null).then(e).catch(TL)}:f2;function TL(e){setTimeout(function(){throw e})}function Z1(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Xh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xh(t)}function wc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jf=Math.random().toString(36).slice(2),ao="__reactFiber$"+jf,np="__reactProps$"+jf,el="__reactContainer$"+jf,h2="__reactEvents$"+jf,OL="__reactListeners$"+jf,DL="__reactHandles$"+jf;function ku(e){var t=e[ao];if(t)return t;for(var n=e.parentNode;n;){if(t=n[el]||n[ao]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hx(e);e!==null;){if(n=e[ao])return n;e=Hx(e)}return t}e=n,n=e.parentNode}return null}function bp(e){return e=e[ao]||e[el],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(et(33))}function lg(e){return e[np]||null}var p2=[],Vd=-1;function Dc(e){return{current:e}}function Hn(e){0>Vd||(e.current=p2[Vd],p2[Vd]=null,Vd--)}function $n(e,t){Vd++,p2[Vd]=e.current,e.current=t}var Ec={},Ni=Dc(Ec),os=Dc(!1),Mu=Ec;function mf(e,t){var n=e.type.contextTypes;if(!n)return Ec;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ls(e){return e=e.childContextTypes,e!=null}function S0(){Hn(os),Hn(Ni)}function Vx(e,t,n){if(Ni.current!==Ec)throw Error(et(168));$n(Ni,t),$n(os,n)}function x4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(et(108,yA(e)||"Unknown",i));return cr({},n,r)}function N0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ec,Mu=Ni.current,$n(Ni,e),$n(os,os.current),!0}function Gx(e,t,n){var r=e.stateNode;if(!r)throw Error(et(169));n?(e=x4(e,t,Mu),r.__reactInternalMemoizedMergedChildContext=e,Hn(os),Hn(Ni),$n(Ni,e)):Hn(os),$n(os,n)}var Vo=null,cg=!1,ev=!1;function b4(e){Vo===null?Vo=[e]:Vo.push(e)}function ML(e){cg=!0,b4(e)}function Mc(){if(!ev&&Vo!==null){ev=!0;var e=0,t=Nn;try{var n=Vo;for(Nn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vo=null,cg=!1}catch(i){throw Vo!==null&&(Vo=Vo.slice(e+1)),V_(Iy,Mc),i}finally{Nn=t,ev=!1}}return null}var Gd=[],Yd=0,k0=null,j0=0,Qs=[],Zs=0,Iu=null,Yo=1,Ko="";function gu(e,t){Gd[Yd++]=j0,Gd[Yd++]=k0,k0=e,j0=t}function _4(e,t,n){Qs[Zs++]=Yo,Qs[Zs++]=Ko,Qs[Zs++]=Iu,Iu=e;var r=Yo;e=Ko;var i=32-Pa(r)-1;r&=~(1<<i),n+=1;var s=32-Pa(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yo=1<<32-Pa(t)+i|n<<i|r,Ko=s+e}else Yo=1<<s|n<<i|r,Ko=e}function Hy(e){e.return!==null&&(gu(e,1),_4(e,1,0))}function Vy(e){for(;e===k0;)k0=Gd[--Yd],Gd[Yd]=null,j0=Gd[--Yd],Gd[Yd]=null;for(;e===Iu;)Iu=Qs[--Zs],Qs[Zs]=null,Ko=Qs[--Zs],Qs[Zs]=null,Yo=Qs[--Zs],Qs[Zs]=null}var Ts=null,Ls=null,er=!1,Aa=null;function S4(e,t){var n=ea(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Yx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ts=e,Ls=wc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ts=e,Ls=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Iu!==null?{id:Yo,overflow:Ko}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ea(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ts=e,Ls=null,!0):!1;default:return!1}}function m2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function g2(e){if(er){var t=Ls;if(t){var n=t;if(!Yx(e,t)){if(m2(e))throw Error(et(418));t=wc(n.nextSibling);var r=Ts;t&&Yx(e,t)?S4(r,n):(e.flags=e.flags&-4097|2,er=!1,Ts=e)}}else{if(m2(e))throw Error(et(418));e.flags=e.flags&-4097|2,er=!1,Ts=e}}}function Kx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ts=e}function jm(e){if(e!==Ts)return!1;if(!er)return Kx(e),er=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!d2(e.type,e.memoizedProps)),t&&(t=Ls)){if(m2(e))throw N4(),Error(et(418));for(;t;)S4(e,t),t=wc(t.nextSibling)}if(Kx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(et(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ls=wc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ls=null}}else Ls=Ts?wc(e.stateNode.nextSibling):null;return!0}function N4(){for(var e=Ls;e;)e=wc(e.nextSibling)}function gf(){Ls=Ts=null,er=!1}function Gy(e){Aa===null?Aa=[e]:Aa.push(e)}var IL=sl.ReactCurrentBatchConfig;function hh(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(et(309));var r=n.stateNode}if(!r)throw Error(et(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(et(284));if(!n._owner)throw Error(et(290,e))}return e}function Em(e,t){throw e=Object.prototype.toString.call(t),Error(et(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jx(e){var t=e._init;return t(e._payload)}function k4(e){function t(_,S){if(e){var L=_.deletions;L===null?(_.deletions=[S],_.flags|=16):L.push(S)}}function n(_,S){if(!e)return null;for(;S!==null;)t(_,S),S=S.sibling;return null}function r(_,S){for(_=new Map;S!==null;)S.key!==null?_.set(S.key,S):_.set(S.index,S),S=S.sibling;return _}function i(_,S){return _=Sc(_,S),_.index=0,_.sibling=null,_}function s(_,S,L){return _.index=L,e?(L=_.alternate,L!==null?(L=L.index,L<S?(_.flags|=2,S):L):(_.flags|=2,S)):(_.flags|=1048576,S)}function a(_){return e&&_.alternate===null&&(_.flags|=2),_}function l(_,S,L,F){return S===null||S.tag!==6?(S=ov(L,_.mode,F),S.return=_,S):(S=i(S,L),S.return=_,S)}function c(_,S,L,F){var Q=L.type;return Q===Ud?p(_,S,L.props.children,F,L.key):S!==null&&(S.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===nc&&Jx(Q)===S.type)?(F=i(S,L.props),F.ref=hh(_,S,L),F.return=_,F):(F=r0(L.type,L.key,L.props,null,_.mode,F),F.ref=hh(_,S,L),F.return=_,F)}function f(_,S,L,F){return S===null||S.tag!==4||S.stateNode.containerInfo!==L.containerInfo||S.stateNode.implementation!==L.implementation?(S=lv(L,_.mode,F),S.return=_,S):(S=i(S,L.children||[]),S.return=_,S)}function p(_,S,L,F,Q){return S===null||S.tag!==7?(S=Pu(L,_.mode,F,Q),S.return=_,S):(S=i(S,L),S.return=_,S)}function m(_,S,L){if(typeof S=="string"&&S!==""||typeof S=="number")return S=ov(""+S,_.mode,L),S.return=_,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gm:return L=r0(S.type,S.key,S.props,null,_.mode,L),L.ref=hh(_,null,S),L.return=_,L;case Bd:return S=lv(S,_.mode,L),S.return=_,S;case nc:var F=S._init;return m(_,F(S._payload),L)}if(Nh(S)||lh(S))return S=Pu(S,_.mode,L,null),S.return=_,S;Em(_,S)}return null}function w(_,S,L,F){var Q=S!==null?S.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return Q!==null?null:l(_,S,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case gm:return L.key===Q?c(_,S,L,F):null;case Bd:return L.key===Q?f(_,S,L,F):null;case nc:return Q=L._init,w(_,S,Q(L._payload),F)}if(Nh(L)||lh(L))return Q!==null?null:p(_,S,L,F,null);Em(_,L)}return null}function v(_,S,L,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number")return _=_.get(L)||null,l(S,_,""+F,Q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case gm:return _=_.get(F.key===null?L:F.key)||null,c(S,_,F,Q);case Bd:return _=_.get(F.key===null?L:F.key)||null,f(S,_,F,Q);case nc:var ee=F._init;return v(_,S,L,ee(F._payload),Q)}if(Nh(F)||lh(F))return _=_.get(L)||null,p(S,_,F,Q,null);Em(S,F)}return null}function N(_,S,L,F){for(var Q=null,ee=null,W=S,$=S=0,Z=null;W!==null&&$<L.length;$++){W.index>$?(Z=W,W=null):Z=W.sibling;var ie=w(_,W,L[$],F);if(ie===null){W===null&&(W=Z);break}e&&W&&ie.alternate===null&&t(_,W),S=s(ie,S,$),ee===null?Q=ie:ee.sibling=ie,ee=ie,W=Z}if($===L.length)return n(_,W),er&&gu(_,$),Q;if(W===null){for(;$<L.length;$++)W=m(_,L[$],F),W!==null&&(S=s(W,S,$),ee===null?Q=W:ee.sibling=W,ee=W);return er&&gu(_,$),Q}for(W=r(_,W);$<L.length;$++)Z=v(W,_,$,L[$],F),Z!==null&&(e&&Z.alternate!==null&&W.delete(Z.key===null?$:Z.key),S=s(Z,S,$),ee===null?Q=Z:ee.sibling=Z,ee=Z);return e&&W.forEach(function(D){return t(_,D)}),er&&gu(_,$),Q}function k(_,S,L,F){var Q=lh(L);if(typeof Q!="function")throw Error(et(150));if(L=Q.call(L),L==null)throw Error(et(151));for(var ee=Q=null,W=S,$=S=0,Z=null,ie=L.next();W!==null&&!ie.done;$++,ie=L.next()){W.index>$?(Z=W,W=null):Z=W.sibling;var D=w(_,W,ie.value,F);if(D===null){W===null&&(W=Z);break}e&&W&&D.alternate===null&&t(_,W),S=s(D,S,$),ee===null?Q=D:ee.sibling=D,ee=D,W=Z}if(ie.done)return n(_,W),er&&gu(_,$),Q;if(W===null){for(;!ie.done;$++,ie=L.next())ie=m(_,ie.value,F),ie!==null&&(S=s(ie,S,$),ee===null?Q=ie:ee.sibling=ie,ee=ie);return er&&gu(_,$),Q}for(W=r(_,W);!ie.done;$++,ie=L.next())ie=v(W,_,$,ie.value,F),ie!==null&&(e&&ie.alternate!==null&&W.delete(ie.key===null?$:ie.key),S=s(ie,S,$),ee===null?Q=ie:ee.sibling=ie,ee=ie);return e&&W.forEach(function(R){return t(_,R)}),er&&gu(_,$),Q}function C(_,S,L,F){if(typeof L=="object"&&L!==null&&L.type===Ud&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case gm:e:{for(var Q=L.key,ee=S;ee!==null;){if(ee.key===Q){if(Q=L.type,Q===Ud){if(ee.tag===7){n(_,ee.sibling),S=i(ee,L.props.children),S.return=_,_=S;break e}}else if(ee.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===nc&&Jx(Q)===ee.type){n(_,ee.sibling),S=i(ee,L.props),S.ref=hh(_,ee,L),S.return=_,_=S;break e}n(_,ee);break}else t(_,ee);ee=ee.sibling}L.type===Ud?(S=Pu(L.props.children,_.mode,F,L.key),S.return=_,_=S):(F=r0(L.type,L.key,L.props,null,_.mode,F),F.ref=hh(_,S,L),F.return=_,_=F)}return a(_);case Bd:e:{for(ee=L.key;S!==null;){if(S.key===ee)if(S.tag===4&&S.stateNode.containerInfo===L.containerInfo&&S.stateNode.implementation===L.implementation){n(_,S.sibling),S=i(S,L.children||[]),S.return=_,_=S;break e}else{n(_,S);break}else t(_,S);S=S.sibling}S=lv(L,_.mode,F),S.return=_,_=S}return a(_);case nc:return ee=L._init,C(_,S,ee(L._payload),F)}if(Nh(L))return N(_,S,L,F);if(lh(L))return k(_,S,L,F);Em(_,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,S!==null&&S.tag===6?(n(_,S.sibling),S=i(S,L),S.return=_,_=S):(n(_,S),S=ov(L,_.mode,F),S.return=_,_=S),a(_)):n(_,S)}return C}var vf=k4(!0),j4=k4(!1),E0=Dc(null),C0=null,Kd=null,Yy=null;function Ky(){Yy=Kd=C0=null}function Jy(e){var t=E0.current;Hn(E0),e._currentValue=t}function v2(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sf(e,t){C0=e,Yy=Kd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(as=!0),e.firstContext=null)}function na(e){var t=e._currentValue;if(Yy!==e)if(e={context:e,memoizedValue:t,next:null},Kd===null){if(C0===null)throw Error(et(308));Kd=e,C0.dependencies={lanes:0,firstContext:e}}else Kd=Kd.next=e;return t}var ju=null;function Xy(e){ju===null?ju=[e]:ju.push(e)}function E4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Xy(t)):(n.next=i.next,i.next=n),t.interleaved=n,tl(e,r)}function tl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rc=!1;function Qy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,cn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,tl(e,n)}return i=r.interleaved,i===null?(t.next=t,Xy(r)):(t.next=i.next,i.next=t),r.interleaved=t,tl(e,n)}function Xm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ry(e,n)}}function Xx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function A0(e,t,n,r){var i=e.updateQueue;rc=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,f=c.next;c.next=null,a===null?s=f:a.next=f,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==a&&(l===null?p.firstBaseUpdate=f:l.next=f,p.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;a=0,p=f=c=null,l=s;do{var w=l.lane,v=l.eventTime;if((r&w)===w){p!==null&&(p=p.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var N=e,k=l;switch(w=t,v=n,k.tag){case 1:if(N=k.payload,typeof N=="function"){m=N.call(v,m,w);break e}m=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=k.payload,w=typeof N=="function"?N.call(v,m,w):N,w==null)break e;m=cr({},m,w);break e;case 2:rc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,w=i.effects,w===null?i.effects=[l]:w.push(l))}else v={eventTime:v,lane:w,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(f=p=v,c=m):p=p.next=v,a|=w;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;w=l,l=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(p===null&&(c=m),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Fu|=a,e.lanes=a,e.memoizedState=m}}function Qx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(et(191,i));i.call(r)}}}var _p={},ho=Dc(_p),rp=Dc(_p),ip=Dc(_p);function Eu(e){if(e===_p)throw Error(et(174));return e}function Zy(e,t){switch($n(ip,t),$n(rp,e),$n(ho,_p),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xv(t,e)}Hn(ho),$n(ho,t)}function yf(){Hn(ho),Hn(rp),Hn(ip)}function A4(e){Eu(ip.current);var t=Eu(ho.current),n=Xv(t,e.type);t!==n&&($n(rp,e),$n(ho,n))}function e5(e){rp.current===e&&(Hn(ho),Hn(rp))}var ar=Dc(0);function L0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tv=[];function t5(){for(var e=0;e<tv.length;e++)tv[e]._workInProgressVersionPrimary=null;tv.length=0}var Qm=sl.ReactCurrentDispatcher,nv=sl.ReactCurrentBatchConfig,Ru=0,lr=null,Mr=null,Wr=null,P0=!1,Dh=!1,sp=0,RL=0;function pi(){throw Error(et(321))}function n5(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Oa(e[n],t[n]))return!1;return!0}function r5(e,t,n,r,i,s){if(Ru=s,lr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qm.current=e===null||e.memoizedState===null?UL:zL,e=n(r,i),Dh){s=0;do{if(Dh=!1,sp=0,25<=s)throw Error(et(301));s+=1,Wr=Mr=null,t.updateQueue=null,Qm.current=qL,e=n(r,i)}while(Dh)}if(Qm.current=T0,t=Mr!==null&&Mr.next!==null,Ru=0,Wr=Mr=lr=null,P0=!1,t)throw Error(et(300));return e}function i5(){var e=sp!==0;return sp=0,e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?lr.memoizedState=Wr=e:Wr=Wr.next=e,Wr}function ra(){if(Mr===null){var e=lr.alternate;e=e!==null?e.memoizedState:null}else e=Mr.next;var t=Wr===null?lr.memoizedState:Wr.next;if(t!==null)Wr=t,Mr=e;else{if(e===null)throw Error(et(310));Mr=e,e={memoizedState:Mr.memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},Wr===null?lr.memoizedState=Wr=e:Wr=Wr.next=e}return Wr}function ap(e,t){return typeof t=="function"?t(e):t}function rv(e){var t=ra(),n=t.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=e;var r=Mr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,f=s;do{var p=f.lane;if((Ru&p)===p)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var m={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(l=c=m,a=r):c=c.next=m,lr.lanes|=p,Fu|=p}f=f.next}while(f!==null&&f!==s);c===null?a=r:c.next=l,Oa(r,t.memoizedState)||(as=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,lr.lanes|=s,Fu|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function iv(e){var t=ra(),n=t.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Oa(s,t.memoizedState)||(as=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function L4(){}function P4(e,t){var n=lr,r=ra(),i=t(),s=!Oa(r.memoizedState,i);if(s&&(r.memoizedState=i,as=!0),r=r.queue,s5(D4.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Wr!==null&&Wr.memoizedState.tag&1){if(n.flags|=2048,op(9,O4.bind(null,n,r,i,t),void 0,null),Gr===null)throw Error(et(349));Ru&30||T4(n,t,i)}return i}function T4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function O4(e,t,n,r){t.value=n,t.getSnapshot=r,M4(t)&&I4(e)}function D4(e,t,n){return n(function(){M4(t)&&I4(e)})}function M4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Oa(e,n)}catch{return!0}}function I4(e){var t=tl(e,1);t!==null&&Ta(t,e,1,-1)}function Zx(e){var t=so();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ap,lastRenderedState:e},t.queue=e,e=e.dispatch=BL.bind(null,lr,e),[t.memoizedState,e]}function op(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function R4(){return ra().memoizedState}function Zm(e,t,n,r){var i=so();lr.flags|=e,i.memoizedState=op(1|t,n,void 0,r===void 0?null:r)}function ug(e,t,n,r){var i=ra();r=r===void 0?null:r;var s=void 0;if(Mr!==null){var a=Mr.memoizedState;if(s=a.destroy,r!==null&&n5(r,a.deps)){i.memoizedState=op(t,n,s,r);return}}lr.flags|=e,i.memoizedState=op(1|t,n,s,r)}function eb(e,t){return Zm(8390656,8,e,t)}function s5(e,t){return ug(2048,8,e,t)}function F4(e,t){return ug(4,2,e,t)}function $4(e,t){return ug(4,4,e,t)}function B4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function U4(e,t,n){return n=n!=null?n.concat([e]):null,ug(4,4,B4.bind(null,t,e),n)}function a5(){}function z4(e,t){var n=ra();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&n5(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function q4(e,t){var n=ra();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&n5(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function W4(e,t,n){return Ru&21?(Oa(n,t)||(n=K_(),lr.lanes|=n,Fu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,as=!0),e.memoizedState=n)}function FL(e,t){var n=Nn;Nn=n!==0&&4>n?n:4,e(!0);var r=nv.transition;nv.transition={};try{e(!1),t()}finally{Nn=n,nv.transition=r}}function H4(){return ra().memoizedState}function $L(e,t,n){var r=_c(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},V4(e))G4(t,n);else if(n=E4(e,t,n,r),n!==null){var i=Ii();Ta(n,e,r,i),Y4(n,t,r)}}function BL(e,t,n){var r=_c(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(V4(e))G4(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Oa(l,a)){var c=t.interleaved;c===null?(i.next=i,Xy(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=E4(e,t,i,r),n!==null&&(i=Ii(),Ta(n,e,r,i),Y4(n,t,r))}}function V4(e){var t=e.alternate;return e===lr||t!==null&&t===lr}function G4(e,t){Dh=P0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Y4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ry(e,n)}}var T0={readContext:na,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},UL={readContext:na,useCallback:function(e,t){return so().memoizedState=[e,t===void 0?null:t],e},useContext:na,useEffect:eb,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zm(4194308,4,B4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zm(4,2,e,t)},useMemo:function(e,t){var n=so();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$L.bind(null,lr,e),[r.memoizedState,e]},useRef:function(e){var t=so();return e={current:e},t.memoizedState=e},useState:Zx,useDebugValue:a5,useDeferredValue:function(e){return so().memoizedState=e},useTransition:function(){var e=Zx(!1),t=e[0];return e=FL.bind(null,e[1]),so().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lr,i=so();if(er){if(n===void 0)throw Error(et(407));n=n()}else{if(n=t(),Gr===null)throw Error(et(349));Ru&30||T4(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,eb(D4.bind(null,r,s,e),[e]),r.flags|=2048,op(9,O4.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=so(),t=Gr.identifierPrefix;if(er){var n=Ko,r=Yo;n=(r&~(1<<32-Pa(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=sp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=RL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zL={readContext:na,useCallback:z4,useContext:na,useEffect:s5,useImperativeHandle:U4,useInsertionEffect:F4,useLayoutEffect:$4,useMemo:q4,useReducer:rv,useRef:R4,useState:function(){return rv(ap)},useDebugValue:a5,useDeferredValue:function(e){var t=ra();return W4(t,Mr.memoizedState,e)},useTransition:function(){var e=rv(ap)[0],t=ra().memoizedState;return[e,t]},useMutableSource:L4,useSyncExternalStore:P4,useId:H4,unstable_isNewReconciler:!1},qL={readContext:na,useCallback:z4,useContext:na,useEffect:s5,useImperativeHandle:U4,useInsertionEffect:F4,useLayoutEffect:$4,useMemo:q4,useReducer:iv,useRef:R4,useState:function(){return iv(ap)},useDebugValue:a5,useDeferredValue:function(e){var t=ra();return Mr===null?t.memoizedState=e:W4(t,Mr.memoizedState,e)},useTransition:function(){var e=iv(ap)[0],t=ra().memoizedState;return[e,t]},useMutableSource:L4,useSyncExternalStore:P4,useId:H4,unstable_isNewReconciler:!1};function ka(e,t){if(e&&e.defaultProps){t=cr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function y2(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:cr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var dg={isMounted:function(e){return(e=e._reactInternals)?zu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ii(),i=_c(e),s=Jo(r,i);s.payload=t,n!=null&&(s.callback=n),t=xc(e,s,i),t!==null&&(Ta(t,e,i,r),Xm(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ii(),i=_c(e),s=Jo(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=xc(e,s,i),t!==null&&(Ta(t,e,i,r),Xm(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ii(),r=_c(e),i=Jo(n,r);i.tag=2,t!=null&&(i.callback=t),t=xc(e,i,r),t!==null&&(Ta(t,e,r,n),Xm(t,e,r))}};function tb(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Zh(n,r)||!Zh(i,s):!0}function K4(e,t,n){var r=!1,i=Ec,s=t.contextType;return typeof s=="object"&&s!==null?s=na(s):(i=ls(t)?Mu:Ni.current,r=t.contextTypes,s=(r=r!=null)?mf(e,i):Ec),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function nb(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&dg.enqueueReplaceState(t,t.state,null)}function w2(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Qy(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=na(s):(s=ls(t)?Mu:Ni.current,i.context=mf(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(y2(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&dg.enqueueReplaceState(i,i.state,null),A0(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function wf(e,t){try{var n="",r=t;do n+=vA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function sv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function x2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var WL=typeof WeakMap=="function"?WeakMap:Map;function J4(e,t,n){n=Jo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){D0||(D0=!0,L2=r),x2(e,t)},n}function X4(e,t,n){n=Jo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){x2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){x2(e,t),typeof r!="function"&&(bc===null?bc=new Set([this]):bc.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function rb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new WL;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=iP.bind(null,e,t,n),t.then(e,e))}function ib(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sb(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jo(-1,1),t.tag=2,xc(n,t,1))),n.lanes|=1),e)}var HL=sl.ReactCurrentOwner,as=!1;function Di(e,t,n,r){t.child=e===null?j4(t,null,n,r):vf(t,e.child,n,r)}function ab(e,t,n,r,i){n=n.render;var s=t.ref;return sf(t,i),r=r5(e,t,n,r,s,i),n=i5(),e!==null&&!as?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nl(e,t,i)):(er&&n&&Hy(t),t.flags|=1,Di(e,t,r,i),t.child)}function ob(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!p5(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Q4(e,t,s,r,i)):(e=r0(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zh,n(a,r)&&e.ref===t.ref)return nl(e,t,i)}return t.flags|=1,e=Sc(s,r),e.ref=t.ref,e.return=t,t.child=e}function Q4(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Zh(s,r)&&e.ref===t.ref)if(as=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(as=!0);else return t.lanes=e.lanes,nl(e,t,i)}return b2(e,t,n,r,i)}function Z4(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$n(Xd,As),As|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$n(Xd,As),As|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$n(Xd,As),As|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,$n(Xd,As),As|=r;return Di(e,t,i,n),t.child}function eS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function b2(e,t,n,r,i){var s=ls(n)?Mu:Ni.current;return s=mf(t,s),sf(t,i),n=r5(e,t,n,r,s,i),r=i5(),e!==null&&!as?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nl(e,t,i)):(er&&r&&Hy(t),t.flags|=1,Di(e,t,n,i),t.child)}function lb(e,t,n,r,i){if(ls(n)){var s=!0;N0(t)}else s=!1;if(sf(t,i),t.stateNode===null)e0(e,t),K4(t,n,r),w2(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=na(f):(f=ls(n)?Mu:Ni.current,f=mf(t,f));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==f)&&nb(t,a,r,f),rc=!1;var w=t.memoizedState;a.state=w,A0(t,r,a,i),c=t.memoizedState,l!==r||w!==c||os.current||rc?(typeof p=="function"&&(y2(t,n,p,r),c=t.memoizedState),(l=rc||tb(t,n,l,r,w,c,f))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=f,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,C4(e,t),l=t.memoizedProps,f=t.type===t.elementType?l:ka(t.type,l),a.props=f,m=t.pendingProps,w=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=na(c):(c=ls(n)?Mu:Ni.current,c=mf(t,c));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||w!==c)&&nb(t,a,r,c),rc=!1,w=t.memoizedState,a.state=w,A0(t,r,a,i);var N=t.memoizedState;l!==m||w!==N||os.current||rc?(typeof v=="function"&&(y2(t,n,v,r),N=t.memoizedState),(f=rc||tb(t,n,f,r,w,N,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,N,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,N,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),a.props=r,a.state=N,a.context=c,r=f):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),r=!1)}return _2(e,t,n,r,s,i)}function _2(e,t,n,r,i,s){eS(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Gx(t,n,!1),nl(e,t,s);r=t.stateNode,HL.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=vf(t,e.child,null,s),t.child=vf(t,null,l,s)):Di(e,t,l,s),t.memoizedState=r.state,i&&Gx(t,n,!0),t.child}function tS(e){var t=e.stateNode;t.pendingContext?Vx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vx(e,t.context,!1),Zy(e,t.containerInfo)}function cb(e,t,n,r,i){return gf(),Gy(i),t.flags|=256,Di(e,t,n,r),t.child}var S2={dehydrated:null,treeContext:null,retryLane:0};function N2(e){return{baseLanes:e,cachePool:null,transitions:null}}function nS(e,t,n){var r=t.pendingProps,i=ar.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$n(ar,i&1),e===null)return g2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=pg(a,r,0,null),e=Pu(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=N2(n),t.memoizedState=S2,e):o5(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return VL(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Sc(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Sc(l,s):(s=Pu(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?N2(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=S2,r}return s=e.child,e=s.sibling,r=Sc(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function o5(e,t){return t=pg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cm(e,t,n,r){return r!==null&&Gy(r),vf(t,e.child,null,n),e=o5(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function VL(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=sv(Error(et(422))),Cm(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=pg({mode:"visible",children:r.children},i,0,null),s=Pu(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&vf(t,e.child,null,a),t.child.memoizedState=N2(a),t.memoizedState=S2,s);if(!(t.mode&1))return Cm(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(et(419)),r=sv(s,r,void 0),Cm(e,t,a,r)}if(l=(a&e.childLanes)!==0,as||l){if(r=Gr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,tl(e,i),Ta(r,e,i,-1))}return h5(),r=sv(Error(et(421))),Cm(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=sP.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ls=wc(i.nextSibling),Ts=t,er=!0,Aa=null,e!==null&&(Qs[Zs++]=Yo,Qs[Zs++]=Ko,Qs[Zs++]=Iu,Yo=e.id,Ko=e.overflow,Iu=t),t=o5(t,r.children),t.flags|=4096,t)}function ub(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),v2(e.return,t,n)}function av(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rS(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Di(e,t,r.children,n),r=ar.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ub(e,n,t);else if(e.tag===19)ub(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($n(ar,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&L0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),av(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&L0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}av(t,!0,n,null,s);break;case"together":av(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function e0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(et(153));if(t.child!==null){for(e=t.child,n=Sc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function GL(e,t,n){switch(t.tag){case 3:tS(t),gf();break;case 5:A4(t);break;case 1:ls(t.type)&&N0(t);break;case 4:Zy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;$n(E0,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($n(ar,ar.current&1),t.flags|=128,null):n&t.child.childLanes?nS(e,t,n):($n(ar,ar.current&1),e=nl(e,t,n),e!==null?e.sibling:null);$n(ar,ar.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$n(ar,ar.current),r)break;return null;case 22:case 23:return t.lanes=0,Z4(e,t,n)}return nl(e,t,n)}var iS,k2,sS,aS;iS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};k2=function(){};sS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Eu(ho.current);var s=null;switch(n){case"input":i=Gv(e,i),r=Gv(e,r),s=[];break;case"select":i=cr({},i,{value:void 0}),r=cr({},r,{value:void 0}),s=[];break;case"textarea":i=Jv(e,i),r=Jv(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_0)}Qv(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Vh.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(l=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(c!=null||l!=null))if(f==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Vh.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&qn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}};aS=function(e,t,n,r){n!==r&&(t.flags|=4)};function ph(e,t){if(!er)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function YL(e,t,n){var r=t.pendingProps;switch(Vy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(t),null;case 1:return ls(t.type)&&S0(),mi(t),null;case 3:return r=t.stateNode,yf(),Hn(os),Hn(Ni),t5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(jm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Aa!==null&&(O2(Aa),Aa=null))),k2(e,t),mi(t),null;case 5:e5(t);var i=Eu(ip.current);if(n=t.type,e!==null&&t.stateNode!=null)sS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(et(166));return mi(t),null}if(e=Eu(ho.current),jm(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ao]=t,r[np]=s,e=(t.mode&1)!==0,n){case"dialog":qn("cancel",r),qn("close",r);break;case"iframe":case"object":case"embed":qn("load",r);break;case"video":case"audio":for(i=0;i<jh.length;i++)qn(jh[i],r);break;case"source":qn("error",r);break;case"img":case"image":case"link":qn("error",r),qn("load",r);break;case"details":qn("toggle",r);break;case"input":wx(r,s),qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qn("invalid",r);break;case"textarea":bx(r,s),qn("invalid",r)}Qv(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&km(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&km(r.textContent,l,e),i=["children",""+l]):Vh.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&qn("scroll",r)}switch(n){case"input":vm(r),xx(r,s,!0);break;case"textarea":vm(r),_x(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_0)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=D_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ao]=t,e[np]=r,iS(e,t,!1,!1),t.stateNode=e;e:{switch(a=Zv(n,r),n){case"dialog":qn("cancel",e),qn("close",e),i=r;break;case"iframe":case"object":case"embed":qn("load",e),i=r;break;case"video":case"audio":for(i=0;i<jh.length;i++)qn(jh[i],e);i=r;break;case"source":qn("error",e),i=r;break;case"img":case"image":case"link":qn("error",e),qn("load",e),i=r;break;case"details":qn("toggle",e),i=r;break;case"input":wx(e,r),i=Gv(e,r),qn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=cr({},r,{value:void 0}),qn("invalid",e);break;case"textarea":bx(e,r),i=Jv(e,r),qn("invalid",e);break;default:i=r}Qv(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?R_(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&M_(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Gh(e,c):typeof c=="number"&&Gh(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vh.hasOwnProperty(s)?c!=null&&s==="onScroll"&&qn("scroll",e):c!=null&&Py(e,s,c,a))}switch(n){case"input":vm(e),xx(e,r,!1);break;case"textarea":vm(e),_x(e);break;case"option":r.value!=null&&e.setAttribute("value",""+jc(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ef(e,!!r.multiple,s,!1):r.defaultValue!=null&&ef(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mi(t),null;case 6:if(e&&t.stateNode!=null)aS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(et(166));if(n=Eu(ip.current),Eu(ho.current),jm(t)){if(r=t.stateNode,n=t.memoizedProps,r[ao]=t,(s=r.nodeValue!==n)&&(e=Ts,e!==null))switch(e.tag){case 3:km(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&km(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ao]=t,t.stateNode=r}return mi(t),null;case 13:if(Hn(ar),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(er&&Ls!==null&&t.mode&1&&!(t.flags&128))N4(),gf(),t.flags|=98560,s=!1;else if(s=jm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(et(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(et(317));s[ao]=t}else gf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mi(t),s=!1}else Aa!==null&&(O2(Aa),Aa=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ar.current&1?Rr===0&&(Rr=3):h5())),t.updateQueue!==null&&(t.flags|=4),mi(t),null);case 4:return yf(),k2(e,t),e===null&&ep(t.stateNode.containerInfo),mi(t),null;case 10:return Jy(t.type._context),mi(t),null;case 17:return ls(t.type)&&S0(),mi(t),null;case 19:if(Hn(ar),s=t.memoizedState,s===null)return mi(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)ph(s,!1);else{if(Rr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=L0(e),a!==null){for(t.flags|=128,ph(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $n(ar,ar.current&1|2),t.child}e=e.sibling}s.tail!==null&&br()>xf&&(t.flags|=128,r=!0,ph(s,!1),t.lanes=4194304)}else{if(!r)if(e=L0(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ph(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!er)return mi(t),null}else 2*br()-s.renderingStartTime>xf&&n!==1073741824&&(t.flags|=128,r=!0,ph(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=br(),t.sibling=null,n=ar.current,$n(ar,r?n&1|2:n&1),t):(mi(t),null);case 22:case 23:return f5(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?As&1073741824&&(mi(t),t.subtreeFlags&6&&(t.flags|=8192)):mi(t),null;case 24:return null;case 25:return null}throw Error(et(156,t.tag))}function KL(e,t){switch(Vy(t),t.tag){case 1:return ls(t.type)&&S0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yf(),Hn(os),Hn(Ni),t5(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return e5(t),null;case 13:if(Hn(ar),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(et(340));gf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Hn(ar),null;case 4:return yf(),null;case 10:return Jy(t.type._context),null;case 22:case 23:return f5(),null;case 24:return null;default:return null}}var Am=!1,bi=!1,JL=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Jd(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mr(e,t,r)}else n.current=null}function j2(e,t,n){try{n()}catch(r){mr(e,t,r)}}var db=!1;function XL(e,t){if(c2=w0,e=d4(),Wy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,f=0,p=0,m=e,w=null;t:for(;;){for(var v;m!==n||i!==0&&m.nodeType!==3||(l=a+i),m!==s||r!==0&&m.nodeType!==3||(c=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(v=m.firstChild)!==null;)w=m,m=v;for(;;){if(m===e)break t;if(w===n&&++f===i&&(l=a),w===s&&++p===r&&(c=a),(v=m.nextSibling)!==null)break;m=w,w=m.parentNode}m=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(u2={focusedElem:e,selectionRange:n},w0=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){t=pt;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var k=N.memoizedProps,C=N.memoizedState,_=t.stateNode,S=_.getSnapshotBeforeUpdate(t.elementType===t.type?k:ka(t.type,k),C);_.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(et(163))}}catch(F){mr(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}return N=db,db=!1,N}function Mh(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&j2(t,n,s)}i=i.next}while(i!==r)}}function fg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function E2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oS(e){var t=e.alternate;t!==null&&(e.alternate=null,oS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ao],delete t[np],delete t[h2],delete t[OL],delete t[DL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lS(e){return e.tag===5||e.tag===3||e.tag===4}function fb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function C2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_0));else if(r!==4&&(e=e.child,e!==null))for(C2(e,t,n),e=e.sibling;e!==null;)C2(e,t,n),e=e.sibling}function A2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(A2(e,t,n),e=e.sibling;e!==null;)A2(e,t,n),e=e.sibling}var ti=null,Ea=!1;function Jl(e,t,n){for(n=n.child;n!==null;)cS(e,t,n),n=n.sibling}function cS(e,t,n){if(fo&&typeof fo.onCommitFiberUnmount=="function")try{fo.onCommitFiberUnmount(ig,n)}catch{}switch(n.tag){case 5:bi||Jd(n,t);case 6:var r=ti,i=Ea;ti=null,Jl(e,t,n),ti=r,Ea=i,ti!==null&&(Ea?(e=ti,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ti.removeChild(n.stateNode));break;case 18:ti!==null&&(Ea?(e=ti,n=n.stateNode,e.nodeType===8?Z1(e.parentNode,n):e.nodeType===1&&Z1(e,n),Xh(e)):Z1(ti,n.stateNode));break;case 4:r=ti,i=Ea,ti=n.stateNode.containerInfo,Ea=!0,Jl(e,t,n),ti=r,Ea=i;break;case 0:case 11:case 14:case 15:if(!bi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&j2(n,t,a),i=i.next}while(i!==r)}Jl(e,t,n);break;case 1:if(!bi&&(Jd(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){mr(n,t,l)}Jl(e,t,n);break;case 21:Jl(e,t,n);break;case 22:n.mode&1?(bi=(r=bi)||n.memoizedState!==null,Jl(e,t,n),bi=r):Jl(e,t,n);break;default:Jl(e,t,n)}}function hb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new JL),t.forEach(function(r){var i=aP.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ti=l.stateNode,Ea=!1;break e;case 3:ti=l.stateNode.containerInfo,Ea=!0;break e;case 4:ti=l.stateNode.containerInfo,Ea=!0;break e}l=l.return}if(ti===null)throw Error(et(160));cS(s,a,i),ti=null,Ea=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){mr(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uS(t,e),t=t.sibling}function uS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xa(t,e),ro(e),r&4){try{Mh(3,e,e.return),fg(3,e)}catch(k){mr(e,e.return,k)}try{Mh(5,e,e.return)}catch(k){mr(e,e.return,k)}}break;case 1:xa(t,e),ro(e),r&512&&n!==null&&Jd(n,n.return);break;case 5:if(xa(t,e),ro(e),r&512&&n!==null&&Jd(n,n.return),e.flags&32){var i=e.stateNode;try{Gh(i,"")}catch(k){mr(e,e.return,k)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&T_(i,s),Zv(l,a);var f=Zv(l,s);for(a=0;a<c.length;a+=2){var p=c[a],m=c[a+1];p==="style"?R_(i,m):p==="dangerouslySetInnerHTML"?M_(i,m):p==="children"?Gh(i,m):Py(i,p,m,f)}switch(l){case"input":Yv(i,s);break;case"textarea":O_(i,s);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?ef(i,!!s.multiple,v,!1):w!==!!s.multiple&&(s.defaultValue!=null?ef(i,!!s.multiple,s.defaultValue,!0):ef(i,!!s.multiple,s.multiple?[]:"",!1))}i[np]=s}catch(k){mr(e,e.return,k)}}break;case 6:if(xa(t,e),ro(e),r&4){if(e.stateNode===null)throw Error(et(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(k){mr(e,e.return,k)}}break;case 3:if(xa(t,e),ro(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xh(t.containerInfo)}catch(k){mr(e,e.return,k)}break;case 4:xa(t,e),ro(e);break;case 13:xa(t,e),ro(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(u5=br())),r&4&&hb(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(bi=(f=bi)||p,xa(t,e),bi=f):xa(t,e),ro(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(pt=e,p=e.child;p!==null;){for(m=pt=p;pt!==null;){switch(w=pt,v=w.child,w.tag){case 0:case 11:case 14:case 15:Mh(4,w,w.return);break;case 1:Jd(w,w.return);var N=w.stateNode;if(typeof N.componentWillUnmount=="function"){r=w,n=w.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(k){mr(r,n,k)}}break;case 5:Jd(w,w.return);break;case 22:if(w.memoizedState!==null){mb(m);continue}}v!==null?(v.return=w,pt=v):mb(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=I_("display",a))}catch(k){mr(e,e.return,k)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(k){mr(e,e.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xa(t,e),ro(e),r&4&&hb(e);break;case 21:break;default:xa(t,e),ro(e)}}function ro(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lS(n)){var r=n;break e}n=n.return}throw Error(et(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gh(i,""),r.flags&=-33);var s=fb(e);A2(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=fb(e);C2(e,l,a);break;default:throw Error(et(161))}}catch(c){mr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function QL(e,t,n){pt=e,dS(e)}function dS(e,t,n){for(var r=(e.mode&1)!==0;pt!==null;){var i=pt,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Am;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||bi;l=Am;var f=bi;if(Am=a,(bi=c)&&!f)for(pt=i;pt!==null;)a=pt,c=a.child,a.tag===22&&a.memoizedState!==null?gb(i):c!==null?(c.return=a,pt=c):gb(i);for(;s!==null;)pt=s,dS(s),s=s.sibling;pt=i,Am=l,bi=f}pb(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,pt=s):pb(e)}}function pb(e){for(;pt!==null;){var t=pt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bi||fg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!bi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ka(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Qx(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Qx(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Xh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(et(163))}bi||t.flags&512&&E2(t)}catch(w){mr(t,t.return,w)}}if(t===e){pt=null;break}if(n=t.sibling,n!==null){n.return=t.return,pt=n;break}pt=t.return}}function mb(e){for(;pt!==null;){var t=pt;if(t===e){pt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pt=n;break}pt=t.return}}function gb(e){for(;pt!==null;){var t=pt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fg(4,t)}catch(c){mr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){mr(t,i,c)}}var s=t.return;try{E2(t)}catch(c){mr(t,s,c)}break;case 5:var a=t.return;try{E2(t)}catch(c){mr(t,a,c)}}}catch(c){mr(t,t.return,c)}if(t===e){pt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,pt=l;break}pt=t.return}}var ZL=Math.ceil,O0=sl.ReactCurrentDispatcher,l5=sl.ReactCurrentOwner,ta=sl.ReactCurrentBatchConfig,cn=0,Gr=null,Lr=null,ri=0,As=0,Xd=Dc(0),Rr=0,lp=null,Fu=0,hg=0,c5=0,Ih=null,is=null,u5=0,xf=1/0,Ho=null,D0=!1,L2=null,bc=null,Lm=!1,fc=null,M0=0,Rh=0,P2=null,t0=-1,n0=0;function Ii(){return cn&6?br():t0!==-1?t0:t0=br()}function _c(e){return e.mode&1?cn&2&&ri!==0?ri&-ri:IL.transition!==null?(n0===0&&(n0=K_()),n0):(e=Nn,e!==0||(e=window.event,e=e===void 0?16:n4(e.type)),e):1}function Ta(e,t,n,r){if(50<Rh)throw Rh=0,P2=null,Error(et(185));wp(e,n,r),(!(cn&2)||e!==Gr)&&(e===Gr&&(!(cn&2)&&(hg|=n),Rr===4&&oc(e,ri)),cs(e,r),n===1&&cn===0&&!(t.mode&1)&&(xf=br()+500,cg&&Mc()))}function cs(e,t){var n=e.callbackNode;IA(e,t);var r=y0(e,e===Gr?ri:0);if(r===0)n!==null&&kx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kx(n),t===1)e.tag===0?ML(vb.bind(null,e)):b4(vb.bind(null,e)),PL(function(){!(cn&6)&&Mc()}),n=null;else{switch(J_(r)){case 1:n=Iy;break;case 4:n=G_;break;case 16:n=v0;break;case 536870912:n=Y_;break;default:n=v0}n=wS(n,fS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fS(e,t){if(t0=-1,n0=0,cn&6)throw Error(et(327));var n=e.callbackNode;if(af()&&e.callbackNode!==n)return null;var r=y0(e,e===Gr?ri:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=I0(e,r);else{t=r;var i=cn;cn|=2;var s=pS();(Gr!==e||ri!==t)&&(Ho=null,xf=br()+500,Lu(e,t));do try{nP();break}catch(l){hS(e,l)}while(!0);Ky(),O0.current=s,cn=i,Lr!==null?t=0:(Gr=null,ri=0,t=Rr)}if(t!==0){if(t===2&&(i=i2(e),i!==0&&(r=i,t=T2(e,i))),t===1)throw n=lp,Lu(e,0),oc(e,r),cs(e,br()),n;if(t===6)oc(e,r);else{if(i=e.current.alternate,!(r&30)&&!eP(i)&&(t=I0(e,r),t===2&&(s=i2(e),s!==0&&(r=s,t=T2(e,s))),t===1))throw n=lp,Lu(e,0),oc(e,r),cs(e,br()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(et(345));case 2:vu(e,is,Ho);break;case 3:if(oc(e,r),(r&130023424)===r&&(t=u5+500-br(),10<t)){if(y0(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ii(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=f2(vu.bind(null,e,is,Ho),t);break}vu(e,is,Ho);break;case 4:if(oc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Pa(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=br()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZL(r/1960))-r,10<r){e.timeoutHandle=f2(vu.bind(null,e,is,Ho),r);break}vu(e,is,Ho);break;case 5:vu(e,is,Ho);break;default:throw Error(et(329))}}}return cs(e,br()),e.callbackNode===n?fS.bind(null,e):null}function T2(e,t){var n=Ih;return e.current.memoizedState.isDehydrated&&(Lu(e,t).flags|=256),e=I0(e,t),e!==2&&(t=is,is=n,t!==null&&O2(t)),e}function O2(e){is===null?is=e:is.push.apply(is,e)}function eP(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Oa(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oc(e,t){for(t&=~c5,t&=~hg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pa(t),r=1<<n;e[n]=-1,t&=~r}}function vb(e){if(cn&6)throw Error(et(327));af();var t=y0(e,0);if(!(t&1))return cs(e,br()),null;var n=I0(e,t);if(e.tag!==0&&n===2){var r=i2(e);r!==0&&(t=r,n=T2(e,r))}if(n===1)throw n=lp,Lu(e,0),oc(e,t),cs(e,br()),n;if(n===6)throw Error(et(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vu(e,is,Ho),cs(e,br()),null}function d5(e,t){var n=cn;cn|=1;try{return e(t)}finally{cn=n,cn===0&&(xf=br()+500,cg&&Mc())}}function $u(e){fc!==null&&fc.tag===0&&!(cn&6)&&af();var t=cn;cn|=1;var n=ta.transition,r=Nn;try{if(ta.transition=null,Nn=1,e)return e()}finally{Nn=r,ta.transition=n,cn=t,!(cn&6)&&Mc()}}function f5(){As=Xd.current,Hn(Xd)}function Lu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,LL(n)),Lr!==null)for(n=Lr.return;n!==null;){var r=n;switch(Vy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&S0();break;case 3:yf(),Hn(os),Hn(Ni),t5();break;case 5:e5(r);break;case 4:yf();break;case 13:Hn(ar);break;case 19:Hn(ar);break;case 10:Jy(r.type._context);break;case 22:case 23:f5()}n=n.return}if(Gr=e,Lr=e=Sc(e.current,null),ri=As=t,Rr=0,lp=null,c5=hg=Fu=0,is=Ih=null,ju!==null){for(t=0;t<ju.length;t++)if(n=ju[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ju=null}return e}function hS(e,t){do{var n=Lr;try{if(Ky(),Qm.current=T0,P0){for(var r=lr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}P0=!1}if(Ru=0,Wr=Mr=lr=null,Dh=!1,sp=0,l5.current=null,n===null||n.return===null){Rr=1,lp=t,Lr=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=ri,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,p=l,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var w=p.alternate;w?(p.updateQueue=w.updateQueue,p.memoizedState=w.memoizedState,p.lanes=w.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=ib(a);if(v!==null){v.flags&=-257,sb(v,a,l,s,t),v.mode&1&&rb(s,f,t),t=v,c=f;var N=t.updateQueue;if(N===null){var k=new Set;k.add(c),t.updateQueue=k}else N.add(c);break e}else{if(!(t&1)){rb(s,f,t),h5();break e}c=Error(et(426))}}else if(er&&l.mode&1){var C=ib(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),sb(C,a,l,s,t),Gy(wf(c,l));break e}}s=c=wf(c,l),Rr!==4&&(Rr=2),Ih===null?Ih=[s]:Ih.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var _=J4(s,c,t);Xx(s,_);break e;case 1:l=c;var S=s.type,L=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(bc===null||!bc.has(L)))){s.flags|=65536,t&=-t,s.lanes|=t;var F=X4(s,l,t);Xx(s,F);break e}}s=s.return}while(s!==null)}gS(n)}catch(Q){t=Q,Lr===n&&n!==null&&(Lr=n=n.return);continue}break}while(!0)}function pS(){var e=O0.current;return O0.current=T0,e===null?T0:e}function h5(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),Gr===null||!(Fu&268435455)&&!(hg&268435455)||oc(Gr,ri)}function I0(e,t){var n=cn;cn|=2;var r=pS();(Gr!==e||ri!==t)&&(Ho=null,Lu(e,t));do try{tP();break}catch(i){hS(e,i)}while(!0);if(Ky(),cn=n,O0.current=r,Lr!==null)throw Error(et(261));return Gr=null,ri=0,Rr}function tP(){for(;Lr!==null;)mS(Lr)}function nP(){for(;Lr!==null&&!EA();)mS(Lr)}function mS(e){var t=yS(e.alternate,e,As);e.memoizedProps=e.pendingProps,t===null?gS(e):Lr=t,l5.current=null}function gS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=KL(n,t),n!==null){n.flags&=32767,Lr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rr=6,Lr=null;return}}else if(n=YL(n,t,As),n!==null){Lr=n;return}if(t=t.sibling,t!==null){Lr=t;return}Lr=t=e}while(t!==null);Rr===0&&(Rr=5)}function vu(e,t,n){var r=Nn,i=ta.transition;try{ta.transition=null,Nn=1,rP(e,t,n,r)}finally{ta.transition=i,Nn=r}return null}function rP(e,t,n,r){do af();while(fc!==null);if(cn&6)throw Error(et(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(et(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(RA(e,s),e===Gr&&(Lr=Gr=null,ri=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lm||(Lm=!0,wS(v0,function(){return af(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ta.transition,ta.transition=null;var a=Nn;Nn=1;var l=cn;cn|=4,l5.current=null,XL(e,n),uS(n,e),SL(u2),w0=!!c2,u2=c2=null,e.current=n,QL(n),CA(),cn=l,Nn=a,ta.transition=s}else e.current=n;if(Lm&&(Lm=!1,fc=e,M0=i),s=e.pendingLanes,s===0&&(bc=null),PA(n.stateNode),cs(e,br()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(D0)throw D0=!1,e=L2,L2=null,e;return M0&1&&e.tag!==0&&af(),s=e.pendingLanes,s&1?e===P2?Rh++:(Rh=0,P2=e):Rh=0,Mc(),null}function af(){if(fc!==null){var e=J_(M0),t=ta.transition,n=Nn;try{if(ta.transition=null,Nn=16>e?16:e,fc===null)var r=!1;else{if(e=fc,fc=null,M0=0,cn&6)throw Error(et(331));var i=cn;for(cn|=4,pt=e.current;pt!==null;){var s=pt,a=s.child;if(pt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var f=l[c];for(pt=f;pt!==null;){var p=pt;switch(p.tag){case 0:case 11:case 15:Mh(8,p,s)}var m=p.child;if(m!==null)m.return=p,pt=m;else for(;pt!==null;){p=pt;var w=p.sibling,v=p.return;if(oS(p),p===f){pt=null;break}if(w!==null){w.return=v,pt=w;break}pt=v}}}var N=s.alternate;if(N!==null){var k=N.child;if(k!==null){N.child=null;do{var C=k.sibling;k.sibling=null,k=C}while(k!==null)}}pt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,pt=a;else e:for(;pt!==null;){if(s=pt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mh(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,pt=_;break e}pt=s.return}}var S=e.current;for(pt=S;pt!==null;){a=pt;var L=a.child;if(a.subtreeFlags&2064&&L!==null)L.return=a,pt=L;else e:for(a=S;pt!==null;){if(l=pt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fg(9,l)}}catch(Q){mr(l,l.return,Q)}if(l===a){pt=null;break e}var F=l.sibling;if(F!==null){F.return=l.return,pt=F;break e}pt=l.return}}if(cn=i,Mc(),fo&&typeof fo.onPostCommitFiberRoot=="function")try{fo.onPostCommitFiberRoot(ig,e)}catch{}r=!0}return r}finally{Nn=n,ta.transition=t}}return!1}function yb(e,t,n){t=wf(n,t),t=J4(e,t,1),e=xc(e,t,1),t=Ii(),e!==null&&(wp(e,1,t),cs(e,t))}function mr(e,t,n){if(e.tag===3)yb(e,e,n);else for(;t!==null;){if(t.tag===3){yb(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bc===null||!bc.has(r))){e=wf(n,e),e=X4(t,e,1),t=xc(t,e,1),e=Ii(),t!==null&&(wp(t,1,e),cs(t,e));break}}t=t.return}}function iP(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ii(),e.pingedLanes|=e.suspendedLanes&n,Gr===e&&(ri&n)===n&&(Rr===4||Rr===3&&(ri&130023424)===ri&&500>br()-u5?Lu(e,0):c5|=n),cs(e,t)}function vS(e,t){t===0&&(e.mode&1?(t=xm,xm<<=1,!(xm&130023424)&&(xm=4194304)):t=1);var n=Ii();e=tl(e,t),e!==null&&(wp(e,t,n),cs(e,n))}function sP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vS(e,n)}function aP(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(et(314))}r!==null&&r.delete(t),vS(e,n)}var yS;yS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||os.current)as=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return as=!1,GL(e,t,n);as=!!(e.flags&131072)}else as=!1,er&&t.flags&1048576&&_4(t,j0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;e0(e,t),e=t.pendingProps;var i=mf(t,Ni.current);sf(t,n),i=r5(null,t,r,e,i,n);var s=i5();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ls(r)?(s=!0,N0(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qy(t),i.updater=dg,t.stateNode=i,i._reactInternals=t,w2(t,r,e,n),t=_2(null,t,r,!0,s,n)):(t.tag=0,er&&s&&Hy(t),Di(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(e0(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=lP(r),e=ka(r,e),i){case 0:t=b2(null,t,r,e,n);break e;case 1:t=lb(null,t,r,e,n);break e;case 11:t=ab(null,t,r,e,n);break e;case 14:t=ob(null,t,r,ka(r.type,e),n);break e}throw Error(et(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),b2(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),lb(e,t,r,i,n);case 3:e:{if(tS(t),e===null)throw Error(et(387));r=t.pendingProps,s=t.memoizedState,i=s.element,C4(e,t),A0(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=wf(Error(et(423)),t),t=cb(e,t,r,n,i);break e}else if(r!==i){i=wf(Error(et(424)),t),t=cb(e,t,r,n,i);break e}else for(Ls=wc(t.stateNode.containerInfo.firstChild),Ts=t,er=!0,Aa=null,n=j4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gf(),r===i){t=nl(e,t,n);break e}Di(e,t,r,n)}t=t.child}return t;case 5:return A4(t),e===null&&g2(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,d2(r,i)?a=null:s!==null&&d2(r,s)&&(t.flags|=32),eS(e,t),Di(e,t,a,n),t.child;case 6:return e===null&&g2(t),null;case 13:return nS(e,t,n);case 4:return Zy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vf(t,null,r,n):Di(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),ab(e,t,r,i,n);case 7:return Di(e,t,t.pendingProps,n),t.child;case 8:return Di(e,t,t.pendingProps.children,n),t.child;case 12:return Di(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,$n(E0,r._currentValue),r._currentValue=a,s!==null)if(Oa(s.value,a)){if(s.children===i.children&&!os.current){t=nl(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Jo(-1,n&-n),c.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?c.next=c:(c.next=p.next,p.next=c),f.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),v2(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(et(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),v2(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Di(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,sf(t,n),i=na(i),r=r(i),t.flags|=1,Di(e,t,r,n),t.child;case 14:return r=t.type,i=ka(r,t.pendingProps),i=ka(r.type,i),ob(e,t,r,i,n);case 15:return Q4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),e0(e,t),t.tag=1,ls(r)?(e=!0,N0(t)):e=!1,sf(t,n),K4(t,r,i),w2(t,r,i,n),_2(null,t,r,!0,e,n);case 19:return rS(e,t,n);case 22:return Z4(e,t,n)}throw Error(et(156,t.tag))};function wS(e,t){return V_(e,t)}function oP(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(e,t,n,r){return new oP(e,t,n,r)}function p5(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lP(e){if(typeof e=="function")return p5(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oy)return 11;if(e===Dy)return 14}return 2}function Sc(e,t){var n=e.alternate;return n===null?(n=ea(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function r0(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")p5(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ud:return Pu(n.children,i,s,t);case Ty:a=8,i|=8;break;case qv:return e=ea(12,n,t,i|2),e.elementType=qv,e.lanes=s,e;case Wv:return e=ea(13,n,t,i),e.elementType=Wv,e.lanes=s,e;case Hv:return e=ea(19,n,t,i),e.elementType=Hv,e.lanes=s,e;case A_:return pg(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E_:a=10;break e;case C_:a=9;break e;case Oy:a=11;break e;case Dy:a=14;break e;case nc:a=16,r=null;break e}throw Error(et(130,e==null?e:typeof e,""))}return t=ea(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Pu(e,t,n,r){return e=ea(7,e,r,t),e.lanes=n,e}function pg(e,t,n,r){return e=ea(22,e,r,t),e.elementType=A_,e.lanes=n,e.stateNode={isHidden:!1},e}function ov(e,t,n){return e=ea(6,e,null,t),e.lanes=n,e}function lv(e,t,n){return t=ea(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cP(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=z1(0),this.expirationTimes=z1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function m5(e,t,n,r,i,s,a,l,c){return e=new cP(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ea(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qy(s),e}function uP(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bd,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xS(e){if(!e)return Ec;e=e._reactInternals;e:{if(zu(e)!==e||e.tag!==1)throw Error(et(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ls(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(et(171))}if(e.tag===1){var n=e.type;if(ls(n))return x4(e,n,t)}return t}function bS(e,t,n,r,i,s,a,l,c){return e=m5(n,r,!0,e,i,s,a,l,c),e.context=xS(null),n=e.current,r=Ii(),i=_c(n),s=Jo(r,i),s.callback=t??null,xc(n,s,i),e.current.lanes=i,wp(e,i,r),cs(e,r),e}function mg(e,t,n,r){var i=t.current,s=Ii(),a=_c(i);return n=xS(n),t.context===null?t.context=n:t.pendingContext=n,t=Jo(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xc(i,t,a),e!==null&&(Ta(e,i,a,s),Xm(e,i,a)),a}function R0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function g5(e,t){wb(e,t),(e=e.alternate)&&wb(e,t)}function dP(){return null}var _S=typeof reportError=="function"?reportError:function(e){console.error(e)};function v5(e){this._internalRoot=e}gg.prototype.render=v5.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(et(409));mg(e,t,null,null)};gg.prototype.unmount=v5.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$u(function(){mg(null,e,null,null)}),t[el]=null}};function gg(e){this._internalRoot=e}gg.prototype.unstable_scheduleHydration=function(e){if(e){var t=Z_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ac.length&&t!==0&&t<ac[n].priority;n++);ac.splice(n,0,e),n===0&&t4(e)}};function y5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xb(){}function fP(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=R0(a);s.call(f)}}var a=bS(t,r,e,0,null,!1,!1,"",xb);return e._reactRootContainer=a,e[el]=a.current,ep(e.nodeType===8?e.parentNode:e),$u(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var f=R0(c);l.call(f)}}var c=m5(e,0,!1,null,null,!1,!1,"",xb);return e._reactRootContainer=c,e[el]=c.current,ep(e.nodeType===8?e.parentNode:e),$u(function(){mg(t,c,n,r)}),c}function yg(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=R0(a);l.call(c)}}mg(t,a,e,i)}else a=fP(n,t,e,i,r);return R0(a)}X_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=kh(t.pendingLanes);n!==0&&(Ry(t,n|1),cs(t,br()),!(cn&6)&&(xf=br()+500,Mc()))}break;case 13:$u(function(){var r=tl(e,1);if(r!==null){var i=Ii();Ta(r,e,1,i)}}),g5(e,1)}};Fy=function(e){if(e.tag===13){var t=tl(e,134217728);if(t!==null){var n=Ii();Ta(t,e,134217728,n)}g5(e,134217728)}};Q_=function(e){if(e.tag===13){var t=_c(e),n=tl(e,t);if(n!==null){var r=Ii();Ta(n,e,t,r)}g5(e,t)}};Z_=function(){return Nn};e4=function(e,t){var n=Nn;try{return Nn=e,t()}finally{Nn=n}};t2=function(e,t,n){switch(t){case"input":if(Yv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=lg(r);if(!i)throw Error(et(90));P_(r),Yv(r,i)}}}break;case"textarea":O_(e,n);break;case"select":t=n.value,t!=null&&ef(e,!!n.multiple,t,!1)}};B_=d5;U_=$u;var hP={usingClientEntryPoint:!1,Events:[bp,Hd,lg,F_,$_,d5]},mh={findFiberByHostInstance:ku,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pP={bundleType:mh.bundleType,version:mh.version,rendererPackageName:mh.rendererPackageName,rendererConfig:mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=W_(e),e===null?null:e.stateNode},findFiberByHostInstance:mh.findFiberByHostInstance||dP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pm.isDisabled&&Pm.supportsFiber)try{ig=Pm.inject(pP),fo=Pm}catch{}}Ds.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hP;Ds.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y5(t))throw Error(et(200));return uP(e,t,null,n)};Ds.createRoot=function(e,t){if(!y5(e))throw Error(et(299));var n=!1,r="",i=_S;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=m5(e,1,!1,null,null,n,!1,r,i),e[el]=t.current,ep(e.nodeType===8?e.parentNode:e),new v5(t)};Ds.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(et(188)):(e=Object.keys(e).join(","),Error(et(268,e)));return e=W_(t),e=e===null?null:e.stateNode,e};Ds.flushSync=function(e){return $u(e)};Ds.hydrate=function(e,t,n){if(!vg(t))throw Error(et(200));return yg(null,e,t,!0,n)};Ds.hydrateRoot=function(e,t,n){if(!y5(e))throw Error(et(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=_S;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=bS(t,null,e,1,n??null,i,!1,s,a),e[el]=t.current,ep(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new gg(t)};Ds.render=function(e,t,n){if(!vg(t))throw Error(et(200));return yg(null,e,t,!1,n)};Ds.unmountComponentAtNode=function(e){if(!vg(e))throw Error(et(40));return e._reactRootContainer?($u(function(){yg(null,null,e,!1,function(){e._reactRootContainer=null,e[el]=null})}),!0):!1};Ds.unstable_batchedUpdates=d5;Ds.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vg(n))throw Error(et(200));if(e==null||e._reactInternals===void 0)throw Error(et(38));return yg(e,t,n,!1,r)};Ds.version="18.3.1-next-f1338f8080-20240426";function SS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SS)}catch(e){console.error(e)}}SS(),S_.exports=Ds;var Cu=S_.exports,NS,bb=Cu;NS=bb.createRoot,bb.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cp.apply(this,arguments)}var hc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hc||(hc={}));const _b="popstate";function mP(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:l}=r.location;return D2("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:F0(i)}return vP(t,n,null,e)}function kr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gP(){return Math.random().toString(36).substr(2,8)}function Sb(e,t){return{usr:e.state,key:e.key,idx:t}}function D2(e,t,n,r){return n===void 0&&(n=null),cp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ef(t):t,{state:n,key:t&&t.key||r||gP()})}function F0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ef(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function vP(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=hc.Pop,c=null,f=p();f==null&&(f=0,a.replaceState(cp({},a.state,{idx:f}),""));function p(){return(a.state||{idx:null}).idx}function m(){l=hc.Pop;let C=p(),_=C==null?null:C-f;f=C,c&&c({action:l,location:k.location,delta:_})}function w(C,_){l=hc.Push;let S=D2(k.location,C,_);f=p()+1;let L=Sb(S,f),F=k.createHref(S);try{a.pushState(L,"",F)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(F)}s&&c&&c({action:l,location:k.location,delta:1})}function v(C,_){l=hc.Replace;let S=D2(k.location,C,_);f=p();let L=Sb(S,f),F=k.createHref(S);a.replaceState(L,"",F),s&&c&&c({action:l,location:k.location,delta:0})}function N(C){let _=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof C=="string"?C:F0(C);return S=S.replace(/ $/,"%20"),kr(_,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,_)}let k={get action(){return l},get location(){return e(i,a)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(_b,m),c=C,()=>{i.removeEventListener(_b,m),c=null}},createHref(C){return t(i,C)},createURL:N,encodeLocation(C){let _=N(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:w,replace:v,go(C){return a.go(C)}};return k}var Nb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nb||(Nb={}));function yP(e,t,n){return n===void 0&&(n="/"),wP(e,t,n,!1)}function wP(e,t,n,r){let i=typeof t=="string"?Ef(t):t,s=w5(i.pathname||"/",n);if(s==null)return null;let a=jS(e);xP(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let f=PP(s);l=AP(a[c],f,r)}return l}function jS(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(kr(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=Nc([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(kr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),jS(s.children,t,p,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:EP(f,s.index),routesMeta:p})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of ES(s.path))i(s,a,c)}),t}function ES(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=ES(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function xP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:CP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bP=/^:[\w-]+$/,_P=3,SP=2,NP=1,kP=10,jP=-2,kb=e=>e==="*";function EP(e,t){let n=e.split("/"),r=n.length;return n.some(kb)&&(r+=jP),t&&(r+=SP),n.filter(i=>!kb(i)).reduce((i,s)=>i+(bP.test(s)?_P:s===""?NP:kP),r)}function CP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function AP(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],f=l===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",m=jb({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},p),w=c.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=jb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Nc([s,m.pathname]),pathnameBase:MP(Nc([s,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(s=Nc([s,m.pathnameBase]))}return a}function jb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=LP(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,p,m)=>{let{paramName:w,isOptional:v}=p;if(w==="*"){let k=l[m]||"";a=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const N=l[m];return v&&!N?f[w]=void 0:f[w]=(N||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:e}}function LP(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),kS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function PP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function w5(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function TP(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ef(e):e;return{pathname:n?n.startsWith("/")?n:OP(n,t):t,search:IP(r),hash:RP(i)}}function OP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cv(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function x5(e,t){let n=DP(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function b5(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ef(e):(i=cp({},e),kr(!i.pathname||!i.pathname.includes("?"),cv("?","pathname","search",i)),kr(!i.pathname||!i.pathname.includes("#"),cv("#","pathname","hash",i)),kr(!i.search||!i.search.includes("#"),cv("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let m=t.length-1;if(!r&&a.startsWith("..")){let w=a.split("/");for(;w[0]==="..";)w.shift(),m-=1;i.pathname=w.join("/")}l=m>=0?t[m]:"/"}let c=TP(i,l),f=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}const Nc=e=>e.join("/").replace(/\/\/+/g,"/"),MP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),IP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const CS=["post","put","patch","delete"];new Set(CS);const $P=["get",...CS];new Set($P);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},up.apply(this,arguments)}const _5=E.createContext(null),BP=E.createContext(null),Ic=E.createContext(null),wg=E.createContext(null),al=E.createContext({outlet:null,matches:[],isDataRoute:!1}),AS=E.createContext(null);function UP(e,t){let{relative:n}=t===void 0?{}:t;Cf()||kr(!1);let{basename:r,navigator:i}=E.useContext(Ic),{hash:s,pathname:a,search:l}=TS(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Nc([r,a])),i.createHref({pathname:c,search:l,hash:s})}function Cf(){return E.useContext(wg)!=null}function vo(){return Cf()||kr(!1),E.useContext(wg).location}function LS(e){E.useContext(Ic).static||E.useLayoutEffect(e)}function Ia(){let{isDataRoute:e}=E.useContext(al);return e?e7():zP()}function zP(){Cf()||kr(!1);let e=E.useContext(_5),{basename:t,future:n,navigator:r}=E.useContext(Ic),{matches:i}=E.useContext(al),{pathname:s}=vo(),a=JSON.stringify(x5(i,n.v7_relativeSplatPath)),l=E.useRef(!1);return LS(()=>{l.current=!0}),E.useCallback(function(f,p){if(p===void 0&&(p={}),!l.current)return;if(typeof f=="number"){r.go(f);return}let m=b5(f,JSON.parse(a),s,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Nc([t,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[t,r,a,s,e])}function PS(){let{matches:e}=E.useContext(al),t=e[e.length-1];return t?t.params:{}}function TS(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(Ic),{matches:i}=E.useContext(al),{pathname:s}=vo(),a=JSON.stringify(x5(i,r.v7_relativeSplatPath));return E.useMemo(()=>b5(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function qP(e,t){return WP(e,t)}function WP(e,t,n,r){Cf()||kr(!1);let{navigator:i}=E.useContext(Ic),{matches:s}=E.useContext(al),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let f=vo(),p;if(t){var m;let C=typeof t=="string"?Ef(t):t;c==="/"||(m=C.pathname)!=null&&m.startsWith(c)||kr(!1),p=C}else p=f;let w=p.pathname||"/",v=w;if(c!=="/"){let C=c.replace(/^\//,"").split("/");v="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let N=yP(e,{pathname:v}),k=KP(N&&N.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Nc([c,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:Nc([c,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return t&&k?E.createElement(wg.Provider,{value:{location:up({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:hc.Pop}},k):k}function HP(){let e=ZP(),t=FP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,null)}const VP=E.createElement(HP,null);class GP extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(al.Provider,{value:this.props.routeContext},E.createElement(AS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YP(e){let{routeContext:t,match:n,children:r}=e,i=E.useContext(_5);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(al.Provider,{value:t},r)}function KP(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);p>=0||kr(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:w,errors:v}=n,N=m.route.loader&&w[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||N){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,m,w)=>{let v,N=!1,k=null,C=null;n&&(v=l&&m.route.id?l[m.route.id]:void 0,k=m.route.errorElement||VP,c&&(f<0&&w===0?(N=!0,C=null):f===w&&(N=!0,C=m.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,w+1)),S=()=>{let L;return v?L=k:N?L=C:m.route.Component?L=E.createElement(m.route.Component,null):m.route.element?L=m.route.element:L=p,E.createElement(YP,{match:m,routeContext:{outlet:p,matches:_,isDataRoute:n!=null},children:L})};return n&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?E.createElement(GP,{location:n.location,revalidation:n.revalidation,component:k,error:v,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}var OS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(OS||{}),$0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($0||{});function JP(e){let t=E.useContext(_5);return t||kr(!1),t}function XP(e){let t=E.useContext(BP);return t||kr(!1),t}function QP(e){let t=E.useContext(al);return t||kr(!1),t}function DS(e){let t=QP(),n=t.matches[t.matches.length-1];return n.route.id||kr(!1),n.route.id}function ZP(){var e;let t=E.useContext(AS),n=XP($0.UseRouteError),r=DS($0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function e7(){let{router:e}=JP(OS.UseNavigateStable),t=DS($0.UseNavigateStable),n=E.useRef(!1);return LS(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,up({fromRouteId:t},s)))},[e,t])}const Eb={};function t7(e,t){Eb[t]||(Eb[t]=!0,console.warn(t))}const Cb=(e,t,n)=>t7(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function n7(e,t){e!=null&&e.v7_startTransition||Cb("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&Cb("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function r7(e){let{to:t,replace:n,state:r,relative:i}=e;Cf()||kr(!1);let{future:s,static:a}=E.useContext(Ic),{matches:l}=E.useContext(al),{pathname:c}=vo(),f=Ia(),p=b5(t,x5(l,s.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(p);return E.useEffect(()=>f(JSON.parse(m),{replace:n,state:r,relative:i}),[f,m,i,n,r]),null}function Sa(e){kr(!1)}function i7(e){let{basename:t="/",children:n=null,location:r,navigationType:i=hc.Pop,navigator:s,static:a=!1,future:l}=e;Cf()&&kr(!1);let c=t.replace(/^\/*/,"/"),f=E.useMemo(()=>({basename:c,navigator:s,static:a,future:up({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=Ef(r));let{pathname:p="/",search:m="",hash:w="",state:v=null,key:N="default"}=r,k=E.useMemo(()=>{let C=w5(p,c);return C==null?null:{location:{pathname:C,search:m,hash:w,state:v,key:N},navigationType:i}},[c,p,m,w,v,N,i]);return k==null?null:E.createElement(Ic.Provider,{value:f},E.createElement(wg.Provider,{children:n,value:k}))}function s7(e){let{children:t,location:n}=e;return qP(M2(t),n)}new Promise(()=>{});function M2(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;let s=[...t,i];if(r.type===E.Fragment){n.push.apply(n,M2(r.props.children,s));return}r.type!==Sa&&kr(!1),!r.props.index||!r.props.children||kr(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=M2(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function I2(){return I2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I2.apply(this,arguments)}function a7(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function o7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l7(e,t){return e.button===0&&(!t||t==="_self")&&!o7(e)}function R2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function c7(e,t){let n=R2(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const u7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],d7="6";try{window.__reactRouterVersion=d7}catch{}const f7="startTransition",Ab=Uv[f7];function h7(e){let{basename:t,children:n,future:r,window:i}=e,s=E.useRef();s.current==null&&(s.current=mP({window:i,v5Compat:!0}));let a=s.current,[l,c]=E.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},p=E.useCallback(m=>{f&&Ab?Ab(()=>c(m)):c(m)},[c,f]);return E.useLayoutEffect(()=>a.listen(p),[a,p]),E.useEffect(()=>n7(r),[r]),E.createElement(i7,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const p7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kc=E.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:f,preventScrollReset:p,viewTransition:m}=t,w=a7(t,u7),{basename:v}=E.useContext(Ic),N,k=!1;if(typeof f=="string"&&m7.test(f)&&(N=f,p7))try{let L=new URL(window.location.href),F=f.startsWith("//")?new URL(L.protocol+f):new URL(f),Q=w5(F.pathname,v);F.origin===L.origin&&Q!=null?f=Q+F.search+F.hash:k=!0}catch{}let C=UP(f,{relative:i}),_=g7(f,{replace:a,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:m});function S(L){r&&r(L),L.defaultPrevented||_(L)}return E.createElement("a",I2({},w,{href:N||C,onClick:k||s?r:S,ref:n,target:c}))});var Lb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Lb||(Lb={}));var Pb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pb||(Pb={}));function g7(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:l}=t===void 0?{}:t,c=Ia(),f=vo(),p=TS(e,{relative:a});return E.useCallback(m=>{if(l7(m,n)){m.preventDefault();let w=r!==void 0?r:F0(f)===F0(p);c(e,{replace:w,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[f,c,p,r,i,n,e,s,a,l])}function MS(e){let t=E.useRef(R2(e)),n=E.useRef(!1),r=vo(),i=E.useMemo(()=>c7(r.search,n.current?null:t.current),[r.search]),s=Ia(),a=E.useCallback((l,c)=>{const f=R2(typeof l=="function"?l(i):l);n.current=!0,s("?"+f,c)},[s,i]);return[i,a]}let v7={data:""},y7=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||v7,w7=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,x7=/\/\*[^]*?\*\/|  +/g,Tb=/\n+/g,lc=(e,t)=>{let n="",r="",i="";for(let s in e){let a=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+a+";":r+=s[1]=="f"?lc(a,s):s+"{"+lc(a,s[1]=="k"?"":t)+"}":typeof a=="object"?r+=lc(a,t?t.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=lc.p?lc.p(s,a):s+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},zo={},IS=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+IS(e[n]);return t}return e},b7=(e,t,n,r,i)=>{let s=IS(e),a=zo[s]||(zo[s]=(c=>{let f=0,p=11;for(;f<c.length;)p=101*p+c.charCodeAt(f++)>>>0;return"go"+p})(s));if(!zo[a]){let c=s!==e?e:(f=>{let p,m,w=[{}];for(;p=w7.exec(f.replace(x7,""));)p[4]?w.shift():p[3]?(m=p[3].replace(Tb," ").trim(),w.unshift(w[0][m]=w[0][m]||{})):w[0][p[1]]=p[2].replace(Tb," ").trim();return w[0]})(e);zo[a]=lc(i?{["@keyframes "+a]:c}:c,n?"":"."+a)}let l=n&&zo.g?zo.g:null;return n&&(zo.g=zo[a]),((c,f,p,m)=>{m?f.data=f.data.replace(m,c):f.data.indexOf(c)===-1&&(f.data=p?c+f.data:f.data+c)})(zo[a],t,r,l),a},_7=(e,t,n)=>e.reduce((r,i,s)=>{let a=t[s];if(a&&a.call){let l=a(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":lc(l,""):l===!1?"":l}return r+i+(a??"")},"");function xg(e){let t=this||{},n=e.call?e(t.p):e;return b7(n.unshift?n.raw?_7(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,y7(t.target),t.g,t.o,t.k)}let RS,F2,$2;xg.bind({g:1});let rl=xg.bind({k:1});function S7(e,t,n,r){lc.p=t,RS=e,F2=n,$2=r}function Rc(e,t){let n=this||{};return function(){let r=arguments;function i(s,a){let l=Object.assign({},s),c=l.className||i.className;n.p=Object.assign({theme:F2&&F2()},l),n.o=/ *go\d+/.test(c),l.className=xg.apply(n,r)+(c?" "+c:"");let f=e;return e[0]&&(f=l.as||e,delete l.as),$2&&f[0]&&$2(l),RS(f,l)}return i}}var N7=e=>typeof e=="function",B0=(e,t)=>N7(e)?e(t):e,k7=(()=>{let e=0;return()=>(++e).toString()})(),FS=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),j7=20,i0=new Map,E7=1e3,Ob=e=>{if(i0.has(e))return;let t=setTimeout(()=>{i0.delete(e),qu({type:4,toastId:e})},E7);i0.set(e,t)},C7=e=>{let t=i0.get(e);t&&clearTimeout(t)},B2=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,j7)};case 1:return t.toast.id&&C7(t.toast.id),{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:n}=t;return e.toasts.find(s=>s.id===n.id)?B2(e,{type:1,toast:n}):B2(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?Ob(r):e.toasts.forEach(s=>{Ob(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},s0=[],a0={toasts:[],pausedAt:void 0},qu=e=>{a0=B2(a0,e),s0.forEach(t=>{t(a0)})},A7={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},L7=(e={})=>{let[t,n]=E.useState(a0);E.useEffect(()=>(s0.push(n),()=>{let i=s0.indexOf(n);i>-1&&s0.splice(i,1)}),[t]);let r=t.toasts.map(i=>{var s,a;return{...e,...e[i.type],...i,duration:i.duration||((s=e[i.type])==null?void 0:s.duration)||(e==null?void 0:e.duration)||A7[i.type],style:{...e.style,...(a=e[i.type])==null?void 0:a.style,...i.style}}});return{...t,toasts:r}},P7=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||k7()}),Sp=e=>(t,n)=>{let r=P7(t,e,n);return qu({type:2,toast:r}),r.id},Be=(e,t)=>Sp("blank")(e,t);Be.error=Sp("error");Be.success=Sp("success");Be.loading=Sp("loading");Be.custom=Sp("custom");Be.dismiss=e=>{qu({type:3,toastId:e})};Be.remove=e=>qu({type:4,toastId:e});Be.promise=(e,t,n)=>{let r=Be.loading(t.loading,{...n,...n==null?void 0:n.loading});return e.then(i=>(Be.success(B0(t.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{Be.error(B0(t.error,i),{id:r,...n,...n==null?void 0:n.error})}),e};var T7=(e,t)=>{qu({type:1,toast:{id:e,height:t}})},O7=()=>{qu({type:5,time:Date.now()})},D7=e=>{let{toasts:t,pausedAt:n}=L7(e);E.useEffect(()=>{if(n)return;let s=Date.now(),a=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&Be.dismiss(l.id);return}return setTimeout(()=>Be.dismiss(l.id),c)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[t,n]);let r=E.useCallback(()=>{n&&qu({type:6,time:Date.now()})},[n]),i=E.useCallback((s,a)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:f}=a||{},p=t.filter(v=>(v.position||f)===(s.position||f)&&v.height),m=p.findIndex(v=>v.id===s.id),w=p.filter((v,N)=>N<m&&v.visible).length;return p.filter(v=>v.visible).slice(...l?[w+1]:[0,w]).reduce((v,N)=>v+(N.height||0)+c,0)},[t]);return{toasts:t,handlers:{updateHeight:T7,startPause:O7,endPause:r,calculateOffset:i}}},M7=rl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,I7=rl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,R7=rl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,F7=Rc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${M7} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${I7} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${R7} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$7=rl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,B7=Rc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${$7} 1s linear infinite;
`,U7=rl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,z7=rl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,q7=Rc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${U7} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${z7} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,W7=Rc("div")`
  position: absolute;
`,H7=Rc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,V7=rl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,G7=Rc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${V7} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Y7=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?E.createElement(G7,null,t):t:n==="blank"?null:E.createElement(H7,null,E.createElement(B7,{...r}),n!=="loading"&&E.createElement(W7,null,n==="error"?E.createElement(F7,{...r}):E.createElement(q7,{...r})))},K7=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,J7=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,X7="0%{opacity:0;} 100%{opacity:1;}",Q7="0%{opacity:1;} 100%{opacity:0;}",Z7=Rc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eT=Rc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,tT=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=FS()?[X7,Q7]:[K7(n),J7(n)];return{animation:t?`${rl(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${rl(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},nT=E.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?tT(e.position||t||"top-center",e.visible):{opacity:0},s=E.createElement(Y7,{toast:e}),a=E.createElement(eT,{...e.ariaProps},B0(e.message,e));return E.createElement(Z7,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:s,message:a}):E.createElement(E.Fragment,null,s,a))});S7(E.createElement);var rT=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let s=E.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return E.createElement("div",{ref:s,className:t,style:n},i)},iT=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:FS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},sT=xg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Tm=16,aT=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:a})=>{let{toasts:l,handlers:c}=D7(n);return E.createElement("div",{style:{position:"fixed",zIndex:9999,top:Tm,left:Tm,right:Tm,bottom:Tm,pointerEvents:"none",...s},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(f=>{let p=f.position||t,m=c.calculateOffset(f,{reverseOrder:e,gutter:r,defaultPosition:t}),w=iT(p,m);return E.createElement(rT,{id:f.id,key:f.id,onHeightUpdate:c.updateHeight,className:f.visible?sT:"",style:w},f.type==="custom"?B0(f.message,f):i?i(f):E.createElement(nT,{toast:f,position:p}))}))};const oT="modulepreload",lT=function(e){return"/"+e},Db={},il=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=lT(c),c in Db)return;Db[c]=!0;const f=c.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":oT,f||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),f)return new Promise((w,v)=>{m.addEventListener("load",w),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},cT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>il(async()=>{const{default:r}=await Promise.resolve().then(()=>Af);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class S5 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class uT extends S5{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dT extends S5{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fT extends S5{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var U2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(U2||(U2={}));var hT=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{f(r.next(p))}catch(m){a(m)}}function c(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?s(p.value):i(p.value).then(l,c)}f((r=r.apply(e,t||[])).next())})};class pT{constructor(t,{headers:n={},customFetch:r,region:i=U2.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=cT(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return hT(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(l["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(l["Content-Type"]="application/json",f=JSON.stringify(a)));const p=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f}).catch(N=>{throw new uT(N)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new dT(p);if(!p.ok)throw new fT(p);let w=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return w==="application/json"?v=yield p.json():w==="application/octet-stream"?v=yield p.blob():w==="text/event-stream"?v=p:w==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null}}catch(i){return{data:null,error:i}}})}}var ss={},N5={},bg={},Np={},_g={},Sg={},mT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bf=mT();const gT=bf.fetch,$S=bf.fetch.bind(bf),BS=bf.Headers,vT=bf.Request,yT=bf.Response,Af=Object.freeze(Object.defineProperty({__proto__:null,Headers:BS,Request:vT,Response:yT,default:$S,fetch:gT},Symbol.toStringTag,{value:"Module"})),wT=qC(Af);var Ng={};Object.defineProperty(Ng,"__esModule",{value:!0});class xT extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}Ng.default=xT;var US=ni&&ni.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sg,"__esModule",{value:!0});const bT=US(wT),_T=US(Ng);let ST=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=bT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,c;let f=null,p=null,m=null,w=s.status,v=s.statusText;if(s.ok){if(this.method!=="HEAD"){const _=await s.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=_:p=JSON.parse(_))}const k=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),C=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");k&&C&&C.length>1&&(m=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,w=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const k=await s.text();try{f=JSON.parse(k),Array.isArray(f)&&s.status===404&&(p=[],f=null,w=200,v="OK")}catch{s.status===404&&k===""?(w=204,v="No Content"):f={message:k}}if(f&&this.isMaybeSingle&&(!((c=f==null?void 0:f.details)===null||c===void 0)&&c.includes("0 rows"))&&(f=null,w=200,v="OK"),f&&this.shouldThrowOnError)throw new _T.default(f)}return{error:f,data:p,count:m,status:w,statusText:v}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,l,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}};Sg.default=ST;var NT=ni&&ni.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_g,"__esModule",{value:!0});const kT=NT(Sg);let jT=class extends kT.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),f=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${f}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};_g.default=jT;var ET=ni&&ni.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Np,"__esModule",{value:!0});const CT=ET(_g);let AT=class extends CT.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Np.default=AT;var LT=ni&&ni.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bg,"__esModule",{value:!0});const gh=LT(Np);let PT=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new gh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new gh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(c.length>0){const f=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new gh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new gh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new gh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};bg.default=PT;var kg={},jg={};Object.defineProperty(jg,"__esModule",{value:!0});jg.version=void 0;jg.version="0.0.0-automated";Object.defineProperty(kg,"__esModule",{value:!0});kg.DEFAULT_HEADERS=void 0;const TT=jg;kg.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${TT.version}`};var zS=ni&&ni.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(N5,"__esModule",{value:!0});const OT=zS(bg),DT=zS(Np),MT=kg;let IT=class qS{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},MT.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new OT.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new qS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{l.searchParams.append(p,m)})):(a="POST",c=n);const f=Object.assign({},this.headers);return s&&(f.Prefer=`count=${s}`),new DT.default({method:a,url:l,headers:f,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};N5.default=IT;var Lf=ni&&ni.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ss,"__esModule",{value:!0});ss.PostgrestError=ss.PostgrestBuilder=ss.PostgrestTransformBuilder=ss.PostgrestFilterBuilder=ss.PostgrestQueryBuilder=ss.PostgrestClient=void 0;const WS=Lf(N5);ss.PostgrestClient=WS.default;const HS=Lf(bg);ss.PostgrestQueryBuilder=HS.default;const VS=Lf(Np);ss.PostgrestFilterBuilder=VS.default;const GS=Lf(_g);ss.PostgrestTransformBuilder=GS.default;const YS=Lf(Sg);ss.PostgrestBuilder=YS.default;const KS=Lf(Ng);ss.PostgrestError=KS.default;var RT=ss.default={PostgrestClient:WS.default,PostgrestQueryBuilder:HS.default,PostgrestFilterBuilder:VS.default,PostgrestTransformBuilder:GS.default,PostgrestBuilder:YS.default,PostgrestError:KS.default};const{PostgrestClient:FT,PostgrestQueryBuilder:uq,PostgrestFilterBuilder:dq,PostgrestTransformBuilder:fq,PostgrestBuilder:hq}=RT,$T="2.10.7",BT={"X-Client-Info":`realtime-js/${$T}`},UT="1.0.0",JS=1e4,zT=1e3;var of;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(of||(of={}));var Cs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Cs||(Cs={}));var Ca;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ca||(Ca={}));var z2;(function(e){e.websocket="websocket"})(z2||(z2={}));var _u;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_u||(_u={}));class qT{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+i));a=a+i;const c=r.decode(t.slice(a,a+s));a=a+s;const f=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:f}}}class XS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Rn||(Rn={}));const Mb=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,a)=>(s[a]=WT(a,e,t,i),s),{})},WT=(e,t,n,r)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=n[e];return s&&!r.includes(s)?QS(s,a):q2(a)},QS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return YT(t,n)}switch(e){case Rn.bool:return HT(t);case Rn.float4:case Rn.float8:case Rn.int2:case Rn.int4:case Rn.int8:case Rn.numeric:case Rn.oid:return VT(t);case Rn.json:case Rn.jsonb:return GT(t);case Rn.timestamp:return KT(t);case Rn.abstime:case Rn.date:case Rn.daterange:case Rn.int4range:case Rn.int8range:case Rn.money:case Rn.reltime:case Rn.text:case Rn.time:case Rn.timestamptz:case Rn.timetz:case Rn.tsrange:case Rn.tstzrange:return q2(t);default:return q2(t)}},q2=e=>e,HT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},VT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},GT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},YT=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>QS(t,l))}return e},KT=e=>typeof e=="string"?e.replace(" ","T"):e,ZS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class uv{constructor(t,n,r={},i=JS){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ib;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ib||(Ib={}));class Fh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fh.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=Fh.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Fh.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(s,(f,p)=>{a[f]||(c[f]=p)}),this.map(a,(f,p)=>{const m=s[f];if(m){const w=p.map(C=>C.presence_ref),v=m.map(C=>C.presence_ref),N=p.filter(C=>v.indexOf(C.presence_ref)<0),k=m.filter(C=>w.indexOf(C.presence_ref)<0);N.length>0&&(l[f]=N),k.length>0&&(c[f]=k)}else l[f]=p}),this.syncDiff(s,{joins:l,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var f;const p=(f=t[l])!==null&&f!==void 0?f:[];if(t[l]=this.cloneDeep(c),p.length>0){const m=t[l].map(v=>v.presence_ref),w=p.filter(v=>m.indexOf(v.presence_ref)<0);t[l].unshift(...w)}r(l,p,c)}),this.map(a,(l,c)=>{let f=t[l];if(!f)return;const p=c.map(m=>m.presence_ref);f=f.filter(m=>p.indexOf(m.presence_ref)<0),t[l]=f,i(l,f,c),f.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rb||(Rb={}));var Fb;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fb||(Fb={}));var $b;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($b||($b={}));class k5{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Cs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new uv(this,Ca.join,this.params,this.timeout),this.rejoinTimer=new XS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cs.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Cs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ca.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Fh(this),this.broadcastEndpointURL=ZS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:a,private:l}}=this.params;this._onError(p=>t&&t("CHANNEL_ERROR",p)),this._onClose(()=>t&&t("CLOSED"));const c={},f={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:f},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:p})=>{var m;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),p===void 0){t&&t("SUBSCRIBED");return}else{const w=this.bindings.postgres_changes,v=(m=w==null?void 0:w.length)!==null&&m!==void 0?m:0,N=[];for(let k=0;k<v;k++){const C=w[k],{filter:{event:_,schema:S,table:L,filter:F}}=C,Q=p&&p[k];if(Q&&Q.event===_&&Q.schema===S&&Q.table===L&&Q.filter===F)N.push(Object.assign(Object.assign({},C),{id:Q.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t("SUBSCRIBED");return}}).receive("error",p=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Cs.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ca.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new uv(this,Ca.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new uv(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:f,join:p}=Ca;if(r&&[l,c,f,p].indexOf(a)>=0&&r!==this._joinRef())return;let w=this._onMessage(a,n,r);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var N,k,C;return((N=v.filter)===null||N===void 0?void 0:N.event)==="*"||((C=(k=v.filter)===null||k===void 0?void 0:k.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===a}).map(v=>v.callback(w,r)):(s=this.bindings[a])===null||s===void 0||s.filter(v=>{var N,k,C,_,S,L;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const F=v.id,Q=(N=v.filter)===null||N===void 0?void 0:N.event;return F&&((k=n.ids)===null||k===void 0?void 0:k.includes(F))&&(Q==="*"||(Q==null?void 0:Q.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const F=(S=(_=v==null?void 0:v.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return F==="*"||F===((L=n==null?void 0:n.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof w=="object"&&"ids"in w){const N=w.data,{schema:k,table:C,commit_timestamp:_,type:S,errors:L}=N;w=Object.assign(Object.assign({},{schema:k,table:C,commit_timestamp:_,eventType:S,new:{},old:{},errors:L}),this._getPayloadRecords(N))}v.callback(w,r)})}_isClosed(){return this.state===Cs.closed}_isJoined(){return this.state===Cs.joined}_isJoining(){return this.state===Cs.joining}_isLeaving(){return this.state===Cs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&k5.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ca.close,{},t)}_onError(t){this._on(Ca.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Mb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Mb(t.columns,t.old_record)),n}}const JT=()=>{},XT=typeof WebSocket<"u",QT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ZT{constructor(t,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=BT,this.params={},this.timeout=JS,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=JT,this.conn=null,this.sendBuffer=[],this.serializer=new qT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>il(async()=>{const{default:c}=await Promise.resolve().then(()=>Af);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${z2.websocket}`,this.httpEndpoint=ZS(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,a)=>a(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new XS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(XT){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new eO(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),il(async()=>{const{default:t}=await import("./browser-CEUsOx-J.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case of.connecting:return _u.Connecting;case of.open:return _u.Open;case of.closing:return _u.Closing;default:return _u.Closed}}isConnected(){return this.connectionState()===_u.Open}channel(t,n={config:{}}){const r=new k5(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(Ca.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:UT}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:a}=n;(a&&a===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ca.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(zT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([QT],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class eO{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=of.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class j5 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function qr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class tO extends j5{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class W2 extends j5{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var nO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{f(r.next(p))}catch(m){a(m)}}function c(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?s(p.value):i(p.value).then(l,c)}f((r=r.apply(e,t||[])).next())})};const eN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>il(async()=>{const{default:r}=await Promise.resolve().then(()=>Af);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},rO=()=>nO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield il(()=>Promise.resolve().then(()=>Af),void 0)).Response:Response}),H2=e=>{if(Array.isArray(e))return e.map(n=>H2(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=H2(r)}),t};var Wu=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{f(r.next(p))}catch(m){a(m)}}function c(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?s(p.value):i(p.value).then(l,c)}f((r=r.apply(e,t||[])).next())})};const dv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iO=(e,t,n)=>Wu(void 0,void 0,void 0,function*(){const r=yield rO();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new tO(dv(i),e.status||500))}).catch(i=>{t(new W2(dv(i),i))}):t(new W2(dv(e),e))}),sO=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function kp(e,t,n,r,i,s){return Wu(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,sO(t,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>iO(c,l,r))})})}function U0(e,t,n,r){return Wu(this,void 0,void 0,function*(){return kp(e,"GET",t,n,r)})}function ic(e,t,n,r,i){return Wu(this,void 0,void 0,function*(){return kp(e,"POST",t,r,i,n)})}function aO(e,t,n,r,i){return Wu(this,void 0,void 0,function*(){return kp(e,"PUT",t,r,i,n)})}function oO(e,t,n,r){return Wu(this,void 0,void 0,function*(){return kp(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function tN(e,t,n,r,i){return Wu(this,void 0,void 0,function*(){return kp(e,"DELETE",t,r,i,n)})}var rs=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{f(r.next(p))}catch(m){a(m)}}function c(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?s(p.value):i(p.value).then(l,c)}f((r=r.apply(e,t||[])).next())})};const lO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cO{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=eN(i)}uploadOrUpdate(t,n,r,i){return rs(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Bb),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const f=this._removeEmptyFolders(n),p=this._getFinalPath(f),m=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:t,body:s,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),w=yield m.json();return m.ok?{data:{path:f,id:w.Id,fullPath:w.Key},error:null}:{data:null,error:w}}catch(s){if(qr(s))return{data:null,error:s};throw s}})}upload(t,n,r){return rs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return rs(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const f=Object.assign({upsert:Bb.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl)):(c=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const m=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:p}),w=yield m.json();return m.ok?{data:{path:s,fullPath:w.Key},error:null}:{data:null,error:w}}catch(c){if(qr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return rs(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield ic(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new j5("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(qr(r))return{data:null,error:r};throw r}})}update(t,n,r){return rs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return rs(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(qr(i))return{data:null,error:i};throw i}})}copy(t,n,r){return rs(this,void 0,void 0,function*(){try{return{data:{path:(yield ic(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(qr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return rs(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield ic(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(qr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return rs(this,void 0,void 0,function*(){try{const i=yield ic(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(qr(i))return{data:null,error:i};throw i}})}download(t,n){return rs(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield U0(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(qr(l))return{data:null,error:l};throw l}})}info(t){return rs(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield U0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:H2(r),error:null}}catch(r){if(qr(r))return{data:null,error:r};throw r}})}exists(t){return rs(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield oO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(qr(r)&&r instanceof W2){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${f}`)}}}remove(t){return rs(this,void 0,void 0,function*(){try{return{data:yield tN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(qr(n))return{data:null,error:n};throw n}})}list(t,n,r){return rs(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},lO),n),{prefix:t||""});return{data:yield ic(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(qr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const uO="2.7.1",dO={"X-Client-Info":`storage-js/${uO}`};var Td=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{f(r.next(p))}catch(m){a(m)}}function c(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?s(p.value):i(p.value).then(l,c)}f((r=r.apply(e,t||[])).next())})};class fO{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},dO),n),this.fetch=eN(r)}listBuckets(){return Td(this,void 0,void 0,function*(){try{return{data:yield U0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(qr(t))return{data:null,error:t};throw t}})}getBucket(t){return Td(this,void 0,void 0,function*(){try{return{data:yield U0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(qr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Td(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(qr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Td(this,void 0,void 0,function*(){try{return{data:yield aO(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(qr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Td(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(qr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Td(this,void 0,void 0,function*(){try{return{data:yield tN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(qr(n))return{data:null,error:n};throw n}})}}class hO extends fO{constructor(t,n={},r){super(t,n,r)}from(t){return new cO(this.url,this.headers,t,this.fetch)}}const pO="2.46.1";let Eh="";typeof Deno<"u"?Eh="deno":typeof document<"u"?Eh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Eh="react-native":Eh="node";const mO={"X-Client-Info":`supabase-js-${Eh}/${pO}`},gO={headers:mO},vO={schema:"public"},yO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wO={};var xO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{f(r.next(p))}catch(m){a(m)}}function c(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?s(p.value):i(p.value).then(l,c)}f((r=r.apply(e,t||[])).next())})};const bO=e=>{let t;return e?t=e:typeof fetch>"u"?t=$S:t=fetch,(...n)=>t(...n)},_O=()=>typeof Headers>"u"?BS:Headers,SO=(e,t,n)=>{const r=bO(n),i=_O();return(s,a)=>xO(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let f=new i(a==null?void 0:a.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},a),{headers:f}))})};var NO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{f(r.next(p))}catch(m){a(m)}}function c(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?s(p.value):i(p.value).then(l,c)}f((r=r.apply(e,t||[])).next())})};function kO(e){return e.replace(/\/$/,"")}function jO(e,t){const{db:n,auth:r,realtime:i,global:s}=e,{db:a,auth:l,realtime:c,global:f}=t,p={db:Object.assign(Object.assign({},a),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},f),s),accessToken:()=>NO(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const nN="2.65.1",EO="http://localhost:9999",CO="supabase.auth.token",AO={"X-Client-Info":`gotrue-js/${nN}`},Ub=10,V2="X-Supabase-Api-Version",rN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function LO(e){return Math.round(Date.now()/1e3)+e}function PO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Na=()=>typeof document<"u",hu={tested:!1,writable:!1},$h=()=>{if(!Na())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hu.tested)return hu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),hu.tested=!0,hu.writable=!0}catch{hu.tested=!0,hu.writable=!1}return hu.writable};function fv(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const iN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>il(async()=>{const{default:r}=await Promise.resolve().then(()=>Af);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},TO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",sN=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Om=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Dm=async(e,t)=>{await e.removeItem(t)};function OO(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,s,a,l,c,f,p=0;for(e=e.replace("-","+").replace("_","/");p<e.length;)a=t.indexOf(e.charAt(p++)),l=t.indexOf(e.charAt(p++)),c=t.indexOf(e.charAt(p++)),f=t.indexOf(e.charAt(p++)),r=a<<2|l>>4,i=(l&15)<<4|c>>2,s=(c&3)<<6|f,n=n+String.fromCharCode(r),c!=64&&i!=0&&(n=n+String.fromCharCode(i)),f!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class Eg{constructor(){this.promise=new Eg.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Eg.promiseConstructor=Promise;function zb(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(OO(r))}async function DO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function MO(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function IO(e){return("0"+e.toString(16)).substr(-2)}function RO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,IO).join("")}async function FO(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function $O(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function BO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await FO(e);return $O(n)}async function Od(e,t,n=!1){const r=RO();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await sN(e,`${t}-code-verifier`,i);const s=await BO(r);return[s,r===s?"plain":"s256"]}const UO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zO(e){const t=e.headers.get(V2);if(!t||!t.match(UO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class E5 extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ht(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class qO extends E5{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function WO(e){return Ht(e)&&e.name==="AuthApiError"}class aN extends E5{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Hu extends E5{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ec extends Hu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function HO(e){return Ht(e)&&e.name==="AuthSessionMissingError"}class hv extends Hu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mm extends Hu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Im extends Hu{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qb extends Hu{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class G2 extends Hu{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function pv(e){return Ht(e)&&e.name==="AuthRetryableFetchError"}class Wb extends Hu{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var VO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const yu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GO=[502,503,504];async function Hb(e){var t;if(!TO(e))throw new G2(yu(e),0);if(GO.includes(e.status))throw new G2(yu(e),e.status);let n;try{n=await e.json()}catch(s){throw new aN(yu(s),s)}let r;const i=zO(e);if(i&&i.getTime()>=rN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Wb(yu(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ec}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Wb(yu(n),e.status,n.weak_password.reasons);throw new qO(yu(n),e.status||500,r)}const YO=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function nn(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[V2]||(s[V2]=rN["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await KO(e,t,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function KO(e,t,n,r,i,s){const a=YO(t,r,i,s);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new G2(yu(c),0)}if(l.ok||await Hb(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Hb(c)}}function tc(e){var t;let n=null;ZO(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=LO(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Vb(e){const t=tc(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function cc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function JO(e){return{data:e,error:null}}function XO(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=VO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function QO(e){return e}function ZO(e){return e.access_token&&e.refresh_token&&e.expires_in}var eD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class tD{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=iN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await nn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ht(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await nn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:cc})}catch(r){if(Ht(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=eD(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await nn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:XO,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ht(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await nn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:cc})}catch(n){if(Ht(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,l,c;try{const f={nextPage:null,lastPage:0,total:0},p=await nn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:QO});if(p.error)throw p.error;const m=await p.json(),w=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(N=>{const k=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(N.split(";")[1].split("=")[1]);f[`${C}Page`]=k}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Ht(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){try{return await nn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:cc})}catch(n){if(Ht(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await nn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:cc})}catch(r){if(Ht(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await nn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:cc})}catch(r){if(Ht(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await nn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await nn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ht(n))return{data:null,error:n};throw n}}}const nD={getItem:e=>$h()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{$h()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{$h()&&globalThis.localStorage.removeItem(e)}};function Gb(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function rD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Dd={debug:!!(globalThis&&$h()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class iD extends oN{}async function sD(e,t,n){Dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Dd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new iD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Dd.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}rD();const aD={url:EO,storageKey:CO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},vh=30*1e3,Yb=3;async function Kb(e,t,n){return await n()}class dp{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=dp.nextInstanceID,dp.nextInstanceID+=1,this.instanceID>0&&Na()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},aD),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new tD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=iN(i.fetch),this.lock=i.lock||Kb,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Na()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=sD:this.lock=Kb,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:$h()?this.storage=nD:(this.memoryStorage={},this.storage=Gb(this.memoryStorage)):(this.memoryStorage={},this.storage=Gb(this.memoryStorage)),Na()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=Na()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:i,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ht(t)?{error:t}:{error:new aN("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await nn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:tc}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(s){if(Ht(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:p,password:m,options:w}=t;let v=null,N=null;this.flowType==="pkce"&&([v,N]=await Od(this.storage,this.storageKey)),s=await nn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:p,password:m,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:v,code_challenge_method:N},xform:tc})}else if("phone"in t){const{phone:p,password:m,options:w}=t;s=await nn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},channel:(i=w==null?void 0:w.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:tc})}else throw new Mm("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(s){if(Ht(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:l}=t;n=await nn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Vb})}else if("phone"in t){const{phone:s,password:a,options:l}=t;n=await nn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Vb})}else throw new Mm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new hv}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Om(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await nn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:tc});if(await Dm(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new hv}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Ht(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,l=await nn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:tc}),{data:c,error:f}=l;return f?{data:{user:null,session:null},error:f}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new hv}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:f})}catch(n){if(Ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:l,options:c}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Od(this.storage,this.storageKey));const{error:m}=await nn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:l,options:c}=t,{data:f,error:p}=await nn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new Mm("You must provide either an email or phone number.")}catch(l){if(Ht(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await nn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:tc});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,f=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(i){if(Ht(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Od(this.storage,this.storageKey)),await nn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:JO})}catch(s){if(Ht(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ec;const{error:i}=await nn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ht(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await nn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:l}=await nn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Mm("You must provide either an email or phone number and a type")}catch(n){if(Ht(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Om(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,f,p)=>(!a&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,f,p))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await nn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cc}):await this._useSession(async n=>{var r,i,s;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ec}:await nn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:cc})})}catch(n){if(Ht(n))return HO(n)&&(await this._removeSession(),await Dm(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ec;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Od(this.storage,this.storageKey));const{data:f,error:p}=await nn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:cc});if(p)throw p;return a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Ht(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return zb(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ec;const n=Date.now()/1e3;let r=n,i=!0,s=null;const a=zb(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Ht(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ec;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ht(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!Na())throw new Im("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Im("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new qb("Not a valid PKCE flow url.");const n=fv(window.location.href);if(t){if(!n.code)throw new qb("No code detected.");const{data:S,error:L}=await this._exchangeCodeForSession(n.code);if(L)throw L;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:S.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Im(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:f}=n;if(!s||!l||!a||!f)throw new Im("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(l);let w=p+m;c&&(w=parseInt(c));const v=w-p;v*1e3<=vh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const N=w-m;p-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,w,p):p-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,w,p);const{data:k,error:C}=await this._getUser(s);if(C)throw C;const _={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:w,refresh_token:a,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:n.type},error:null}}catch(n){if(Ht(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=fv(window.location.href);return!!(Na()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=fv(window.location.href),n=await Om(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(WO(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Dm(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=PO(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Od(this.storage,this.storageKey,!0));try{return await nn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Ht(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,l,c,f,p;const{data:m,error:w}=s;if(w)throw w;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await nn(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Na()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ht(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await nn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await MO(async i=>(i>0&&await DO(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await nn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:tc})),(i,s)=>{const a=200*Math.pow(2,i);return s&&pv(s)&&Date.now()+a-r<vh})}catch(r){if(this._debug(n,"error",r),Ht(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Na()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Om(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<i+Ub;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Ub}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),pv(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ec;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Eg;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new ec;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Ht(s)){const a={session:null,error:s};return pv(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await sN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Dm(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Na()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/vh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${vh}ms, refresh threshold is ${Yb} ticks`),i<=Yb&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof oN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Na()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Od(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await nn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:f}=await nn(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:l}=await nn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await nn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const p=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:p},error:null}}))}}dp.nextInstanceID=0;const oD=dp;class lD extends oD{constructor(t){super(t)}}var cD=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{f(r.next(p))}catch(m){a(m)}}function c(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?s(p.value):i(p.value).then(l,c)}f((r=r.apply(e,t||[])).next())})};class uD{constructor(t,n,r){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=kO(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,f={db:vO,realtime:wO,auth:Object.assign(Object.assign({},yO),{storageKey:c}),global:gO},p=jO(r??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=p.auth)!==null&&a!==void 0?a:{},this.headers,p.global.fetch),this.fetch=SO(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new FT(`${l}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new pT(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new hO(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return cD(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:l,debug:c},f,p){var m;const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lD({url:this.authUrl,headers:Object.assign(Object.assign({},w),f),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:l,debug:c,fetch:p,hasCustomAuthorizationHeader:(m="Authorization"in this.headers)!==null&&m!==void 0?m:!1})}_initRealtimeClient(t){return new ZT(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dD=(e,t,n)=>new uD(e,t,n),fD="https://vrzgwnchqdxwgennshmu.supabase.co",hD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZyemd3bmNocWR4d2dlbm5zaG11Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE1NTEzMzYsImV4cCI6MjA0NzEyNzMzNn0.U8KLDcO9sabudduU9xTFgmbwDBmgULvH0jKY9QN0eeE",Je=dD(fD,hD,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce",redirectTo:"https://nimble-alfajores-99f196.netlify.app"}}),pD={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SPOTIFY_CLIENT_ID:"2f84f95d5e0943afb6e72b6758adedd3",VITE_SPOTIFY_REDIRECT_URI:"https://bandplan.netlify.app"},Jb=e=>{let t;const n=new Set,r=(p,m)=>{const w=typeof p=="function"?p(t):p;if(!Object.is(w,t)){const v=t;t=m??(typeof w!="object"||w===null)?w:Object.assign({},t,w),n.forEach(N=>N(t,v))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>f,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(pD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,i,c);return c},mD=e=>e?Jb(e):Jb;var lN={exports:{}},cN={},uN={exports:{}},dN={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f=E;function gD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vD=typeof Object.is=="function"?Object.is:gD,yD=_f.useState,wD=_f.useEffect,xD=_f.useLayoutEffect,bD=_f.useDebugValue;function _D(e,t){var n=t(),r=yD({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return xD(function(){i.value=n,i.getSnapshot=t,mv(i)&&s({inst:i})},[e,n,t]),wD(function(){return mv(i)&&s({inst:i}),e(function(){mv(i)&&s({inst:i})})},[e]),bD(n),n}function mv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vD(e,n)}catch{return!0}}function SD(e,t){return t()}var ND=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?SD:_D;dN.useSyncExternalStore=_f.useSyncExternalStore!==void 0?_f.useSyncExternalStore:ND;uN.exports=dN;var kD=uN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg=E,jD=kD;function ED(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CD=typeof Object.is=="function"?Object.is:ED,AD=jD.useSyncExternalStore,LD=Cg.useRef,PD=Cg.useEffect,TD=Cg.useMemo,OD=Cg.useDebugValue;cN.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=LD(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=TD(function(){function c(v){if(!f){if(f=!0,p=v,v=r(v),i!==void 0&&a.hasValue){var N=a.value;if(i(N,v))return m=N}return m=v}if(N=m,CD(p,v))return N;var k=r(v);return i!==void 0&&i(N,k)?N:(p=v,m=k)}var f=!1,p,m,w=n===void 0?null:n;return[function(){return c(t())},w===null?void 0:function(){return c(w())}]},[t,n,r,i]);var l=AD(e,s[0],s[1]);return PD(function(){a.hasValue=!0,a.value=l},[l]),OD(l),l};lN.exports=cN;var DD=lN.exports;const MD=d_(DD),fN={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SPOTIFY_CLIENT_ID:"2f84f95d5e0943afb6e72b6758adedd3",VITE_SPOTIFY_REDIRECT_URI:"https://bandplan.netlify.app"},{useDebugValue:ID}=ht,{useSyncExternalStoreWithSelector:RD}=MD;let Xb=!1;const FD=e=>e;function $D(e,t=FD,n){(fN?"production":void 0)!=="production"&&n&&!Xb&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Xb=!0);const r=RD(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ID(r),r}const Qb=e=>{(fN?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?mD(e):e,n=(r,i)=>$D(t,r,i);return Object.assign(n,t),n},BD=e=>e?Qb(e):Qb,Is=BD(e=>({user:null,session:null,loading:!0,setUser:t=>{console.log("Setting user in store:",t),e({user:t})},setSession:t=>{console.log("Setting session in store:",t),e({session:t})},signOut:async()=>{try{await Je.auth.signOut(),e({user:null,session:null})}catch(t){console.error("Error signing out:",t)}}}));class UD{constructor(){this.clientId="2f84f95d5e0943afb6e72b6758adedd3",this.redirectUri="https://bandplan.netlify.app",this.scopes=["user-read-private","user-read-email","playlist-modify-public","playlist-modify-private","user-modify-playback-state","user-read-playback-state","streaming"].join(" "),this.accessToken=null,this.refreshToken=null,this.tokenExpiry=null,this.loadTokensFromStorage()}async getAuthUrl(){const t=this.generateRandomString(16),n=this.generateRandomString(128);localStorage.setItem("spotify_return_url",window.location.href),localStorage.setItem("spotify_auth_state",t),localStorage.setItem("spotify_code_verifier",n);const r=await this.generateCodeChallenge(n);return`https://accounts.spotify.com/authorize?${new URLSearchParams({response_type:"code",client_id:this.clientId,scope:this.scopes,redirect_uri:this.redirectUri,state:t,code_challenge_method:"S256",code_challenge:r}).toString()}`}async handleAuthCallback(t,n){const r=localStorage.getItem("spotify_auth_state"),i=localStorage.getItem("spotify_code_verifier");if(n!==r)throw new Error("State mismatch");if(!i)throw new Error("Code verifier not found");try{const s=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:this.redirectUri,client_id:this.clientId,code_verifier:i})});if(!s.ok)throw new Error("Failed to exchange code for tokens");const a=await s.json();return this.accessToken=a.access_token,this.refreshToken=a.refresh_token,this.tokenExpiry=Date.now()+a.expires_in*1e3,this.saveTokensToStorage(),localStorage.removeItem("spotify_auth_state"),localStorage.removeItem("spotify_code_verifier"),!0}catch(s){return console.error("Error in Spotify auth callback:",s),!1}}async refreshAccessToken(){if(!this.refreshToken)return!1;try{const t=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:this.refreshToken,client_id:this.clientId})});if(!t.ok)throw new Error("Failed to refresh access token");const n=await t.json();return this.accessToken=n.access_token,this.tokenExpiry=Date.now()+n.expires_in*1e3,n.refresh_token&&(this.refreshToken=n.refresh_token),this.saveTokensToStorage(),!0}catch(t){return console.error("Error refreshing access token:",t),this.logout(),!1}}async ensureValidToken(){return this.accessToken?this.tokenExpiry&&Date.now()>=this.tokenExpiry-6e4?await this.refreshAccessToken():!0:!1}async apiRequest(t,n={}){if(!await this.ensureValidToken())throw new Error("No valid Spotify token available");const r=await fetch(`https://api.spotify.com/v1${t}`,{...n,headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json",...n.headers}});if(!r.ok){if(r.status===401&&await this.refreshAccessToken())return this.apiRequest(t,n);throw new Error(`Spotify API error: ${r.status} ${r.statusText}`)}return r.headers.get("content-length")==="0"||r.status===204?null:r.json()}async getCurrentUser(){return this.apiRequest("/me")}async searchTracks(t,n=20){const r=new URLSearchParams({q:t,type:"track",limit:n.toString()});return(await this.apiRequest(`/search?${r}`)).tracks.items}async getTrack(t){return this.apiRequest(`/tracks/${t}`)}async getAudioFeatures(t){return this.apiRequest(`/audio-features/${t}`)}async createPlaylist(t,n,r=!1){const i=await this.getCurrentUser();return this.apiRequest(`/users/${i.id}/playlists`,{method:"POST",body:JSON.stringify({name:t,description:n,public:r})})}async addTracksToPlaylist(t,n){await this.apiRequest(`/playlists/${t}/tracks`,{method:"POST",body:JSON.stringify({uris:n})})}async playTrack(t,n){const r={uris:[t]};n&&(r.device_id=n),await this.apiRequest("/me/player/play",{method:"PUT",body:JSON.stringify(r)})}async pausePlayback(){await this.apiRequest("/me/player/pause",{method:"PUT"})}async resumePlayback(){await this.apiRequest("/me/player/play",{method:"PUT"})}async getPlaybackState(){try{return await this.apiRequest("/me/player")}catch{return null}}isAuthenticated(){return!!(this.accessToken&&this.tokenExpiry&&Date.now()<this.tokenExpiry)}logout(){this.accessToken=null,this.refreshToken=null,this.tokenExpiry=null,this.clearTokensFromStorage(),localStorage.removeItem("spotify_auth_state"),localStorage.removeItem("spotify_code_verifier")}async generateCodeChallenge(t){const n=new TextEncoder().encode(t),r=await window.crypto.subtle.digest("SHA-256",n);return btoa(String.fromCharCode.apply(null,[...new Uint8Array(r)])).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}generateRandomString(t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return crypto.getRandomValues(new Uint8Array(t)).reduce((i,s)=>i+n[s%n.length],"")}saveTokensToStorage(){this.accessToken&&localStorage.setItem("spotify_access_token",this.accessToken),this.refreshToken&&localStorage.setItem("spotify_refresh_token",this.refreshToken),this.tokenExpiry&&localStorage.setItem("spotify_token_expiry",this.tokenExpiry.toString())}loadTokensFromStorage(){this.accessToken=localStorage.getItem("spotify_access_token"),this.refreshToken=localStorage.getItem("spotify_refresh_token");const t=localStorage.getItem("spotify_token_expiry");this.tokenExpiry=t?parseInt(t):null}clearTokensFromStorage(){localStorage.removeItem("spotify_access_token"),localStorage.removeItem("spotify_refresh_token"),localStorage.removeItem("spotify_token_expiry")}}const xi=new UD;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),On=(e,t)=>{const n=E.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:c,...f},p)=>E.createElement("svg",{ref:p,...zD,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${qD(e)}`,l].join(" "),...f},[...t.map(([m,w])=>E.createElement(m,w)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=On("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=On("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=On("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=On("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=On("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=On("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=On("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=On("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=On("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=On("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=On("ListMusic",[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=On("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=On("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=On("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=On("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=On("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=On("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=On("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=On("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=On("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=On("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=On("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=On("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=On("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=On("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=On("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=On("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ZD(){const[e,t]=E.useState([]),[n,r]=E.useState(!1),i=Ia(),{user:s}=Is(),[a,l]=E.useState(null);E.useEffect(()=>{if(s)return console.log("Inicializando NotificationBell para usuario:",s.id),c(),f(),()=>{a&&(console.log("Limpiando suscripción de notificaciones"),a.unsubscribe())}},[s]);const c=async()=>{const{data:m,error:w}=await Je.from("notifications").select("*").eq("user_id",s==null?void 0:s.id).eq("read",!1).order("created_at",{ascending:!1});if(w){console.error("Error fetching notifications:",w);return}t(m||[])},f=async()=>{try{a&&await a.unsubscribe(),console.log("Configurando suscripción en tiempo real para:",s==null?void 0:s.id);const m=Je.channel(`notifications:${s==null?void 0:s.id}`,{config:{broadcast:{self:!0}}});m.on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${s==null?void 0:s.id}`},w=>{console.log("Nueva notificación recibida:",w);const v=w.new;t(N=>[v,...N]),Be.custom(N=>h.jsxs("div",{className:`${N.visible?"animate-enter":"animate-leave"} bg-white shadow-lg rounded-lg p-4 flex items-center space-x-3`,children:[h.jsx(e3,{className:"h-6 w-6 text-indigo-500"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:v.title}),h.jsx("p",{className:"text-sm text-gray-500",children:v.message})]})]}),{duration:5e3,position:"top-right"})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${s==null?void 0:s.id}`},w=>{console.log("Notificación actualizada:",w),t(v=>v.map(N=>N.id===w.new.id?w.new:N))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"notifications",filter:`user_id=eq.${s==null?void 0:s.id}`},w=>{console.log("Notificación eliminada:",w),t(v=>v.filter(N=>N.id!==w.old.id))}),console.log("Iniciando suscripción..."),await m.subscribe(w=>{console.log("Estado de suscripción:",w)}),l(m)}catch(m){console.error("Error al configurar suscripción en tiempo real:",m)}},p=async(m,w)=>{try{const{error:v}=await Je.rpc("handle_group_invitation",{p_group_member_id:m.data.group_member_id,p_accept:w});if(v)throw v;await Je.from("notifications").update({read:!0}).eq("id",m.id),t(N=>N.filter(k=>k.id!==m.id)),Be.success(w?"Invitación aceptada":"Invitación rechazada"),w&&i(`/group/${m.data.group_id}`)}catch(v){Be.error(v.message)}};return h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>r(!n),className:"relative p-2 text-white hover:text-indigo-200",children:[h.jsx(e3,{className:"w-6 h-6"}),e.length>0&&h.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:e.length})]}),n&&h.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg z-50",children:h.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:e.length===0?h.jsx("p",{className:"text-gray-500 text-center",children:"No hay notificaciones"}):e.map(m=>h.jsxs("div",{className:"mb-4 p-4 border rounded-lg",children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:m.title}),h.jsx("p",{className:"text-sm text-gray-600 mb-3",children:m.message}),m.type==="group_invitation"&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>p(m,!0),className:"px-3 py-1 bg-green-500 text-white rounded-md text-sm hover:bg-green-600",children:"Aceptar"}),h.jsx("button",{onClick:()=>p(m,!1),className:"px-3 py-1 bg-red-500 text-white rounded-md text-sm hover:bg-red-600",children:"Rechazar"})]})]},m.id))})})]})}function eM(){const{user:e,signOut:t}=Is(),n=Ia(),r=async()=>{try{await t(),n("/login")}catch(i){console.error("Error signing out:",i)}};return h.jsx("nav",{className:"bg-indigo-600 text-white shadow-lg",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"flex items-center justify-between h-16",children:[h.jsxs(kc,{to:"/",className:"flex items-center space-x-2",children:[h.jsx(KD,{className:"h-8 w-8"}),h.jsx("span",{className:"font-bold text-xl",children:"Band Manager"})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[e&&h.jsx(ZD,{}),e?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-sm",children:e.email}),h.jsxs("button",{onClick:r,className:"flex items-center space-x-1 hover:text-indigo-200 transition-colors",children:[h.jsx(J2,{className:"h-5 w-5"}),h.jsx("span",{children:"Sign Out"})]})]}):h.jsxs("div",{className:"space-x-4",children:[h.jsx(kc,{to:"/login",className:"hover:text-indigo-200 transition-colors",children:"Login"}),h.jsx(kc,{to:"/register",className:"hover:text-indigo-200 transition-colors",children:"Register"}),!1]})]})]})})})}function Vn({label:e,error:t,className:n="",...r}){return h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),h.jsx("input",{className:`
          w-full px-3 py-2 border rounded-lg shadow-sm
          focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500
          ${t?"border-red-500":"border-gray-300"}
          ${n}
        `,...r}),t&&h.jsx("p",{className:"text-sm text-red-600",children:t})]})}function _t({children:e,loading:t,variant:n="primary",fullWidth:r,className:i="",...s}){const a="flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"};return h.jsxs("button",{className:`${a} ${l[n]} ${r?"w-full":""} ${i}`,disabled:t,...s,children:[t&&h.jsx(Cc,{className:"w-4 h-4 mr-2 animate-spin"}),e]})}function tM(){var w;const[e,t]=E.useState(""),[n,r]=E.useState(""),[i,s]=E.useState(!1),a=Ia(),l=vo(),c=(w=l.state)==null?void 0:w.returnTo,{user:f,setUser:p}=Is();console.log("Login component state:",{returnTo:c,location:l}),E.useEffect(()=>{if(f){const v=c||"/";console.log("User authenticated, redirecting to:",v),a(v,{replace:!0})}},[f,c,a]);const m=async v=>{v.preventDefault(),s(!0);try{const{data:N,error:k}=await Je.auth.signInWithPassword({email:e,password:n});if(k)throw k;p(N.user),Be.success("Successfully logged in!");const C=c||"/";console.log("Login successful, redirecting to:",C),a(C,{replace:!0})}catch(N){Be.error(N.message||"Failed to login")}finally{s(!1)}};return f?null:h.jsx("div",{className:"max-w-md mx-auto mt-16",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[h.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Welcome Back"}),h.jsxs("form",{onSubmit:m,className:"space-y-6",children:[h.jsx(Vn,{label:"Email",type:"email",value:e,onChange:v=>t(v.target.value),required:!0,placeholder:"your@email.com"}),h.jsx(Vn,{label:"Password",type:"password",value:n,onChange:v=>r(v.target.value),required:!0,placeholder:"••••••••"}),h.jsx(_t,{type:"submit",loading:i,fullWidth:!0,children:"Sign In"})]}),h.jsx("p",{className:"mt-4 text-center text-sm text-gray-600",children:h.jsx(kc,{to:"/forgot-password",className:"text-indigo-600 hover:text-indigo-500",children:"¿Olvidaste tu contraseña?"})}),h.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",h.jsx(kc,{to:"/register",className:"text-indigo-600 hover:text-indigo-500",children:"Register here"})]})]})})}function nM(){const[e]=MS(),t=e.get("email");e.get("token");const[n,r]=E.useState(t||""),[i,s]=E.useState(""),[a,l]=E.useState(""),[c,f]=E.useState(!1),p=Ia(),{user:m}=Is();E.useEffect(()=>{m&&p("/")},[m,p]);const w=async v=>{v.preventDefault(),f(!0);try{const{data:N,error:k}=await Je.auth.signUp({email:n,password:i,options:{data:{name:a,role:"user"}}});if(k)throw k;if(N.user){const{data:C,error:_}=await Je.rpc("create_new_user",{user_id:N.user.id,user_email:n,user_name:a,user_role:"user"});if(_)throw _;Be.success("Registration successful! Please check your email to confirm your account."),p("/login")}}catch(N){console.error("Registration error:",N),N.message.includes("User already registered")?Be.error("This email is already registered. Please try logging in instead."):N.message.includes("rate limit")?Be.error("Too many registration attempts. Please try again in a few minutes."):Be.error("Registration failed. Please try again.")}finally{f(!1)}};return m?null:h.jsx("div",{className:"max-w-md mx-auto mt-16",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[h.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Create an Account"}),h.jsxs("form",{onSubmit:w,className:"space-y-6",children:[h.jsx(Vn,{label:"Name",type:"text",value:a,onChange:v=>l(v.target.value),required:!0,placeholder:"John Doe"}),h.jsx(Vn,{label:"Email",type:"email",value:n,onChange:v=>r(v.target.value),required:!0,disabled:!!t,placeholder:"tu@email.com"}),h.jsx(Vn,{label:"Password",type:"password",value:i,onChange:v=>s(v.target.value),required:!0,placeholder:"••••••••",minLength:6}),h.jsx(_t,{type:"submit",loading:c,fullWidth:!0,children:"Register"})]}),h.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Already have an account?"," ",h.jsx(kc,{to:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"Sign in here"})]})]})})}var rM=Object.defineProperty,iM=(e,t,n)=>t in e?rM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gv=(e,t,n)=>(iM(e,typeof t!="symbol"?t+"":t,n),n);let sM=class{constructor(){gv(this,"current",this.detect()),gv(this,"handoffState","pending"),gv(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Tu=new sM;function Lg(e){return Tu.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function Pg(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Fc(){let e=[],t={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),t.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Pg(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Fc();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function A5(){let[e]=E.useState(Fc);return E.useEffect(()=>()=>e.dispose(),[e]),e}let Ri=(e,t)=>{Tu.isServer?E.useEffect(e,t):E.useLayoutEffect(e,t)};function Vu(e){let t=E.useRef(e);return Ri(()=>{t.current=e},[e]),t}let or=function(e){let t=Vu(e);return ht.useCallback((...n)=>t.current(...n),[t])},aM=E.createContext(void 0);function oM(){return E.useContext(aM)}function Q2(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Ac(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ac),r}var z0=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(z0||{}),pc=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(pc||{});function sa(){let e=cM();return E.useCallback(t=>lM({mergeRefs:e,...t}),[e])}function lM({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:s=!0,name:a,mergeRefs:l}){l=l??uM;let c=gN(t,e);if(s)return Rm(c,n,r,a,l);let f=i??0;if(f&2){let{static:p=!1,...m}=c;if(p)return Rm(m,n,r,a,l)}if(f&1){let{unmount:p=!0,...m}=c;return Ac(p?0:1,{0(){return null},1(){return Rm({...m,hidden:!0,style:{display:"none"}},n,r,a,l)}})}return Rm(c,n,r,a,l)}function Rm(e,t={},n,r,i){let{as:s=n,children:a,refName:l="ref",...c}=vv(e,["unmount","static"]),f=e.ref!==void 0?{[l]:e.ref}:{},p=typeof a=="function"?a(t):a;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let m={};if(t){let w=!1,v=[];for(let[N,k]of Object.entries(t))typeof k=="boolean"&&(w=!0),k===!0&&v.push(N.replace(/([A-Z])/g,C=>`-${C.toLowerCase()}`));if(w){m["data-headlessui-state"]=v.join(" ");for(let N of v)m[`data-${N}`]=""}}if(s===E.Fragment&&(Object.keys(wu(c)).length>0||Object.keys(wu(m)).length>0))if(!E.isValidElement(p)||Array.isArray(p)&&p.length>1){if(Object.keys(wu(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(wu(c)).concat(Object.keys(wu(m))).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`))}else{let w=p.props,v=w==null?void 0:w.className,N=typeof v=="function"?(..._)=>Q2(v(..._),c.className):Q2(v,c.className),k=N?{className:N}:{},C=gN(p.props,wu(vv(c,["ref"])));for(let _ in m)_ in C&&delete m[_];return E.cloneElement(p,Object.assign({},C,m,f,{ref:i(dM(p),f.ref)},k))}return E.createElement(s,Object.assign({},vv(c,["ref"]),s!==E.Fragment&&f,s!==E.Fragment&&m),p)}function cM(){let e=E.useRef([]),t=E.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function uM(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function gN(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...s){let a=n[r];for(let l of a){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;l(i,...s)}}});return t}function ds(e){var t;return Object.assign(E.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function wu(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function vv(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function dM(e){return ht.version.split(".")[0]>="19"?e.props.ref:e.ref}let fM="span";var q0=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(q0||{});function hM(e,t){var n;let{features:r=1,...i}=e,s={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return sa()({ourProps:s,theirProps:i,slot:{},defaultTag:fM,name:"Hidden"})}let Z2=ds(hM),vN=Symbol();function pM(e,t=!0){return Object.assign(e,{[vN]:t})}function yo(...e){let t=E.useRef(e);E.useEffect(()=>{t.current=e},[e]);let n=or(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[vN]))?void 0:n}let L5=E.createContext(null);L5.displayName="DescriptionContext";function yN(){let e=E.useContext(L5);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,yN),t}return e}function mM(){let[e,t]=E.useState([]);return[e.length>0?e.join(" "):void 0,E.useMemo(()=>function(n){let r=or(s=>(t(a=>[...a,s]),()=>t(a=>{let l=a.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),i=E.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return ht.createElement(L5.Provider,{value:i},n.children)},[t])]}let gM="p";function vM(e,t){let n=E.useId(),r=oM(),{id:i=`headlessui-description-${n}`,...s}=e,a=yN(),l=yo(t);Ri(()=>a.register(i),[i,a.register]);let c=r||!1,f=E.useMemo(()=>({...a.slot,disabled:c}),[a.slot,c]),p={ref:l,...a.props,id:i};return sa()({ourProps:p,theirProps:s,slot:f,defaultTag:gM,name:a.name||"Description"})}let yM=ds(vM),wM=Object.assign(yM,{});var wN=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(wN||{});let xM=E.createContext(()=>{});function bM({value:e,children:t}){return ht.createElement(xM.Provider,{value:e},t)}let _M=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function xN(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let a=t[i].call(n,...s);a&&(n=a,r.forEach(l=>l()))}}}function bN(e){return E.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let SM=new _M(()=>xN(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function Pf(e,t){let n=SM.get(t),r=E.useId(),i=bN(n);if(Ri(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let s=i.indexOf(r),a=i.length;return s===-1&&(s=a,a+=1),s===a-1}let ey=new Map,Bh=new Map;function n3(e){var t;let n=(t=Bh.get(e))!=null?t:0;return Bh.set(e,n+1),n!==0?()=>r3(e):(ey.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>r3(e))}function r3(e){var t;let n=(t=Bh.get(e))!=null?t:1;if(n===1?Bh.delete(e):Bh.set(e,n-1),n!==1)return;let r=ey.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,ey.delete(e))}function NM(e,{allowed:t,disallowed:n}={}){let r=Pf(e,"inert-others");Ri(()=>{var i,s;if(!r)return;let a=Fc();for(let c of(i=n==null?void 0:n())!=null?i:[])c&&a.add(n3(c));let l=(s=t==null?void 0:t())!=null?s:[];for(let c of l){if(!c)continue;let f=Lg(c);if(!f)continue;let p=c.parentElement;for(;p&&p!==f.body;){for(let m of p.children)l.some(w=>m.contains(w))||a.add(n3(m));p=p.parentElement}}return a.dispose},[r,t,n])}function kM(e,t,n){let r=Vu(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});E.useEffect(()=>{if(!e)return;let i=t===null?null:t instanceof HTMLElement?t:t.current;if(!i)return;let s=Fc();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}return()=>s.dispose()},[t,r,e])}let W0=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),jM=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Go=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Go||{}),ty=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(ty||{}),EM=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(EM||{});function CM(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(W0)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function AM(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(jM)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var _N=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(_N||{});function LM(e,t=0){var n;return e===((n=Lg(e))==null?void 0:n.body)?!1:Ac(t,{0(){return e.matches(W0)},1(){let r=e;for(;r!==null;){if(r.matches(W0))return!0;r=r.parentElement}return!1}})}var PM=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(PM||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Qo(e){e==null||e.focus({preventScroll:!0})}let TM=["textarea","input"].join(",");function OM(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,TM))!=null?n:!1}function DM(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),s=t(r);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Uh(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?DM(e):e:t&64?AM(e):CM(e);i.length>0&&a.length>1&&(a=a.filter(v=>!i.some(N=>N!=null&&"current"in N?(N==null?void 0:N.current)===v:N===v))),r=r??s.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},p=0,m=a.length,w;do{if(p>=m||p+m<=0)return 0;let v=c+p;if(t&16)v=(v+m)%m;else{if(v<0)return 3;if(v>=m)return 1}w=a[v],w==null||w.focus(f),p+=l}while(w!==s.activeElement);return t&6&&OM(w)&&w.select(),2}function SN(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function MM(){return/Android/gi.test(window.navigator.userAgent)}function IM(){return SN()||MM()}function yh(e,t,n,r){let i=Vu(n);E.useEffect(()=>{if(!e)return;function s(a){i.current(a)}return document.addEventListener(t,s,r),()=>document.removeEventListener(t,s,r)},[e,t,r])}function NN(e,t,n,r){let i=Vu(n);E.useEffect(()=>{if(!e)return;function s(a){i.current(a)}return window.addEventListener(t,s,r),()=>window.removeEventListener(t,s,r)},[e,t,r])}const i3=30;function RM(e,t,n){let r=Pf(e,"outside-click"),i=Vu(n),s=E.useCallback(function(c,f){if(c.defaultPrevented)return;let p=f(c);if(p===null||!p.getRootNode().contains(p)||!p.isConnected)return;let m=function w(v){return typeof v=="function"?w(v()):Array.isArray(v)||v instanceof Set?v:[v]}(t);for(let w of m)if(w!==null&&(w.contains(p)||c.composed&&c.composedPath().includes(w)))return;return!LM(p,_N.Loose)&&p.tabIndex!==-1&&c.preventDefault(),i.current(c,p)},[i,t]),a=E.useRef(null);yh(r,"pointerdown",c=>{var f,p;a.current=((p=(f=c.composedPath)==null?void 0:f.call(c))==null?void 0:p[0])||c.target},!0),yh(r,"mousedown",c=>{var f,p;a.current=((p=(f=c.composedPath)==null?void 0:f.call(c))==null?void 0:p[0])||c.target},!0),yh(r,"click",c=>{IM()||a.current&&(s(c,()=>a.current),a.current=null)},!0);let l=E.useRef({x:0,y:0});yh(r,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),yh(r,"touchend",c=>{let f={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(f.x-l.current.x)>=i3||Math.abs(f.y-l.current.y)>=i3))return s(c,()=>c.target instanceof HTMLElement?c.target:null)},!0),NN(r,"blur",c=>s(c,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function jp(...e){return E.useMemo(()=>Lg(...e),[...e])}function kN(e,t,n,r){let i=Vu(n);E.useEffect(()=>{e=e??window;function s(a){i.current(a)}return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},[e,t,r])}function FM(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,e-i);n.style(r,"paddingRight",`${s}px`)}}}function $M(){return SN()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Fc();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:f}=new URL(c.href),p=e.querySelector(f);p&&!r(p)&&(a=p)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement){if(l.target.tagName==="INPUT")return;if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function BM(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function UM(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Au=xN(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Fc(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:UM(n)},i=[$M(),FM(),BM()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Au.subscribe(()=>{let e=Au.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Au.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Au.dispatch("TEARDOWN",n)}});function zM(e,t,n=()=>({containers:[]})){let r=bN(Au),i=t?r.get(t):void 0,s=i?i.count>0:!1;return Ri(()=>{if(!(!t||!e))return Au.dispatch("PUSH",t,n),()=>Au.dispatch("POP",t,n)},[e,t]),s}function qM(e,t,n=()=>[document.body]){let r=Pf(e,"scroll-lock");zM(r,t,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function WM(e=0){let[t,n]=E.useState(e),r=E.useCallback(c=>n(c),[t]),i=E.useCallback(c=>n(f=>f|c),[t]),s=E.useCallback(c=>(t&c)===c,[t]),a=E.useCallback(c=>n(f=>f&~c),[n]),l=E.useCallback(c=>n(f=>f^c),[n]);return{flags:t,setFlag:r,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:l}}var HM={},s3,a3;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((s3=process==null?void 0:HM)==null?void 0:s3.NODE_ENV)==="test"&&typeof((a3=Element==null?void 0:Element.prototype)==null?void 0:a3.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var VM=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(VM||{});function GM(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function YM(e,t,n,r){let[i,s]=E.useState(n),{hasFlag:a,addFlag:l,removeFlag:c}=WM(e&&i?3:0),f=E.useRef(!1),p=E.useRef(!1),m=A5();return Ri(()=>{var w;if(e){if(n&&s(!0),!t){n&&l(3);return}return(w=r==null?void 0:r.start)==null||w.call(r,n),KM(t,{inFlight:f,prepare(){p.current?p.current=!1:p.current=f.current,f.current=!0,!p.current&&(n?(l(3),c(4)):(l(4),c(2)))},run(){p.current?n?(c(3),l(4)):(c(4),l(3)):n?c(1):l(1)},done(){var v;p.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(f.current=!1,c(7),n||s(!1),(v=r==null?void 0:r.end)==null||v.call(r,n))}})}},[e,n,t,m]),e?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function KM(e,{prepare:t,run:n,done:r,inFlight:i}){let s=Fc();return XM(e,{prepare:t,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(JM(e,r))})}),s.dispose}function JM(e,t){var n,r;let i=Fc();if(!e)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(l=>l instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),i.dispose):(Promise.allSettled(a.map(l=>l.finished)).then(()=>{s||t()}),i.dispose)}function XM(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function P5(e,t){let n=E.useRef([]),r=or(e);E.useEffect(()=>{let i=[...n.current];for(let[s,a]of t.entries())if(n.current[s]!==a){let l=r(t,i);return n.current=t,l}},[r,...t])}let Tg=E.createContext(null);Tg.displayName="OpenClosedContext";var La=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(La||{});function Og(){return E.useContext(Tg)}function QM({value:e,children:t}){return ht.createElement(Tg.Provider,{value:e},t)}function ZM({children:e}){return ht.createElement(Tg.Provider,{value:null},e)}function eI(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let uc=[];eI(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||uc[0]===t.target)return;let n=t.target;n=n.closest(W0),uc.unshift(n??t.target),uc=uc.filter(r=>r!=null&&r.isConnected),uc.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function jN(e){let t=or(e),n=E.useRef(!1);E.useEffect(()=>(n.current=!1,()=>{n.current=!0,Pg(()=>{n.current&&t()})}),[t])}function tI(){let e=typeof document>"u";return"useSyncExternalStore"in Uv?(t=>t.useSyncExternalStore)(Uv)(()=>()=>{},()=>!1,()=>!e):!1}function Ep(){let e=tI(),[t,n]=E.useState(Tu.isHandoffComplete);return t&&Tu.isHandoffComplete===!1&&n(!1),E.useEffect(()=>{t!==!0&&n(!0)},[t]),E.useEffect(()=>Tu.handoff(),[]),e?!1:t}let EN=E.createContext(!1);function nI(){return E.useContext(EN)}function o3(e){return ht.createElement(EN.Provider,{value:e.force},e.children)}function rI(e){let t=nI(),n=E.useContext(AN),r=jp(e),[i,s]=E.useState(()=>{var a;if(!t&&n!==null)return(a=n.current)!=null?a:null;if(Tu.isServer)return null;let l=r==null?void 0:r.getElementById("headlessui-portal-root");if(l)return l;if(r===null)return null;let c=r.createElement("div");return c.setAttribute("id","headlessui-portal-root"),r.body.appendChild(c)});return E.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),E.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),i}let CN=E.Fragment,iI=ds(function(e,t){let n=e,r=E.useRef(null),i=yo(pM(m=>{r.current=m}),t),s=jp(r),a=rI(r),[l]=E.useState(()=>{var m;return Tu.isServer?null:(m=s==null?void 0:s.createElement("div"))!=null?m:null}),c=E.useContext(ny),f=Ep();Ri(()=>{!a||!l||a.contains(l)||(l.setAttribute("data-headlessui-portal",""),a.appendChild(l))},[a,l]),Ri(()=>{if(l&&c)return c.register(l)},[c,l]),jN(()=>{var m;!a||!l||(l instanceof Node&&a.contains(l)&&a.removeChild(l),a.childNodes.length<=0&&((m=a.parentElement)==null||m.removeChild(a)))});let p=sa();return f?!a||!l?null:Cu.createPortal(p({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:CN,name:"Portal"}),l):null});function sI(e,t){let n=yo(t),{enabled:r=!0,...i}=e,s=sa();return r?ht.createElement(iI,{...i,ref:n}):s({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:CN,name:"Portal"})}let aI=E.Fragment,AN=E.createContext(null);function oI(e,t){let{target:n,...r}=e,i={ref:yo(t)},s=sa();return ht.createElement(AN.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:aI,name:"Popover.Group"}))}let ny=E.createContext(null);function lI(){let e=E.useContext(ny),t=E.useRef([]),n=or(s=>(t.current.push(s),e&&e.register(s),()=>r(s))),r=or(s=>{let a=t.current.indexOf(s);a!==-1&&t.current.splice(a,1),e&&e.unregister(s)}),i=E.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,E.useMemo(()=>function({children:s}){return ht.createElement(ny.Provider,{value:i},s)},[i])]}let cI=ds(sI),LN=ds(oI),uI=Object.assign(cI,{Group:LN});function dI(e,t=typeof document<"u"?document.defaultView:null,n){let r=Pf(e,"escape");kN(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===wN.Escape&&n(i))})}function fI(){var e;let[t]=E.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=E.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Ri(()=>{if(!t)return;function i(s){r(s.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function hI({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=jp(n),i=or(()=>{var s,a;let l=[];for(let c of e)c!==null&&(c instanceof HTMLElement?l.push(c):"current"in c&&c.current instanceof HTMLElement&&l.push(c.current));if(t!=null&&t.current)for(let c of t.current)l.push(c);for(let c of(s=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?s:[])c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((a=n==null?void 0:n.getRootNode())==null?void 0:a.host))||l.some(f=>c.contains(f))||l.push(c));return l});return{resolveContainers:i,contains:or(s=>i().some(a=>a.contains(s)))}}let PN=E.createContext(null);function l3({children:e,node:t}){let[n,r]=E.useState(null),i=TN(t??n);return ht.createElement(PN.Provider,{value:i},e,i===null&&ht.createElement(Z2,{features:q0.Hidden,ref:s=>{var a,l;if(s){for(let c of(l=(a=Lg(s))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c!=null&&c.contains(s)){r(c);break}}}}))}function TN(e=null){var t;return(t=E.useContext(PN))!=null?t:e}function T5(){let e=E.useRef(!1);return Ri(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Ch=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ch||{});function pI(){let e=E.useRef(0);return NN(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function ON(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let mI="div";var Su=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Su||{});function gI(e,t){let n=E.useRef(null),r=yo(n,t),{initialFocus:i,initialFocusFallback:s,containers:a,features:l=15,...c}=e;Ep()||(l=0);let f=jp(n);xI(l,{ownerDocument:f});let p=bI(l,{ownerDocument:f,container:n,initialFocus:i,initialFocusFallback:s});_I(l,{ownerDocument:f,container:n,containers:a,previousActiveElement:p});let m=pI(),w=or(S=>{let L=n.current;L&&(F=>F())(()=>{Ac(m.current,{[Ch.Forwards]:()=>{Uh(L,Go.First,{skipElements:[S.relatedTarget,s]})},[Ch.Backwards]:()=>{Uh(L,Go.Last,{skipElements:[S.relatedTarget,s]})}})})}),v=Pf(!!(l&2),"focus-trap#tab-lock"),N=A5(),k=E.useRef(!1),C={ref:r,onKeyDown(S){S.key=="Tab"&&(k.current=!0,N.requestAnimationFrame(()=>{k.current=!1}))},onBlur(S){if(!(l&4))return;let L=ON(a);n.current instanceof HTMLElement&&L.add(n.current);let F=S.relatedTarget;F instanceof HTMLElement&&F.dataset.headlessuiFocusGuard!=="true"&&(DN(L,F)||(k.current?Uh(n.current,Ac(m.current,{[Ch.Forwards]:()=>Go.Next,[Ch.Backwards]:()=>Go.Previous})|Go.WrapAround,{relativeTo:S.target}):S.target instanceof HTMLElement&&Qo(S.target)))}},_=sa();return ht.createElement(ht.Fragment,null,v&&ht.createElement(Z2,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:q0.Focusable}),_({ourProps:C,theirProps:c,defaultTag:mI,name:"FocusTrap"}),v&&ht.createElement(Z2,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:q0.Focusable}))}let vI=ds(gI),yI=Object.assign(vI,{features:Su});function wI(e=!0){let t=E.useRef(uc.slice());return P5(([n],[r])=>{r===!0&&n===!1&&Pg(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=uc.slice())},[e,uc,t]),or(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function xI(e,{ownerDocument:t}){let n=!!(e&8),r=wI(n);P5(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Qo(r())},[n]),jN(()=>{n&&Qo(r())})}function bI(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let s=E.useRef(null),a=Pf(!!(e&1),"focus-trap#initial-focus"),l=T5();return P5(()=>{if(e===0)return;if(!a){i!=null&&i.current&&Qo(i.current);return}let c=n.current;c&&Pg(()=>{if(!l.current)return;let f=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===f){s.current=f;return}}else if(c.contains(f)){s.current=f;return}if(r!=null&&r.current)Qo(r.current);else{if(e&16){if(Uh(c,Go.First|Go.AutoFocus)!==ty.Error)return}else if(Uh(c,Go.First)!==ty.Error)return;if(i!=null&&i.current&&(Qo(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t==null?void 0:t.activeElement})},[i,a,e]),s}function _I(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let s=T5(),a=!!(e&4);kN(t==null?void 0:t.defaultView,"focus",l=>{if(!a||!s.current)return;let c=ON(r);n.current instanceof HTMLElement&&c.add(n.current);let f=i.current;if(!f)return;let p=l.target;p&&p instanceof HTMLElement?DN(c,p)?(i.current=p,Qo(p)):(l.preventDefault(),l.stopPropagation(),Qo(f)):Qo(i.current)},!0)}function DN(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function MN(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:RN)!==E.Fragment||ht.Children.count(e.children)===1}let Dg=E.createContext(null);Dg.displayName="TransitionContext";var SI=(e=>(e.Visible="visible",e.Hidden="hidden",e))(SI||{});function NI(){let e=E.useContext(Dg);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function kI(){let e=E.useContext(Mg);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Mg=E.createContext(null);Mg.displayName="NestingContext";function Ig(e){return"children"in e?Ig(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function IN(e,t){let n=Vu(e),r=E.useRef([]),i=T5(),s=A5(),a=or((v,N=pc.Hidden)=>{let k=r.current.findIndex(({el:C})=>C===v);k!==-1&&(Ac(N,{[pc.Unmount](){r.current.splice(k,1)},[pc.Hidden](){r.current[k].state="hidden"}}),s.microTask(()=>{var C;!Ig(r)&&i.current&&((C=n.current)==null||C.call(n))}))}),l=or(v=>{let N=r.current.find(({el:k})=>k===v);return N?N.state!=="visible"&&(N.state="visible"):r.current.push({el:v,state:"visible"}),()=>a(v,pc.Unmount)}),c=E.useRef([]),f=E.useRef(Promise.resolve()),p=E.useRef({enter:[],leave:[]}),m=or((v,N,k)=>{c.current.splice(0),t&&(t.chains.current[N]=t.chains.current[N].filter(([C])=>C!==v)),t==null||t.chains.current[N].push([v,new Promise(C=>{c.current.push(C)})]),t==null||t.chains.current[N].push([v,new Promise(C=>{Promise.all(p.current[N].map(([_,S])=>S)).then(()=>C())})]),N==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>k(N)):k(N)}),w=or((v,N,k)=>{Promise.all(p.current[N].splice(0).map(([C,_])=>_)).then(()=>{var C;(C=c.current.shift())==null||C()}).then(()=>k(N))});return E.useMemo(()=>({children:r,register:l,unregister:a,onStart:m,onStop:w,wait:f,chains:p}),[l,a,r,m,w,p,f])}let RN=E.Fragment,FN=z0.RenderStrategy;function jI(e,t){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:a,beforeLeave:l,afterLeave:c,enter:f,enterFrom:p,enterTo:m,entered:w,leave:v,leaveFrom:N,leaveTo:k,...C}=e,[_,S]=E.useState(null),L=E.useRef(null),F=MN(e),Q=yo(...F?[L,t,S]:t===null?[]:[t]),ee=(n=C.unmount)==null||n?pc.Unmount:pc.Hidden,{show:W,appear:$,initial:Z}=NI(),[ie,D]=E.useState(W?"visible":"hidden"),R=kI(),{register:V,unregister:Y}=R;Ri(()=>V(L),[V,L]),Ri(()=>{if(ee===pc.Hidden&&L.current){if(W&&ie!=="visible"){D("visible");return}return Ac(ie,{hidden:()=>Y(L),visible:()=>V(L)})}},[ie,L,V,Y,W,ee]);let he=Ep();Ri(()=>{if(F&&he&&ie==="visible"&&L.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[L,ie,he,F]);let ge=Z&&!$,J=$&&W&&Z,B=E.useRef(!1),te=IN(()=>{B.current||(D("hidden"),Y(L))},R),oe=or(ke=>{B.current=!0;let Ee=ke?"enter":"leave";te.onStart(L,Ee,je=>{je==="enter"?s==null||s():je==="leave"&&(l==null||l())})}),Pe=or(ke=>{let Ee=ke?"enter":"leave";B.current=!1,te.onStop(L,Ee,je=>{je==="enter"?a==null||a():je==="leave"&&(c==null||c())}),Ee==="leave"&&!Ig(te)&&(D("hidden"),Y(L))});E.useEffect(()=>{F&&i||(oe(W),Pe(W))},[W,F,i]);let O=!(!i||!F||!he||ge),[,G]=YM(O,_,W,{start:oe,end:Pe}),re=wu({ref:Q,className:((r=Q2(C.className,J&&f,J&&p,G.enter&&f,G.enter&&G.closed&&p,G.enter&&!G.closed&&m,G.leave&&v,G.leave&&!G.closed&&N,G.leave&&G.closed&&k,!G.transition&&W&&w))==null?void 0:r.trim())||void 0,...GM(G)}),ae=0;ie==="visible"&&(ae|=La.Open),ie==="hidden"&&(ae|=La.Closed),G.enter&&(ae|=La.Opening),G.leave&&(ae|=La.Closing);let de=sa();return ht.createElement(Mg.Provider,{value:te},ht.createElement(QM,{value:ae},de({ourProps:re,theirProps:C,defaultTag:RN,features:FN,visible:ie==="visible",name:"Transition.Child"})))}function EI(e,t){let{show:n,appear:r=!1,unmount:i=!0,...s}=e,a=E.useRef(null),l=MN(e),c=yo(...l?[a,t]:t===null?[]:[t]);Ep();let f=Og();if(n===void 0&&f!==null&&(n=(f&La.Open)===La.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[p,m]=E.useState(n?"visible":"hidden"),w=IN(()=>{n||m("hidden")}),[v,N]=E.useState(!0),k=E.useRef([n]);Ri(()=>{v!==!1&&k.current[k.current.length-1]!==n&&(k.current.push(n),N(!1))},[k,n]);let C=E.useMemo(()=>({show:n,appear:r,initial:v}),[n,r,v]);Ri(()=>{n?m("visible"):!Ig(w)&&a.current!==null&&m("hidden")},[n,w]);let _={unmount:i},S=or(()=>{var Q;v&&N(!1),(Q=e.beforeEnter)==null||Q.call(e)}),L=or(()=>{var Q;v&&N(!1),(Q=e.beforeLeave)==null||Q.call(e)}),F=sa();return ht.createElement(Mg.Provider,{value:w},ht.createElement(Dg.Provider,{value:C},F({ourProps:{..._,as:E.Fragment,children:ht.createElement($N,{ref:c,..._,...s,beforeEnter:S,beforeLeave:L})},theirProps:{},defaultTag:E.Fragment,features:FN,visible:p==="visible",name:"Transition"})))}function CI(e,t){let n=E.useContext(Dg)!==null,r=Og()!==null;return ht.createElement(ht.Fragment,null,!n&&r?ht.createElement(ry,{ref:t,...e}):ht.createElement($N,{ref:t,...e}))}let ry=ds(EI),$N=ds(jI),O5=ds(CI),AI=Object.assign(ry,{Child:O5,Root:ry});var LI=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(LI||{}),PI=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(PI||{});let TI={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},D5=E.createContext(null);D5.displayName="DialogContext";function Rg(e){let t=E.useContext(D5);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Rg),n}return t}function OI(e,t){return Ac(t.type,TI,e,t)}let c3=ds(function(e,t){let n=E.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:a,role:l="dialog",autoFocus:c=!0,__demoMode:f=!1,unmount:p=!1,...m}=e,w=E.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(w.current||(w.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let v=Og();i===void 0&&v!==null&&(i=(v&La.Open)===La.Open);let N=E.useRef(null),k=yo(N,t),C=jp(N),_=i?0:1,[S,L]=E.useReducer(OI,{titleId:null,descriptionId:null,panelRef:E.createRef()}),F=or(()=>s(!1)),Q=or(Pe=>L({type:0,id:Pe})),ee=Ep()?_===0:!1,[W,$]=lI(),Z={get current(){var Pe;return(Pe=S.panelRef.current)!=null?Pe:N.current}},ie=TN(),{resolveContainers:D}=hI({mainTreeNode:ie,portals:W,defaultContainers:[Z]}),R=v!==null?(v&La.Closing)===La.Closing:!1;NM(f||R?!1:ee,{allowed:or(()=>{var Pe,O;return[(O=(Pe=N.current)==null?void 0:Pe.closest("[data-headlessui-portal]"))!=null?O:null]}),disallowed:or(()=>{var Pe;return[(Pe=ie==null?void 0:ie.closest("body > *:not(#headlessui-portal-root)"))!=null?Pe:null]})}),RM(ee,D,Pe=>{Pe.preventDefault(),F()}),dI(ee,C==null?void 0:C.defaultView,Pe=>{Pe.preventDefault(),Pe.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),F()}),qM(f||R?!1:ee,C,D),kM(ee,N,F);let[V,Y]=mM(),he=E.useMemo(()=>[{dialogState:_,close:F,setTitleId:Q,unmount:p},S],[_,S,F,Q,p]),ge=E.useMemo(()=>({open:_===0}),[_]),J={ref:k,id:r,role:l,tabIndex:-1,"aria-modal":f?void 0:_===0?!0:void 0,"aria-labelledby":S.titleId,"aria-describedby":V,unmount:p},B=!fI(),te=Su.None;ee&&!f&&(te|=Su.RestoreFocus,te|=Su.TabLock,c&&(te|=Su.AutoFocus),B&&(te|=Su.InitialFocus));let oe=sa();return ht.createElement(ZM,null,ht.createElement(o3,{force:!0},ht.createElement(uI,null,ht.createElement(D5.Provider,{value:he},ht.createElement(LN,{target:N},ht.createElement(o3,{force:!1},ht.createElement(Y,{slot:ge},ht.createElement($,null,ht.createElement(yI,{initialFocus:a,initialFocusFallback:N,containers:D,features:te},ht.createElement(bM,{value:F},oe({ourProps:J,theirProps:m,slot:ge,defaultTag:DI,features:MI,visible:_===0,name:"Dialog"})))))))))))}),DI="div",MI=z0.RenderStrategy|z0.Static;function II(e,t){let{transition:n=!1,open:r,...i}=e,s=Og(),a=e.hasOwnProperty("open")||s!==null,l=e.hasOwnProperty("onClose");if(!a&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?ht.createElement(l3,null,ht.createElement(AI,{show:r,transition:n,unmount:i.unmount},ht.createElement(c3,{ref:t,...i}))):ht.createElement(l3,null,ht.createElement(c3,{ref:t,open:r,...i}))}let RI="div";function FI(e,t){let n=E.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=e,[{dialogState:a,unmount:l},c]=Rg("Dialog.Panel"),f=yo(t,c.panelRef),p=E.useMemo(()=>({open:a===0}),[a]),m=or(C=>{C.stopPropagation()}),w={ref:f,id:r,onClick:m},v=i?O5:E.Fragment,N=i?{unmount:l}:{},k=sa();return ht.createElement(v,{...N},k({ourProps:w,theirProps:s,slot:p,defaultTag:RI,name:"Dialog.Panel"}))}let $I="div";function BI(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:s}]=Rg("Dialog.Backdrop"),a=E.useMemo(()=>({open:i===0}),[i]),l={ref:t,"aria-hidden":!0},c=n?O5:E.Fragment,f=n?{unmount:s}:{},p=sa();return ht.createElement(c,{...f},p({ourProps:l,theirProps:r,slot:a,defaultTag:$I,name:"Dialog.Backdrop"}))}let UI="h2";function zI(e,t){let n=E.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:s,setTitleId:a}]=Rg("Dialog.Title"),l=yo(t);E.useEffect(()=>(a(r),()=>a(null)),[r,a]);let c=E.useMemo(()=>({open:s===0}),[s]),f={ref:l,id:r};return sa()({ourProps:f,theirProps:i,slot:c,defaultTag:UI,name:"Dialog.Title"})}let qI=ds(II),WI=ds(FI);ds(BI);let HI=ds(zI),Ou=Object.assign(qI,{Panel:WI,Title:HI,Description:wM});const VI=({isOpen:e,onClose:t,onGroupCreated:n,isAdmin:r=!1})=>{const[i,s]=E.useState(""),[a,l]=E.useState(!1);E.useState([]);const c=async f=>{if(f.preventDefault(),!!i.trim())try{l(!0);const{error:p}=await Je.from("groups").insert([{name:i.trim()}]);if(p)throw p;Be.success("Grupo creado exitosamente"),n(),t(),s("")}catch(p){console.error("Error:",p),Be.error("Error al crear el grupo")}finally{l(!1)}};return h.jsx(Ou,{open:e,onClose:t,className:"fixed inset-0 z-10 overflow-y-auto",children:h.jsxs("div",{className:"flex min-h-screen items-center justify-center",children:[h.jsx("div",{className:"fixed inset-0 bg-black opacity-30"}),h.jsxs("div",{className:"relative bg-white rounded-lg w-full max-w-md p-6 mx-4",children:[h.jsx("div",{className:"absolute right-4 top-4",children:h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:h.jsx(Xo,{className:"w-6 h-6"})})}),h.jsx(Ou.Title,{className:"text-xl font-semibold mb-4",children:"Crear Nuevo Grupo"}),h.jsxs("form",{onSubmit:c,children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del grupo"}),h.jsx("input",{type:"text",id:"name",value:i,onChange:f=>s(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Ingresa el nombre del grupo",required:!0})]}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx(_t,{type:"button",variant:"secondary",onClick:t,disabled:a,children:"Cancelar"}),h.jsx(_t,{type:"submit",loading:a,children:"Crear Grupo"})]})]})]})]})})},GI=({isOpen:e,onClose:t,onGroupDeleted:n,group:r})=>{const[i,s]=E.useState(""),[a,l]=E.useState(!1),c=async f=>{if(f.preventDefault(),i!==r.name){Be.error("El nombre del grupo no coincide");return}try{l(!0);const{error:p}=await Je.from("groups").delete().eq("id",r.id);if(p)throw p;Be.success("Grupo eliminado exitosamente"),n(),t()}catch(p){console.error("Error:",p),Be.error("Error al eliminar el grupo")}finally{l(!1),s("")}};return h.jsx(Ou,{open:e,onClose:t,className:"fixed inset-0 z-10 overflow-y-auto",children:h.jsxs("div",{className:"flex min-h-screen items-center justify-center",children:[h.jsx("div",{className:"fixed inset-0 bg-black opacity-30"}),h.jsxs("div",{className:"relative bg-white rounded-lg w-full max-w-md p-6 mx-4",children:[h.jsx("div",{className:"absolute right-4 top-4",children:h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:h.jsx(Xo,{className:"w-6 h-6"})})}),h.jsx(Ou.Title,{className:"text-xl font-semibold text-red-600 mb-4",children:"Eliminar Grupo"}),h.jsx("div",{className:"mb-4",children:h.jsxs("p",{className:"text-gray-700 mb-4",children:["Esta acción no se puede deshacer. Para confirmar, escribe el nombre del grupo:",h.jsxs("span",{className:"font-semibold",children:[" ",r.name]})]})}),h.jsxs("form",{onSubmit:c,children:[h.jsx("div",{className:"mb-4",children:h.jsx("input",{type:"text",value:i,onChange:f=>s(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"Escribe el nombre del grupo",required:!0})}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx(_t,{type:"button",variant:"secondary",onClick:t,disabled:a,children:"Cancelar"}),h.jsx(_t,{type:"submit",loading:a,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500",disabled:i!==r.name,children:"Eliminar Grupo"})]})]})]})]})})};function YI(){const[e,t]=E.useState([]),[n,r]=E.useState(!0),[i,s]=E.useState(!1),{user:a}=Is(),l=Ia(),[c,f]=E.useState(!1),[p,m]=E.useState(null),[w,v]=E.useState(!1),[N,k]=E.useState("");E.useEffect(()=>{(async()=>{a&&await C()})()},[a]);const C=async()=>{if(a)try{r(!0);const{data:F,error:Q}=await Je.from("users").select("role").eq("id",a.id).single();if(Q)throw Q;const ee=(F==null?void 0:F.role)==="admin";if(f(ee),ee){const{data:V,error:Y}=await Je.from("groups").select("*").order("created_at",{ascending:!1});if(Y)throw Y;const{data:he,error:ge}=await Je.from("group_members").select("group_id").eq("user_id",a.id);if(ge)throw ge;const J=new Set((he==null?void 0:he.map(te=>te.group_id))||[]),B=await Promise.all((V||[]).map(async te=>{const{data:oe}=await Je.from("group_members").select("id").eq("group_id",te.id).eq("role_in_group","principal"),{data:Pe}=await Je.from("group_members").select("id").eq("group_id",te.id).eq("role_in_group","sustituto");return{...te,userRole:J.has(te.id)?"member":"none",principal_count:(oe==null?void 0:oe.length)||0,sustituto_count:(Pe==null?void 0:Pe.length)||0}}));t(B);return}const{data:W,error:$}=await Je.from("group_members").select("group_id").eq("user_id",a.id);if($)throw $;const Z=new Set((W==null?void 0:W.map(V=>V.group_id))||[]),{data:ie,error:D}=await Je.from("groups").select("*").or(`created_by.eq.${a.id},id.in.(${Array.from(Z).join(",")})`).order("created_at",{ascending:!1});if(D)throw D;const R=await Promise.all((ie||[]).map(async V=>{const{data:Y}=await Je.from("group_members").select("id").eq("group_id",V.id).eq("role_in_group","principal"),{data:he}=await Je.from("group_members").select("id").eq("group_id",V.id).eq("role_in_group","sustituto");return{...V,userRole:Z.has(V.id)?"member":"none",principal_count:(Y==null?void 0:Y.length)||0,sustituto_count:(he==null?void 0:he.length)||0}}));t(R)}catch(F){console.error("Error fetching groups:",F),Be.error("Error al cargar los grupos"),t([])}finally{r(!1)}},_=F=>{l(`/group/${F}`)},S=(F,Q)=>{F.stopPropagation(),m(Q),v(!0)},L=()=>{const F=e.filter($=>$.name.toLowerCase().includes(N.toLowerCase())),Q=F.filter($=>$.created_by===(a==null?void 0:a.id)),ee=F.filter($=>$.userRole==="member"&&$.created_by!==(a==null?void 0:a.id)),W=c?F.filter($=>$.userRole==="none"&&$.created_by!==(a==null?void 0:a.id)&&!ee.some(Z=>Z.id===$.id)):[];return{created:Q,member:ee,other:W}};return h.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Grupos"}),h.jsxs(_t,{onClick:()=>s(!0),className:"flex items-center space-x-2",children:[h.jsx(Ag,{className:"w-5 h-5"}),h.jsx("span",{children:"Crear Grupo"})]})]}),h.jsx("div",{className:"mb-6",children:h.jsx("input",{type:"text",placeholder:"Buscar grupos...",value:N,onChange:F=>k(F.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})}),n?h.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando grupos..."}):e.length===0?h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Sf,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),h.jsx("p",{className:"text-gray-500",children:"No tienes grupos disponibles. ¡Crea uno para empezar!"})]}):h.jsxs("div",{className:"space-y-8",children:[L().created.length>0&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Grupos que administras"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L().created.map(F=>h.jsx(yv,{group:F,user:a,isAdmin:c,onDelete:S,onClick:()=>_(F.id)},F.id))})]}),L().member.length>0&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Grupos donde participas"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L().member.map(F=>h.jsx(yv,{group:F,user:a,isAdmin:c,onDelete:S,onClick:()=>_(F.id)},F.id))})]}),c&&L().other.length>0&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Otros grupos"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L().other.map(F=>h.jsx(yv,{group:F,user:a,isAdmin:c,onDelete:S,onClick:()=>_(F.id)},F.id))})]})]}),h.jsx(VI,{isOpen:i,onClose:()=>s(!1),onGroupCreated:C,isAdmin:c}),p&&h.jsx(GI,{isOpen:w,onClose:()=>{v(!1),m(null)},onGroupDeleted:C,group:p})]})}const yv=({group:e,user:t,isAdmin:n,onDelete:r,onClick:i})=>h.jsxs("div",{onClick:i,className:"bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e.name}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex items-center text-sm text-gray-600",title:"Miembros principales",children:[h.jsx(Sf,{className:"w-5 h-5 text-indigo-600 mr-1"}),h.jsx("span",{className:"font-medium",children:e.principal_count}),h.jsx("span",{className:"text-xs ml-1",children:"prin"})]}),h.jsxs("div",{className:"flex items-center text-sm text-gray-600",title:"Miembros sustitutos",children:[h.jsx(Sf,{className:"w-5 h-5 text-orange-600 mr-1"}),h.jsx("span",{className:"font-medium",children:e.sustituto_count}),h.jsx("span",{className:"text-xs ml-1",children:"sust"})]})]}),(n||e.created_by===(t==null?void 0:t.id))&&h.jsx("button",{onClick:s=>r(s,e),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:h.jsx(C5,{className:"w-5 h-5"})})]})]}),h.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.created_by===(t==null?void 0:t.id)&&h.jsx("span",{className:"text-sm px-2 py-1 rounded-full bg-indigo-100 text-indigo-700",children:"Creador"}),e.userRole==="member"&&h.jsx("span",{className:"text-sm px-2 py-1 rounded-full bg-green-100 text-green-700",children:"Miembro"}),e.userRole==="none"&&h.jsx("span",{className:"text-sm px-2 py-1 rounded-full bg-gray-100 text-gray-700",children:"Grupo"})]})]});function KI({isOpen:e,onClose:t,groupId:n,instruments:r,onMemberAdded:i,isEmptyGroup:s,userRole:a}){const[l,c]=E.useState(""),[f,p]=E.useState(""),[m,w]=E.useState("principal"),[v,N]=E.useState([]),[k,C]=E.useState(""),[_,S]=E.useState(!1),[L,F]=E.useState(!1),[Q,ee]=E.useState([]),[W,$]=E.useState(!1),{user:Z}=Is(),ie=()=>{c(""),p(""),w("principal"),N([]),C(""),S(!1),ee([])},D=async()=>{if(Z)try{const{data:J,error:B}=await Je.from("users").select("name, email").eq("id",Z.id).single();if(B)throw B;J&&(c(J.name||""),p(J.email||""))}catch(J){console.error("Error fetching user info:",J)}},R=async()=>{var J;if(Z)try{const{data:B,error:te}=await Je.from("group_members").select("role_in_group").eq("group_id",n).eq("user_id",Z.id);if(te)throw te;$(((J=B==null?void 0:B[0])==null?void 0:J.role_in_group)==="principal")}catch(B){console.error("Error checking principal status:",B),$(!1)}},V=async()=>{try{const{data:J,error:B}=await Je.from("roles").select("*").eq("group_id",n).order("name");if(B)throw B;ee(J||[])}catch(J){console.error("Error loading roles:",J),Be.error("Error al cargar los roles")}};if(E.useEffect(()=>{e&&V()},[e]),E.useEffect(()=>{e||ie()},[e]),E.useEffect(()=>{Z&&(R(),a==="user"&&!W?D():(c(""),p("")))},[Z,a,W]),!e||!Z)return null;const Y=()=>{if(!k.trim()){Be.error("Por favor ingresa un nombre para el rol");return}if(Q.some(oe=>oe.name.toLowerCase()===k.trim().toLowerCase())){Be.error("Este rol ya existe en el grupo");return}const B=`new-${Date.now()}`,te={id:B,name:k.trim(),isNew:!0,group_id:n};ee([...Q,te]),N([...v,B]),C(""),S(!1),Be.success("Rol añadido y seleccionado")},he=async J=>{if(J.preventDefault(),!l.trim()){Be.error("Por favor ingresa un nombre");return}if(!f.trim()){Be.error("Por favor ingresa un email");return}if(v.length===0){Be.error("Por favor selecciona al menos un rol");return}F(!0);try{const B=v.filter(G=>!G.startsWith("new-")),te=Q.filter(G=>"isNew"in G&&G.isNew&&v.includes(G.id)).map(G=>({name:G.name,group_id:n})),oe=te.map(G=>`(${G.name}, ${n})`),{data:Pe,error:O}=await Je.rpc("add_group_member_with_instruments",{p_group_id:n,p_name:l,p_email:f.toLowerCase().trim(),p_role:s?"principal":m,p_user_id:a==="user"&&!W?Z.id:null,p_instruments:B,p_new_instruments:te.map(G=>G.name)});if(O)throw O;try{const{invitation:G}=Pe;if(console.log("Datos de invitación:",G),!G||!G.token)throw new Error("No se recibieron los datos de invitación correctamente");const{error:re}=await Je.functions.invoke("send-invitation-email",{body:{email:G.email,token:G.token,userExists:G.userExists,groupName:G.groupName,groupMemberId:G.groupMemberId}});if(re)throw console.error("Error sending invitation email:",re),new Error(`Error al enviar la invitación: ${re.message}`);Be.success("Miembro añadido e invitación enviada")}catch(G){console.error("Error sending invitation:",G),Be.error(`Error al enviar la invitación: ${G.message||"Error desconocido"}`,{icon:"⚠️",duration:5e3})}i(),t(),ie()}catch(B){console.error("Error adding member:",B),Be.error(B.message||"Error al añadir miembro")}finally{F(!1)}},ge=a==="user"&&!W;return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[h.jsx("h2",{className:"text-xl font-semibold",children:ge?"Join Group":"Add New Member"}),h.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:h.jsx(Xo,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:he,className:"p-6 space-y-4",children:[h.jsx(Vn,{label:"Name",value:l,onChange:J=>c(J.target.value),required:!0,placeholder:"Enter member name",disabled:ge}),h.jsx(Vn,{label:"Email",type:"email",value:f,onChange:J=>p(J.target.value),required:!0,placeholder:"Enter member email",disabled:ge}),!s&&a==="admin"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),h.jsxs("select",{value:m,onChange:J=>w(J.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[h.jsx("option",{value:"principal",children:"Principal"}),h.jsx("option",{value:"sustituto",children:"Sustituto"})]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Instruments"}),!_&&(a==="admin"||s||W)&&h.jsxs(_t,{type:"button",variant:"secondary",onClick:()=>S(!0),className:"text-sm py-1",children:[h.jsx(Ag,{className:"w-4 h-4 mr-1"}),"Add New"]})]}),_&&h.jsxs("div",{className:"flex gap-2 mb-3",children:[h.jsx(Vn,{label:"",value:k,onChange:J=>C(J.target.value),placeholder:"Enter instrument name",className:"flex-1"}),h.jsxs("div",{className:"flex gap-2 mt-1",children:[h.jsx(_t,{type:"button",onClick:Y,className:"whitespace-nowrap",children:"Add"}),h.jsx(_t,{type:"button",variant:"secondary",onClick:()=>{S(!1),C("")},className:"whitespace-nowrap",children:"Cancel"})]})]}),h.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-3",children:Q.length===0?h.jsx("p",{className:"text-sm text-gray-500",children:"No hay roles disponibles. Añade uno arriba."}):Q.map(J=>h.jsxs("label",{className:"flex items-center space-x-2 hover:bg-gray-50 p-1 rounded",children:[h.jsx("input",{type:"checkbox",checked:v.includes(J.id),onChange:B=>{B.target.checked?N([...v,J.id]):N(v.filter(te=>te!==J.id))},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),h.jsxs("span",{className:"flex items-center capitalize",children:[h.jsx(Si,{className:"w-3 h-3 mr-1"}),J.name,"isNew"in J&&h.jsx("span",{className:"ml-2 text-xs text-indigo-600",children:"(Nuevo)"})]})]},J.id))})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx(_t,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),h.jsx(_t,{type:"submit",loading:L,children:ge?"Join Group":"Add Member"})]})]})]})})}function JI({isOpen:e,onClose:t,member:n,instruments:r,onMemberUpdated:i,userRole:s}){const[a,l]=E.useState(n.name),[c,f]=E.useState(n.role_in_group),[p,m]=E.useState([]),[w,v]=E.useState(!1),{user:N}=Is();if(E.useEffect(()=>{n&&(l(n.name),f(n.role_in_group),m(n.instruments.map(_=>_.id)))},[n]),!e||!N)return null;const k=s==="admin"||n.user_id===N.id,C=async _=>{if(_.preventDefault(),!k){Be.error("You do not have permission to edit this member");return}if(!a.trim()){Be.error("Please enter a member name");return}if(p.length===0){Be.error("Please select at least one role");return}v(!0);try{const{error:S}=await Je.from("group_members").update({name:a.trim(),role_in_group:c}).eq("id",n.id);if(S)throw S;const{error:L}=await Je.from("group_member_roles").delete().eq("group_member_id",n.id);if(L)throw L;const{error:F}=await Je.from("group_member_roles").insert(p.map(Q=>({group_member_id:n.id,role_id:Q,created_by:N.id})));if(F)throw F;Be.success("Member updated successfully!"),i(),t()}catch(S){console.error("Error updating member:",S),Be.error(S.message||"Failed to update member")}finally{v(!1)}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Edit Member"}),h.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",disabled:w,children:h.jsx(Xo,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[h.jsx(Vn,{label:"Name",value:a,onChange:_=>l(_.target.value),required:!0,placeholder:"Enter member name",disabled:!k}),s==="admin"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),h.jsxs("select",{value:c,onChange:_=>f(_.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-indigo-500 focus:ring-indigo-500",disabled:!k,children:[h.jsx("option",{value:"principal",children:"Principal"}),h.jsx("option",{value:"sustituto",children:"Sustituto"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Roles"}),h.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-3",children:r.map(_=>h.jsxs("label",{className:"flex items-center space-x-2 hover:bg-gray-50 p-1 rounded",children:[h.jsx("input",{type:"checkbox",checked:p.includes(_.id),onChange:S=>{S.target.checked?m([...p,_.id]):m(p.filter(L=>L!==_.id))},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",disabled:w||!k}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(Si,{className:"w-3 h-3 mr-1"}),_.name]})]},_.id))})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx(_t,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),k&&h.jsx(_t,{type:"submit",loading:w,children:"Save Changes"})]})]})]})})}const u3=3,XI=1e3;async function Fn(e,t="An error occurred"){let n=0;for(;n<u3;)try{const{data:r,error:i}=await e();if(i)throw i;return r}catch(r){if(n++,n===u3)return console.error(t,r),Be.error(t),null;await new Promise(i=>setTimeout(i,XI*n))}return null}function ln(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function us(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Mi(e,t){const n=ln(e);return isNaN(t)?us(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function ia(e,t){const n=ln(e);if(isNaN(t))return us(e,NaN);if(!t)return n;const r=n.getDate(),i=us(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const M5=6048e5,QI=864e5,BN=6e4,UN=36e5;let ZI={};function Cp(){return ZI}function mo(e,t){var l,c,f,p;const n=Cp(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,i=ln(e),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Bu(e){return mo(e,{weekStartsOn:1})}function zN(e){const t=ln(e),n=t.getFullYear(),r=us(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Bu(r),s=us(e,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=Bu(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Lc(e){const t=ln(e);return t.setHours(0,0,0,0),t}function H0(e){const t=ln(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function co(e,t){const n=Lc(e),r=Lc(t),i=+n-H0(n),s=+r-H0(r);return Math.round((i-s)/QI)}function eR(e){const t=zN(e),n=us(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Bu(n)}function iy(e,t){const n=t*7;return Mi(e,n)}function tR(e,t){return ia(e,t*12)}function nR(e){let t;return e.forEach(function(n){const r=ln(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function rR(e){let t;return e.forEach(n=>{const r=ln(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function iR(e){return us(e,Date.now())}function gr(e,t){const n=Lc(e),r=Lc(t);return+n==+r}function I5(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function sR(e){if(!I5(e)&&typeof e!="number")return!1;const t=ln(e);return!isNaN(Number(t))}function hp(e,t){const n=ln(e),r=ln(t),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function aR(e,t,n){const r=mo(e,n),i=mo(t,n),s=+r-H0(r),a=+i-H0(i);return Math.round((s-a)/M5)}function Fg(e){const t=ln(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Fi(e){const t=ln(e);return t.setDate(1),t.setHours(0,0,0,0),t}function qN(e){const t=ln(e),n=us(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function R5(e,t){var l,c,f,p;const n=Cp(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,i=ln(e),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function WN(e){return R5(e,{weekStartsOn:1})}const oR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lR=(e,t,n)=>{let r;const i=oR[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function lf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const cR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fR={date:lf({formats:cR,defaultWidth:"full"}),time:lf({formats:uR,defaultWidth:"full"}),dateTime:lf({formats:dR,defaultWidth:"full"})},hR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pR=(e,t,n,r)=>hR[e];function oo(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const mR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bR=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_R={ordinalNumber:bR,era:oo({values:mR,defaultWidth:"wide"}),quarter:oo({values:gR,defaultWidth:"wide",argumentCallback:e=>e-1}),month:oo({values:vR,defaultWidth:"wide"}),day:oo({values:yR,defaultWidth:"wide"}),dayPeriod:oo({values:wR,defaultWidth:"wide",formattingValues:xR,defaultFormattingWidth:"wide"})};function lo(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?NR(l,m=>m.test(a)):SR(l,m=>m.test(a));let f;f=e.valueCallback?e.valueCallback(c):c,f=n.valueCallback?n.valueCallback(f):f;const p=t.slice(a.length);return{value:f,rest:p}}}function SR(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function NR(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function HN(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(i.length);return{value:a,rest:l}}}const kR=/^(\d+)(th|st|nd|rd)?/i,jR=/\d+/i,ER={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},CR={any:[/^b/i,/^(a|c)/i]},AR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LR={any:[/1/i,/2/i,/3/i,/4/i]},PR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},MR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},IR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},RR={ordinalNumber:HN({matchPattern:kR,parsePattern:jR,valueCallback:e=>parseInt(e,10)}),era:lo({matchPatterns:ER,defaultMatchWidth:"wide",parsePatterns:CR,defaultParseWidth:"any"}),quarter:lo({matchPatterns:AR,defaultMatchWidth:"wide",parsePatterns:LR,defaultParseWidth:"any",valueCallback:e=>e+1}),month:lo({matchPatterns:PR,defaultMatchWidth:"wide",parsePatterns:TR,defaultParseWidth:"any"}),day:lo({matchPatterns:OR,defaultMatchWidth:"wide",parsePatterns:DR,defaultParseWidth:"any"}),dayPeriod:lo({matchPatterns:MR,defaultMatchWidth:"any",parsePatterns:IR,defaultParseWidth:"any"})},VN={code:"en-US",formatDistance:lR,formatLong:fR,formatRelative:pR,localize:_R,match:RR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function FR(e){const t=ln(e);return co(t,qN(t))+1}function GN(e){const t=ln(e),n=+Bu(t)-+eR(t);return Math.round(n/M5)+1}function YN(e,t){var p,m,w,v;const n=ln(e),r=n.getFullYear(),i=Cp(),s=(t==null?void 0:t.firstWeekContainsDate)??((m=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(w=i.locale)==null?void 0:w.options)==null?void 0:v.firstWeekContainsDate)??1,a=us(e,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=mo(a,t),c=us(e,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const f=mo(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function $R(e,t){var l,c,f,p;const n=Cp(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=YN(e,t),s=us(e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),mo(s,t)}function KN(e,t){const n=ln(e),r=+mo(n,t)-+$R(n,t);return Math.round(r/M5)+1}function _n(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Xl={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return _n(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):_n(n+1,2)},d(e,t){return _n(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return _n(e.getHours()%12||12,t.length)},H(e,t){return _n(e.getHours(),t.length)},m(e,t){return _n(e.getMinutes(),t.length)},s(e,t){return _n(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return _n(i,t.length)}},Md={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},d3={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Xl.y(e,t)},Y:function(e,t,n,r){const i=YN(e,r),s=i>0?i:1-i;if(t==="YY"){const a=s%100;return _n(a,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):_n(s,t.length)},R:function(e,t){const n=zN(e);return _n(n,t.length)},u:function(e,t){const n=e.getFullYear();return _n(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return _n(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return _n(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Xl.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return _n(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=KN(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):_n(i,t.length)},I:function(e,t,n){const r=GN(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):_n(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Xl.d(e,t)},D:function(e,t,n){const r=FR(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):_n(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return _n(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return _n(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return _n(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Md.noon:r===0?i=Md.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Md.evening:r>=12?i=Md.afternoon:r>=4?i=Md.morning:i=Md.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Xl.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Xl.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):_n(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):_n(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xl.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Xl.s(e,t)},S:function(e,t){return Xl.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return h3(r);case"XXXX":case"XX":return xu(r);case"XXXXX":case"XXX":default:return xu(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return h3(r);case"xxxx":case"xx":return xu(r);case"xxxxx":case"xxx":default:return xu(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+f3(r,":");case"OOOO":default:return"GMT"+xu(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+f3(r,":");case"zzzz":default:return"GMT"+xu(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return _n(r,t.length)},T:function(e,t,n){const r=e.getTime();return _n(r,t.length)}};function f3(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+_n(s,2)}function h3(e,t){return e%60===0?(e>0?"-":"+")+_n(Math.abs(e)/60,2):xu(e,t)}function xu(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=_n(Math.trunc(r/60),2),s=_n(r%60,2);return n+i+t+s}const p3=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},JN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},BR=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return p3(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",p3(r,t)).replace("{{time}}",JN(i,t))},UR={p:JN,P:BR},zR=/^D+$/,qR=/^Y+$/,WR=["D","DD","YY","YYYY"];function HR(e){return zR.test(e)}function VR(e){return qR.test(e)}function GR(e,t,n){const r=YR(e,t,n);if(console.warn(r),WR.includes(e))throw new RangeError(r)}function YR(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const KR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XR=/^'([^]*?)'?$/,QR=/''/g,ZR=/[a-zA-Z]/;function on(e,t,n){var p,m,w,v,N,k,C,_;const r=Cp(),i=(n==null?void 0:n.locale)??r.locale??VN,s=(n==null?void 0:n.firstWeekContainsDate)??((m=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(w=r.locale)==null?void 0:w.options)==null?void 0:v.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((k=(N=n==null?void 0:n.locale)==null?void 0:N.options)==null?void 0:k.weekStartsOn)??r.weekStartsOn??((_=(C=r.locale)==null?void 0:C.options)==null?void 0:_.weekStartsOn)??0,l=ln(e);if(!sR(l))throw new RangeError("Invalid time value");let c=t.match(JR).map(S=>{const L=S[0];if(L==="p"||L==="P"){const F=UR[L];return F(S,i.formatLong)}return S}).join("").match(KR).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const L=S[0];if(L==="'")return{isToken:!1,value:e9(S)};if(d3[L])return{isToken:!0,value:S};if(L.match(ZR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return{isToken:!1,value:S}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const f={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(S=>{if(!S.isToken)return S.value;const L=S.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&VR(L)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&HR(L))&&GR(L,t,String(e));const F=d3[L[0]];return F(l,L,i.localize,f)}).join("")}function e9(e){const t=e.match(XR);return t?t[1].replace(QR,"'"):e}function t9(e){const t=ln(e),n=t.getFullYear(),r=t.getMonth(),i=us(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function n9(e){return Math.trunc(+ln(e)/1e3)}function r9(e){const t=ln(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function i9(e,t){return aR(r9(e),Fi(e),t)+1}function sy(e,t){const n=ln(e),r=ln(t);return n.getTime()>r.getTime()}function XN(e,t){const n=ln(e),r=ln(t);return+n<+r}function m3(e){return+ln(e)>Date.now()}function F5(e,t){const n=ln(e),r=ln(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function s9(e,t){const n=ln(e),r=ln(t);return n.getFullYear()===r.getFullYear()}function g3(e){return gr(e,iR(e))}function wv(e,t){return Mi(e,-t)}function pu(e,t){const r=c9(e);let i;if(r.date){const c=u9(r.date,2);i=d9(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,l;if(r.time&&(a=f9(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(l=h9(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(s+a),f=new Date(0);return f.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),f.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),f}return new Date(s+a+l)}const Fm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},a9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,o9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function c9(e){const t={},n=e.split(Fm.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Fm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Fm.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=Fm.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function u9(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function d9(e,t){if(t===null)return new Date(NaN);const n=e.match(a9);if(!n)return new Date(NaN);const r=!!n[4],i=wh(n[1]),s=wh(n[2])-1,a=wh(n[3]),l=wh(n[4]),c=wh(n[5])-1;if(r)return y9(t,l,c)?p9(t,l,c):new Date(NaN);{const f=new Date(0);return!g9(t,s,a)||!v9(t,i)?new Date(NaN):(f.setUTCFullYear(t,s,Math.max(i,a)),f)}}function wh(e){return e?parseInt(e):1}function f9(e){const t=e.match(o9);if(!t)return NaN;const n=xv(t[1]),r=xv(t[2]),i=xv(t[3]);return w9(n,r,i)?n*UN+r*BN+i*1e3:NaN}function xv(e){return e&&parseFloat(e.replace(",","."))||0}function h9(e){if(e==="Z")return 0;const t=e.match(l9);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return x9(r,i)?n*(r*UN+i*BN):NaN}function p9(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,s=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const m9=[31,null,31,30,31,30,31,31,30,31,30,31];function QN(e){return e%400===0||e%4===0&&e%100!==0}function g9(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(m9[t]||(QN(e)?29:28))}function v9(e,t){return t>=1&&t<=(QN(e)?366:365)}function y9(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function w9(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function x9(e,t){return t>=0&&t<=59}function bv(e,t){const n=ln(e),r=n.getFullYear(),i=n.getDate(),s=us(e,0);s.setFullYear(r,t,15),s.setHours(0,0,0,0);const a=t9(s);return n.setMonth(t,Math.min(i,a)),n}function v3(e,t){const n=ln(e);return isNaN(+n)?us(e,NaN):(n.setFullYear(t),n)}function xh(e,t){return ia(e,-t)}const b9={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},_9=(e,t,n)=>{let r;const i=b9[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},S9={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},N9={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},k9={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j9={date:lf({formats:S9,defaultWidth:"full"}),time:lf({formats:N9,defaultWidth:"full"}),dateTime:lf({formats:k9,defaultWidth:"full"})},E9={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},C9={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},A9=(e,t,n,r)=>t.getHours()!==1?C9[e]:E9[e],L9={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},P9={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},T9={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},O9={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},D9={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},M9={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},I9=(e,t)=>Number(e)+"º",R9={ordinalNumber:I9,era:oo({values:L9,defaultWidth:"wide"}),quarter:oo({values:P9,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:oo({values:T9,defaultWidth:"wide"}),day:oo({values:O9,defaultWidth:"wide"}),dayPeriod:oo({values:D9,defaultWidth:"wide",formattingValues:M9,defaultFormattingWidth:"wide"})},F9=/^(\d+)(º)?/i,$9=/\d+/i,B9={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},U9={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},z9={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},q9={any:[/1/i,/2/i,/3/i,/4/i]},W9={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},H9={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},V9={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},G9={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Y9={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},K9={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},J9={ordinalNumber:HN({matchPattern:F9,parsePattern:$9,valueCallback:function(e){return parseInt(e,10)}}),era:lo({matchPatterns:B9,defaultMatchWidth:"wide",parsePatterns:U9,defaultParseWidth:"any"}),quarter:lo({matchPatterns:z9,defaultMatchWidth:"wide",parsePatterns:q9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:lo({matchPatterns:W9,defaultMatchWidth:"wide",parsePatterns:H9,defaultParseWidth:"any"}),day:lo({matchPatterns:V9,defaultMatchWidth:"wide",parsePatterns:G9,defaultParseWidth:"any"}),dayPeriod:lo({matchPatterns:Y9,defaultMatchWidth:"any",parsePatterns:K9,defaultParseWidth:"any"})},Qd={code:"es",formatDistance:_9,formatLong:j9,formatRelative:A9,localize:R9,match:J9,options:{weekStartsOn:1,firstWeekContainsDate:1}};var Tt=function(){return Tt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Tt.apply(this,arguments)};function X9(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ZN(e,t,n){for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function Ap(e){return e.mode==="multiple"}function Lp(e){return e.mode==="range"}function $g(e){return e.mode==="single"}var Q9={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Z9(e,t){return on(e,"LLLL y",t)}function eF(e,t){return on(e,"d",t)}function tF(e,t){return on(e,"LLLL",t)}function nF(e){return"".concat(e)}function rF(e,t){return on(e,"cccccc",t)}function iF(e,t){return on(e,"yyyy",t)}var sF=Object.freeze({__proto__:null,formatCaption:Z9,formatDay:eF,formatMonthCaption:tF,formatWeekNumber:nF,formatWeekdayName:rF,formatYearCaption:iF}),aF=function(e,t,n){return on(e,"do MMMM (EEEE)",n)},oF=function(){return"Month: "},lF=function(){return"Go to next month"},cF=function(){return"Go to previous month"},uF=function(e,t){return on(e,"cccc",t)},dF=function(e){return"Week n. ".concat(e)},fF=function(){return"Year: "},hF=Object.freeze({__proto__:null,labelDay:aF,labelMonthDropdown:oF,labelNext:lF,labelPrevious:cF,labelWeekNumber:dF,labelWeekday:uF,labelYearDropdown:fF});function pF(){var e="buttons",t=Q9,n=VN,r={},i={},s=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:sF,labels:hF,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:a,today:l,mode:"default"}}function mF(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,s=e.fromDate,a=e.toDate;return r?s=Fi(r):t&&(s=new Date(t,0,1)),i?a=Fg(i):n&&(a=new Date(n,11,31)),{fromDate:s?Lc(s):void 0,toDate:a?Lc(a):void 0}}var e6=E.createContext(void 0);function gF(e){var t,n=e.initialProps,r=pF(),i=mF(n),s=i.fromDate,a=i.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!s||!a)&&(l="buttons");var c;($g(n)||Ap(n)||Lp(n))&&(c=n.onSelect);var f=Tt(Tt(Tt({},r),n),{captionLayout:l,classNames:Tt(Tt({},r.classNames),n.classNames),components:Tt({},n.components),formatters:Tt(Tt({},r.formatters),n.formatters),fromDate:s,labels:Tt(Tt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Tt(Tt({},r.modifiers),n.modifiers),modifiersClassNames:Tt(Tt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Tt(Tt({},r.styles),n.styles),toDate:a});return h.jsx(e6.Provider,{value:f,children:e.children})}function Bn(){var e=E.useContext(e6);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function t6(e){var t=Bn(),n=t.locale,r=t.classNames,i=t.styles,s=t.formatters.formatCaption;return h.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:n})})}function vF(e){return h.jsx("svg",Tt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:h.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function n6(e){var t,n,r=e.onChange,i=e.value,s=e.children,a=e.caption,l=e.className,c=e.style,f=Bn(),p=(n=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:vF;return h.jsxs("div",{className:l,style:c,children:[h.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),h.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:i,onChange:r,children:s}),h.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[a,h.jsx(p,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function yF(e){var t,n=Bn(),r=n.fromDate,i=n.toDate,s=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,f=n.components,p=n.labels.labelMonthDropdown;if(!r)return h.jsx(h.Fragment,{});if(!i)return h.jsx(h.Fragment,{});var m=[];if(s9(r,i))for(var w=Fi(r),v=r.getMonth();v<=i.getMonth();v++)m.push(bv(w,v));else for(var w=Fi(new Date),v=0;v<=11;v++)m.push(bv(w,v));var N=function(C){var _=Number(C.target.value),S=bv(Fi(e.displayMonth),_);e.onChange(S)},k=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:n6;return h.jsx(k,{name:"months","aria-label":p(),className:c.dropdown_month,style:s.dropdown_month,onChange:N,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:m.map(function(C){return h.jsx("option",{value:C.getMonth(),children:l(C,{locale:a})},C.getMonth())})})}function wF(e){var t,n=e.displayMonth,r=Bn(),i=r.fromDate,s=r.toDate,a=r.locale,l=r.styles,c=r.classNames,f=r.components,p=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,w=[];if(!i)return h.jsx(h.Fragment,{});if(!s)return h.jsx(h.Fragment,{});for(var v=i.getFullYear(),N=s.getFullYear(),k=v;k<=N;k++)w.push(v3(qN(new Date),k));var C=function(S){var L=v3(Fi(n),Number(S.target.value));e.onChange(L)},_=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:n6;return h.jsx(_,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:C,value:n.getFullYear(),caption:p(n,{locale:a}),children:w.map(function(S){return h.jsx("option",{value:S.getFullYear(),children:p(S,{locale:a})},S.getFullYear())})})}function xF(e,t){var n=E.useState(e),r=n[0],i=n[1],s=t===void 0?r:t;return[s,i]}function bF(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,s=e.toDate,a=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&hp(s,i)<0){var f=-1*(c-1);i=ia(s,f)}return a&&hp(i,a)<0&&(i=a),Fi(i)}function _F(){var e=Bn(),t=bF(e),n=xF(t,e.month),r=n[0],i=n[1],s=function(a){var l;if(!e.disableNavigation){var c=Fi(a);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,s]}function SF(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=Fi(e),s=Fi(ia(i,r)),a=hp(s,i),l=[],c=0;c<a;c++){var f=ia(i,c);l.push(f)}return n&&(l=l.reverse()),l}function NF(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,a=r?s:1,l=Fi(e);if(!n)return ia(l,a);var c=hp(n,e);if(!(c<s))return ia(l,a)}}function kF(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,a=r?s:1,l=Fi(e);if(!n)return ia(l,-a);var c=hp(l,n);if(!(c<=0))return ia(l,-a)}}var r6=E.createContext(void 0);function jF(e){var t=Bn(),n=_F(),r=n[0],i=n[1],s=SF(r,t),a=NF(r,t),l=kF(r,t),c=function(m){return s.some(function(w){return F5(m,w)})},f=function(m,w){c(m)||(w&&XN(m,w)?i(ia(m,1+t.numberOfMonths*-1)):i(m))},p={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:f,previousMonth:l,nextMonth:a,isDateDisplayed:c};return h.jsx(r6.Provider,{value:p,children:e.children})}function Pp(){var e=E.useContext(r6);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function y3(e){var t,n=Bn(),r=n.classNames,i=n.styles,s=n.components,a=Pp().goToMonth,l=function(p){a(ia(p,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:t6,f=h.jsx(c,{id:e.id,displayMonth:e.displayMonth});return h.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[h.jsx("div",{className:r.vhidden,children:f}),h.jsx(yF,{onChange:l,displayMonth:e.displayMonth}),h.jsx(wF,{onChange:l,displayMonth:e.displayMonth})]})}function EF(e){return h.jsx("svg",Tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:h.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function CF(e){return h.jsx("svg",Tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:h.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var V0=E.forwardRef(function(e,t){var n=Bn(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];e.className&&s.push(e.className);var a=s.join(" "),l=Tt(Tt({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),h.jsx("button",Tt({},e,{ref:t,type:"button",className:a,style:l}))});function AF(e){var t,n,r=Bn(),i=r.dir,s=r.locale,a=r.classNames,l=r.styles,c=r.labels,f=c.labelPrevious,p=c.labelNext,m=r.components;if(!e.nextMonth&&!e.previousMonth)return h.jsx(h.Fragment,{});var w=f(e.previousMonth,{locale:s}),v=[a.nav_button,a.nav_button_previous].join(" "),N=p(e.nextMonth,{locale:s}),k=[a.nav_button,a.nav_button_next].join(" "),C=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:CF,_=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:EF;return h.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&h.jsx(V0,{name:"previous-month","aria-label":w,className:v,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?h.jsx(C,{className:a.nav_icon,style:l.nav_icon}):h.jsx(_,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&h.jsx(V0,{name:"next-month","aria-label":N,className:k,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?h.jsx(_,{className:a.nav_icon,style:l.nav_icon}):h.jsx(C,{className:a.nav_icon,style:l.nav_icon})})]})}function w3(e){var t=Bn().numberOfMonths,n=Pp(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(N){return F5(e.displayMonth,N)}),c=l===0,f=l===a.length-1,p=t>1&&(c||!f),m=t>1&&(f||!c),w=function(){r&&s(r)},v=function(){i&&s(i)};return h.jsx(AF,{displayMonth:e.displayMonth,hideNext:p,hidePrevious:m,nextMonth:i,previousMonth:r,onPreviousClick:w,onNextClick:v})}function LF(e){var t,n=Bn(),r=n.classNames,i=n.disableNavigation,s=n.styles,a=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:t6,f;return i?f=h.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?f=h.jsx(y3,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?f=h.jsxs(h.Fragment,{children:[h.jsx(y3,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),h.jsx(w3,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=h.jsxs(h.Fragment,{children:[h.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),h.jsx(w3,{displayMonth:e.displayMonth,id:e.id})]}),h.jsx("div",{className:r.caption,style:s.caption,children:f})}function PF(e){var t=Bn(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?h.jsx("tfoot",{className:i,style:r.tfoot,children:h.jsx("tr",{children:h.jsx("td",{colSpan:8,children:n})})}):h.jsx(h.Fragment,{})}function TF(e,t,n){for(var r=n?Bu(new Date):mo(new Date,{locale:e,weekStartsOn:t}),i=[],s=0;s<7;s++){var a=Mi(r,s);i.push(a)}return i}function OF(){var e=Bn(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,s=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,f=TF(i,s,a);return h.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&h.jsx("td",{style:n.head_cell,className:t.head_cell}),f.map(function(p,m){return h.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(p,{locale:i}),children:l(p,{locale:i})},m)})]})}function DF(){var e,t=Bn(),n=t.classNames,r=t.styles,i=t.components,s=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:OF;return h.jsx("thead",{style:r.head,className:n.head,children:h.jsx(s,{})})}function MF(e){var t=Bn(),n=t.locale,r=t.formatters.formatDay;return h.jsx(h.Fragment,{children:r(e.date,{locale:n})})}var $5=E.createContext(void 0);function IF(e){if(!Ap(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return h.jsx($5.Provider,{value:t,children:e.children})}return h.jsx(RF,{initialProps:e.initialProps,children:e.children})}function RF(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,s=t.max,a=function(f,p,m){var w,v;(w=t.onDayClick)===null||w===void 0||w.call(t,f,p,m);var N=!!(p.selected&&i&&(r==null?void 0:r.length)===i);if(!N){var k=!!(!p.selected&&s&&(r==null?void 0:r.length)===s);if(!k){var C=r?ZN([],r):[];if(p.selected){var _=C.findIndex(function(S){return gr(f,S)});C.splice(_,1)}else C.push(f);(v=t.onSelect)===null||v===void 0||v.call(t,C,f,p,m)}}},l={disabled:[]};r&&l.disabled.push(function(f){var p=s&&r.length>s-1,m=r.some(function(w){return gr(w,f)});return!!(p&&!m)});var c={selected:r,onDayClick:a,modifiers:l};return h.jsx($5.Provider,{value:c,children:n})}function B5(){var e=E.useContext($5);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function FF(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?gr(i,e)&&gr(r,e)?void 0:gr(i,e)?{from:i,to:void 0}:gr(r,e)?void 0:sy(r,e)?{from:e,to:i}:{from:r,to:e}:i?sy(e,i)?{from:i,to:e}:{from:e,to:i}:r?XN(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var U5=E.createContext(void 0);function $F(e){if(!Lp(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return h.jsx(U5.Provider,{value:t,children:e.children})}return h.jsx(BF,{initialProps:e.initialProps,children:e.children})}function BF(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},s=i.from,a=i.to,l=t.min,c=t.max,f=function(v,N,k){var C,_;(C=t.onDayClick)===null||C===void 0||C.call(t,v,N,k);var S=FF(v,r);(_=t.onSelect)===null||_===void 0||_.call(t,S,v,N,k)},p={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(p.range_start=[s],a?(p.range_end=[a],gr(s,a)||(p.range_middle=[{after:s,before:a}])):p.range_end=[s]):a&&(p.range_start=[a],p.range_end=[a]),l&&(s&&!a&&p.disabled.push({after:wv(s,l-1),before:Mi(s,l-1)}),s&&a&&p.disabled.push({after:s,before:Mi(s,l-1)}),!s&&a&&p.disabled.push({after:wv(a,l-1),before:Mi(a,l-1)})),c){if(s&&!a&&(p.disabled.push({before:Mi(s,-c+1)}),p.disabled.push({after:Mi(s,c-1)})),s&&a){var m=co(a,s)+1,w=c-m;p.disabled.push({before:wv(s,w)}),p.disabled.push({after:Mi(a,w)})}!s&&a&&(p.disabled.push({before:Mi(a,-c+1)}),p.disabled.push({after:Mi(a,c-1)}))}return h.jsx(U5.Provider,{value:{selected:r,onDayClick:f,modifiers:p},children:n})}function z5(){var e=E.useContext(U5);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function l0(e){return Array.isArray(e)?ZN([],e):e!==void 0?[e]:[]}function UF(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=l0(i)}),t}var Da;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Da||(Da={}));var zF=Da.Selected,qo=Da.Disabled,qF=Da.Hidden,WF=Da.Today,_v=Da.RangeEnd,Sv=Da.RangeMiddle,Nv=Da.RangeStart,HF=Da.Outside;function VF(e,t,n){var r,i=(r={},r[zF]=l0(e.selected),r[qo]=l0(e.disabled),r[qF]=l0(e.hidden),r[WF]=[e.today],r[_v]=[],r[Sv]=[],r[Nv]=[],r[HF]=[],r);return e.fromDate&&i[qo].push({before:e.fromDate}),e.toDate&&i[qo].push({after:e.toDate}),Ap(e)?i[qo]=i[qo].concat(t.modifiers[qo]):Lp(e)&&(i[qo]=i[qo].concat(n.modifiers[qo]),i[Nv]=n.modifiers[Nv],i[Sv]=n.modifiers[Sv],i[_v]=n.modifiers[_v]),i}var i6=E.createContext(void 0);function GF(e){var t=Bn(),n=B5(),r=z5(),i=VF(t,n,r),s=UF(t.modifiers),a=Tt(Tt({},i),s);return h.jsx(i6.Provider,{value:a,children:e.children})}function s6(){var e=E.useContext(i6);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function YF(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function KF(e){return!!(e&&typeof e=="object"&&"from"in e)}function JF(e){return!!(e&&typeof e=="object"&&"after"in e)}function XF(e){return!!(e&&typeof e=="object"&&"before"in e)}function QF(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function ZF(e,t){var n,r=t.from,i=t.to;if(r&&i){var s=co(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var a=co(e,r)>=0&&co(i,e)>=0;return a}return i?gr(i,e):r?gr(r,e):!1}function e$(e){return I5(e)}function t$(e){return Array.isArray(e)&&e.every(I5)}function n$(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(e$(n))return gr(e,n);if(t$(n))return n.includes(e);if(KF(n))return ZF(e,n);if(QF(n))return n.dayOfWeek.includes(e.getDay());if(YF(n)){var r=co(n.before,e),i=co(n.after,e),s=r>0,a=i<0,l=sy(n.before,n.after);return l?a&&s:s||a}return JF(n)?co(e,n.after)>0:XF(n)?co(n.before,e)>0:typeof n=="function"?n(e):!1})}function q5(e,t,n){var r=Object.keys(t).reduce(function(s,a){var l=t[a];return n$(e,l)&&s.push(a),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!F5(e,n)&&(i.outside=!0),i}function r$(e,t){for(var n=Fi(e[0]),r=Fg(e[e.length-1]),i,s,a=n;a<=r;){var l=q5(a,t),c=!l.disabled&&!l.hidden;if(!c){a=Mi(a,1);continue}if(l.selected)return a;l.today&&!s&&(s=a),i||(i=a),a=Mi(a,1)}return s||i}var i$=365;function a6(e,t){var n=t.moveBy,r=t.direction,i=t.context,s=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,c=i.weekStartsOn,f=i.fromDate,p=i.toDate,m=i.locale,w={day:Mi,week:iy,month:ia,year:tR,startOfWeek:function(C){return i.ISOWeek?Bu(C):mo(C,{locale:m,weekStartsOn:c})},endOfWeek:function(C){return i.ISOWeek?WN(C):R5(C,{locale:m,weekStartsOn:c})}},v=w[n](e,r==="after"?1:-1);r==="before"&&f?v=nR([f,v]):r==="after"&&p&&(v=rR([p,v]));var N=!0;if(s){var k=q5(v,s);N=!k.disabled&&!k.hidden}return N?v:l.count>i$?l.lastFocused:a6(v,{moveBy:n,direction:r,context:i,modifiers:s,retry:Tt(Tt({},l),{count:l.count+1})})}var o6=E.createContext(void 0);function s$(e){var t=Pp(),n=s6(),r=E.useState(),i=r[0],s=r[1],a=E.useState(),l=a[0],c=a[1],f=r$(t.displayMonths,n),p=i??(l&&t.isDateDisplayed(l))?l:f,m=function(){c(i),s(void 0)},w=function(C){s(C)},v=Bn(),N=function(C,_){if(i){var S=a6(i,{moveBy:C,direction:_,context:v,modifiers:n});gr(i,S)||(t.goToDate(S,i),w(S))}},k={focusedDay:i,focusTarget:p,blur:m,focus:w,focusDayAfter:function(){return N("day","after")},focusDayBefore:function(){return N("day","before")},focusWeekAfter:function(){return N("week","after")},focusWeekBefore:function(){return N("week","before")},focusMonthBefore:function(){return N("month","before")},focusMonthAfter:function(){return N("month","after")},focusYearBefore:function(){return N("year","before")},focusYearAfter:function(){return N("year","after")},focusStartOfWeek:function(){return N("startOfWeek","before")},focusEndOfWeek:function(){return N("endOfWeek","after")}};return h.jsx(o6.Provider,{value:k,children:e.children})}function W5(){var e=E.useContext(o6);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function a$(e,t){var n=s6(),r=q5(e,n,t);return r}var H5=E.createContext(void 0);function o$(e){if(!$g(e.initialProps)){var t={selected:void 0};return h.jsx(H5.Provider,{value:t,children:e.children})}return h.jsx(l$,{initialProps:e.initialProps,children:e.children})}function l$(e){var t=e.initialProps,n=e.children,r=function(s,a,l){var c,f,p;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,a,l),a.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,s,a,l);return}(p=t.onSelect)===null||p===void 0||p.call(t,s,s,a,l)},i={selected:t.selected,onDayClick:r};return h.jsx(H5.Provider,{value:i,children:n})}function l6(){var e=E.useContext(H5);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function c$(e,t){var n=Bn(),r=l6(),i=B5(),s=z5(),a=W5(),l=a.focusDayAfter,c=a.focusDayBefore,f=a.focusWeekAfter,p=a.focusWeekBefore,m=a.blur,w=a.focus,v=a.focusMonthBefore,N=a.focusMonthAfter,k=a.focusYearBefore,C=a.focusYearAfter,_=a.focusStartOfWeek,S=a.focusEndOfWeek,L=function(J){var B,te,oe,Pe;$g(n)?(B=r.onDayClick)===null||B===void 0||B.call(r,e,t,J):Ap(n)?(te=i.onDayClick)===null||te===void 0||te.call(i,e,t,J):Lp(n)?(oe=s.onDayClick)===null||oe===void 0||oe.call(s,e,t,J):(Pe=n.onDayClick)===null||Pe===void 0||Pe.call(n,e,t,J)},F=function(J){var B;w(e),(B=n.onDayFocus)===null||B===void 0||B.call(n,e,t,J)},Q=function(J){var B;m(),(B=n.onDayBlur)===null||B===void 0||B.call(n,e,t,J)},ee=function(J){var B;(B=n.onDayMouseEnter)===null||B===void 0||B.call(n,e,t,J)},W=function(J){var B;(B=n.onDayMouseLeave)===null||B===void 0||B.call(n,e,t,J)},$=function(J){var B;(B=n.onDayPointerEnter)===null||B===void 0||B.call(n,e,t,J)},Z=function(J){var B;(B=n.onDayPointerLeave)===null||B===void 0||B.call(n,e,t,J)},ie=function(J){var B;(B=n.onDayTouchCancel)===null||B===void 0||B.call(n,e,t,J)},D=function(J){var B;(B=n.onDayTouchEnd)===null||B===void 0||B.call(n,e,t,J)},R=function(J){var B;(B=n.onDayTouchMove)===null||B===void 0||B.call(n,e,t,J)},V=function(J){var B;(B=n.onDayTouchStart)===null||B===void 0||B.call(n,e,t,J)},Y=function(J){var B;(B=n.onDayKeyUp)===null||B===void 0||B.call(n,e,t,J)},he=function(J){var B;switch(J.key){case"ArrowLeft":J.preventDefault(),J.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":J.preventDefault(),J.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":J.preventDefault(),J.stopPropagation(),f();break;case"ArrowUp":J.preventDefault(),J.stopPropagation(),p();break;case"PageUp":J.preventDefault(),J.stopPropagation(),J.shiftKey?k():v();break;case"PageDown":J.preventDefault(),J.stopPropagation(),J.shiftKey?C():N();break;case"Home":J.preventDefault(),J.stopPropagation(),_();break;case"End":J.preventDefault(),J.stopPropagation(),S();break}(B=n.onDayKeyDown)===null||B===void 0||B.call(n,e,t,J)},ge={onClick:L,onFocus:F,onBlur:Q,onKeyDown:he,onKeyUp:Y,onMouseEnter:ee,onMouseLeave:W,onPointerEnter:$,onPointerLeave:Z,onTouchCancel:ie,onTouchEnd:D,onTouchMove:R,onTouchStart:V};return ge}function u$(){var e=Bn(),t=l6(),n=B5(),r=z5(),i=$g(e)?t.selected:Ap(e)?n.selected:Lp(e)?r.selected:void 0;return i}function d$(e){return Object.values(Da).includes(e)}function f$(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(d$(r)){var s=e.classNames["day_".concat(r)];s&&n.push(s)}}),n}function h$(e,t){var n=Tt({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=Tt(Tt({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function p$(e,t,n){var r,i,s,a=Bn(),l=W5(),c=a$(e,t),f=c$(e,c),p=u$(),m=!!(a.onDayClick||a.mode!=="default");E.useEffect(function(){var ee;c.outside||l.focusedDay&&m&&gr(l.focusedDay,e)&&((ee=n.current)===null||ee===void 0||ee.focus())},[l.focusedDay,e,n,m,c.outside]);var w=f$(a,c).join(" "),v=h$(a,c),N=!!(c.outside&&!a.showOutsideDays||c.hidden),k=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:MF,C=h.jsx(k,{date:e,displayMonth:t,activeModifiers:c}),_={style:v,className:w,children:C,role:"gridcell"},S=l.focusTarget&&gr(l.focusTarget,e)&&!c.outside,L=l.focusedDay&&gr(l.focusedDay,e),F=Tt(Tt(Tt({},_),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=L||S?0:-1,r)),f),Q={isButton:m,isHidden:N,activeModifiers:c,selectedDays:p,buttonProps:F,divProps:_};return Q}function m$(e){var t=E.useRef(null),n=p$(e.date,e.displayMonth,t);return n.isHidden?h.jsx("div",{role:"gridcell"}):n.isButton?h.jsx(V0,Tt({name:"day",ref:t},n.buttonProps)):h.jsx("div",Tt({},n.divProps))}function g$(e){var t=e.number,n=e.dates,r=Bn(),i=r.onWeekNumberClick,s=r.styles,a=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,f=r.formatters.formatWeekNumber,p=f(Number(t),{locale:l});if(!i)return h.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:p});var m=c(Number(t),{locale:l}),w=function(v){i(t,n,v)};return h.jsx(V0,{name:"week-number","aria-label":m,className:a.weeknumber,style:s.weeknumber,onClick:w,children:p})}function v$(e){var t,n,r=Bn(),i=r.styles,s=r.classNames,a=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:m$,f=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:g$,p;return a&&(p=h.jsx("td",{className:s.cell,style:i.cell,children:h.jsx(f,{number:e.weekNumber,dates:e.dates})})),h.jsxs("tr",{className:s.row,style:i.row,children:[p,e.dates.map(function(m){return h.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:h.jsx(c,{displayMonth:e.displayMonth,date:m})},n9(m))})]})}function x3(e,t,n){for(var r=n!=null&&n.ISOWeek?WN(t):R5(t,n),i=n!=null&&n.ISOWeek?Bu(e):mo(e,n),s=co(r,i),a=[],l=0;l<=s;l++)a.push(Mi(i,l));var c=a.reduce(function(f,p){var m=n!=null&&n.ISOWeek?GN(p):KN(p,n),w=f.find(function(v){return v.weekNumber===m});return w?(w.dates.push(p),f):(f.push({weekNumber:m,dates:[p]}),f)},[]);return c}function y$(e,t){var n=x3(Fi(e),Fg(e),t);if(t!=null&&t.useFixedWeeks){var r=i9(e,t);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],a=iy(s,6-r),l=x3(iy(s,1),a,t);n.push.apply(n,l)}}return n}function w$(e){var t,n,r,i=Bn(),s=i.locale,a=i.classNames,l=i.styles,c=i.hideHead,f=i.fixedWeeks,p=i.components,m=i.weekStartsOn,w=i.firstWeekContainsDate,v=i.ISOWeek,N=y$(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:v,locale:s,weekStartsOn:m,firstWeekContainsDate:w}),k=(t=p==null?void 0:p.Head)!==null&&t!==void 0?t:DF,C=(n=p==null?void 0:p.Row)!==null&&n!==void 0?n:v$,_=(r=p==null?void 0:p.Footer)!==null&&r!==void 0?r:PF;return h.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&h.jsx(k,{}),h.jsx("tbody",{className:a.tbody,style:l.tbody,children:N.map(function(S){return h.jsx(C,{displayMonth:e.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),h.jsx(_,{displayMonth:e.displayMonth})]})}function x$(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var b$=x$()?E.useLayoutEffect:E.useEffect,kv=!1,_$=0;function b3(){return"react-day-picker-".concat(++_$)}function S$(e){var t,n=e??(kv?b3():null),r=E.useState(n),i=r[0],s=r[1];return b$(function(){i===null&&s(b3())},[]),E.useEffect(function(){kv===!1&&(kv=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function N$(e){var t,n,r=Bn(),i=r.dir,s=r.classNames,a=r.styles,l=r.components,c=Pp().displayMonths,f=S$(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),p=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,m=[s.month],w=a.month,v=e.displayIndex===0,N=e.displayIndex===c.length-1,k=!v&&!N;i==="rtl"&&(t=[v,N],N=t[0],v=t[1]),v&&(m.push(s.caption_start),w=Tt(Tt({},w),a.caption_start)),N&&(m.push(s.caption_end),w=Tt(Tt({},w),a.caption_end)),k&&(m.push(s.caption_between),w=Tt(Tt({},w),a.caption_between));var C=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:LF;return h.jsxs("div",{className:m.join(" "),style:w,children:[h.jsx(C,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),h.jsx(w$,{id:p,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function k$(e){var t=Bn(),n=t.classNames,r=t.styles;return h.jsx("div",{className:n.months,style:r.months,children:e.children})}function j$(e){var t,n,r=e.initialProps,i=Bn(),s=W5(),a=Pp(),l=E.useState(!1),c=l[0],f=l[1];E.useEffect(function(){i.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),f(!0)))},[i.initialFocus,c,s.focus,s.focusTarget,s]);var p=[i.classNames.root,i.className];i.numberOfMonths>1&&p.push(i.classNames.multiple_months),i.showWeekNumber&&p.push(i.classNames.with_weeknumber);var m=Tt(Tt({},i.styles.root),i.style),w=Object.keys(r).filter(function(N){return N.startsWith("data-")}).reduce(function(N,k){var C;return Tt(Tt({},N),(C={},C[k]=r[k],C))},{}),v=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:k$;return h.jsx("div",Tt({className:p.join(" "),style:m,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},w,{children:h.jsx(v,{children:a.displayMonths.map(function(N,k){return h.jsx(N$,{displayIndex:k,displayMonth:N},k)})})}))}function E$(e){var t=e.children,n=X9(e,["children"]);return h.jsx(gF,{initialProps:n,children:h.jsx(jF,{children:h.jsx(o$,{initialProps:n,children:h.jsx(IF,{initialProps:n,children:h.jsx($F,{initialProps:n,children:h.jsx(GF,{children:h.jsx(s$,{children:t})})})})})})})}function C$(e){return h.jsx(E$,Tt({},e,{children:h.jsx(j$,{initialProps:e})}))}function A$({members:e,onAvailableDatesChange:t,groupName:n="Sin nombre"}){const r=`
    /* Estilos para el calendario */
    .rdp {
      transition: none !important;
    }
    
    /* Contenedor del calendario con altura fija para evitar saltos */
    .calendar-container {
      min-height: 380px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    /* Capa de carga */
    .calendar-loading-overlay {
      position: absolute;
      inset: 0;
      background-color: rgba(255, 255, 255, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      border-radius: 0.5rem;
    }
    
    /* Estilos para días seleccionados - con mayor especificidad para garantizar que se apliquen */
    .rdp-day_selected:not([disabled]), 
    .rdp-day_selected:hover:not([disabled]),
    .rdp-day_selected:focus:not([disabled]) { 
      font-weight: bold !important;
      box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.5) !important;
    }
    
    /* Separamos los estilos para que el fondo no afecte a la visualización de los puntos */
    .rdp-day_selected .day-content:not(.selected-day),
    .rdp-day_selected:hover .day-content:not(.selected-day),
    .rdp-day_selected:focus .day-content:not(.selected-day) {
      background-color: #4f46e5 !important;
    }
    
    /* Estilos para días con eventos externos */
    .has-external-events {
      position: relative;
    }
    
    .has-external-events::after {
      content: '';
      position: absolute;
      top: 1px;
      left: 1px;
      right: 1px;
      bottom: 1px;
      border: 2px dashed #f97316;
      border-radius: 4px;
      pointer-events: none;
      z-index: 1;
    }
    
    /* Aseguramos que los días seleccionados siempre tengan prioridad visual */
    .rdp-day_selected .has-external-events::after,
    .selected-day .has-external-events::after {
      border-color: white;
    }
    
    /* Mejoramos la visibilidad de los puntos de disponibilidad */
    .availability-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      margin: 1px;
    }
    
    .availability-dot.you {
      background-color: #4f46e5;
    }
    
    .availability-dot.others {
      background-color: #c7d2fe;
    }
  `,{id:i}=PS(),[s,a]=E.useState([]),[l,c]=E.useState(void 0),[f,p]=E.useState(!0),[m,w]=E.useState(!1),[v,N]=E.useState(null),[k,C]=E.useState(!1),[_,S]=E.useState([]),[L,F]=E.useState([]),[Q,ee]=E.useState([]),[W,$]=E.useState([]),{user:Z}=Is();E.useEffect(()=>{Z&&(he(),te(),J(),ge(),B())},[Z,i]);const ie=E.useMemo(()=>{console.log("🚀 SIMPLE: Calculando fechas por miembro...");const we=new Map;return s.forEach(fe=>{const xe=new Set;fe.dates.forEach(Te=>{xe.add(on(Te,"yyyy-MM-dd"))}),we.set(fe.userId,xe),console.log(`${fe.memberName}: ${xe.size} fechas marcadas`)}),console.log(`✅ Total miembros procesados: ${we.size}`),we},[s]),D=E.useMemo(()=>{console.log("📅 SIMPLE: Procesando eventos...");const we=new Map,fe=new Map;return L.forEach(xe=>{we.has(xe.user_id)||we.set(xe.user_id,new Set),we.get(xe.user_id).add(on(new Date(xe.date),"yyyy-MM-dd"))}),W.forEach(xe=>{fe.has(xe.user_id)||fe.set(xe.user_id,new Set),fe.get(xe.user_id).add(on(new Date(xe.date),"yyyy-MM-dd"))}),console.log(`✅ Eventos procesados - Grupo: ${we.size} usuarios, Externos: ${fe.size} usuarios`),{groupEvents:we,externalEvents:fe}},[L,W]),R=E.useCallback(we=>{const fe=on(we,"yyyy-MM-dd");return e.filter(xe=>{var P,Ce,Ie;if(!xe.user_id)return!1;const Te=((P=ie.get(xe.user_id))==null?void 0:P.has(fe))??!1,Oe=((Ce=D.groupEvents.get(xe.user_id))==null?void 0:Ce.has(fe))??!1,ue=((Ie=D.externalEvents.get(xe.user_id))==null?void 0:Ie.has(fe))??!1;return Te&&!Oe&&!ue})},[e,ie,D]),V=E.useCallback(we=>{const fe=R(we),xe=e.filter(ue=>ue.role_in_group==="principal"),Te=fe.filter(ue=>ue.role_in_group==="sustituto"),Oe=new Set;return xe.forEach(ue=>{ue.instruments.forEach(P=>{Oe.add(P.id)})}),Array.from(Oe).every(ue=>fe.some(Ce=>Ce.role_in_group==="principal"&&Ce.instruments.some(Ie=>Ie.id===ue))?!0:Te.some(Ie=>Ie.instruments.some(ce=>ce.id===ue)))},[e,R]),Y=E.useMemo(()=>{if(!t)return[];console.log("🎯 SIMPLE: Calculando fechas disponibles del grupo (con sustitutos)...");const we=new Set;ie.forEach(Te=>{Te.forEach(Oe=>we.add(Oe))});const fe=e.filter(Te=>Te.role_in_group==="principal");if(fe.length===0)return[];const xe=[];return we.forEach(Te=>{const Oe=new Date(Te);if(V(Oe)){xe.push(Oe);const ue=R(Oe),P=ue.filter(Ie=>Ie.role_in_group==="principal"),Ce=ue.filter(Ie=>Ie.role_in_group==="sustituto");console.log(`📅 ${Te}: ✅ Disponible - Principales: ${P.length}/${fe.length}, Sustitutos: ${Ce.length}`)}else{const ue=R(Oe),P=ue.filter(Ie=>Ie.role_in_group==="principal"),Ce=ue.filter(Ie=>Ie.role_in_group==="sustituto");console.log(`📅 ${Te}: ❌ NO disponible - Principales: ${P.length}/${fe.length}, Sustitutos: ${Ce.length} (instrumentos no cubiertos)`)}}),console.log(`✅ SIMPLE: ${xe.length} fechas disponibles para el grupo (considerando sustitutos)`),xe},[e,ie,R,t,V]);E.useEffect(()=>{t&&Y.length>=0&&(S(Y),t(Y))},[Y,t]),E.useEffect(()=>{t&&t(_)},[_,t]);const he=E.useCallback(async()=>{const we=await Fn(async()=>await Je.from("users").select("role").eq("id",Z==null?void 0:Z.id).single(),"Error checking admin status");we&&C(we.role==="admin")},[Z==null?void 0:Z.id]),ge=async()=>{const we=await Fn(async()=>await Je.from("events").select(`
            id,
            date,
            name,
            group_id,
            event_members (
              user_id
            )
          `),"Error al obtener los eventos");if(we){const fe=[];we.forEach(xe=>{var Te;(Te=xe.event_members)==null||Te.forEach(Oe=>{fe.push({event_id:xe.id,date:xe.date,user_id:Oe.user_id,name:xe.name,group_id:xe.group_id})})}),F(fe)}},J=async()=>{const we=await Fn(async()=>await Je.from("events").select(`
            id,
            date,
            name,
            group_id
          `).eq("group_id",i),"Error fetching group events");if(we){const fe=we.map(xe=>({event_id:xe.id,date:xe.date,user_id:"",name:xe.name,group_id:xe.group_id}));ee(fe)}},B=async()=>{console.log("=== INICIO fetchMemberExternalEvents ==="),console.log("GroupId actual:",i);const we=await Je.from("events").select(`
        id,
        date,
        group_id,
        name,
        event_members (
          user_id
        )
      `).neq("group_id",i);if(console.log("4. Query completa:",we.data),we.error){console.error("Error al obtener eventos externos:",we.error);return}const fe=we.data||[],xe=[];fe.forEach(Te=>{var Oe;(Oe=Te.event_members)==null||Oe.forEach(ue=>{xe.push({user_id:ue.user_id,date:Te.date})})}),$(xe),console.log("Eventos externos formateados:",xe),console.log("=== FIN fetchMemberExternalEvents ===")},te=async()=>{if(i){p(!0);try{const we=e.filter(xe=>xe.user_id!==null).map(xe=>xe.user_id),fe=await Fn(async()=>await Je.from("member_availability").select("user_id, date").in("user_id",we).order("date"),"Error fetching availabilities");if(fe){const xe=e.filter(Te=>Te.user_id!==null).map(Te=>({userId:Te.user_id,memberName:Te.name||"Unknown Member",dates:fe.filter(Oe=>Oe.user_id===Te.user_id).map(Oe=>new Date(Oe.date)),instruments:Te.instruments||[],roleInBand:Te.role_in_group||"principal"}));a(xe)}}catch(we){console.error("Error fetching availabilities:",we),Be.error("Error al obtener las disponibilidades")}finally{p(!1)}}},oe=we=>Q.filter(fe=>gr(new Date(fe.date),we)),Pe=()=>{const we=e.find(fe=>fe.user_id===(Z==null?void 0:Z.id));return k||(we==null?void 0:we.role_in_group)==="principal"},[O,G]=E.useState(!1),re=E.useRef(null),ae=async(we=!1)=>{try{const fe=window.scrollY;return we?G(!0):w(!0),await new Promise(xe=>setTimeout(xe,50)),await Promise.all([te(),ge(),J(),B()]),window.scrollTo(0,fe),we||Be.success("Calendario actualizado correctamente"),!0}catch(fe){return console.error("Error al actualizar datos del calendario:",fe),we||Be.error("Error al actualizar el calendario"),!1}finally{setTimeout(()=>{we||w(!1),G(!1)},500)}},de=async we=>{var ue;if(console.log(`Fecha seleccionada: ${on(we,"dd/MM/yyyy")}`),!Z){Be.error("Debes iniciar sesión para gestionar la disponibilidad");return}if(m)return;w(!0);const fe=e.find(P=>P.user_id===Z.id);if(!(k||(fe==null?void 0:fe.role_in_group)==="principal"||Z.id===(v??Z.id))){Be.error("No tienes permisos para gestionar esta disponibilidad"),w(!1);return}const Te=v??Z.id;if(L.some(P=>P.user_id===Te&&gr(new Date(P.date),we))){Be.error("No puedes cambiar tu disponibilidad en fechas con eventos programados"),w(!1);return}try{const P=e.find(ce=>ce.user_id===Te);if(!P){Be.error("Miembro no encontrado"),w(!1);return}const Ce=(ue=s.find(ce=>ce.userId===P.user_id))==null?void 0:ue.dates.some(ce=>gr(ce,we)),Ie=on(we,"yyyy-MM-dd");if(Ce)try{const ce=await Je.from("member_availability").delete().eq("user_id",P.user_id).eq("date",Ie);if(ce.error){console.error("Error al eliminar disponibilidad:",ce.error),Be.error("Hubo un problema al guardar"),w(!1);return}c(we),Be.success(`Fecha ${on(we,"dd/MM/yyyy")} eliminada de tu disponibilidad`),a(Ne=>Ne.map(Fe=>Fe.userId===P.user_id?{...Fe,dates:Fe.dates.filter($e=>!gr($e,we))}:Fe))}catch(ce){console.error("Error inesperado al eliminar disponibilidad:",ce),Be.error("Ha ocurrido un error al procesar tu solicitud")}else try{const ce=await Je.from("member_availability").insert([{user_id:P.user_id,date:Ie}]);if(ce.error){console.error("Error al insertar disponibilidad:",ce.error),Be.error("Hubo un problema al guardar"),w(!1);return}c(we),Be.success(`Fecha ${on(we,"dd/MM/yyyy")} añadida a tu disponibilidad`),a(Ne=>Ne.map(Fe=>Fe.userId===P.user_id?{...Fe,dates:[...Fe.dates,we]}:Fe))}catch(ce){console.error("Error inesperado al añadir disponibilidad:",ce),Be.error("Ha ocurrido un error al procesar tu solicitud")}}catch(P){console.error("Error en handleDayClick:",P),Be.error("Ha ocurrido un error al procesar tu solicitud")}finally{w(!1)}};function ke(we){const fe=R(we),xe=on(we,"yyyy-MM-dd"),Te=e.filter(ue=>{var P;return ue.user_id&&((P=D.groupEvents.get(ue.user_id))==null?void 0:P.has(xe))}),Oe=[...fe];return Te.forEach(ue=>{Oe.find(P=>P.id===ue.id)||Oe.push(ue)}),Oe}const Ee=we=>{var at;const{date:fe}=we,xe=on(fe,"yyyy-MM-dd"),Te=ke(fe),Oe=R(fe),ue=v||(Z==null?void 0:Z.id),P=Te.some(lt=>lt.user_id===ue),Ce=ue&&((at=D.externalEvents.get(ue))==null?void 0:at.has(xe))||!1,Ie=Te.filter(lt=>lt.user_id!==ue),ce=Ie.length,Ne=Ie.filter(lt=>{var vt;return lt.user_id&&((vt=D.externalEvents.get(lt.user_id))==null?void 0:vt.has(xe))}).length,Fe=V(fe),$e=oe(fe),Ye=$e.length>0,rt=Ce||Ne>0;return h.jsxs("div",{className:`day-content ${Fe?"group-available":""} ${Ye?"has-event":""} ${rt?"has-external-events":""} ${l&&gr(fe,l)?"selected-day":""}`,children:[h.jsx("span",{className:`${l&&gr(fe,l)?"text-indigo-900 font-bold":""}`,children:fe.getDate()}),(P||ce>0||Ye)&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"availability-dots",children:[P&&h.jsx("div",{className:`availability-dot you ${Ce?"border border-orange-500 bg-orange-200":""}`}),Ie.slice(0,3).map((lt,vt)=>{const Nt=W.some(it=>it.user_id===lt.user_id&&gr(new Date(it.date),fe));return h.jsx("div",{className:`availability-dot others ${Nt?"border border-orange-500 bg-orange-200":""}`},vt)})]}),h.jsxs("div",{className:"day-tooltip",children:[h.jsxs("div",{className:"text-sm font-medium text-gray-900 mb-2",children:[on(fe,"MMMM d, yyyy"),h.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[Fe&&h.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Grupo disponible"}),Ye&&h.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-0.5 rounded-full",children:$e.length>1?`${$e[0].name} y ${$e.length-1} más`:$e[0].name}),rt&&h.jsxs("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-0.5 rounded-full",children:[Ne+(Ce?1:0)," miembro(s) con eventos externos"]})]})]}),Te.length>0&&h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Miembros:"}),Te.map(lt=>{var it;const vt=Oe.some(St=>St.id===lt.id),Nt=lt.user_id&&((it=D.externalEvents.get(lt.user_id))==null?void 0:it.has(xe))||!1;return h.jsx("div",{className:`tooltip-member ${lt.user_id===(v||(Z==null?void 0:Z.id))?"you":"other"}`,children:h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between w-full",children:[h.jsx("span",{className:"font-medium",children:lt.name}),h.jsxs("div",{className:"flex items-center gap-2",children:[lt.role_in_group==="sustituto"&&h.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-1.5 py-0.5 rounded-full",children:"Sustituto"}),vt&&!Nt&&h.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-1.5 py-0.5 rounded-full",children:"Disponible"}),Nt&&h.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-1.5 py-0.5 rounded-full",children:"Con Evento"}),lt.user_id===(v||(Z==null?void 0:Z.id))&&h.jsx("span",{className:"text-xs bg-indigo-200 px-1.5 py-0.5 rounded-full",children:"Tú"})]})]}),lt.instruments.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:lt.instruments.map((St,tt)=>h.jsxs("span",{className:"inline-flex items-center text-xs text-gray-600",children:[h.jsx(Si,{className:"w-3 h-3 mr-1"}),St.name,tt<lt.instruments.length-1&&", "]},`${lt.id}-${St.id}-${tt}`))})]})},lt.id)})]})]})]})]})},je=()=>{const fe=Y.filter(P=>oe(P).length===0).sort((P,Ce)=>P.getTime()-Ce.getTime()).reduce((P,Ce)=>{const Ie=on(Ce,"MMMM yyyy",{locale:Qd});P[Ie]||(P[Ie]={withPrincipals:[],withSubstitutes:[]});const ce=ke(Ce);return e.filter(Fe=>Fe.role_in_group==="principal").filter(Fe=>!ce.some($e=>$e.user_id===Fe.user_id)).length===0?P[Ie].withPrincipals.push(Ce):P[Ie].withSubstitutes.push(Ce),P},{});let xe=`FECHAS DISPONIBLES DEL GRUPO ${n.toUpperCase()}

`;Object.keys(fe).length===0?xe+=`No hay fechas disponibles sin eventos programados.
`:Object.entries(fe).forEach(([P,Ce])=>{xe+=`${P.toUpperCase()}
`,Ce.withPrincipals.length>0&&(xe+=`Fechas con miembros principales:
`,xe+=Ce.withPrincipals.map(Ie=>`${on(Ie,"d(EEE)",{locale:Qd})}`).join(", "),xe+=`

`),Ce.withSubstitutes.length>0&&(xe+=`Fechas con sustitutos:
`,xe+=Ce.withSubstitutes.map(Ie=>`${on(Ie,"d(EEE)",{locale:Qd})}`).join(", "),xe+=`

`),xe+=`
`});const Te=new Blob([xe],{type:"text/plain;charset=utf-8"}),Oe=window.URL.createObjectURL(Te),ue=document.createElement("a");ue.href=Oe,ue.download=`disponibilidad_${n.toLowerCase().replace(/\s+/g,"_")}_${on(new Date,"dd-MM-yyyy")}.txt`,document.body.appendChild(ue),ue.click(),document.body.removeChild(ue),window.URL.revokeObjectURL(Oe)};return f?h.jsx("div",{className:"flex justify-center items-center py-8",children:h.jsx(Cc,{className:"w-6 h-6 animate-spin text-indigo-600"})}):h.jsxs("div",{className:"space-y-6",children:[(k||Pe())&&e.length>0&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"member-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Gestionando disponibilidad para:"}),h.jsxs("div",{className:"relative w-full max-w-xs",children:[h.jsx("select",{id:"member-select",value:v||(Z==null?void 0:Z.id)||"",onChange:we=>N(we.target.value===(Z==null?void 0:Z.id)?null:we.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md shadow-sm",children:e.map(we=>h.jsxs("option",{value:we.user_id||"",children:[we.name," ",we.user_id===(Z==null?void 0:Z.id)?"(Tú)":""]},we.id))}),h.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:h.jsx(HD,{className:"h-4 w-4"})})]})]}),h.jsx("style",{dangerouslySetInnerHTML:{__html:r}}),h.jsxs("div",{ref:re,className:"flex justify-center relative bg-white rounded-lg shadow-sm p-4 calendar-container",children:[h.jsxs("div",{className:`fixed top-0 left-0 w-screen h-screen flex items-center justify-center z-50 ${m||O?"opacity-100":"opacity-0 pointer-events-none"}`,style:{transition:"opacity 0.2s ease-in-out"},children:[h.jsx("div",{className:"absolute inset-0 bg-black/20"}),h.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg z-10 flex items-center space-x-2",children:[h.jsx(Cc,{className:"w-6 h-6 animate-spin text-indigo-600"}),h.jsx("span",{children:"Actualizando calendario..."})]})]}),h.jsx(C$,{mode:"single",selected:l,onSelect:c,onDayClick:de,modifiersClassNames:{selected:"rdp-day_selected"},classNames:{day_selected:"font-bold hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500"},fromDate:new Date,components:{DayContent:Ee},weekStartsOn:1,locale:Qd})]}),h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-medium",children:"Calendario de Disponibilidad"}),h.jsxs("button",{onClick:we=>{we.preventDefault(),ae()},disabled:m,className:`px-3 py-1 text-sm ${m?"bg-gray-100 cursor-not-allowed":"bg-blue-100 hover:bg-blue-200"} rounded-md flex items-center`,children:[h.jsx("span",{className:"mr-1",children:m?"...":"↻"}),m?"Actualizando...":"Actualizar"]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Legend:"}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[h.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[h.jsx("div",{className:"w-4 h-4 rounded-full bg-indigo-600 shadow-sm"}),h.jsx("span",{className:"text-sm text-gray-600",children:"Tu disponibilidad"})]}),h.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[h.jsx("div",{className:"w-4 h-4 rounded-full bg-indigo-200"}),h.jsx("span",{className:"text-sm text-gray-600",children:"Other members"})]}),h.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[h.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),h.jsx("span",{className:"text-sm text-gray-600",children:"Grupo disponible"})]}),h.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[h.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),h.jsx("span",{className:"text-sm text-gray-600",children:"Event scheduled"})]}),h.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[h.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-orange-500 bg-orange-200"}),h.jsx("span",{className:"text-sm text-gray-600",children:"Con evento externo"})]}),h.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[h.jsx("div",{className:"w-4 h-4 rounded-full bg-indigo-400 text-white flex items-center justify-center text-xs font-bold",children:"✓"}),h.jsx("span",{className:"text-sm text-gray-600",children:"Fecha seleccionada"})]})]})]}),h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("button",{onClick:je,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[h.jsx(K2,{className:"w-4 h-4 mr-2"}),"Descargar Fechas Disponibles del Grupo"]})})]})}async function c6(e,t){try{const{data:n,error:r}=await Je.rpc("get_group_calendar",{p_group_id:e,p_member_id:t});if(r)throw r;if(!n)throw new Error("No se pudo generar el calendario");const i=n.endsWith(`\r
`)?n:n+`\r
`,s="calendar.ics",a=new Blob([i],{type:"text/calendar;charset=utf-8"}),l=new File([a],s,{type:"text/calendar;charset=utf-8"}),{error:c}=await Je.storage.from("calendars").upload(`${e}/${t}/${s}`,l,{cacheControl:"0",upsert:!0,contentType:"text/calendar;charset=utf-8"});if(c)throw c;const{data:{publicUrl:f}}=Je.storage.from("calendars").getPublicUrl(`${e}/${t}/${s}`),p=`${f}?v=${Date.now()}`,{error:m}=await Je.from("group_members").update({calendar_url:p,calendar_updated_at:new Date().toISOString()}).eq("id",t);if(m)throw m}catch(n){throw console.error("Error updating calendar:",n),n}}function L$({members:e,selectedMembers:t,onMemberSelectionChange:n,validationError:r,groupId:i}){const s=t.filter(c=>{const f=e.find(p=>p.id===c.memberId);return(f==null?void 0:f.role_in_group)==="principal"}),a=t.filter(c=>{const f=e.find(p=>p.id===c.memberId);return(f==null?void 0:f.role_in_group)==="sustituto"}),l=(c,f)=>h.jsxs("div",{className:"space-y-2",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-700",children:f}),c.map(p=>{const m=e.find(w=>w.id===p.memberId);return m?h.jsx("div",{className:`flex items-center justify-between p-2 rounded-lg transition-colors ${p.isAvailable?"bg-gray-50 hover:bg-gray-100":"bg-red-50"}`,children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("input",{type:"checkbox",checked:p.selected,onChange:w=>n(p.memberId,w.target.checked),className:`rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 ${!p.isAvailable&&!p.selected?"opacity-50":""}`,disabled:!p.isAvailable&&!p.selected}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-medium text-gray-900",children:m.name}),!p.isAvailable&&h.jsxs("span",{className:"inline-flex items-center text-xs text-red-700 bg-red-100 px-2 py-0.5 rounded-full",children:[h.jsx(Zb,{className:"w-3 h-3 mr-1"}),"No disponible"]})]}),h.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[h.jsx(Si,{className:"w-3 h-3 mr-1"}),m.instruments.map(w=>w.name).join(", ")]})]})]})},p.memberId):null})]});return h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Miembros"}),h.jsxs("div",{className:"space-y-6",children:[l(s,"Miembros Principales"),a.length>0&&l(a,"Sustitutos")]}),r&&h.jsxs("div",{className:"mt-2 text-sm text-red-600 bg-red-50 p-3 rounded-lg flex items-start",children:[h.jsx(Zb,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),h.jsx("p",{children:"Por favor, asegúrate de que todos los instrumentos estén cubiertos por los miembros seleccionados. Si un miembro principal no está disponible, debes seleccionar un sustituto que cubra sus instrumentos."})]})]})}var G0={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */G0.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,p="__lodash_placeholder__",m=1,w=2,v=4,N=1,k=2,C=1,_=2,S=4,L=8,F=16,Q=32,ee=64,W=128,$=256,Z=512,ie=30,D="...",R=800,V=16,Y=1,he=2,ge=3,J=1/0,B=9007199254740991,te=17976931348623157e292,oe=NaN,Pe=4294967295,O=Pe-1,G=Pe>>>1,re=[["ary",W],["bind",C],["bindKey",_],["curry",L],["curryRight",F],["flip",Z],["partial",Q],["partialRight",ee],["rearg",$]],ae="[object Arguments]",de="[object Array]",ke="[object AsyncFunction]",Ee="[object Boolean]",je="[object Date]",we="[object DOMException]",fe="[object Error]",xe="[object Function]",Te="[object GeneratorFunction]",Oe="[object Map]",ue="[object Number]",P="[object Null]",Ce="[object Object]",Ie="[object Promise]",ce="[object Proxy]",Ne="[object RegExp]",Fe="[object Set]",$e="[object String]",Ye="[object Symbol]",rt="[object Undefined]",at="[object WeakMap]",lt="[object WeakSet]",vt="[object ArrayBuffer]",Nt="[object DataView]",it="[object Float32Array]",St="[object Float64Array]",tt="[object Int8Array]",Un="[object Int16Array]",Vt="[object Int32Array]",Yr="[object Uint8Array]",Qt="[object Uint8ClampedArray]",pn="[object Uint16Array]",si="[object Uint32Array]",Zt=/\b__p \+= '';/g,aa=/\b(__p \+=) '' \+/g,Dn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ai=/&(?:amp|lt|gt|quot|#39);/g,bn=/[&<>"']/g,Gt=RegExp(ai.source),yt=RegExp(bn.source),Bt=/<%-([\s\S]+?)%>/g,ur=/<%([\s\S]+?)%>/g,rn=/<%=([\s\S]+?)%>/g,tr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pr=/^\w*$/,ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gn=/[\\^$.*+?()[\]{}|]/g,nr=RegExp(Gn.source),kn=/^\s+/,Ln=/\s/,jn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yn=/\{\n\/\* \[wrapped with (.+)\] \*/,Ui=/,? & /,ki=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ps=/[()=,{}\[\]\/\s]/,ms=/\\(\\)?/g,gs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vs=/\w*$/,zi=/^[-+]0x[0-9a-f]+$/i,Rs=/^0b[01]+$/i,bo=/^\[object .+?Constructor\]$/,ol=/^0o[0-7]+$/i,ll=/^(?:0|[1-9]\d*)$/,cl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oa=/($^)/,Yu=/['\n\r\u2028\u2029\\]/g,ul="\\ud800-\\udfff",Mf="\\u0300-\\u036f",dl="\\ufe20-\\ufe2f",Ku="\\u20d0-\\u20ff",Ju=Mf+dl+Ku,fl="\\u2700-\\u27bf",Xu="a-z\\xdf-\\xf6\\xf8-\\xff",Qu="\\xac\\xb1\\xd7\\xf7",If="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hl="\\u2000-\\u206f",Rf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kn="A-Z\\xc0-\\xd6\\xd8-\\xde",$c="\\ufe0e\\ufe0f",Bc=Qu+If+hl+Rf,pl="['’]",Uc="["+ul+"]",Zu="["+Bc+"]",oi="["+Ju+"]",_o="\\d+",li="["+fl+"]",ml="["+Xu+"]",zc="[^"+ul+Bc+_o+fl+Xu+Kn+"]",qc="\\ud83c[\\udffb-\\udfff]",ed="(?:"+oi+"|"+qc+")",td="[^"+ul+"]",gl="(?:\\ud83c[\\udde6-\\uddff]){2}",Wc="[\\ud800-\\udbff][\\udc00-\\udfff]",Fs="["+Kn+"]",nd="\\u200d",rd="(?:"+ml+"|"+zc+")",Ff="(?:"+Fs+"|"+zc+")",$s="(?:"+pl+"(?:d|ll|m|re|s|t|ve))?",So="(?:"+pl+"(?:D|LL|M|RE|S|T|VE))?",No=ed+"?",Hc="["+$c+"]?",Fr="(?:"+nd+"(?:"+[td,gl,Wc].join("|")+")"+Hc+No+")*",$f="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",id="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Lt=Hc+No+Fr,Bf="(?:"+[li,gl,Wc].join("|")+")"+Lt,Uf="(?:"+[td+oi+"?",oi,gl,Wc,Uc].join("|")+")",Bs=RegExp(pl,"g"),sd=RegExp(oi,"g"),vl=RegExp(qc+"(?="+qc+")|"+Uf+Lt,"g"),yl=RegExp([Fs+"?"+ml+"+"+$s+"(?="+[Zu,Fs,"$"].join("|")+")",Ff+"+"+So+"(?="+[Zu,Fs+rd,"$"].join("|")+")",Fs+"?"+rd+"+"+$s,Fs+"+"+So,id,$f,_o,Bf].join("|"),"g"),Vc=RegExp("["+nd+ul+Ju+$c+"]"),zf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wf=-1,mn={};mn[it]=mn[St]=mn[tt]=mn[Un]=mn[Vt]=mn[Yr]=mn[Qt]=mn[pn]=mn[si]=!0,mn[ae]=mn[de]=mn[vt]=mn[Ee]=mn[Nt]=mn[je]=mn[fe]=mn[xe]=mn[Oe]=mn[ue]=mn[Ce]=mn[Ne]=mn[Fe]=mn[$e]=mn[at]=!1;var sn={};sn[ae]=sn[de]=sn[vt]=sn[Nt]=sn[Ee]=sn[je]=sn[it]=sn[St]=sn[tt]=sn[Un]=sn[Vt]=sn[Oe]=sn[ue]=sn[Ce]=sn[Ne]=sn[Fe]=sn[$e]=sn[Ye]=sn[Yr]=sn[Qt]=sn[pn]=sn[si]=!0,sn[fe]=sn[xe]=sn[at]=!1;var $a={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Hf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ko={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Gc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},wl=parseFloat,ad=parseInt,Yc=typeof ni=="object"&&ni&&ni.Object===Object&&ni,od=typeof self=="object"&&self&&self.Object===Object&&self,dr=Yc||od||Function("return this")(),qi=t&&!t.nodeType&&t,Kr=qi&&!0&&e&&!e.nodeType&&e,ld=Kr&&Kr.exports===qi,Us=ld&&Yc.process,Jn=function(){try{var _e=Kr&&Kr.require&&Kr.require("util").types;return _e||Us&&Us.binding&&Us.binding("util")}catch{}}(),xl=Jn&&Jn.isArrayBuffer,Ba=Jn&&Jn.isDate,cd=Jn&&Jn.isMap,jo=Jn&&Jn.isRegExp,ud=Jn&&Jn.isSet,bl=Jn&&Jn.isTypedArray;function Tr(_e,qe,De){switch(De.length){case 0:return _e.call(qe);case 1:return _e.call(qe,De[0]);case 2:return _e.call(qe,De[0],De[1]);case 3:return _e.call(qe,De[0],De[1],De[2])}return _e.apply(qe,De)}function dd(_e,qe,De,dt){for(var wt=-1,It=_e==null?0:_e.length;++wt<It;){var In=_e[wt];qe(dt,In,De(In),_e)}return dt}function Or(_e,qe){for(var De=-1,dt=_e==null?0:_e.length;++De<dt&&qe(_e[De],De,_e)!==!1;);return _e}function Kc(_e,qe){for(var De=_e==null?0:_e.length;De--&&qe(_e[De],De,_e)!==!1;);return _e}function _l(_e,qe){for(var De=-1,dt=_e==null?0:_e.length;++De<dt;)if(!qe(_e[De],De,_e))return!1;return!0}function ys(_e,qe){for(var De=-1,dt=_e==null?0:_e.length,wt=0,It=[];++De<dt;){var In=_e[De];qe(In,De,_e)&&(It[wt++]=In)}return It}function Sl(_e,qe){var De=_e==null?0:_e.length;return!!De&&Xe(_e,qe,0)>-1}function Ua(_e,qe,De){for(var dt=-1,wt=_e==null?0:_e.length;++dt<wt;)if(De(qe,_e[dt]))return!0;return!1}function un(_e,qe){for(var De=-1,dt=_e==null?0:_e.length,wt=Array(dt);++De<dt;)wt[De]=qe(_e[De],De,_e);return wt}function Wi(_e,qe){for(var De=-1,dt=qe.length,wt=_e.length;++De<dt;)_e[wt+De]=qe[De];return _e}function zs(_e,qe,De,dt){var wt=-1,It=_e==null?0:_e.length;for(dt&&It&&(De=_e[++wt]);++wt<It;)De=qe(De,_e[wt],wt,_e);return De}function Jc(_e,qe,De,dt){var wt=_e==null?0:_e.length;for(dt&&wt&&(De=_e[--wt]);wt--;)De=qe(De,_e[wt],wt,_e);return De}function x(_e,qe){for(var De=-1,dt=_e==null?0:_e.length;++De<dt;)if(qe(_e[De],De,_e))return!0;return!1}var M=Pt("length");function se(_e){return _e.split("")}function pe(_e){return _e.match(ki)||[]}function Le(_e,qe,De){var dt;return De(_e,function(wt,It,In){if(qe(wt,It,In))return dt=It,!1}),dt}function ze(_e,qe,De,dt){for(var wt=_e.length,It=De+(dt?1:-1);dt?It--:++It<wt;)if(qe(_e[It],It,_e))return It;return-1}function Xe(_e,qe,De){return qe===qe?Gi(_e,qe,De):ze(_e,bt,De)}function ut(_e,qe,De,dt){for(var wt=De-1,It=_e.length;++wt<It;)if(dt(_e[wt],qe))return wt;return-1}function bt(_e){return _e!==_e}function Dt(_e,qe){var De=_e==null?0:_e.length;return De?Qn(_e,qe)/De:oe}function Pt(_e){return function(qe){return qe==null?n:qe[_e]}}function Yt(_e){return function(qe){return _e==null?n:_e[qe]}}function Mn(_e,qe,De,dt,wt){return wt(_e,function(It,In,dn){De=dt?(dt=!1,It):qe(De,It,In,dn)}),De}function Xn(_e,qe){var De=_e.length;for(_e.sort(qe);De--;)_e[De]=_e[De].value;return _e}function Qn(_e,qe){for(var De,dt=-1,wt=_e.length;++dt<wt;){var It=qe(_e[dt]);It!==n&&(De=De===n?It:De+It)}return De}function jr(_e,qe){for(var De=-1,dt=Array(_e);++De<_e;)dt[De]=qe(De);return dt}function Er(_e,qe){return un(qe,function(De){return[De,_e[De]]})}function Hi(_e){return _e&&_e.slice(0,ca(_e)+1).replace(kn,"")}function Pn(_e){return function(qe){return _e(qe)}}function Vi(_e,qe){return un(qe,function(De){return _e[De]})}function za(_e,qe){return _e.has(qe)}function Nl(_e,qe){for(var De=-1,dt=_e.length;++De<dt&&Xe(qe,_e[De],0)>-1;);return De}function kl(_e,qe){for(var De=_e.length;De--&&Xe(qe,_e[De],0)>-1;);return De}function jl(_e,qe){for(var De=_e.length,dt=0;De--;)_e[De]===qe&&++dt;return dt}var Xc=Yt($a),Qc=Yt(Hf);function El(_e){return"\\"+Gc[_e]}function Dr(_e,qe){return _e==null?n:_e[qe]}function ws(_e){return Vc.test(_e)}function Cl(_e){return zf.test(_e)}function Al(_e){for(var qe,De=[];!(qe=_e.next()).done;)De.push(qe.value);return De}function Eo(_e){var qe=-1,De=Array(_e.size);return _e.forEach(function(dt,wt){De[++qe]=[wt,dt]}),De}function Jr(_e,qe){return function(De){return _e(qe(De))}}function qs(_e,qe){for(var De=-1,dt=_e.length,wt=0,It=[];++De<dt;){var In=_e[De];(In===qe||In===p)&&(_e[De]=p,It[wt++]=De)}return It}function qa(_e){var qe=-1,De=Array(_e.size);return _e.forEach(function(dt){De[++qe]=dt}),De}function fd(_e){var qe=-1,De=Array(_e.size);return _e.forEach(function(dt){De[++qe]=[dt,dt]}),De}function Gi(_e,qe,De){for(var dt=De-1,wt=_e.length;++dt<wt;)if(_e[dt]===qe)return dt;return-1}function Ll(_e,qe,De){for(var dt=De+1;dt--;)if(_e[dt]===qe)return dt;return dt}function la(_e){return ws(_e)?ui(_e):M(_e)}function ci(_e){return ws(_e)?Xr(_e):se(_e)}function ca(_e){for(var qe=_e.length;qe--&&Ln.test(_e.charAt(qe)););return qe}var Co=Yt(ko);function ui(_e){for(var qe=vl.lastIndex=0;vl.test(_e);)++qe;return qe}function Xr(_e){return _e.match(vl)||[]}function Wa(_e){return _e.match(yl)||[]}var ua=function _e(qe){qe=qe==null?dr:di.defaults(dr.Object(),qe,di.pick(dr,qf));var De=qe.Array,dt=qe.Date,wt=qe.Error,It=qe.Function,In=qe.Math,dn=qe.Object,Ao=qe.RegExp,Lo=qe.String,Cr=qe.TypeError,xs=De.prototype,Po=It.prototype,bs=dn.prototype,Ws=qe["__core-js_shared__"],_s=Po.toString,en=bs.hasOwnProperty,Yi=0,ji=function(){var o=/[^.]+$/.exec(Ws&&Ws.keys&&Ws.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),gn=bs.toString,En=_s.call(dn),rr=dr._,vr=Ao("^"+_s.call(en).replace(Gn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ki=ld?qe.Buffer:n,Ji=qe.Symbol,da=qe.Uint8Array,Zc=Ki?Ki.allocUnsafe:n,Pl=Jr(dn.getPrototypeOf,dn),eu=dn.create,fi=bs.propertyIsEnumerable,Qr=xs.splice,tu=Ji?Ji.isConcatSpreadable:n,Ha=Ji?Ji.iterator:n,Va=Ji?Ji.toStringTag:n,To=function(){try{var o=uu(dn,"defineProperty");return o({},"",{}),o}catch{}}(),hd=qe.clearTimeout!==dr.clearTimeout&&qe.clearTimeout,Vf=dt&&dt.now!==dr.Date.now&&dt.now,Mp=qe.setTimeout!==dr.setTimeout&&qe.setTimeout,Tl=In.ceil,Ol=In.floor,Dl=dn.getOwnPropertySymbols,Gf=Ki?Ki.isBuffer:n,Ip=qe.isFinite,Gg=xs.join,Rp=Jr(dn.keys,dn),yr=In.max,$r=In.min,Yg=dt.now,Kg=qe.parseInt,Fp=In.random,Yf=xs.reverse,nu=uu(qe,"DataView"),fa=uu(qe,"Map"),Kf=uu(qe,"Promise"),Ml=uu(qe,"Set"),Il=uu(qe,"WeakMap"),ru=uu(dn,"create"),pd=Il&&new Il,Rl={},Jg=du(nu),Ga=du(fa),Ss=du(Kf),ha=du(Ml),Xg=du(Il),iu=Ji?Ji.prototype:n,Xi=iu?iu.valueOf:n,Ei=iu?iu.toString:n;function H(o){if(hr(o)&&!Ft(o)&&!(o instanceof qt)){if(o instanceof Ci)return o;if(en.call(o,"__wrapped__"))return Tw(o)}return new Ci(o)}var Fl=function(){function o(){}return function(u){if(!sr(u))return{};if(eu)return eu(u);o.prototype=u;var y=new o;return o.prototype=n,y}}();function su(){}function Ci(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}H.templateSettings={escape:Bt,evaluate:ur,interpolate:rn,variable:"",imports:{_:H}},H.prototype=su.prototype,H.prototype.constructor=H,Ci.prototype=Fl(su.prototype),Ci.prototype.constructor=Ci;function qt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Pe,this.__views__=[]}function $p(){var o=new qt(this.__wrapped__);return o.__actions__=Zi(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Zi(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Zi(this.__views__),o}function Qg(){if(this.__filtered__){var o=new qt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function md(){var o=this.__wrapped__.value(),u=this.__dir__,y=Ft(o),j=u<0,I=y?o.length:0,X=mk(0,I,this.__views__),le=X.start,me=X.end,Ae=me-le,Ge=j?me:le-1,Ke=this.__iteratees__,Ze=Ke.length,ot=0,xt=$r(Ae,this.__takeCount__);if(!y||!j&&I==Ae&&xt==Ae)return cu(o,this.__actions__);var jt=[];e:for(;Ae--&&ot<xt;){Ge+=u;for(var zt=-1,Et=o[Ge];++zt<Ze;){var Jt=Ke[zt],tn=Jt.iteratee,js=Jt.type,Oi=tn(Et);if(js==he)Et=Oi;else if(!Oi){if(js==Y)continue e;break e}}jt[ot++]=Et}return jt}qt.prototype=Fl(su.prototype),qt.prototype.constructor=qt;function Hs(o){var u=-1,y=o==null?0:o.length;for(this.clear();++u<y;){var j=o[u];this.set(j[0],j[1])}}function au(){this.__data__=ru?ru(null):{},this.size=0}function Jf(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u}function Bp(o){var u=this.__data__;if(ru){var y=u[o];return y===c?n:y}return en.call(u,o)?u[o]:n}function Zg(o){var u=this.__data__;return ru?u[o]!==n:en.call(u,o)}function Up(o,u){var y=this.__data__;return this.size+=this.has(o)?0:1,y[o]=ru&&u===n?c:u,this}Hs.prototype.clear=au,Hs.prototype.delete=Jf,Hs.prototype.get=Bp,Hs.prototype.has=Zg,Hs.prototype.set=Up;function pa(o){var u=-1,y=o==null?0:o.length;for(this.clear();++u<y;){var j=o[u];this.set(j[0],j[1])}}function e1(){this.__data__=[],this.size=0}function t1(o){var u=this.__data__,y=ve(u,o);if(y<0)return!1;var j=u.length-1;return y==j?u.pop():Qr.call(u,y,1),--this.size,!0}function n1(o){var u=this.__data__,y=ve(u,o);return y<0?n:u[y][1]}function r1(o){return ve(this.__data__,o)>-1}function i1(o,u){var y=this.__data__,j=ve(y,o);return j<0?(++this.size,y.push([o,u])):y[j][1]=u,this}pa.prototype.clear=e1,pa.prototype.delete=t1,pa.prototype.get=n1,pa.prototype.has=r1,pa.prototype.set=i1;function Vs(o){var u=-1,y=o==null?0:o.length;for(this.clear();++u<y;){var j=o[u];this.set(j[0],j[1])}}function gd(){this.size=0,this.__data__={hash:new Hs,map:new(fa||pa),string:new Hs}}function s1(o){var u=sm(this,o).delete(o);return this.size-=u?1:0,u}function a1(o){return sm(this,o).get(o)}function zp(o){return sm(this,o).has(o)}function d(o,u){var y=sm(this,o),j=y.size;return y.set(o,u),this.size+=y.size==j?0:1,this}Vs.prototype.clear=gd,Vs.prototype.delete=s1,Vs.prototype.get=a1,Vs.prototype.has=zp,Vs.prototype.set=d;function g(o){var u=-1,y=o==null?0:o.length;for(this.__data__=new Vs;++u<y;)this.add(o[u])}function b(o){return this.__data__.set(o,c),this}function A(o){return this.__data__.has(o)}g.prototype.add=g.prototype.push=b,g.prototype.has=A;function T(o){var u=this.__data__=new pa(o);this.size=u.size}function U(){this.__data__=new pa,this.size=0}function z(o){var u=this.__data__,y=u.delete(o);return this.size=u.size,y}function q(o){return this.__data__.get(o)}function K(o){return this.__data__.has(o)}function ne(o,u){var y=this.__data__;if(y instanceof pa){var j=y.__data__;if(!fa||j.length<i-1)return j.push([o,u]),this.size=++y.size,this;y=this.__data__=new Vs(j)}return y.set(o,u),this.size=y.size,this}T.prototype.clear=U,T.prototype.delete=z,T.prototype.get=q,T.prototype.has=K,T.prototype.set=ne;function ye(o,u){var y=Ft(o),j=!y&&fu(o),I=!y&&!j&&Kl(o),X=!y&&!j&&!I&&Ad(o),le=y||j||I||X,me=le?jr(o.length,Lo):[],Ae=me.length;for(var Ge in o)(u||en.call(o,Ge))&&!(le&&(Ge=="length"||I&&(Ge=="offset"||Ge=="parent")||X&&(Ge=="buffer"||Ge=="byteLength"||Ge=="byteOffset")||Fo(Ge,Ae)))&&me.push(Ge);return me}function Me(o){var u=o.length;return u?o[Wl(0,u-1)]:n}function Re(o,u){return am(Zi(o),nt(u,0,o.length))}function Se(o){return am(Zi(o))}function Ve(o,u,y){(y!==n&&!ya(o[u],y)||y===n&&!(u in o))&&We(o,u,y)}function Ue(o,u,y){var j=o[u];(!(en.call(o,u)&&ya(j,y))||y===n&&!(u in o))&&We(o,u,y)}function ve(o,u){for(var y=o.length;y--;)if(ya(o[y][0],u))return y;return-1}function be(o,u,y,j){return Mt(o,function(I,X,le){u(j,I,y(I),le)}),j}function He(o,u){return o&&to(u,zr(u),o)}function Qe(o,u){return o&&to(u,ts(u),o)}function We(o,u,y){u=="__proto__"&&To?To(o,u,{configurable:!0,enumerable:!0,value:y,writable:!0}):o[u]=y}function ct(o,u){for(var y=-1,j=u.length,I=De(j),X=o==null;++y<j;)I[y]=X?n:C1(o,u[y]);return I}function nt(o,u,y){return o===o&&(y!==n&&(o=o<=y?o:y),u!==n&&(o=o>=u?o:u)),o}function mt(o,u,y,j,I,X){var le,me=u&m,Ae=u&w,Ge=u&v;if(y&&(le=I?y(o,j,I,X):y(o)),le!==n)return le;if(!sr(o))return o;var Ke=Ft(o);if(Ke){if(le=vk(o),!me)return Zi(o,le)}else{var Ze=hi(o),ot=Ze==xe||Ze==Te;if(Kl(o))return kd(o,me);if(Ze==Ce||Ze==ae||ot&&!I){if(le=Ae||ot?{}:Sw(o),!me)return Ae?ak(o,Qe(le,o)):sk(o,He(le,o))}else{if(!sn[Ze])return I?o:{};le=yk(o,Ze,me)}}X||(X=new T);var xt=X.get(o);if(xt)return xt;X.set(o,le),Qw(o)?o.forEach(function(Et){le.add(mt(Et,u,y,Et,o,X))}):Jw(o)&&o.forEach(function(Et,Jt){le.set(Jt,mt(Et,u,y,Jt,o,X))});var jt=Ge?Ae?p1:h1:Ae?ts:zr,zt=Ke?n:jt(o);return Or(zt||o,function(Et,Jt){zt&&(Jt=Et,Et=o[Jt]),Ue(le,Jt,mt(Et,u,y,Jt,o,X))}),le}function st(o){var u=zr(o);return function(y){return an(y,o,u)}}function an(o,u,y){var j=y.length;if(o==null)return!j;for(o=dn(o);j--;){var I=y[j],X=u[I],le=o[I];if(le===n&&!(I in o)||!X(le))return!1}return!0}function fn(o,u,y){if(typeof o!="function")throw new Cr(a);return ah(function(){o.apply(n,y)},u)}function Wt(o,u,y,j){var I=-1,X=Sl,le=!0,me=o.length,Ae=[],Ge=u.length;if(!me)return Ae;y&&(u=un(u,Pn(y))),j?(X=Ua,le=!1):u.length>=i&&(X=za,le=!1,u=new g(u));e:for(;++I<me;){var Ke=o[I],Ze=y==null?Ke:y(Ke);if(Ke=j||Ke!==0?Ke:0,le&&Ze===Ze){for(var ot=Ge;ot--;)if(u[ot]===Ze)continue e;Ae.push(Ke)}else X(u,Ze,j)||Ae.push(Ke)}return Ae}var Mt=cw(Zn),yn=cw(ei,!0);function wn(o,u){var y=!0;return Mt(o,function(j,I,X){return y=!!u(j,I,X),y}),y}function Ot(o,u,y){for(var j=-1,I=o.length;++j<I;){var X=o[j],le=u(X);if(le!=null&&(me===n?le===le&&!ks(le):y(le,me)))var me=le,Ae=X}return Ae}function fr(o,u,y,j){var I=o.length;for(y=Ut(y),y<0&&(y=-y>I?0:I+y),j=j===n||j>I?I:Ut(j),j<0&&(j+=I),j=y>j?0:ex(j);y<j;)o[y++]=u;return o}function Zr(o,u){var y=[];return Mt(o,function(j,I,X){u(j,I,X)&&y.push(j)}),y}function Kt(o,u,y,j,I){var X=-1,le=o.length;for(y||(y=xk),I||(I=[]);++X<le;){var me=o[X];u>0&&y(me)?u>1?Kt(me,u-1,y,j,I):Wi(I,me):j||(I[I.length]=me)}return I}var Br=uw(),hn=uw(!0);function Zn(o,u){return o&&Br(o,u,zr)}function ei(o,u){return o&&hn(o,u,zr)}function ir(o,u){return ys(u,function(y){return $o(o[y])})}function zn(o,u){u=Ys(u,o);for(var y=0,j=u.length;o!=null&&y<j;)o=o[no(u[y++])];return y&&y==j?o:n}function Ur(o,u,y){var j=u(o);return Ft(o)?j:Wi(j,y(o))}function Cn(o){return o==null?o===n?rt:P:Va&&Va in dn(o)?pk(o):Ek(o)}function Qi(o,u){return o>u}function Ar(o,u){return o!=null&&en.call(o,u)}function ma(o,u){return o!=null&&u in dn(o)}function Oo(o,u,y){return o>=$r(u,y)&&o<yr(u,y)}function Ya(o,u,y){for(var j=y?Ua:Sl,I=o[0].length,X=o.length,le=X,me=De(X),Ae=1/0,Ge=[];le--;){var Ke=o[le];le&&u&&(Ke=un(Ke,Pn(u))),Ae=$r(Ke.length,Ae),me[le]=!y&&(u||I>=120&&Ke.length>=120)?new g(le&&Ke):n}Ke=o[0];var Ze=-1,ot=me[0];e:for(;++Ze<I&&Ge.length<Ae;){var xt=Ke[Ze],jt=u?u(xt):xt;if(xt=y||xt!==0?xt:0,!(ot?za(ot,jt):j(Ge,jt,y))){for(le=X;--le;){var zt=me[le];if(!(zt?za(zt,jt):j(o[le],jt,y)))continue e}ot&&ot.push(jt),Ge.push(xt)}}return Ge}function Ka(o,u,y,j){return Zn(o,function(I,X,le){u(j,y(I),X,le)}),j}function An(o,u,y){u=Ys(u,o),o=Ew(o,u);var j=o==null?o:o[no(Ks(u))];return j==null?n:Tr(j,o,y)}function vd(o){return hr(o)&&Cn(o)==ae}function qp(o){return hr(o)&&Cn(o)==vt}function Wp(o){return hr(o)&&Cn(o)==je}function Ja(o,u,y,j,I){return o===u?!0:o==null||u==null||!hr(o)&&!hr(u)?o!==o&&u!==u:ou(o,u,y,j,Ja,I)}function ou(o,u,y,j,I,X){var le=Ft(o),me=Ft(u),Ae=le?de:hi(o),Ge=me?de:hi(u);Ae=Ae==ae?Ce:Ae,Ge=Ge==ae?Ce:Ge;var Ke=Ae==Ce,Ze=Ge==Ce,ot=Ae==Ge;if(ot&&Kl(o)){if(!Kl(u))return!1;le=!0,Ke=!1}if(ot&&!Ke)return X||(X=new T),le||Ad(o)?xw(o,u,y,j,I,X):fk(o,u,Ae,y,j,I,X);if(!(y&N)){var xt=Ke&&en.call(o,"__wrapped__"),jt=Ze&&en.call(u,"__wrapped__");if(xt||jt){var zt=xt?o.value():o,Et=jt?u.value():u;return X||(X=new T),I(zt,Et,y,j,X)}}return ot?(X||(X=new T),hk(o,u,y,j,I,X)):!1}function yd(o){return hr(o)&&hi(o)==Oe}function Ai(o,u,y,j){var I=y.length,X=I,le=!j;if(o==null)return!X;for(o=dn(o);I--;){var me=y[I];if(le&&me[2]?me[1]!==o[me[0]]:!(me[0]in o))return!1}for(;++I<X;){me=y[I];var Ae=me[0],Ge=o[Ae],Ke=me[1];if(le&&me[2]){if(Ge===n&&!(Ae in o))return!1}else{var Ze=new T;if(j)var ot=j(Ge,Ke,Ae,o,u,Ze);if(!(ot===n?Ja(Ke,Ge,N|k,j,Ze):ot))return!1}}return!0}function Do(o){if(!sr(o)||_k(o))return!1;var u=$o(o)?vr:bo;return u.test(du(o))}function $l(o){return hr(o)&&Cn(o)==Ne}function Hp(o){return hr(o)&&hi(o)==Fe}function wd(o){return hr(o)&&fm(o.length)&&!!mn[Cn(o)]}function Xf(o){return typeof o=="function"?o:o==null?ns:typeof o=="object"?Ft(o)?Gp(o[0],o[1]):Vp(o):dx(o)}function Bl(o){if(!sh(o))return Rp(o);var u=[];for(var y in dn(o))en.call(o,y)&&y!="constructor"&&u.push(y);return u}function Qf(o){if(!sr(o))return jk(o);var u=sh(o),y=[];for(var j in o)j=="constructor"&&(u||!en.call(o,j))||y.push(j);return y}function Ul(o,u){return o<u}function zl(o,u){var y=-1,j=es(o)?De(o.length):[];return Mt(o,function(I,X,le){j[++y]=u(I,X,le)}),j}function Vp(o){var u=g1(o);return u.length==1&&u[0][2]?kw(u[0][0],u[0][1]):function(y){return y===o||Ai(y,o,u)}}function Gp(o,u){return y1(o)&&Nw(u)?kw(no(o),u):function(y){var j=C1(y,o);return j===n&&j===u?A1(y,o):Ja(u,j,N|k)}}function ql(o,u,y,j,I){o!==u&&Br(u,function(X,le){if(I||(I=new T),sr(X))Xa(o,u,le,y,ql,j,I);else{var me=j?j(x1(o,le),X,le+"",o,u,I):n;me===n&&(me=X),Ve(o,le,me)}},ts)}function Xa(o,u,y,j,I,X,le){var me=x1(o,y),Ae=x1(u,y),Ge=le.get(Ae);if(Ge){Ve(o,y,Ge);return}var Ke=X?X(me,Ae,y+"",o,u,le):n,Ze=Ke===n;if(Ze){var ot=Ft(Ae),xt=!ot&&Kl(Ae),jt=!ot&&!xt&&Ad(Ae);Ke=Ae,ot||xt||jt?Ft(me)?Ke=me:wr(me)?Ke=Zi(me):xt?(Ze=!1,Ke=kd(Ae,!0)):jt?(Ze=!1,Ke=sw(Ae,!0)):Ke=[]:oh(Ae)||fu(Ae)?(Ke=me,fu(me)?Ke=tx(me):(!sr(me)||$o(me))&&(Ke=Sw(Ae))):Ze=!1}Ze&&(le.set(Ae,Ke),I(Ke,Ae,j,X,le),le.delete(Ae)),Ve(o,y,Ke)}function Yp(o,u){var y=o.length;if(y)return u+=u<0?y:0,Fo(u,y)?o[u]:n}function Kp(o,u,y){u.length?u=un(u,function(X){return Ft(X)?function(le){return zn(le,X.length===1?X[0]:X)}:X}):u=[ns];var j=-1;u=un(u,Pn(kt()));var I=zl(o,function(X,le,me){var Ae=un(u,function(Ge){return Ge(X)});return{criteria:Ae,index:++j,value:X}});return Xn(I,function(X,le){return ik(X,le,y)})}function o1(o,u){return Zf(o,u,function(y,j){return A1(o,j)})}function Zf(o,u,y){for(var j=-1,I=u.length,X={};++j<I;){var le=u[j],me=zn(o,le);y(me,le)&&Hl(X,Ys(le,o),me)}return X}function xd(o){return function(u){return zn(u,o)}}function bd(o,u,y,j){var I=j?ut:Xe,X=-1,le=u.length,me=o;for(o===u&&(u=Zi(u)),y&&(me=un(o,Pn(y)));++X<le;)for(var Ae=0,Ge=u[X],Ke=y?y(Ge):Ge;(Ae=I(me,Ke,Ae,j))>-1;)me!==o&&Qr.call(me,Ae,1),Qr.call(o,Ae,1);return o}function eh(o,u){for(var y=o?u.length:0,j=y-1;y--;){var I=u[y];if(y==j||I!==X){var X=I;Fo(I)?Qr.call(o,I,1):rh(o,I)}}return o}function Wl(o,u){return o+Ol(Fp()*(u-o+1))}function th(o,u,y,j){for(var I=-1,X=yr(Tl((u-o)/(y||1)),0),le=De(X);X--;)le[j?X:++I]=o,o+=y;return le}function Mo(o,u){var y="";if(!o||u<1||u>B)return y;do u%2&&(y+=o),u=Ol(u/2),u&&(o+=o);while(u);return y}function $t(o,u){return b1(jw(o,u,ns),o+"")}function l1(o){return Me(Ld(o))}function _d(o,u){var y=Ld(o);return am(y,nt(u,0,y.length))}function Hl(o,u,y,j){if(!sr(o))return o;u=Ys(u,o);for(var I=-1,X=u.length,le=X-1,me=o;me!=null&&++I<X;){var Ae=no(u[I]),Ge=y;if(Ae==="__proto__"||Ae==="constructor"||Ae==="prototype")return o;if(I!=le){var Ke=me[Ae];Ge=j?j(Ke,Ae,me):n,Ge===n&&(Ge=sr(Ke)?Ke:Fo(u[I+1])?[]:{})}Ue(me,Ae,Ge),me=me[Ae]}return o}var Sd=pd?function(o,u){return pd.set(o,u),o}:ns,Qa=To?function(o,u){return To(o,"toString",{configurable:!0,enumerable:!1,value:P1(u),writable:!0})}:ns;function Jp(o){return am(Ld(o))}function Li(o,u,y){var j=-1,I=o.length;u<0&&(u=-u>I?0:I+u),y=y>I?I:y,y<0&&(y+=I),I=u>y?0:y-u>>>0,u>>>=0;for(var X=De(I);++j<I;)X[j]=o[j+u];return X}function c1(o,u){var y;return Mt(o,function(j,I,X){return y=u(j,I,X),!y}),!!y}function lu(o,u,y){var j=0,I=o==null?j:o.length;if(typeof u=="number"&&u===u&&I<=G){for(;j<I;){var X=j+I>>>1,le=o[X];le!==null&&!ks(le)&&(y?le<=u:le<u)?j=X+1:I=X}return I}return Za(o,u,ns,y)}function Za(o,u,y,j){var I=0,X=o==null?0:o.length;if(X===0)return 0;u=y(u);for(var le=u!==u,me=u===null,Ae=ks(u),Ge=u===n;I<X;){var Ke=Ol((I+X)/2),Ze=y(o[Ke]),ot=Ze!==n,xt=Ze===null,jt=Ze===Ze,zt=ks(Ze);if(le)var Et=j||jt;else Ge?Et=jt&&(j||ot):me?Et=jt&&ot&&(j||!xt):Ae?Et=jt&&ot&&!xt&&(j||!zt):xt||zt?Et=!1:Et=j?Ze<=u:Ze<u;Et?I=Ke+1:X=Ke}return $r(X,O)}function Xp(o,u){for(var y=-1,j=o.length,I=0,X=[];++y<j;){var le=o[y],me=u?u(le):le;if(!y||!ya(me,Ae)){var Ae=me;X[I++]=le===0?0:le}}return X}function nh(o){return typeof o=="number"?o:ks(o)?oe:+o}function Pi(o){if(typeof o=="string")return o;if(Ft(o))return un(o,Pi)+"";if(ks(o))return Ei?Ei.call(o):"";var u=o+"";return u=="0"&&1/o==-J?"-0":u}function ga(o,u,y){var j=-1,I=Sl,X=o.length,le=!0,me=[],Ae=me;if(y)le=!1,I=Ua;else if(X>=i){var Ge=u?null:uk(o);if(Ge)return qa(Ge);le=!1,I=za,Ae=new g}else Ae=u?[]:me;e:for(;++j<X;){var Ke=o[j],Ze=u?u(Ke):Ke;if(Ke=y||Ke!==0?Ke:0,le&&Ze===Ze){for(var ot=Ae.length;ot--;)if(Ae[ot]===Ze)continue e;u&&Ae.push(Ze),me.push(Ke)}else I(Ae,Ze,y)||(Ae!==me&&Ae.push(Ze),me.push(Ke))}return me}function rh(o,u){return u=Ys(u,o),o=Ew(o,u),o==null||delete o[no(Ks(u))]}function Vl(o,u,y,j){return Hl(o,u,y(zn(o,u)),j)}function Gl(o,u,y,j){for(var I=o.length,X=j?I:-1;(j?X--:++X<I)&&u(o[X],X,o););return y?Li(o,j?0:X,j?X+1:I):Li(o,j?X+1:0,j?I:X)}function cu(o,u){var y=o;return y instanceof qt&&(y=y.value()),zs(u,function(j,I){return I.func.apply(I.thisArg,Wi([j],I.args))},y)}function Ns(o,u,y){var j=o.length;if(j<2)return j?ga(o[0]):[];for(var I=-1,X=De(j);++I<j;)for(var le=o[I],me=-1;++me<j;)me!=I&&(X[I]=Wt(X[I]||le,o[me],u,y));return ga(Kt(X,1),u,y)}function va(o,u,y){for(var j=-1,I=o.length,X=u.length,le={};++j<I;){var me=j<X?u[j]:n;y(le,o[j],me)}return le}function Gs(o){return wr(o)?o:[]}function Yl(o){return typeof o=="function"?o:ns}function Ys(o,u){return Ft(o)?o:y1(o,u)?[o]:Pw(xn(o))}var Qp=$t;function eo(o,u,y){var j=o.length;return y=y===n?j:y,!u&&y>=j?o:Li(o,u,y)}var Nd=hd||function(o){return dr.clearTimeout(o)};function kd(o,u){if(u)return o.slice();var y=o.length,j=Zc?Zc(y):new o.constructor(y);return o.copy(j),j}function u1(o){var u=new o.constructor(o.byteLength);return new da(u).set(new da(o)),u}function tk(o,u){var y=u?u1(o.buffer):o.buffer;return new o.constructor(y,o.byteOffset,o.byteLength)}function nk(o){var u=new o.constructor(o.source,vs.exec(o));return u.lastIndex=o.lastIndex,u}function rk(o){return Xi?dn(Xi.call(o)):{}}function sw(o,u){var y=u?u1(o.buffer):o.buffer;return new o.constructor(y,o.byteOffset,o.length)}function aw(o,u){if(o!==u){var y=o!==n,j=o===null,I=o===o,X=ks(o),le=u!==n,me=u===null,Ae=u===u,Ge=ks(u);if(!me&&!Ge&&!X&&o>u||X&&le&&Ae&&!me&&!Ge||j&&le&&Ae||!y&&Ae||!I)return 1;if(!j&&!X&&!Ge&&o<u||Ge&&y&&I&&!j&&!X||me&&y&&I||!le&&I||!Ae)return-1}return 0}function ik(o,u,y){for(var j=-1,I=o.criteria,X=u.criteria,le=I.length,me=y.length;++j<le;){var Ae=aw(I[j],X[j]);if(Ae){if(j>=me)return Ae;var Ge=y[j];return Ae*(Ge=="desc"?-1:1)}}return o.index-u.index}function ow(o,u,y,j){for(var I=-1,X=o.length,le=y.length,me=-1,Ae=u.length,Ge=yr(X-le,0),Ke=De(Ae+Ge),Ze=!j;++me<Ae;)Ke[me]=u[me];for(;++I<le;)(Ze||I<X)&&(Ke[y[I]]=o[I]);for(;Ge--;)Ke[me++]=o[I++];return Ke}function lw(o,u,y,j){for(var I=-1,X=o.length,le=-1,me=y.length,Ae=-1,Ge=u.length,Ke=yr(X-me,0),Ze=De(Ke+Ge),ot=!j;++I<Ke;)Ze[I]=o[I];for(var xt=I;++Ae<Ge;)Ze[xt+Ae]=u[Ae];for(;++le<me;)(ot||I<X)&&(Ze[xt+y[le]]=o[I++]);return Ze}function Zi(o,u){var y=-1,j=o.length;for(u||(u=De(j));++y<j;)u[y]=o[y];return u}function to(o,u,y,j){var I=!y;y||(y={});for(var X=-1,le=u.length;++X<le;){var me=u[X],Ae=j?j(y[me],o[me],me,y,o):n;Ae===n&&(Ae=o[me]),I?We(y,me,Ae):Ue(y,me,Ae)}return y}function sk(o,u){return to(o,v1(o),u)}function ak(o,u){return to(o,bw(o),u)}function Zp(o,u){return function(y,j){var I=Ft(y)?dd:be,X=u?u():{};return I(y,o,kt(j,2),X)}}function jd(o){return $t(function(u,y){var j=-1,I=y.length,X=I>1?y[I-1]:n,le=I>2?y[2]:n;for(X=o.length>3&&typeof X=="function"?(I--,X):n,le&&Ti(y[0],y[1],le)&&(X=I<3?n:X,I=1),u=dn(u);++j<I;){var me=y[j];me&&o(u,me,j,X)}return u})}function cw(o,u){return function(y,j){if(y==null)return y;if(!es(y))return o(y,j);for(var I=y.length,X=u?I:-1,le=dn(y);(u?X--:++X<I)&&j(le[X],X,le)!==!1;);return y}}function uw(o){return function(u,y,j){for(var I=-1,X=dn(u),le=j(u),me=le.length;me--;){var Ae=le[o?me:++I];if(y(X[Ae],Ae,X)===!1)break}return u}}function ok(o,u,y){var j=u&C,I=ih(o);function X(){var le=this&&this!==dr&&this instanceof X?I:o;return le.apply(j?y:this,arguments)}return X}function dw(o){return function(u){u=xn(u);var y=ws(u)?ci(u):n,j=y?y[0]:u.charAt(0),I=y?eo(y,1).join(""):u.slice(1);return j[o]()+I}}function Ed(o){return function(u){return zs(cx(lx(u).replace(Bs,"")),o,"")}}function ih(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var y=Fl(o.prototype),j=o.apply(y,u);return sr(j)?j:y}}function lk(o,u,y){var j=ih(o);function I(){for(var X=arguments.length,le=De(X),me=X,Ae=Cd(I);me--;)le[me]=arguments[me];var Ge=X<3&&le[0]!==Ae&&le[X-1]!==Ae?[]:qs(le,Ae);if(X-=Ge.length,X<y)return gw(o,u,em,I.placeholder,n,le,Ge,n,n,y-X);var Ke=this&&this!==dr&&this instanceof I?j:o;return Tr(Ke,this,le)}return I}function fw(o){return function(u,y,j){var I=dn(u);if(!es(u)){var X=kt(y,3);u=zr(u),y=function(me){return X(I[me],me,I)}}var le=o(u,y,j);return le>-1?I[X?u[le]:le]:n}}function hw(o){return Ro(function(u){var y=u.length,j=y,I=Ci.prototype.thru;for(o&&u.reverse();j--;){var X=u[j];if(typeof X!="function")throw new Cr(a);if(I&&!le&&im(X)=="wrapper")var le=new Ci([],!0)}for(j=le?j:y;++j<y;){X=u[j];var me=im(X),Ae=me=="wrapper"?m1(X):n;Ae&&w1(Ae[0])&&Ae[1]==(W|L|Q|$)&&!Ae[4].length&&Ae[9]==1?le=le[im(Ae[0])].apply(le,Ae[3]):le=X.length==1&&w1(X)?le[me]():le.thru(X)}return function(){var Ge=arguments,Ke=Ge[0];if(le&&Ge.length==1&&Ft(Ke))return le.plant(Ke).value();for(var Ze=0,ot=y?u[Ze].apply(this,Ge):Ke;++Ze<y;)ot=u[Ze].call(this,ot);return ot}})}function em(o,u,y,j,I,X,le,me,Ae,Ge){var Ke=u&W,Ze=u&C,ot=u&_,xt=u&(L|F),jt=u&Z,zt=ot?n:ih(o);function Et(){for(var Jt=arguments.length,tn=De(Jt),js=Jt;js--;)tn[js]=arguments[js];if(xt)var Oi=Cd(Et),Es=jl(tn,Oi);if(j&&(tn=ow(tn,j,I,xt)),X&&(tn=lw(tn,X,le,xt)),Jt-=Es,xt&&Jt<Ge){var xr=qs(tn,Oi);return gw(o,u,em,Et.placeholder,y,tn,xr,me,Ae,Ge-Jt)}var wa=Ze?y:this,Uo=ot?wa[o]:o;return Jt=tn.length,me?tn=Ck(tn,me):jt&&Jt>1&&tn.reverse(),Ke&&Ae<Jt&&(tn.length=Ae),this&&this!==dr&&this instanceof Et&&(Uo=zt||ih(Uo)),Uo.apply(wa,tn)}return Et}function pw(o,u){return function(y,j){return Ka(y,o,u(j),{})}}function tm(o,u){return function(y,j){var I;if(y===n&&j===n)return u;if(y!==n&&(I=y),j!==n){if(I===n)return j;typeof y=="string"||typeof j=="string"?(y=Pi(y),j=Pi(j)):(y=nh(y),j=nh(j)),I=o(y,j)}return I}}function d1(o){return Ro(function(u){return u=un(u,Pn(kt())),$t(function(y){var j=this;return o(u,function(I){return Tr(I,j,y)})})})}function nm(o,u){u=u===n?" ":Pi(u);var y=u.length;if(y<2)return y?Mo(u,o):u;var j=Mo(u,Tl(o/la(u)));return ws(u)?eo(ci(j),0,o).join(""):j.slice(0,o)}function ck(o,u,y,j){var I=u&C,X=ih(o);function le(){for(var me=-1,Ae=arguments.length,Ge=-1,Ke=j.length,Ze=De(Ke+Ae),ot=this&&this!==dr&&this instanceof le?X:o;++Ge<Ke;)Ze[Ge]=j[Ge];for(;Ae--;)Ze[Ge++]=arguments[++me];return Tr(ot,I?y:this,Ze)}return le}function mw(o){return function(u,y,j){return j&&typeof j!="number"&&Ti(u,y,j)&&(y=j=n),u=Bo(u),y===n?(y=u,u=0):y=Bo(y),j=j===n?u<y?1:-1:Bo(j),th(u,y,j,o)}}function rm(o){return function(u,y){return typeof u=="string"&&typeof y=="string"||(u=Js(u),y=Js(y)),o(u,y)}}function gw(o,u,y,j,I,X,le,me,Ae,Ge){var Ke=u&L,Ze=Ke?le:n,ot=Ke?n:le,xt=Ke?X:n,jt=Ke?n:X;u|=Ke?Q:ee,u&=~(Ke?ee:Q),u&S||(u&=~(C|_));var zt=[o,u,I,xt,Ze,jt,ot,me,Ae,Ge],Et=y.apply(n,zt);return w1(o)&&Cw(Et,zt),Et.placeholder=j,Aw(Et,o,u)}function f1(o){var u=In[o];return function(y,j){if(y=Js(y),j=j==null?0:$r(Ut(j),292),j&&Ip(y)){var I=(xn(y)+"e").split("e"),X=u(I[0]+"e"+(+I[1]+j));return I=(xn(X)+"e").split("e"),+(I[0]+"e"+(+I[1]-j))}return u(y)}}var uk=Ml&&1/qa(new Ml([,-0]))[1]==J?function(o){return new Ml(o)}:D1;function vw(o){return function(u){var y=hi(u);return y==Oe?Eo(u):y==Fe?fd(u):Er(u,o(u))}}function Io(o,u,y,j,I,X,le,me){var Ae=u&_;if(!Ae&&typeof o!="function")throw new Cr(a);var Ge=j?j.length:0;if(Ge||(u&=~(Q|ee),j=I=n),le=le===n?le:yr(Ut(le),0),me=me===n?me:Ut(me),Ge-=I?I.length:0,u&ee){var Ke=j,Ze=I;j=I=n}var ot=Ae?n:m1(o),xt=[o,u,y,j,I,Ke,Ze,X,le,me];if(ot&&kk(xt,ot),o=xt[0],u=xt[1],y=xt[2],j=xt[3],I=xt[4],me=xt[9]=xt[9]===n?Ae?0:o.length:yr(xt[9]-Ge,0),!me&&u&(L|F)&&(u&=~(L|F)),!u||u==C)var jt=ok(o,u,y);else u==L||u==F?jt=lk(o,u,me):(u==Q||u==(C|Q))&&!I.length?jt=ck(o,u,y,j):jt=em.apply(n,xt);var zt=ot?Sd:Cw;return Aw(zt(jt,xt),o,u)}function yw(o,u,y,j){return o===n||ya(o,bs[y])&&!en.call(j,y)?u:o}function ww(o,u,y,j,I,X){return sr(o)&&sr(u)&&(X.set(u,o),ql(o,u,n,ww,X),X.delete(u)),o}function dk(o){return oh(o)?n:o}function xw(o,u,y,j,I,X){var le=y&N,me=o.length,Ae=u.length;if(me!=Ae&&!(le&&Ae>me))return!1;var Ge=X.get(o),Ke=X.get(u);if(Ge&&Ke)return Ge==u&&Ke==o;var Ze=-1,ot=!0,xt=y&k?new g:n;for(X.set(o,u),X.set(u,o);++Ze<me;){var jt=o[Ze],zt=u[Ze];if(j)var Et=le?j(zt,jt,Ze,u,o,X):j(jt,zt,Ze,o,u,X);if(Et!==n){if(Et)continue;ot=!1;break}if(xt){if(!x(u,function(Jt,tn){if(!za(xt,tn)&&(jt===Jt||I(jt,Jt,y,j,X)))return xt.push(tn)})){ot=!1;break}}else if(!(jt===zt||I(jt,zt,y,j,X))){ot=!1;break}}return X.delete(o),X.delete(u),ot}function fk(o,u,y,j,I,X,le){switch(y){case Nt:if(o.byteLength!=u.byteLength||o.byteOffset!=u.byteOffset)return!1;o=o.buffer,u=u.buffer;case vt:return!(o.byteLength!=u.byteLength||!X(new da(o),new da(u)));case Ee:case je:case ue:return ya(+o,+u);case fe:return o.name==u.name&&o.message==u.message;case Ne:case $e:return o==u+"";case Oe:var me=Eo;case Fe:var Ae=j&N;if(me||(me=qa),o.size!=u.size&&!Ae)return!1;var Ge=le.get(o);if(Ge)return Ge==u;j|=k,le.set(o,u);var Ke=xw(me(o),me(u),j,I,X,le);return le.delete(o),Ke;case Ye:if(Xi)return Xi.call(o)==Xi.call(u)}return!1}function hk(o,u,y,j,I,X){var le=y&N,me=h1(o),Ae=me.length,Ge=h1(u),Ke=Ge.length;if(Ae!=Ke&&!le)return!1;for(var Ze=Ae;Ze--;){var ot=me[Ze];if(!(le?ot in u:en.call(u,ot)))return!1}var xt=X.get(o),jt=X.get(u);if(xt&&jt)return xt==u&&jt==o;var zt=!0;X.set(o,u),X.set(u,o);for(var Et=le;++Ze<Ae;){ot=me[Ze];var Jt=o[ot],tn=u[ot];if(j)var js=le?j(tn,Jt,ot,u,o,X):j(Jt,tn,ot,o,u,X);if(!(js===n?Jt===tn||I(Jt,tn,y,j,X):js)){zt=!1;break}Et||(Et=ot=="constructor")}if(zt&&!Et){var Oi=o.constructor,Es=u.constructor;Oi!=Es&&"constructor"in o&&"constructor"in u&&!(typeof Oi=="function"&&Oi instanceof Oi&&typeof Es=="function"&&Es instanceof Es)&&(zt=!1)}return X.delete(o),X.delete(u),zt}function Ro(o){return b1(jw(o,n,Mw),o+"")}function h1(o){return Ur(o,zr,v1)}function p1(o){return Ur(o,ts,bw)}var m1=pd?function(o){return pd.get(o)}:D1;function im(o){for(var u=o.name+"",y=Rl[u],j=en.call(Rl,u)?y.length:0;j--;){var I=y[j],X=I.func;if(X==null||X==o)return I.name}return u}function Cd(o){var u=en.call(H,"placeholder")?H:o;return u.placeholder}function kt(){var o=H.iteratee||T1;return o=o===T1?Xf:o,arguments.length?o(arguments[0],arguments[1]):o}function sm(o,u){var y=o.__data__;return bk(u)?y[typeof u=="string"?"string":"hash"]:y.map}function g1(o){for(var u=zr(o),y=u.length;y--;){var j=u[y],I=o[j];u[y]=[j,I,Nw(I)]}return u}function uu(o,u){var y=Dr(o,u);return Do(y)?y:n}function pk(o){var u=en.call(o,Va),y=o[Va];try{o[Va]=n;var j=!0}catch{}var I=gn.call(o);return j&&(u?o[Va]=y:delete o[Va]),I}var v1=Dl?function(o){return o==null?[]:(o=dn(o),ys(Dl(o),function(u){return fi.call(o,u)}))}:M1,bw=Dl?function(o){for(var u=[];o;)Wi(u,v1(o)),o=Pl(o);return u}:M1,hi=Cn;(nu&&hi(new nu(new ArrayBuffer(1)))!=Nt||fa&&hi(new fa)!=Oe||Kf&&hi(Kf.resolve())!=Ie||Ml&&hi(new Ml)!=Fe||Il&&hi(new Il)!=at)&&(hi=function(o){var u=Cn(o),y=u==Ce?o.constructor:n,j=y?du(y):"";if(j)switch(j){case Jg:return Nt;case Ga:return Oe;case Ss:return Ie;case ha:return Fe;case Xg:return at}return u});function mk(o,u,y){for(var j=-1,I=y.length;++j<I;){var X=y[j],le=X.size;switch(X.type){case"drop":o+=le;break;case"dropRight":u-=le;break;case"take":u=$r(u,o+le);break;case"takeRight":o=yr(o,u-le);break}}return{start:o,end:u}}function gk(o){var u=o.match(Yn);return u?u[1].split(Ui):[]}function _w(o,u,y){u=Ys(u,o);for(var j=-1,I=u.length,X=!1;++j<I;){var le=no(u[j]);if(!(X=o!=null&&y(o,le)))break;o=o[le]}return X||++j!=I?X:(I=o==null?0:o.length,!!I&&fm(I)&&Fo(le,I)&&(Ft(o)||fu(o)))}function vk(o){var u=o.length,y=new o.constructor(u);return u&&typeof o[0]=="string"&&en.call(o,"index")&&(y.index=o.index,y.input=o.input),y}function Sw(o){return typeof o.constructor=="function"&&!sh(o)?Fl(Pl(o)):{}}function yk(o,u,y){var j=o.constructor;switch(u){case vt:return u1(o);case Ee:case je:return new j(+o);case Nt:return tk(o,y);case it:case St:case tt:case Un:case Vt:case Yr:case Qt:case pn:case si:return sw(o,y);case Oe:return new j;case ue:case $e:return new j(o);case Ne:return nk(o);case Fe:return new j;case Ye:return rk(o)}}function wk(o,u){var y=u.length;if(!y)return o;var j=y-1;return u[j]=(y>1?"& ":"")+u[j],u=u.join(y>2?", ":" "),o.replace(jn,`{
/* [wrapped with `+u+`] */
`)}function xk(o){return Ft(o)||fu(o)||!!(tu&&o&&o[tu])}function Fo(o,u){var y=typeof o;return u=u??B,!!u&&(y=="number"||y!="symbol"&&ll.test(o))&&o>-1&&o%1==0&&o<u}function Ti(o,u,y){if(!sr(y))return!1;var j=typeof u;return(j=="number"?es(y)&&Fo(u,y.length):j=="string"&&u in y)?ya(y[u],o):!1}function y1(o,u){if(Ft(o))return!1;var y=typeof o;return y=="number"||y=="symbol"||y=="boolean"||o==null||ks(o)?!0:Pr.test(o)||!tr.test(o)||u!=null&&o in dn(u)}function bk(o){var u=typeof o;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null}function w1(o){var u=im(o),y=H[u];if(typeof y!="function"||!(u in qt.prototype))return!1;if(o===y)return!0;var j=m1(y);return!!j&&o===j[0]}function _k(o){return!!ji&&ji in o}var Sk=Ws?$o:I1;function sh(o){var u=o&&o.constructor,y=typeof u=="function"&&u.prototype||bs;return o===y}function Nw(o){return o===o&&!sr(o)}function kw(o,u){return function(y){return y==null?!1:y[o]===u&&(u!==n||o in dn(y))}}function Nk(o){var u=um(o,function(j){return y.size===f&&y.clear(),j}),y=u.cache;return u}function kk(o,u){var y=o[1],j=u[1],I=y|j,X=I<(C|_|W),le=j==W&&y==L||j==W&&y==$&&o[7].length<=u[8]||j==(W|$)&&u[7].length<=u[8]&&y==L;if(!(X||le))return o;j&C&&(o[2]=u[2],I|=y&C?0:S);var me=u[3];if(me){var Ae=o[3];o[3]=Ae?ow(Ae,me,u[4]):me,o[4]=Ae?qs(o[3],p):u[4]}return me=u[5],me&&(Ae=o[5],o[5]=Ae?lw(Ae,me,u[6]):me,o[6]=Ae?qs(o[5],p):u[6]),me=u[7],me&&(o[7]=me),j&W&&(o[8]=o[8]==null?u[8]:$r(o[8],u[8])),o[9]==null&&(o[9]=u[9]),o[0]=u[0],o[1]=I,o}function jk(o){var u=[];if(o!=null)for(var y in dn(o))u.push(y);return u}function Ek(o){return gn.call(o)}function jw(o,u,y){return u=yr(u===n?o.length-1:u,0),function(){for(var j=arguments,I=-1,X=yr(j.length-u,0),le=De(X);++I<X;)le[I]=j[u+I];I=-1;for(var me=De(u+1);++I<u;)me[I]=j[I];return me[u]=y(le),Tr(o,this,me)}}function Ew(o,u){return u.length<2?o:zn(o,Li(u,0,-1))}function Ck(o,u){for(var y=o.length,j=$r(u.length,y),I=Zi(o);j--;){var X=u[j];o[j]=Fo(X,y)?I[X]:n}return o}function x1(o,u){if(!(u==="constructor"&&typeof o[u]=="function")&&u!="__proto__")return o[u]}var Cw=Lw(Sd),ah=Mp||function(o,u){return dr.setTimeout(o,u)},b1=Lw(Qa);function Aw(o,u,y){var j=u+"";return b1(o,wk(j,Ak(gk(j),y)))}function Lw(o){var u=0,y=0;return function(){var j=Yg(),I=V-(j-y);if(y=j,I>0){if(++u>=R)return arguments[0]}else u=0;return o.apply(n,arguments)}}function am(o,u){var y=-1,j=o.length,I=j-1;for(u=u===n?j:u;++y<u;){var X=Wl(y,I),le=o[X];o[X]=o[y],o[y]=le}return o.length=u,o}var Pw=Nk(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(ft,function(y,j,I,X){u.push(I?X.replace(ms,"$1"):j||y)}),u});function no(o){if(typeof o=="string"||ks(o))return o;var u=o+"";return u=="0"&&1/o==-J?"-0":u}function du(o){if(o!=null){try{return _s.call(o)}catch{}try{return o+""}catch{}}return""}function Ak(o,u){return Or(re,function(y){var j="_."+y[0];u&y[1]&&!Sl(o,j)&&o.push(j)}),o.sort()}function Tw(o){if(o instanceof qt)return o.clone();var u=new Ci(o.__wrapped__,o.__chain__);return u.__actions__=Zi(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}function Lk(o,u,y){(y?Ti(o,u,y):u===n)?u=1:u=yr(Ut(u),0);var j=o==null?0:o.length;if(!j||u<1)return[];for(var I=0,X=0,le=De(Tl(j/u));I<j;)le[X++]=Li(o,I,I+=u);return le}function Pk(o){for(var u=-1,y=o==null?0:o.length,j=0,I=[];++u<y;){var X=o[u];X&&(I[j++]=X)}return I}function Tk(){var o=arguments.length;if(!o)return[];for(var u=De(o-1),y=arguments[0],j=o;j--;)u[j-1]=arguments[j];return Wi(Ft(y)?Zi(y):[y],Kt(u,1))}var Ok=$t(function(o,u){return wr(o)?Wt(o,Kt(u,1,wr,!0)):[]}),Dk=$t(function(o,u){var y=Ks(u);return wr(y)&&(y=n),wr(o)?Wt(o,Kt(u,1,wr,!0),kt(y,2)):[]}),Mk=$t(function(o,u){var y=Ks(u);return wr(y)&&(y=n),wr(o)?Wt(o,Kt(u,1,wr,!0),n,y):[]});function Ik(o,u,y){var j=o==null?0:o.length;return j?(u=y||u===n?1:Ut(u),Li(o,u<0?0:u,j)):[]}function Rk(o,u,y){var j=o==null?0:o.length;return j?(u=y||u===n?1:Ut(u),u=j-u,Li(o,0,u<0?0:u)):[]}function Fk(o,u){return o&&o.length?Gl(o,kt(u,3),!0,!0):[]}function $k(o,u){return o&&o.length?Gl(o,kt(u,3),!0):[]}function Bk(o,u,y,j){var I=o==null?0:o.length;return I?(y&&typeof y!="number"&&Ti(o,u,y)&&(y=0,j=I),fr(o,u,y,j)):[]}function Ow(o,u,y){var j=o==null?0:o.length;if(!j)return-1;var I=y==null?0:Ut(y);return I<0&&(I=yr(j+I,0)),ze(o,kt(u,3),I)}function Dw(o,u,y){var j=o==null?0:o.length;if(!j)return-1;var I=j-1;return y!==n&&(I=Ut(y),I=y<0?yr(j+I,0):$r(I,j-1)),ze(o,kt(u,3),I,!0)}function Mw(o){var u=o==null?0:o.length;return u?Kt(o,1):[]}function Uk(o){var u=o==null?0:o.length;return u?Kt(o,J):[]}function zk(o,u){var y=o==null?0:o.length;return y?(u=u===n?1:Ut(u),Kt(o,u)):[]}function qk(o){for(var u=-1,y=o==null?0:o.length,j={};++u<y;){var I=o[u];j[I[0]]=I[1]}return j}function Iw(o){return o&&o.length?o[0]:n}function Wk(o,u,y){var j=o==null?0:o.length;if(!j)return-1;var I=y==null?0:Ut(y);return I<0&&(I=yr(j+I,0)),Xe(o,u,I)}function Hk(o){var u=o==null?0:o.length;return u?Li(o,0,-1):[]}var Vk=$t(function(o){var u=un(o,Gs);return u.length&&u[0]===o[0]?Ya(u):[]}),Gk=$t(function(o){var u=Ks(o),y=un(o,Gs);return u===Ks(y)?u=n:y.pop(),y.length&&y[0]===o[0]?Ya(y,kt(u,2)):[]}),Yk=$t(function(o){var u=Ks(o),y=un(o,Gs);return u=typeof u=="function"?u:n,u&&y.pop(),y.length&&y[0]===o[0]?Ya(y,n,u):[]});function Kk(o,u){return o==null?"":Gg.call(o,u)}function Ks(o){var u=o==null?0:o.length;return u?o[u-1]:n}function Jk(o,u,y){var j=o==null?0:o.length;if(!j)return-1;var I=j;return y!==n&&(I=Ut(y),I=I<0?yr(j+I,0):$r(I,j-1)),u===u?Ll(o,u,I):ze(o,bt,I,!0)}function Xk(o,u){return o&&o.length?Yp(o,Ut(u)):n}var Qk=$t(Rw);function Rw(o,u){return o&&o.length&&u&&u.length?bd(o,u):o}function Zk(o,u,y){return o&&o.length&&u&&u.length?bd(o,u,kt(y,2)):o}function ej(o,u,y){return o&&o.length&&u&&u.length?bd(o,u,n,y):o}var tj=Ro(function(o,u){var y=o==null?0:o.length,j=ct(o,u);return eh(o,un(u,function(I){return Fo(I,y)?+I:I}).sort(aw)),j});function nj(o,u){var y=[];if(!(o&&o.length))return y;var j=-1,I=[],X=o.length;for(u=kt(u,3);++j<X;){var le=o[j];u(le,j,o)&&(y.push(le),I.push(j))}return eh(o,I),y}function _1(o){return o==null?o:Yf.call(o)}function rj(o,u,y){var j=o==null?0:o.length;return j?(y&&typeof y!="number"&&Ti(o,u,y)?(u=0,y=j):(u=u==null?0:Ut(u),y=y===n?j:Ut(y)),Li(o,u,y)):[]}function ij(o,u){return lu(o,u)}function sj(o,u,y){return Za(o,u,kt(y,2))}function aj(o,u){var y=o==null?0:o.length;if(y){var j=lu(o,u);if(j<y&&ya(o[j],u))return j}return-1}function oj(o,u){return lu(o,u,!0)}function lj(o,u,y){return Za(o,u,kt(y,2),!0)}function cj(o,u){var y=o==null?0:o.length;if(y){var j=lu(o,u,!0)-1;if(ya(o[j],u))return j}return-1}function uj(o){return o&&o.length?Xp(o):[]}function dj(o,u){return o&&o.length?Xp(o,kt(u,2)):[]}function fj(o){var u=o==null?0:o.length;return u?Li(o,1,u):[]}function hj(o,u,y){return o&&o.length?(u=y||u===n?1:Ut(u),Li(o,0,u<0?0:u)):[]}function pj(o,u,y){var j=o==null?0:o.length;return j?(u=y||u===n?1:Ut(u),u=j-u,Li(o,u<0?0:u,j)):[]}function mj(o,u){return o&&o.length?Gl(o,kt(u,3),!1,!0):[]}function gj(o,u){return o&&o.length?Gl(o,kt(u,3)):[]}var vj=$t(function(o){return ga(Kt(o,1,wr,!0))}),yj=$t(function(o){var u=Ks(o);return wr(u)&&(u=n),ga(Kt(o,1,wr,!0),kt(u,2))}),wj=$t(function(o){var u=Ks(o);return u=typeof u=="function"?u:n,ga(Kt(o,1,wr,!0),n,u)});function xj(o){return o&&o.length?ga(o):[]}function bj(o,u){return o&&o.length?ga(o,kt(u,2)):[]}function _j(o,u){return u=typeof u=="function"?u:n,o&&o.length?ga(o,n,u):[]}function S1(o){if(!(o&&o.length))return[];var u=0;return o=ys(o,function(y){if(wr(y))return u=yr(y.length,u),!0}),jr(u,function(y){return un(o,Pt(y))})}function Fw(o,u){if(!(o&&o.length))return[];var y=S1(o);return u==null?y:un(y,function(j){return Tr(u,n,j)})}var Sj=$t(function(o,u){return wr(o)?Wt(o,u):[]}),Nj=$t(function(o){return Ns(ys(o,wr))}),kj=$t(function(o){var u=Ks(o);return wr(u)&&(u=n),Ns(ys(o,wr),kt(u,2))}),jj=$t(function(o){var u=Ks(o);return u=typeof u=="function"?u:n,Ns(ys(o,wr),n,u)}),Ej=$t(S1);function Cj(o,u){return va(o||[],u||[],Ue)}function Aj(o,u){return va(o||[],u||[],Hl)}var Lj=$t(function(o){var u=o.length,y=u>1?o[u-1]:n;return y=typeof y=="function"?(o.pop(),y):n,Fw(o,y)});function $w(o){var u=H(o);return u.__chain__=!0,u}function Pj(o,u){return u(o),o}function om(o,u){return u(o)}var Tj=Ro(function(o){var u=o.length,y=u?o[0]:0,j=this.__wrapped__,I=function(X){return ct(X,o)};return u>1||this.__actions__.length||!(j instanceof qt)||!Fo(y)?this.thru(I):(j=j.slice(y,+y+(u?1:0)),j.__actions__.push({func:om,args:[I],thisArg:n}),new Ci(j,this.__chain__).thru(function(X){return u&&!X.length&&X.push(n),X}))});function Oj(){return $w(this)}function Dj(){return new Ci(this.value(),this.__chain__)}function Mj(){this.__values__===n&&(this.__values__=Zw(this.value()));var o=this.__index__>=this.__values__.length,u=o?n:this.__values__[this.__index__++];return{done:o,value:u}}function Ij(){return this}function Rj(o){for(var u,y=this;y instanceof su;){var j=Tw(y);j.__index__=0,j.__values__=n,u?I.__wrapped__=j:u=j;var I=j;y=y.__wrapped__}return I.__wrapped__=o,u}function Fj(){var o=this.__wrapped__;if(o instanceof qt){var u=o;return this.__actions__.length&&(u=new qt(this)),u=u.reverse(),u.__actions__.push({func:om,args:[_1],thisArg:n}),new Ci(u,this.__chain__)}return this.thru(_1)}function $j(){return cu(this.__wrapped__,this.__actions__)}var Bj=Zp(function(o,u,y){en.call(o,y)?++o[y]:We(o,y,1)});function Uj(o,u,y){var j=Ft(o)?_l:wn;return y&&Ti(o,u,y)&&(u=n),j(o,kt(u,3))}function zj(o,u){var y=Ft(o)?ys:Zr;return y(o,kt(u,3))}var qj=fw(Ow),Wj=fw(Dw);function Hj(o,u){return Kt(lm(o,u),1)}function Vj(o,u){return Kt(lm(o,u),J)}function Gj(o,u,y){return y=y===n?1:Ut(y),Kt(lm(o,u),y)}function Bw(o,u){var y=Ft(o)?Or:Mt;return y(o,kt(u,3))}function Uw(o,u){var y=Ft(o)?Kc:yn;return y(o,kt(u,3))}var Yj=Zp(function(o,u,y){en.call(o,y)?o[y].push(u):We(o,y,[u])});function Kj(o,u,y,j){o=es(o)?o:Ld(o),y=y&&!j?Ut(y):0;var I=o.length;return y<0&&(y=yr(I+y,0)),hm(o)?y<=I&&o.indexOf(u,y)>-1:!!I&&Xe(o,u,y)>-1}var Jj=$t(function(o,u,y){var j=-1,I=typeof u=="function",X=es(o)?De(o.length):[];return Mt(o,function(le){X[++j]=I?Tr(u,le,y):An(le,u,y)}),X}),Xj=Zp(function(o,u,y){We(o,y,u)});function lm(o,u){var y=Ft(o)?un:zl;return y(o,kt(u,3))}function Qj(o,u,y,j){return o==null?[]:(Ft(u)||(u=u==null?[]:[u]),y=j?n:y,Ft(y)||(y=y==null?[]:[y]),Kp(o,u,y))}var Zj=Zp(function(o,u,y){o[y?0:1].push(u)},function(){return[[],[]]});function eE(o,u,y){var j=Ft(o)?zs:Mn,I=arguments.length<3;return j(o,kt(u,4),y,I,Mt)}function tE(o,u,y){var j=Ft(o)?Jc:Mn,I=arguments.length<3;return j(o,kt(u,4),y,I,yn)}function nE(o,u){var y=Ft(o)?ys:Zr;return y(o,dm(kt(u,3)))}function rE(o){var u=Ft(o)?Me:l1;return u(o)}function iE(o,u,y){(y?Ti(o,u,y):u===n)?u=1:u=Ut(u);var j=Ft(o)?Re:_d;return j(o,u)}function sE(o){var u=Ft(o)?Se:Jp;return u(o)}function aE(o){if(o==null)return 0;if(es(o))return hm(o)?la(o):o.length;var u=hi(o);return u==Oe||u==Fe?o.size:Bl(o).length}function oE(o,u,y){var j=Ft(o)?x:c1;return y&&Ti(o,u,y)&&(u=n),j(o,kt(u,3))}var lE=$t(function(o,u){if(o==null)return[];var y=u.length;return y>1&&Ti(o,u[0],u[1])?u=[]:y>2&&Ti(u[0],u[1],u[2])&&(u=[u[0]]),Kp(o,Kt(u,1),[])}),cm=Vf||function(){return dr.Date.now()};function cE(o,u){if(typeof u!="function")throw new Cr(a);return o=Ut(o),function(){if(--o<1)return u.apply(this,arguments)}}function zw(o,u,y){return u=y?n:u,u=o&&u==null?o.length:u,Io(o,W,n,n,n,n,u)}function qw(o,u){var y;if(typeof u!="function")throw new Cr(a);return o=Ut(o),function(){return--o>0&&(y=u.apply(this,arguments)),o<=1&&(u=n),y}}var N1=$t(function(o,u,y){var j=C;if(y.length){var I=qs(y,Cd(N1));j|=Q}return Io(o,j,u,y,I)}),Ww=$t(function(o,u,y){var j=C|_;if(y.length){var I=qs(y,Cd(Ww));j|=Q}return Io(u,j,o,y,I)});function Hw(o,u,y){u=y?n:u;var j=Io(o,L,n,n,n,n,n,u);return j.placeholder=Hw.placeholder,j}function Vw(o,u,y){u=y?n:u;var j=Io(o,F,n,n,n,n,n,u);return j.placeholder=Vw.placeholder,j}function Gw(o,u,y){var j,I,X,le,me,Ae,Ge=0,Ke=!1,Ze=!1,ot=!0;if(typeof o!="function")throw new Cr(a);u=Js(u)||0,sr(y)&&(Ke=!!y.leading,Ze="maxWait"in y,X=Ze?yr(Js(y.maxWait)||0,u):X,ot="trailing"in y?!!y.trailing:ot);function xt(xr){var wa=j,Uo=I;return j=I=n,Ge=xr,le=o.apply(Uo,wa),le}function jt(xr){return Ge=xr,me=ah(Jt,u),Ke?xt(xr):le}function zt(xr){var wa=xr-Ae,Uo=xr-Ge,fx=u-wa;return Ze?$r(fx,X-Uo):fx}function Et(xr){var wa=xr-Ae,Uo=xr-Ge;return Ae===n||wa>=u||wa<0||Ze&&Uo>=X}function Jt(){var xr=cm();if(Et(xr))return tn(xr);me=ah(Jt,zt(xr))}function tn(xr){return me=n,ot&&j?xt(xr):(j=I=n,le)}function js(){me!==n&&Nd(me),Ge=0,j=Ae=I=me=n}function Oi(){return me===n?le:tn(cm())}function Es(){var xr=cm(),wa=Et(xr);if(j=arguments,I=this,Ae=xr,wa){if(me===n)return jt(Ae);if(Ze)return Nd(me),me=ah(Jt,u),xt(Ae)}return me===n&&(me=ah(Jt,u)),le}return Es.cancel=js,Es.flush=Oi,Es}var uE=$t(function(o,u){return fn(o,1,u)}),dE=$t(function(o,u,y){return fn(o,Js(u)||0,y)});function fE(o){return Io(o,Z)}function um(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new Cr(a);var y=function(){var j=arguments,I=u?u.apply(this,j):j[0],X=y.cache;if(X.has(I))return X.get(I);var le=o.apply(this,j);return y.cache=X.set(I,le)||X,le};return y.cache=new(um.Cache||Vs),y}um.Cache=Vs;function dm(o){if(typeof o!="function")throw new Cr(a);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}function hE(o){return qw(2,o)}var pE=Qp(function(o,u){u=u.length==1&&Ft(u[0])?un(u[0],Pn(kt())):un(Kt(u,1),Pn(kt()));var y=u.length;return $t(function(j){for(var I=-1,X=$r(j.length,y);++I<X;)j[I]=u[I].call(this,j[I]);return Tr(o,this,j)})}),k1=$t(function(o,u){var y=qs(u,Cd(k1));return Io(o,Q,n,u,y)}),Yw=$t(function(o,u){var y=qs(u,Cd(Yw));return Io(o,ee,n,u,y)}),mE=Ro(function(o,u){return Io(o,$,n,n,n,u)});function gE(o,u){if(typeof o!="function")throw new Cr(a);return u=u===n?u:Ut(u),$t(o,u)}function vE(o,u){if(typeof o!="function")throw new Cr(a);return u=u==null?0:yr(Ut(u),0),$t(function(y){var j=y[u],I=eo(y,0,u);return j&&Wi(I,j),Tr(o,this,I)})}function yE(o,u,y){var j=!0,I=!0;if(typeof o!="function")throw new Cr(a);return sr(y)&&(j="leading"in y?!!y.leading:j,I="trailing"in y?!!y.trailing:I),Gw(o,u,{leading:j,maxWait:u,trailing:I})}function wE(o){return zw(o,1)}function xE(o,u){return k1(Yl(u),o)}function bE(){if(!arguments.length)return[];var o=arguments[0];return Ft(o)?o:[o]}function _E(o){return mt(o,v)}function SE(o,u){return u=typeof u=="function"?u:n,mt(o,v,u)}function NE(o){return mt(o,m|v)}function kE(o,u){return u=typeof u=="function"?u:n,mt(o,m|v,u)}function jE(o,u){return u==null||an(o,u,zr(u))}function ya(o,u){return o===u||o!==o&&u!==u}var EE=rm(Qi),CE=rm(function(o,u){return o>=u}),fu=vd(function(){return arguments}())?vd:function(o){return hr(o)&&en.call(o,"callee")&&!fi.call(o,"callee")},Ft=De.isArray,AE=xl?Pn(xl):qp;function es(o){return o!=null&&fm(o.length)&&!$o(o)}function wr(o){return hr(o)&&es(o)}function LE(o){return o===!0||o===!1||hr(o)&&Cn(o)==Ee}var Kl=Gf||I1,PE=Ba?Pn(Ba):Wp;function TE(o){return hr(o)&&o.nodeType===1&&!oh(o)}function OE(o){if(o==null)return!0;if(es(o)&&(Ft(o)||typeof o=="string"||typeof o.splice=="function"||Kl(o)||Ad(o)||fu(o)))return!o.length;var u=hi(o);if(u==Oe||u==Fe)return!o.size;if(sh(o))return!Bl(o).length;for(var y in o)if(en.call(o,y))return!1;return!0}function DE(o,u){return Ja(o,u)}function ME(o,u,y){y=typeof y=="function"?y:n;var j=y?y(o,u):n;return j===n?Ja(o,u,n,y):!!j}function j1(o){if(!hr(o))return!1;var u=Cn(o);return u==fe||u==we||typeof o.message=="string"&&typeof o.name=="string"&&!oh(o)}function IE(o){return typeof o=="number"&&Ip(o)}function $o(o){if(!sr(o))return!1;var u=Cn(o);return u==xe||u==Te||u==ke||u==ce}function Kw(o){return typeof o=="number"&&o==Ut(o)}function fm(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=B}function sr(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function hr(o){return o!=null&&typeof o=="object"}var Jw=cd?Pn(cd):yd;function RE(o,u){return o===u||Ai(o,u,g1(u))}function FE(o,u,y){return y=typeof y=="function"?y:n,Ai(o,u,g1(u),y)}function $E(o){return Xw(o)&&o!=+o}function BE(o){if(Sk(o))throw new wt(s);return Do(o)}function UE(o){return o===null}function zE(o){return o==null}function Xw(o){return typeof o=="number"||hr(o)&&Cn(o)==ue}function oh(o){if(!hr(o)||Cn(o)!=Ce)return!1;var u=Pl(o);if(u===null)return!0;var y=en.call(u,"constructor")&&u.constructor;return typeof y=="function"&&y instanceof y&&_s.call(y)==En}var E1=jo?Pn(jo):$l;function qE(o){return Kw(o)&&o>=-B&&o<=B}var Qw=ud?Pn(ud):Hp;function hm(o){return typeof o=="string"||!Ft(o)&&hr(o)&&Cn(o)==$e}function ks(o){return typeof o=="symbol"||hr(o)&&Cn(o)==Ye}var Ad=bl?Pn(bl):wd;function WE(o){return o===n}function HE(o){return hr(o)&&hi(o)==at}function VE(o){return hr(o)&&Cn(o)==lt}var GE=rm(Ul),YE=rm(function(o,u){return o<=u});function Zw(o){if(!o)return[];if(es(o))return hm(o)?ci(o):Zi(o);if(Ha&&o[Ha])return Al(o[Ha]());var u=hi(o),y=u==Oe?Eo:u==Fe?qa:Ld;return y(o)}function Bo(o){if(!o)return o===0?o:0;if(o=Js(o),o===J||o===-J){var u=o<0?-1:1;return u*te}return o===o?o:0}function Ut(o){var u=Bo(o),y=u%1;return u===u?y?u-y:u:0}function ex(o){return o?nt(Ut(o),0,Pe):0}function Js(o){if(typeof o=="number")return o;if(ks(o))return oe;if(sr(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=sr(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=Hi(o);var y=Rs.test(o);return y||ol.test(o)?ad(o.slice(2),y?2:8):zi.test(o)?oe:+o}function tx(o){return to(o,ts(o))}function KE(o){return o?nt(Ut(o),-B,B):o===0?o:0}function xn(o){return o==null?"":Pi(o)}var JE=jd(function(o,u){if(sh(u)||es(u)){to(u,zr(u),o);return}for(var y in u)en.call(u,y)&&Ue(o,y,u[y])}),nx=jd(function(o,u){to(u,ts(u),o)}),pm=jd(function(o,u,y,j){to(u,ts(u),o,j)}),XE=jd(function(o,u,y,j){to(u,zr(u),o,j)}),QE=Ro(ct);function ZE(o,u){var y=Fl(o);return u==null?y:He(y,u)}var e8=$t(function(o,u){o=dn(o);var y=-1,j=u.length,I=j>2?u[2]:n;for(I&&Ti(u[0],u[1],I)&&(j=1);++y<j;)for(var X=u[y],le=ts(X),me=-1,Ae=le.length;++me<Ae;){var Ge=le[me],Ke=o[Ge];(Ke===n||ya(Ke,bs[Ge])&&!en.call(o,Ge))&&(o[Ge]=X[Ge])}return o}),t8=$t(function(o){return o.push(n,ww),Tr(rx,n,o)});function n8(o,u){return Le(o,kt(u,3),Zn)}function r8(o,u){return Le(o,kt(u,3),ei)}function i8(o,u){return o==null?o:Br(o,kt(u,3),ts)}function s8(o,u){return o==null?o:hn(o,kt(u,3),ts)}function a8(o,u){return o&&Zn(o,kt(u,3))}function o8(o,u){return o&&ei(o,kt(u,3))}function l8(o){return o==null?[]:ir(o,zr(o))}function c8(o){return o==null?[]:ir(o,ts(o))}function C1(o,u,y){var j=o==null?n:zn(o,u);return j===n?y:j}function u8(o,u){return o!=null&&_w(o,u,Ar)}function A1(o,u){return o!=null&&_w(o,u,ma)}var d8=pw(function(o,u,y){u!=null&&typeof u.toString!="function"&&(u=gn.call(u)),o[u]=y},P1(ns)),f8=pw(function(o,u,y){u!=null&&typeof u.toString!="function"&&(u=gn.call(u)),en.call(o,u)?o[u].push(y):o[u]=[y]},kt),h8=$t(An);function zr(o){return es(o)?ye(o):Bl(o)}function ts(o){return es(o)?ye(o,!0):Qf(o)}function p8(o,u){var y={};return u=kt(u,3),Zn(o,function(j,I,X){We(y,u(j,I,X),j)}),y}function m8(o,u){var y={};return u=kt(u,3),Zn(o,function(j,I,X){We(y,I,u(j,I,X))}),y}var g8=jd(function(o,u,y){ql(o,u,y)}),rx=jd(function(o,u,y,j){ql(o,u,y,j)}),v8=Ro(function(o,u){var y={};if(o==null)return y;var j=!1;u=un(u,function(X){return X=Ys(X,o),j||(j=X.length>1),X}),to(o,p1(o),y),j&&(y=mt(y,m|w|v,dk));for(var I=u.length;I--;)rh(y,u[I]);return y});function y8(o,u){return ix(o,dm(kt(u)))}var w8=Ro(function(o,u){return o==null?{}:o1(o,u)});function ix(o,u){if(o==null)return{};var y=un(p1(o),function(j){return[j]});return u=kt(u),Zf(o,y,function(j,I){return u(j,I[0])})}function x8(o,u,y){u=Ys(u,o);var j=-1,I=u.length;for(I||(I=1,o=n);++j<I;){var X=o==null?n:o[no(u[j])];X===n&&(j=I,X=y),o=$o(X)?X.call(o):X}return o}function b8(o,u,y){return o==null?o:Hl(o,u,y)}function _8(o,u,y,j){return j=typeof j=="function"?j:n,o==null?o:Hl(o,u,y,j)}var sx=vw(zr),ax=vw(ts);function S8(o,u,y){var j=Ft(o),I=j||Kl(o)||Ad(o);if(u=kt(u,4),y==null){var X=o&&o.constructor;I?y=j?new X:[]:sr(o)?y=$o(X)?Fl(Pl(o)):{}:y={}}return(I?Or:Zn)(o,function(le,me,Ae){return u(y,le,me,Ae)}),y}function N8(o,u){return o==null?!0:rh(o,u)}function k8(o,u,y){return o==null?o:Vl(o,u,Yl(y))}function j8(o,u,y,j){return j=typeof j=="function"?j:n,o==null?o:Vl(o,u,Yl(y),j)}function Ld(o){return o==null?[]:Vi(o,zr(o))}function E8(o){return o==null?[]:Vi(o,ts(o))}function C8(o,u,y){return y===n&&(y=u,u=n),y!==n&&(y=Js(y),y=y===y?y:0),u!==n&&(u=Js(u),u=u===u?u:0),nt(Js(o),u,y)}function A8(o,u,y){return u=Bo(u),y===n?(y=u,u=0):y=Bo(y),o=Js(o),Oo(o,u,y)}function L8(o,u,y){if(y&&typeof y!="boolean"&&Ti(o,u,y)&&(u=y=n),y===n&&(typeof u=="boolean"?(y=u,u=n):typeof o=="boolean"&&(y=o,o=n)),o===n&&u===n?(o=0,u=1):(o=Bo(o),u===n?(u=o,o=0):u=Bo(u)),o>u){var j=o;o=u,u=j}if(y||o%1||u%1){var I=Fp();return $r(o+I*(u-o+wl("1e-"+((I+"").length-1))),u)}return Wl(o,u)}var P8=Ed(function(o,u,y){return u=u.toLowerCase(),o+(y?ox(u):u)});function ox(o){return L1(xn(o).toLowerCase())}function lx(o){return o=xn(o),o&&o.replace(cl,Xc).replace(sd,"")}function T8(o,u,y){o=xn(o),u=Pi(u);var j=o.length;y=y===n?j:nt(Ut(y),0,j);var I=y;return y-=u.length,y>=0&&o.slice(y,I)==u}function O8(o){return o=xn(o),o&&yt.test(o)?o.replace(bn,Qc):o}function D8(o){return o=xn(o),o&&nr.test(o)?o.replace(Gn,"\\$&"):o}var M8=Ed(function(o,u,y){return o+(y?"-":"")+u.toLowerCase()}),I8=Ed(function(o,u,y){return o+(y?" ":"")+u.toLowerCase()}),R8=dw("toLowerCase");function F8(o,u,y){o=xn(o),u=Ut(u);var j=u?la(o):0;if(!u||j>=u)return o;var I=(u-j)/2;return nm(Ol(I),y)+o+nm(Tl(I),y)}function $8(o,u,y){o=xn(o),u=Ut(u);var j=u?la(o):0;return u&&j<u?o+nm(u-j,y):o}function B8(o,u,y){o=xn(o),u=Ut(u);var j=u?la(o):0;return u&&j<u?nm(u-j,y)+o:o}function U8(o,u,y){return y||u==null?u=0:u&&(u=+u),Kg(xn(o).replace(kn,""),u||0)}function z8(o,u,y){return(y?Ti(o,u,y):u===n)?u=1:u=Ut(u),Mo(xn(o),u)}function q8(){var o=arguments,u=xn(o[0]);return o.length<3?u:u.replace(o[1],o[2])}var W8=Ed(function(o,u,y){return o+(y?"_":"")+u.toLowerCase()});function H8(o,u,y){return y&&typeof y!="number"&&Ti(o,u,y)&&(u=y=n),y=y===n?Pe:y>>>0,y?(o=xn(o),o&&(typeof u=="string"||u!=null&&!E1(u))&&(u=Pi(u),!u&&ws(o))?eo(ci(o),0,y):o.split(u,y)):[]}var V8=Ed(function(o,u,y){return o+(y?" ":"")+L1(u)});function G8(o,u,y){return o=xn(o),y=y==null?0:nt(Ut(y),0,o.length),u=Pi(u),o.slice(y,y+u.length)==u}function Y8(o,u,y){var j=H.templateSettings;y&&Ti(o,u,y)&&(u=n),o=xn(o),u=pm({},u,j,yw);var I=pm({},u.imports,j.imports,yw),X=zr(I),le=Vi(I,X),me,Ae,Ge=0,Ke=u.interpolate||oa,Ze="__p += '",ot=Ao((u.escape||oa).source+"|"+Ke.source+"|"+(Ke===rn?gs:oa).source+"|"+(u.evaluate||oa).source+"|$","g"),xt="//# sourceURL="+(en.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Wf+"]")+`
`;o.replace(ot,function(Et,Jt,tn,js,Oi,Es){return tn||(tn=js),Ze+=o.slice(Ge,Es).replace(Yu,El),Jt&&(me=!0,Ze+=`' +
__e(`+Jt+`) +
'`),Oi&&(Ae=!0,Ze+=`';
`+Oi+`;
__p += '`),tn&&(Ze+=`' +
((__t = (`+tn+`)) == null ? '' : __t) +
'`),Ge=Es+Et.length,Et}),Ze+=`';
`;var jt=en.call(u,"variable")&&u.variable;if(!jt)Ze=`with (obj) {
`+Ze+`
}
`;else if(ps.test(jt))throw new wt(l);Ze=(Ae?Ze.replace(Zt,""):Ze).replace(aa,"$1").replace(Dn,"$1;"),Ze="function("+(jt||"obj")+`) {
`+(jt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(me?", __e = _.escape":"")+(Ae?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ze+`return __p
}`;var zt=ux(function(){return It(X,xt+"return "+Ze).apply(n,le)});if(zt.source=Ze,j1(zt))throw zt;return zt}function K8(o){return xn(o).toLowerCase()}function J8(o){return xn(o).toUpperCase()}function X8(o,u,y){if(o=xn(o),o&&(y||u===n))return Hi(o);if(!o||!(u=Pi(u)))return o;var j=ci(o),I=ci(u),X=Nl(j,I),le=kl(j,I)+1;return eo(j,X,le).join("")}function Q8(o,u,y){if(o=xn(o),o&&(y||u===n))return o.slice(0,ca(o)+1);if(!o||!(u=Pi(u)))return o;var j=ci(o),I=kl(j,ci(u))+1;return eo(j,0,I).join("")}function Z8(o,u,y){if(o=xn(o),o&&(y||u===n))return o.replace(kn,"");if(!o||!(u=Pi(u)))return o;var j=ci(o),I=Nl(j,ci(u));return eo(j,I).join("")}function eC(o,u){var y=ie,j=D;if(sr(u)){var I="separator"in u?u.separator:I;y="length"in u?Ut(u.length):y,j="omission"in u?Pi(u.omission):j}o=xn(o);var X=o.length;if(ws(o)){var le=ci(o);X=le.length}if(y>=X)return o;var me=y-la(j);if(me<1)return j;var Ae=le?eo(le,0,me).join(""):o.slice(0,me);if(I===n)return Ae+j;if(le&&(me+=Ae.length-me),E1(I)){if(o.slice(me).search(I)){var Ge,Ke=Ae;for(I.global||(I=Ao(I.source,xn(vs.exec(I))+"g")),I.lastIndex=0;Ge=I.exec(Ke);)var Ze=Ge.index;Ae=Ae.slice(0,Ze===n?me:Ze)}}else if(o.indexOf(Pi(I),me)!=me){var ot=Ae.lastIndexOf(I);ot>-1&&(Ae=Ae.slice(0,ot))}return Ae+j}function tC(o){return o=xn(o),o&&Gt.test(o)?o.replace(ai,Co):o}var nC=Ed(function(o,u,y){return o+(y?" ":"")+u.toUpperCase()}),L1=dw("toUpperCase");function cx(o,u,y){return o=xn(o),u=y?n:u,u===n?Cl(o)?Wa(o):pe(o):o.match(u)||[]}var ux=$t(function(o,u){try{return Tr(o,n,u)}catch(y){return j1(y)?y:new wt(y)}}),rC=Ro(function(o,u){return Or(u,function(y){y=no(y),We(o,y,N1(o[y],o))}),o});function iC(o){var u=o==null?0:o.length,y=kt();return o=u?un(o,function(j){if(typeof j[1]!="function")throw new Cr(a);return[y(j[0]),j[1]]}):[],$t(function(j){for(var I=-1;++I<u;){var X=o[I];if(Tr(X[0],this,j))return Tr(X[1],this,j)}})}function sC(o){return st(mt(o,m))}function P1(o){return function(){return o}}function aC(o,u){return o==null||o!==o?u:o}var oC=hw(),lC=hw(!0);function ns(o){return o}function T1(o){return Xf(typeof o=="function"?o:mt(o,m))}function cC(o){return Vp(mt(o,m))}function uC(o,u){return Gp(o,mt(u,m))}var dC=$t(function(o,u){return function(y){return An(y,o,u)}}),fC=$t(function(o,u){return function(y){return An(o,y,u)}});function O1(o,u,y){var j=zr(u),I=ir(u,j);y==null&&!(sr(u)&&(I.length||!j.length))&&(y=u,u=o,o=this,I=ir(u,zr(u)));var X=!(sr(y)&&"chain"in y)||!!y.chain,le=$o(o);return Or(I,function(me){var Ae=u[me];o[me]=Ae,le&&(o.prototype[me]=function(){var Ge=this.__chain__;if(X||Ge){var Ke=o(this.__wrapped__),Ze=Ke.__actions__=Zi(this.__actions__);return Ze.push({func:Ae,args:arguments,thisArg:o}),Ke.__chain__=Ge,Ke}return Ae.apply(o,Wi([this.value()],arguments))})}),o}function hC(){return dr._===this&&(dr._=rr),this}function D1(){}function pC(o){return o=Ut(o),$t(function(u){return Yp(u,o)})}var mC=d1(un),gC=d1(_l),vC=d1(x);function dx(o){return y1(o)?Pt(no(o)):xd(o)}function yC(o){return function(u){return o==null?n:zn(o,u)}}var wC=mw(),xC=mw(!0);function M1(){return[]}function I1(){return!1}function bC(){return{}}function _C(){return""}function SC(){return!0}function NC(o,u){if(o=Ut(o),o<1||o>B)return[];var y=Pe,j=$r(o,Pe);u=kt(u),o-=Pe;for(var I=jr(j,u);++y<o;)u(y);return I}function kC(o){return Ft(o)?un(o,no):ks(o)?[o]:Zi(Pw(xn(o)))}function jC(o){var u=++Yi;return xn(o)+u}var EC=tm(function(o,u){return o+u},0),CC=f1("ceil"),AC=tm(function(o,u){return o/u},1),LC=f1("floor");function PC(o){return o&&o.length?Ot(o,ns,Qi):n}function TC(o,u){return o&&o.length?Ot(o,kt(u,2),Qi):n}function OC(o){return Dt(o,ns)}function DC(o,u){return Dt(o,kt(u,2))}function MC(o){return o&&o.length?Ot(o,ns,Ul):n}function IC(o,u){return o&&o.length?Ot(o,kt(u,2),Ul):n}var RC=tm(function(o,u){return o*u},1),FC=f1("round"),$C=tm(function(o,u){return o-u},0);function BC(o){return o&&o.length?Qn(o,ns):0}function UC(o,u){return o&&o.length?Qn(o,kt(u,2)):0}return H.after=cE,H.ary=zw,H.assign=JE,H.assignIn=nx,H.assignInWith=pm,H.assignWith=XE,H.at=QE,H.before=qw,H.bind=N1,H.bindAll=rC,H.bindKey=Ww,H.castArray=bE,H.chain=$w,H.chunk=Lk,H.compact=Pk,H.concat=Tk,H.cond=iC,H.conforms=sC,H.constant=P1,H.countBy=Bj,H.create=ZE,H.curry=Hw,H.curryRight=Vw,H.debounce=Gw,H.defaults=e8,H.defaultsDeep=t8,H.defer=uE,H.delay=dE,H.difference=Ok,H.differenceBy=Dk,H.differenceWith=Mk,H.drop=Ik,H.dropRight=Rk,H.dropRightWhile=Fk,H.dropWhile=$k,H.fill=Bk,H.filter=zj,H.flatMap=Hj,H.flatMapDeep=Vj,H.flatMapDepth=Gj,H.flatten=Mw,H.flattenDeep=Uk,H.flattenDepth=zk,H.flip=fE,H.flow=oC,H.flowRight=lC,H.fromPairs=qk,H.functions=l8,H.functionsIn=c8,H.groupBy=Yj,H.initial=Hk,H.intersection=Vk,H.intersectionBy=Gk,H.intersectionWith=Yk,H.invert=d8,H.invertBy=f8,H.invokeMap=Jj,H.iteratee=T1,H.keyBy=Xj,H.keys=zr,H.keysIn=ts,H.map=lm,H.mapKeys=p8,H.mapValues=m8,H.matches=cC,H.matchesProperty=uC,H.memoize=um,H.merge=g8,H.mergeWith=rx,H.method=dC,H.methodOf=fC,H.mixin=O1,H.negate=dm,H.nthArg=pC,H.omit=v8,H.omitBy=y8,H.once=hE,H.orderBy=Qj,H.over=mC,H.overArgs=pE,H.overEvery=gC,H.overSome=vC,H.partial=k1,H.partialRight=Yw,H.partition=Zj,H.pick=w8,H.pickBy=ix,H.property=dx,H.propertyOf=yC,H.pull=Qk,H.pullAll=Rw,H.pullAllBy=Zk,H.pullAllWith=ej,H.pullAt=tj,H.range=wC,H.rangeRight=xC,H.rearg=mE,H.reject=nE,H.remove=nj,H.rest=gE,H.reverse=_1,H.sampleSize=iE,H.set=b8,H.setWith=_8,H.shuffle=sE,H.slice=rj,H.sortBy=lE,H.sortedUniq=uj,H.sortedUniqBy=dj,H.split=H8,H.spread=vE,H.tail=fj,H.take=hj,H.takeRight=pj,H.takeRightWhile=mj,H.takeWhile=gj,H.tap=Pj,H.throttle=yE,H.thru=om,H.toArray=Zw,H.toPairs=sx,H.toPairsIn=ax,H.toPath=kC,H.toPlainObject=tx,H.transform=S8,H.unary=wE,H.union=vj,H.unionBy=yj,H.unionWith=wj,H.uniq=xj,H.uniqBy=bj,H.uniqWith=_j,H.unset=N8,H.unzip=S1,H.unzipWith=Fw,H.update=k8,H.updateWith=j8,H.values=Ld,H.valuesIn=E8,H.without=Sj,H.words=cx,H.wrap=xE,H.xor=Nj,H.xorBy=kj,H.xorWith=jj,H.zip=Ej,H.zipObject=Cj,H.zipObjectDeep=Aj,H.zipWith=Lj,H.entries=sx,H.entriesIn=ax,H.extend=nx,H.extendWith=pm,O1(H,H),H.add=EC,H.attempt=ux,H.camelCase=P8,H.capitalize=ox,H.ceil=CC,H.clamp=C8,H.clone=_E,H.cloneDeep=NE,H.cloneDeepWith=kE,H.cloneWith=SE,H.conformsTo=jE,H.deburr=lx,H.defaultTo=aC,H.divide=AC,H.endsWith=T8,H.eq=ya,H.escape=O8,H.escapeRegExp=D8,H.every=Uj,H.find=qj,H.findIndex=Ow,H.findKey=n8,H.findLast=Wj,H.findLastIndex=Dw,H.findLastKey=r8,H.floor=LC,H.forEach=Bw,H.forEachRight=Uw,H.forIn=i8,H.forInRight=s8,H.forOwn=a8,H.forOwnRight=o8,H.get=C1,H.gt=EE,H.gte=CE,H.has=u8,H.hasIn=A1,H.head=Iw,H.identity=ns,H.includes=Kj,H.indexOf=Wk,H.inRange=A8,H.invoke=h8,H.isArguments=fu,H.isArray=Ft,H.isArrayBuffer=AE,H.isArrayLike=es,H.isArrayLikeObject=wr,H.isBoolean=LE,H.isBuffer=Kl,H.isDate=PE,H.isElement=TE,H.isEmpty=OE,H.isEqual=DE,H.isEqualWith=ME,H.isError=j1,H.isFinite=IE,H.isFunction=$o,H.isInteger=Kw,H.isLength=fm,H.isMap=Jw,H.isMatch=RE,H.isMatchWith=FE,H.isNaN=$E,H.isNative=BE,H.isNil=zE,H.isNull=UE,H.isNumber=Xw,H.isObject=sr,H.isObjectLike=hr,H.isPlainObject=oh,H.isRegExp=E1,H.isSafeInteger=qE,H.isSet=Qw,H.isString=hm,H.isSymbol=ks,H.isTypedArray=Ad,H.isUndefined=WE,H.isWeakMap=HE,H.isWeakSet=VE,H.join=Kk,H.kebabCase=M8,H.last=Ks,H.lastIndexOf=Jk,H.lowerCase=I8,H.lowerFirst=R8,H.lt=GE,H.lte=YE,H.max=PC,H.maxBy=TC,H.mean=OC,H.meanBy=DC,H.min=MC,H.minBy=IC,H.stubArray=M1,H.stubFalse=I1,H.stubObject=bC,H.stubString=_C,H.stubTrue=SC,H.multiply=RC,H.nth=Xk,H.noConflict=hC,H.noop=D1,H.now=cm,H.pad=F8,H.padEnd=$8,H.padStart=B8,H.parseInt=U8,H.random=L8,H.reduce=eE,H.reduceRight=tE,H.repeat=z8,H.replace=q8,H.result=x8,H.round=FC,H.runInContext=_e,H.sample=rE,H.size=aE,H.snakeCase=W8,H.some=oE,H.sortedIndex=ij,H.sortedIndexBy=sj,H.sortedIndexOf=aj,H.sortedLastIndex=oj,H.sortedLastIndexBy=lj,H.sortedLastIndexOf=cj,H.startCase=V8,H.startsWith=G8,H.subtract=$C,H.sum=BC,H.sumBy=UC,H.template=Y8,H.times=NC,H.toFinite=Bo,H.toInteger=Ut,H.toLength=ex,H.toLower=K8,H.toNumber=Js,H.toSafeInteger=KE,H.toString=xn,H.toUpper=J8,H.trim=X8,H.trimEnd=Q8,H.trimStart=Z8,H.truncate=eC,H.unescape=tC,H.uniqueId=jC,H.upperCase=nC,H.upperFirst=L1,H.each=Bw,H.eachRight=Uw,H.first=Iw,O1(H,function(){var o={};return Zn(H,function(u,y){en.call(H.prototype,y)||(o[y]=u)}),o}(),{chain:!1}),H.VERSION=r,Or(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){H[o].placeholder=H}),Or(["drop","take"],function(o,u){qt.prototype[o]=function(y){y=y===n?1:yr(Ut(y),0);var j=this.__filtered__&&!u?new qt(this):this.clone();return j.__filtered__?j.__takeCount__=$r(y,j.__takeCount__):j.__views__.push({size:$r(y,Pe),type:o+(j.__dir__<0?"Right":"")}),j},qt.prototype[o+"Right"]=function(y){return this.reverse()[o](y).reverse()}}),Or(["filter","map","takeWhile"],function(o,u){var y=u+1,j=y==Y||y==ge;qt.prototype[o]=function(I){var X=this.clone();return X.__iteratees__.push({iteratee:kt(I,3),type:y}),X.__filtered__=X.__filtered__||j,X}}),Or(["head","last"],function(o,u){var y="take"+(u?"Right":"");qt.prototype[o]=function(){return this[y](1).value()[0]}}),Or(["initial","tail"],function(o,u){var y="drop"+(u?"":"Right");qt.prototype[o]=function(){return this.__filtered__?new qt(this):this[y](1)}}),qt.prototype.compact=function(){return this.filter(ns)},qt.prototype.find=function(o){return this.filter(o).head()},qt.prototype.findLast=function(o){return this.reverse().find(o)},qt.prototype.invokeMap=$t(function(o,u){return typeof o=="function"?new qt(this):this.map(function(y){return An(y,o,u)})}),qt.prototype.reject=function(o){return this.filter(dm(kt(o)))},qt.prototype.slice=function(o,u){o=Ut(o);var y=this;return y.__filtered__&&(o>0||u<0)?new qt(y):(o<0?y=y.takeRight(-o):o&&(y=y.drop(o)),u!==n&&(u=Ut(u),y=u<0?y.dropRight(-u):y.take(u-o)),y)},qt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},qt.prototype.toArray=function(){return this.take(Pe)},Zn(qt.prototype,function(o,u){var y=/^(?:filter|find|map|reject)|While$/.test(u),j=/^(?:head|last)$/.test(u),I=H[j?"take"+(u=="last"?"Right":""):u],X=j||/^find/.test(u);I&&(H.prototype[u]=function(){var le=this.__wrapped__,me=j?[1]:arguments,Ae=le instanceof qt,Ge=me[0],Ke=Ae||Ft(le),Ze=function(Jt){var tn=I.apply(H,Wi([Jt],me));return j&&ot?tn[0]:tn};Ke&&y&&typeof Ge=="function"&&Ge.length!=1&&(Ae=Ke=!1);var ot=this.__chain__,xt=!!this.__actions__.length,jt=X&&!ot,zt=Ae&&!xt;if(!X&&Ke){le=zt?le:new qt(this);var Et=o.apply(le,me);return Et.__actions__.push({func:om,args:[Ze],thisArg:n}),new Ci(Et,ot)}return jt&&zt?o.apply(this,me):(Et=this.thru(Ze),jt?j?Et.value()[0]:Et.value():Et)})}),Or(["pop","push","shift","sort","splice","unshift"],function(o){var u=xs[o],y=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",j=/^(?:pop|shift)$/.test(o);H.prototype[o]=function(){var I=arguments;if(j&&!this.__chain__){var X=this.value();return u.apply(Ft(X)?X:[],I)}return this[y](function(le){return u.apply(Ft(le)?le:[],I)})}}),Zn(qt.prototype,function(o,u){var y=H[u];if(y){var j=y.name+"";en.call(Rl,j)||(Rl[j]=[]),Rl[j].push({name:u,func:y})}}),Rl[em(n,_).name]=[{name:"wrapper",func:n}],qt.prototype.clone=$p,qt.prototype.reverse=Qg,qt.prototype.value=md,H.prototype.at=Tj,H.prototype.chain=Oj,H.prototype.commit=Dj,H.prototype.next=Mj,H.prototype.plant=Rj,H.prototype.reverse=Fj,H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=$j,H.prototype.first=H.prototype.head,Ha&&(H.prototype[Ha]=Ij),H},di=ua();Kr?((Kr.exports=di)._=di,qi._=di):dr._=di}).call(ni)})(G0,G0.exports);var P$=G0.exports;async function Y0(e){return Fn(async()=>{const{data:t,error:n}=await Je.from("songs").select("*").eq("group_id",e).order("title");return{data:t,error:n}},"Error al cargar las canciones")}async function _3(e){const t={...e,type:e.type||"song"};return Fn(async()=>{const{data:n,error:r}=await Je.from("songs").insert(t).select().single();return{data:n,error:r}},"Error al crear la canción")}async function T$(e,t,n){const{data:{user:r}}=await Je.auth.getUser();if(!r)return Be.error("No se pudo obtener la información del usuario"),null;const i={group_id:e,title:t,type:"medley",medley_song_ids:n,created_by:r.id};return Fn(async()=>{const{data:s,error:a}=await Je.from("songs").insert(i).select().single();return{data:s,error:a}},"Error al crear el medley")}async function S3(e,t){return Fn(async()=>{const{data:n,error:r}=await Je.from("songs").update(t).eq("id",e).select().single();return{data:n,error:r}},"Error al actualizar la canción")}async function O$(e){try{const{error:t}=await Je.from("songs").delete().eq("id",e);return t?(console.error("Error al eliminar la canción:",t),Be.error("Error al eliminar la canción"),!1):!0}catch(t){return console.error("Error al eliminar la canción:",t),Be.error("Error al eliminar la canción"),!1}}async function ay(e){return Fn(async()=>{const{data:t,error:n}=await Je.from("setlists").select(`
          *,
          songs:setlist_songs(
            *,
            song:songs(*)
          )
        `).eq("group_id",e).order("name");return{data:t,error:n}},"Error al cargar los setlists")}async function N3(e){return Fn(async()=>{const{data:t,error:n}=await Je.from("setlists").select(`
          *,
          songs:setlist_songs(
            *,
            song:songs(*)
          )
        `).eq("id",e).single();return{data:t,error:n}},"Error al cargar el setlist")}async function u6(e){return Fn(async()=>{const{data:t,error:n}=await Je.from("setlists").insert(e).select().single();return{data:t,error:n}},"Error al crear el setlist")}async function D$(e,t){return Fn(async()=>{const{data:n,error:r}=await Je.from("setlists").update(t).eq("id",e).select().single();return{data:n,error:r}},"Error al actualizar el setlist")}async function M$(e){try{const{error:t}=await Je.from("setlists").delete().eq("id",e);return t?(console.error("Error al eliminar el setlist:",t),Be.error("Error al eliminar el setlist"),!1):!0}catch(t){return console.error("Error al eliminar el setlist:",t),Be.error("Error al eliminar el setlist"),!1}}async function oy(e,t,n){try{console.log("Iniciando addSongToSetlist con:",{setlistId:e,songId:t,position:n});const{data:{user:r}}=await Je.auth.getUser();if(!r)return console.error("No se pudo obtener la información del usuario"),Be.error("No se pudo obtener la información del usuario"),null;console.log("Usuario autenticado:",r.id);const i={setlist_id:e,song_id:t,position:n,created_by:r.id};console.log("Datos a insertar:",i);const{data:s,error:a}=await Je.from("setlist_songs").insert(i).select().single();return a?(console.error("Error de Supabase al añadir la canción al setlist:",a),console.error("Código de error:",a.code),console.error("Mensaje de error:",a.message),console.error("Detalles:",a.details),Be.error(`Error al añadir la canción al setlist: ${a.message}`),null):(console.log("Canción añadida exitosamente:",s),s)}catch(r){return console.error("Error general al añadir la canción al setlist:",r),Be.error("Error al añadir la canción al setlist"),null}}async function I$(e,t){try{const{error:n,count:r}=await Je.from("setlist_songs").delete().eq("setlist_id",e).eq("song_id",t);return console.log("Resultado de Supabase al eliminar:",{error:n,count:r}),n?(console.error("Error al eliminar la canción del setlist:",n),Be.error("Error al eliminar la canción del setlist"),!1):!0}catch(n){return console.error("Error al eliminar la canción del setlist:",n),Be.error("Error al eliminar la canción del setlist"),!1}}async function R$(e,t){try{const{error:n}=await Je.rpc("reorder_setlist_songs",{p_setlist_id:e,p_song_positions:t});return n?(console.error("Error al reordenar las canciones del setlist:",n),Be.error("Error al reordenar las canciones del setlist"),!1):!0}catch(n){return console.error("Error al reordenar las canciones del setlist:",n),Be.error("Error al reordenar las canciones del setlist"),!1}}async function k3(e,t){return await Fn(async()=>{const{data:r,error:i}=await Je.from("events").update({setlist_id:t}).eq("id",e);return{data:r,error:i}},"Error al asignar el setlist al evento")!==null}async function F$(e,t){return Fn(async()=>{const{data:n,error:r}=await Je.from("songs").update(t).eq("id",e).eq("type","medley").select().single();return{data:n,error:r}},"Error al actualizar el medley")}async function $$(e,t){try{const{data:n,error:r}=await Je.from("songs").select("medley_song_ids").eq("id",e).eq("type","medley").single();if(r)return console.error("Error al obtener el medley:",r),Be.error("Error al obtener el medley"),null;const s=[...n.medley_song_ids||[],t],{data:a,error:l}=await Je.from("songs").update({medley_song_ids:s}).eq("id",e).select().single();return l?(console.error("Error al añadir la canción al medley:",l),Be.error("Error al añadir la canción al medley"),null):a}catch(n){return console.error("Error al añadir la canción al medley:",n),Be.error("Error al añadir la canción al medley"),null}}async function B$(e,t){try{const{data:n,error:r}=await Je.from("songs").select("medley_song_ids").eq("id",e).eq("type","medley").single();if(r)return console.error("Error al obtener el medley:",r),Be.error("Error al obtener el medley"),!1;const s=(n.medley_song_ids||[]).filter(l=>l!==t),{error:a}=await Je.from("songs").update({medley_song_ids:s}).eq("id",e);return a?(console.error("Error al eliminar la canción del medley:",a),Be.error("Error al eliminar la canción del medley"),!1):!0}catch(n){return console.error("Error al eliminar la canción del medley:",n),Be.error("Error al eliminar la canción del medley"),!1}}async function U$(e){try{const{error:t}=await Je.from("songs").delete().eq("id",e).eq("type","medley");return t?(console.error("Error al eliminar el medley:",t),Be.error("Error al eliminar el medley"),!1):!0}catch(t){return console.error("Error al eliminar el medley:",t),Be.error("Error al eliminar el medley"),!1}}async function z$(e,t){try{const n=await N3(e);if(!n)return Be.error("No se pudo encontrar el setlist original"),null;const{data:{user:r}}=await Je.auth.getUser();if(!r)return Be.error("No se pudo obtener la información del usuario"),null;const i={name:t||`${n.name} (copia)`,description:n.description,group_id:n.group_id,estimated_duration_minutes:n.estimated_duration_minutes,created_by:r.id},s=await u6(i);if(!s)return Be.error("Error al crear el nuevo setlist"),null;if(n.songs&&n.songs.length>0){const a=n.songs.map(l=>oy(s.id,l.song_id,l.position));await Promise.all(a)}return await N3(s.id)}catch(n){return console.error("Error al duplicar el setlist:",n),Be.error("Error al duplicar el setlist"),null}}let mu=null;function j3({isOpen:e,onClose:t,groupId:n,selectedDate:r,event:i,onEventSaved:s,availableDates:a,members:l}){var we;const[c,f]=E.useState(""),[p,m]=E.useState(""),[w,v]=E.useState(""),[N,k]=E.useState(""),[C,_]=E.useState(!1),[S,L]=E.useState([]),[F,Q]=E.useState(!1),{user:ee}=Is(),[W,$]=E.useState(""),[Z,ie]=E.useState([]),[D,R]=E.useState(null),[V,Y]=E.useState(!1),[he,ge]=E.useState([]),[J,B]=E.useState([]),[te,oe]=E.useState("");E.useEffect(()=>{if(i)f(i.name),m(i.date),v(i.time),k(i.notes||""),$(i.location||""),oe(i.setlist_id||""),i.location&&R({display_name:i.location,lat:"",lon:"",type:"",class:""}),Pe();else if(r){const fe=on(r,"yyyy-MM-dd");m(fe),v("20:00"),oe(""),O(fe)}},[i,r]),E.useEffect(()=>{e&&(async()=>{const[xe,Te]=await Promise.all([Je.from("events").select("*").eq("group_id",n),ay(n)]);ge(xe.data||[]),B(Te||[])})()},[e,n]);const Pe=async()=>{if(i)try{const fe=await Fn(()=>Je.from("event_members").select("group_member_id, user_id").eq("event_id",i.id),"Error loading event members"),xe=await Fn(()=>Je.from("member_availability").select("user_id").eq("date",i.date),"Error loading member availability"),Te=await Fn(()=>Je.from("events").select(`
            date,
            event_members (
              user_id
            )
          `).neq("group_id",n).eq("date",i.date),"Error loading external events");if(fe){const Oe=new Set((xe==null?void 0:xe.map(Ie=>Ie.user_id))||[]),ue=new Set;Te==null||Te.forEach(Ie=>{var ce;(ce=Ie.event_members)==null||ce.forEach(Ne=>{ue.add(Ne.user_id)})});const P=new Set(fe.map(Ie=>Ie.group_member_id)),Ce=l.map(Ie=>({memberId:Ie.id,userId:Ie.user_id,selected:P.has(Ie.id),isAvailable:P.has(Ie.id)||(Ie.user_id?Oe.has(Ie.user_id)&&!ue.has(Ie.user_id):!0),sync_calendar:Ie.sync_calendar}));L(Ce)}}catch(fe){console.error("Error loading event members:",fe)}},O=async(fe,xe)=>{try{const Te=await Fn(()=>Je.from("events").select(`
            date,
            event_members (
              user_id
            )
          `).neq("group_id",n).eq("date",fe),"Error loading external events"),Oe=new Set;Te==null||Te.forEach(Ie=>{var ce;(ce=Ie.event_members)==null||ce.forEach(Ne=>{Oe.add(Ne.user_id)})});const ue=await Fn(()=>Je.from("member_availability").select("user_id").eq("date",fe),"Error loading member availability"),P=new Set((ue==null?void 0:ue.map(Ie=>Ie.user_id))||[]),Ce=l.map(Ie=>{const ce=Ie.user_id?P.has(Ie.user_id)&&!Oe.has(Ie.user_id):!0;return{memberId:Ie.id,userId:Ie.user_id,selected:xe?xe.includes(Ie.id):Ie.role_in_group==="principal"&&ce,isAvailable:ce,sync_calendar:Ie.sync_calendar}});L(Ce)}catch(Te){console.error("Error loading available members:",Te)}};E.useEffect(()=>{G()},[S]);const G=()=>{const fe=l.filter(Oe=>Oe.role_in_group==="principal"),xe=S.filter(Oe=>Oe.selected).map(Oe=>Oe.memberId),Te=new Set;return fe.forEach(Oe=>{xe.includes(Oe.id)||Oe.instruments.forEach(ue=>{S.filter(Ce=>Ce.selected).some(Ce=>{const Ie=l.find(ce=>ce.id===Ce.memberId);return Ie==null?void 0:Ie.instruments.some(ce=>ce.id===ue.id)})||Te.add(ue.name)})}),Q(Te.size>0),Te},re=(fe,xe)=>{L(Te=>Te.map(Oe=>Oe.memberId===fe?{...Oe,selected:xe}:Oe))},ae=async fe=>{if(!fe.trim()){ie([]);return}mu&&mu.abort(),mu=new AbortController,Y(!0);try{const Oe=(await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(fe)}&countrycodes=es&bounded=1&viewbox=-9.38,43.45,3.35,36.00&limit=5`,{signal:mu.signal})).json()).sort((ue,P)=>{const Ce=ue.display_name.toLowerCase().includes("madrid")||ue.display_name.toLowerCase().includes("españa"),Ie=P.display_name.toLowerCase().includes("madrid")||P.display_name.toLowerCase().includes("españa");return Ce&&!Ie?-1:!Ce&&Ie?1:0});ie(Oe)}catch(xe){xe.name!=="AbortError"&&(console.error("Error searching locations:",xe),Be.error("Error al buscar ubicaciones"))}finally{Y(!1),mu=null}};E.useEffect(()=>()=>{mu&&mu.abort()},[]);const de=ht.useCallback(P$.debounce(fe=>{ae(fe)},300),[]),ke=fe=>{const xe=fe.target.value;if($(xe),ie([]),!xe.trim()){ie([]);return}de(xe)},Ee=async()=>{try{if(!c||!p){Be.error("Por favor completa los campos requeridos");return}_(!0);const fe={group_id:n,name:c.trim(),date:p,time:w,datetime:(()=>{const Te=new Date(`${p}T${w}`),Oe=-Te.getTimezoneOffset(),ue=new Date(Te.getTime()-Oe*60*1e3).toISOString().replace("Z",q$(Oe));return console.log("Zona horaria local:",Intl.DateTimeFormat().resolvedOptions().timeZone),console.log("Fecha local:",Te.toString()),console.log("Fecha con offset local:",ue),ue})(),notes:N.trim()||null,created_by:ee.id,location:D?D.display_name:W};let xe;if(i){const{data:Te,error:Oe}=await Je.from("events").update(fe).eq("id",i.id).select().single();if(Oe)throw Oe;xe=i.id}else{const{data:Te,error:Oe}=await Je.from("events").insert([fe]).select().single();if(Oe)throw Oe;xe=Te.id}if(xe){i&&await Je.from("event_members").delete().eq("event_id",xe);const Te=S.filter(Oe=>Oe.selected).map(Oe=>({event_id:xe,group_member_id:Oe.memberId,user_id:Oe.userId,created_by:ee.id}));if(Te.length>0){const{error:Oe}=await Je.from("event_members").insert(Te);if(Oe)throw Oe}console.log("Actualizando calendarios para miembros:",S),await Promise.all(S.filter(Oe=>Oe.selected&&Oe.sync_calendar).map(Oe=>(console.log("Actualizando calendario para miembro:",Oe),c6(n,Oe.memberId)))),te?await k3(xe,te):i!=null&&i.setlist_id&&await k3(xe,null)}_(!1),s&&s(),t(),Be.success(i?"Evento actualizado":"Evento creado")}catch(fe){_(!1),console.error("Error saving event:",fe),Be.error("Error al guardar el evento")}},je=fe=>{const xe=new Set(a.map(Oe=>on(Oe,"yyyy-MM-dd"))),Te=new Set(he.map(Oe=>on(new Date(Oe.date),"yyyy-MM-dd")));return fe.filter(Oe=>{const ue=on(Oe,"yyyy-MM-dd");return xe.has(ue)&&!Te.has(ue)}).sort((Oe,ue)=>Oe.getTime()-ue.getTime())};return e?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"sticky top-0 bg-white flex justify-between items-center p-4 border-b z-10",children:[h.jsx("h2",{className:"text-xl font-semibold",children:i?"Edit Event":"Create Event"}),h.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:h.jsx(Xo,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:Ee,className:"p-4 space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsx(Vn,{label:"Event Name",value:c,onChange:fe=>f(fe.target.value),required:!0,placeholder:"Enter event name"}),h.jsx(Vn,{label:"Time",type:"time",value:w,onChange:fe=>v(fe.target.value),required:!0})]}),!i&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Date"}),h.jsxs("select",{value:p,onChange:fe=>{m(fe.target.value),O(fe.target.value)},className:"w-full border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 p-2",children:[h.jsx("option",{value:"",disabled:!0,children:"Select a date"}),je(a).map((fe,xe)=>{const Te=on(fe,"yyyy-MM-dd");return h.jsx("option",{value:Te,children:on(fe,"EEEE, d MMMM yyyy",{locale:Qd})},xe)})]})]}),i&&h.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:h.jsxs("span",{className:"text-sm text-gray-600",children:["Event date: ",on(new Date(i.date),"EEEE, d MMMM yyyy",{locale:Qd})]})}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Setlist (opcional)"}),h.jsxs("select",{value:te,onChange:fe=>oe(fe.target.value),className:"w-full border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 p-2",children:[h.jsx("option",{value:"",children:"Sin setlist"}),J.map(fe=>{var xe;return h.jsxs("option",{value:fe.id,children:[fe.name," (",((xe=fe.songs)==null?void 0:xe.length)||0," canciones)"]},fe.id)})]}),te&&h.jsx("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:h.jsxs("p",{className:"text-sm text-blue-800",children:["Setlist seleccionado: ",(we=J.find(fe=>fe.id===te))==null?void 0:we.name]})})]}),p&&h.jsx(L$,{members:l,selectedMembers:S,onMemberSelectionChange:re,validationError:F}),h.jsxs("div",{className:"relative space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ubicación"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(o0,{className:"h-5 w-5 text-gray-400"})}),h.jsx(Vn,{value:W,onChange:ke,className:"pl-10 pr-10",placeholder:"Buscar ubicación..."}),W&&h.jsx("button",{type:"button",onClick:()=>{$(""),R(null),ie([])},className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:h.jsx(Xo,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),V&&h.jsx("div",{className:"flex items-center justify-center p-4",children:h.jsx(Cc,{className:"h-6 w-6 animate-spin text-primary"})}),Z.length>0&&h.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:Z.map((fe,xe)=>h.jsxs("button",{type:"button",className:"w-full text-left px-4 py-3 hover:bg-gray-50 focus:bg-gray-50 focus:outline-none transition-colors duration-150 flex items-start gap-3 border-b border-gray-100 last:border-0",onClick:()=>{R(fe),$(fe.display_name),ie([])},children:[h.jsx(o0,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),h.jsxs("div",{children:[h.jsx("span",{className:"block text-sm font-medium text-gray-900",children:fe.display_name.split(",")[0]}),h.jsx("span",{className:"block text-xs text-gray-500 mt-0.5",children:fe.display_name.split(",").slice(1).join(",").trim()})]})]},xe))}),D&&h.jsx("div",{className:"mt-3 p-4 bg-primary/5 rounded-lg border border-primary/10",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(o0,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("span",{className:"block text-sm font-medium text-gray-900",children:typeof D.display_name=="string"&&D.display_name.includes(",")?D.display_name.split(",")[0]:D.display_name}),h.jsx("span",{className:"block text-sm text-gray-500 mt-1",children:typeof D.display_name=="string"&&D.display_name.includes(",")?D.display_name.split(",").slice(1).join(",").trim():""})]}),h.jsx("button",{type:"button",onClick:()=>{R(null),$("")},className:"flex-shrink-0 text-gray-400 hover:text-gray-600",children:h.jsx(Xo,{className:"h-5 w-5"})})]})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),h.jsx("textarea",{value:N,onChange:fe=>k(fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",rows:2,placeholder:"Add additional notes..."})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx(_t,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),h.jsx(_t,{onClick:Ee,disabled:C,className:"w-full",children:C?h.jsxs(h.Fragment,{children:[h.jsx(Cc,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):"Guardar"})]})]})]})}):null}function q$(e){const t=e>0?"+":"-",n=Math.floor(Math.abs(e)/60);return`${t}${n.toString().padStart(2,"0")}`}function Sn(e){"@babel/helpers - typeof";return Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(e)}var _i=Uint8Array,Ps=Uint16Array,V5=Int32Array,Bg=new _i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ug=new _i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ly=new _i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d6=function(e,t){for(var n=new Ps(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new V5(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},f6=d6(Bg,2),h6=f6.b,cy=f6.r;h6[28]=258,cy[258]=28;var p6=d6(Ug,0),W$=p6.b,E3=p6.r,uy=new Ps(32768);for(var Wn=0;Wn<32768;++Wn){var Ql=(Wn&43690)>>1|(Wn&21845)<<1;Ql=(Ql&52428)>>2|(Ql&13107)<<2,Ql=(Ql&61680)>>4|(Ql&3855)<<4,uy[Wn]=((Ql&65280)>>8|(Ql&255)<<8)>>1}var po=function(e,t,n){for(var r=e.length,i=0,s=new Ps(t);i<r;++i)e[i]&&++s[e[i]-1];var a=new Ps(t);for(i=1;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;var l;if(n){l=new Ps(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var f=i<<4|e[i],p=t-e[i],m=a[e[i]-1]++<<p,w=m|(1<<p)-1;m<=w;++m)l[uy[m]>>c]=f}else for(l=new Ps(r),i=0;i<r;++i)e[i]&&(l[i]=uy[a[e[i]-1]++]>>15-e[i]);return l},Pc=new _i(288);for(var Wn=0;Wn<144;++Wn)Pc[Wn]=8;for(var Wn=144;Wn<256;++Wn)Pc[Wn]=9;for(var Wn=256;Wn<280;++Wn)Pc[Wn]=7;for(var Wn=280;Wn<288;++Wn)Pc[Wn]=8;var pp=new _i(32);for(var Wn=0;Wn<32;++Wn)pp[Wn]=5;var H$=po(Pc,9,0),V$=po(Pc,9,1),G$=po(pp,5,0),Y$=po(pp,5,1),jv=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},ba=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Ev=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},G5=function(e){return(e+7)/8|0},m6=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new _i(e.subarray(t,n))},K$=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ja=function(e,t,n){var r=new Error(t||K$[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,ja),!n)throw r;return r},J$=function(e,t,n,r){var i=e.length,s=0;if(!i||t.f&&!t.l)return n||new _i(0);var a=!n,l=a||t.i!=2,c=t.i;a&&(n=new _i(i*3));var f=function(fe){var xe=n.length;if(fe>xe){var Te=new _i(Math.max(xe*2,fe));Te.set(n),n=Te}},p=t.f||0,m=t.p||0,w=t.b||0,v=t.l,N=t.d,k=t.m,C=t.n,_=i*8;do{if(!v){p=ba(e,m,1);var S=ba(e,m+1,3);if(m+=3,S)if(S==1)v=V$,N=Y$,k=9,C=5;else if(S==2){var ee=ba(e,m,31)+257,W=ba(e,m+10,15)+4,$=ee+ba(e,m+5,31)+1;m+=14;for(var Z=new _i($),ie=new _i(19),D=0;D<W;++D)ie[ly[D]]=ba(e,m+D*3,7);m+=W*3;for(var R=jv(ie),V=(1<<R)-1,Y=po(ie,R,1),D=0;D<$;){var he=Y[ba(e,m,V)];m+=he&15;var L=he>>4;if(L<16)Z[D++]=L;else{var ge=0,J=0;for(L==16?(J=3+ba(e,m,3),m+=2,ge=Z[D-1]):L==17?(J=3+ba(e,m,7),m+=3):L==18&&(J=11+ba(e,m,127),m+=7);J--;)Z[D++]=ge}}var B=Z.subarray(0,ee),te=Z.subarray(ee);k=jv(B),C=jv(te),v=po(B,k,1),N=po(te,C,1)}else ja(1);else{var L=G5(m)+4,F=e[L-4]|e[L-3]<<8,Q=L+F;if(Q>i){c&&ja(0);break}l&&f(w+F),n.set(e.subarray(L,Q),w),t.b=w+=F,t.p=m=Q*8,t.f=p;continue}if(m>_){c&&ja(0);break}}l&&f(w+131072);for(var oe=(1<<k)-1,Pe=(1<<C)-1,O=m;;O=m){var ge=v[Ev(e,m)&oe],G=ge>>4;if(m+=ge&15,m>_){c&&ja(0);break}if(ge||ja(2),G<256)n[w++]=G;else if(G==256){O=m,v=null;break}else{var re=G-254;if(G>264){var D=G-257,ae=Bg[D];re=ba(e,m,(1<<ae)-1)+h6[D],m+=ae}var de=N[Ev(e,m)&Pe],ke=de>>4;de||ja(3),m+=de&15;var te=W$[ke];if(ke>3){var ae=Ug[ke];te+=Ev(e,m)&(1<<ae)-1,m+=ae}if(m>_){c&&ja(0);break}l&&f(w+131072);var Ee=w+re;if(w<te){var je=s-te,we=Math.min(te,Ee);for(je+w<0&&ja(3);w<we;++w)n[w]=r[je+w]}for(;w<Ee;++w)n[w]=n[w-te]}}t.l=v,t.p=O,t.b=w,t.f=p,v&&(p=1,t.m=k,t.d=N,t.n=C)}while(!p);return w!=n.length&&a?m6(n,0,w):n.subarray(0,w)},Wo=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},bh=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Cv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:v6,l:0};if(i==1){var a=new _i(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(Q,ee){return Q.f-ee.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],f=0,p=1,m=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};p!=i-1;)l=n[n[f].f<n[m].f?f++:m++],c=n[f!=p&&n[f].f<n[m].f?f++:m++],n[p++]={s:-1,f:l.f+c.f,l,r:c};for(var w=s[0].s,r=1;r<i;++r)s[r].s>w&&(w=s[r].s);var v=new Ps(w+1),N=dy(n[p-1],v,0);if(N>t){var r=0,k=0,C=N-t,_=1<<C;for(s.sort(function(ee,W){return v[W.s]-v[ee.s]||ee.f-W.f});r<i;++r){var S=s[r].s;if(v[S]>t)k+=_-(1<<N-v[S]),v[S]=t;else break}for(k>>=C;k>0;){var L=s[r].s;v[L]<t?k-=1<<t-v[L]++-1:++r}for(;r>=0&&k;--r){var F=s[r].s;v[F]==t&&(--v[F],++k)}N=t}return{t:new _i(v),l:N}},dy=function(e,t,n){return e.s==-1?Math.max(dy(e.l,t,n+1),dy(e.r,t,n+1)):t[e.s]=n},C3=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ps(++t),r=0,i=e[0],s=1,a=function(c){n[r++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[l]}return{c:n.subarray(0,r),n:t}},_h=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},g6=function(e,t,n){var r=n.length,i=G5(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},A3=function(e,t,n,r,i,s,a,l,c,f,p){Wo(t,p++,n),++i[256];for(var m=Cv(i,15),w=m.t,v=m.l,N=Cv(s,15),k=N.t,C=N.l,_=C3(w),S=_.c,L=_.n,F=C3(k),Q=F.c,ee=F.n,W=new Ps(19),$=0;$<S.length;++$)++W[S[$]&31];for(var $=0;$<Q.length;++$)++W[Q[$]&31];for(var Z=Cv(W,7),ie=Z.t,D=Z.l,R=19;R>4&&!ie[ly[R-1]];--R);var V=f+5<<3,Y=_h(i,Pc)+_h(s,pp)+a,he=_h(i,w)+_h(s,k)+a+14+3*R+_h(W,ie)+2*W[16]+3*W[17]+7*W[18];if(c>=0&&V<=Y&&V<=he)return g6(t,p,e.subarray(c,c+f));var ge,J,B,te;if(Wo(t,p,1+(he<Y)),p+=2,he<Y){ge=po(w,v,0),J=w,B=po(k,C,0),te=k;var oe=po(ie,D,0);Wo(t,p,L-257),Wo(t,p+5,ee-1),Wo(t,p+10,R-4),p+=14;for(var $=0;$<R;++$)Wo(t,p+3*$,ie[ly[$]]);p+=3*R;for(var Pe=[S,Q],O=0;O<2;++O)for(var G=Pe[O],$=0;$<G.length;++$){var re=G[$]&31;Wo(t,p,oe[re]),p+=ie[re],re>15&&(Wo(t,p,G[$]>>5&127),p+=G[$]>>12)}}else ge=H$,J=Pc,B=G$,te=pp;for(var $=0;$<l;++$){var ae=r[$];if(ae>255){var re=ae>>18&31;bh(t,p,ge[re+257]),p+=J[re+257],re>7&&(Wo(t,p,ae>>23&31),p+=Bg[re]);var de=ae&31;bh(t,p,B[de]),p+=te[de],de>3&&(bh(t,p,ae>>5&8191),p+=Ug[de])}else bh(t,p,ge[ae]),p+=J[ae]}return bh(t,p,ge[256]),p+J[256]},X$=new V5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),v6=new _i(0),Q$=function(e,t,n,r,i,s){var a=s.z||e.length,l=new _i(r+a+5*(1+Math.ceil(a/7e3))+i),c=l.subarray(r,l.length-i),f=s.l,p=(s.r||0)&7;if(t){p&&(c[0]=s.r>>3);for(var m=X$[t-1],w=m>>13,v=m&8191,N=(1<<n)-1,k=s.p||new Ps(32768),C=s.h||new Ps(N+1),_=Math.ceil(n/3),S=2*_,L=function(Oe){return(e[Oe]^e[Oe+1]<<_^e[Oe+2]<<S)&N},F=new V5(25e3),Q=new Ps(288),ee=new Ps(32),W=0,$=0,Z=s.i||0,ie=0,D=s.w||0,R=0;Z+2<a;++Z){var V=L(Z),Y=Z&32767,he=C[V];if(k[Y]=he,C[V]=Y,D<=Z){var ge=a-Z;if((W>7e3||ie>24576)&&(ge>423||!f)){p=A3(e,c,0,F,Q,ee,$,ie,R,Z-R,p),ie=W=$=0,R=Z;for(var J=0;J<286;++J)Q[J]=0;for(var J=0;J<30;++J)ee[J]=0}var B=2,te=0,oe=v,Pe=Y-he&32767;if(ge>2&&V==L(Z-Pe))for(var O=Math.min(w,ge)-1,G=Math.min(32767,Z),re=Math.min(258,ge);Pe<=G&&--oe&&Y!=he;){if(e[Z+B]==e[Z+B-Pe]){for(var ae=0;ae<re&&e[Z+ae]==e[Z+ae-Pe];++ae);if(ae>B){if(B=ae,te=Pe,ae>O)break;for(var de=Math.min(Pe,ae-2),ke=0,J=0;J<de;++J){var Ee=Z-Pe+J&32767,je=k[Ee],we=Ee-je&32767;we>ke&&(ke=we,he=Ee)}}}Y=he,he=k[Y],Pe+=Y-he&32767}if(te){F[ie++]=268435456|cy[B]<<18|E3[te];var fe=cy[B]&31,xe=E3[te]&31;$+=Bg[fe]+Ug[xe],++Q[257+fe],++ee[xe],D=Z+B,++W}else F[ie++]=e[Z],++Q[e[Z]]}}for(Z=Math.max(Z,D);Z<a;++Z)F[ie++]=e[Z],++Q[e[Z]];p=A3(e,c,f,F,Q,ee,$,ie,R,Z-R,p),f||(s.r=p&7|c[p/8|0]<<3,p-=7,s.h=C,s.p=k,s.i=Z,s.w=D)}else{for(var Z=s.w||0;Z<a+f;Z+=65535){var Te=Z+65535;Te>=a&&(c[p/8|0]=f,Te=a),p=g6(c,p+1,e.subarray(Z,Te))}s.i=a}return m6(l,0,r+G5(p)+i)},y6=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,a=0;a!=s;){for(var l=Math.min(a+2655,s);a<l;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Z$=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new _i(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return Q$(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},w6=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},eB=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=y6();i.p(t.dictionary),w6(e,2,i.d())}},tB=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ja(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&ja(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function fy(e,t){t||(t={});var n=y6();n.p(e);var r=Z$(e,t,t.dictionary?6:2,4);return eB(r,t),w6(r,r.length-4,n.d()),r}function nB(e,t){return J$(e.subarray(tB(e,t),-4),{i:2},t,t)}var rB=typeof TextDecoder<"u"&&new TextDecoder,iB=0;try{rB.decode(v6,{stream:!0}),iB=1}catch{}var At=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Av(){At.console&&typeof At.console.log=="function"&&At.console.log.apply(At.console,arguments)}var Tn={log:Av,warn:function(e){At.console&&(typeof At.console.warn=="function"?At.console.warn.apply(At.console,arguments):Av.call(null,arguments))},error:function(e){At.console&&(typeof At.console.error=="function"?At.console.error.apply(At.console,arguments):Av(e))}};function Lv(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){bu(r.response,t,n)},r.onerror=function(){Tn.error("could not download file")},r.send()}function L3(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function $m(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var zh,hy,bu=At.saveAs||((typeof window>"u"?"undefined":Sn(window))!=="object"||window!==At?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=At.URL||At.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?L3(i.href)?Lv(e,t,n):$m(i,i.target="_blank"):$m(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){$m(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(L3(e))Lv(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){$m(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Sn(s)!=="object"&&(Tn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Lv(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(At.HTMLElement)||At.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Sn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=a?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},l.readAsDataURL(e)}else{var c=At.URL||At.webkitURL,f=c.createObjectURL(e);r?r.location=f:location.href=f,r=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function x6(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+l+c+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Pv(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=gi(n,r,i,s,t[0],7,-680876936),s=gi(s,n,r,i,t[1],12,-389564586),i=gi(i,s,n,r,t[2],17,606105819),r=gi(r,i,s,n,t[3],22,-1044525330),n=gi(n,r,i,s,t[4],7,-176418897),s=gi(s,n,r,i,t[5],12,1200080426),i=gi(i,s,n,r,t[6],17,-1473231341),r=gi(r,i,s,n,t[7],22,-45705983),n=gi(n,r,i,s,t[8],7,1770035416),s=gi(s,n,r,i,t[9],12,-1958414417),i=gi(i,s,n,r,t[10],17,-42063),r=gi(r,i,s,n,t[11],22,-1990404162),n=gi(n,r,i,s,t[12],7,1804603682),s=gi(s,n,r,i,t[13],12,-40341101),i=gi(i,s,n,r,t[14],17,-1502002290),n=vi(n,r=gi(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=vi(s,n,r,i,t[6],9,-1069501632),i=vi(i,s,n,r,t[11],14,643717713),r=vi(r,i,s,n,t[0],20,-373897302),n=vi(n,r,i,s,t[5],5,-701558691),s=vi(s,n,r,i,t[10],9,38016083),i=vi(i,s,n,r,t[15],14,-660478335),r=vi(r,i,s,n,t[4],20,-405537848),n=vi(n,r,i,s,t[9],5,568446438),s=vi(s,n,r,i,t[14],9,-1019803690),i=vi(i,s,n,r,t[3],14,-187363961),r=vi(r,i,s,n,t[8],20,1163531501),n=vi(n,r,i,s,t[13],5,-1444681467),s=vi(s,n,r,i,t[2],9,-51403784),i=vi(i,s,n,r,t[7],14,1735328473),n=yi(n,r=vi(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=yi(s,n,r,i,t[8],11,-2022574463),i=yi(i,s,n,r,t[11],16,1839030562),r=yi(r,i,s,n,t[14],23,-35309556),n=yi(n,r,i,s,t[1],4,-1530992060),s=yi(s,n,r,i,t[4],11,1272893353),i=yi(i,s,n,r,t[7],16,-155497632),r=yi(r,i,s,n,t[10],23,-1094730640),n=yi(n,r,i,s,t[13],4,681279174),s=yi(s,n,r,i,t[0],11,-358537222),i=yi(i,s,n,r,t[3],16,-722521979),r=yi(r,i,s,n,t[6],23,76029189),n=yi(n,r,i,s,t[9],4,-640364487),s=yi(s,n,r,i,t[12],11,-421815835),i=yi(i,s,n,r,t[15],16,530742520),n=wi(n,r=yi(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=wi(s,n,r,i,t[7],10,1126891415),i=wi(i,s,n,r,t[14],15,-1416354905),r=wi(r,i,s,n,t[5],21,-57434055),n=wi(n,r,i,s,t[12],6,1700485571),s=wi(s,n,r,i,t[3],10,-1894986606),i=wi(i,s,n,r,t[10],15,-1051523),r=wi(r,i,s,n,t[1],21,-2054922799),n=wi(n,r,i,s,t[8],6,1873313359),s=wi(s,n,r,i,t[15],10,-30611744),i=wi(i,s,n,r,t[6],15,-1560198380),r=wi(r,i,s,n,t[13],21,1309151649),n=wi(n,r,i,s,t[4],6,-145523070),s=wi(s,n,r,i,t[11],10,-1120210379),i=wi(i,s,n,r,t[2],15,718787259),r=wi(r,i,s,n,t[9],21,-343485551),e[0]=mc(n,e[0]),e[1]=mc(r,e[1]),e[2]=mc(i,e[2]),e[3]=mc(s,e[3])}function zg(e,t,n,r,i,s){return t=mc(mc(t,e),mc(r,s)),mc(t<<i|t>>>32-i,n)}function gi(e,t,n,r,i,s,a){return zg(t&n|~t&r,e,t,i,s,a)}function vi(e,t,n,r,i,s,a){return zg(t&r|n&~r,e,t,i,s,a)}function yi(e,t,n,r,i,s,a){return zg(t^n^r,e,t,i,s,a)}function wi(e,t,n,r,i,s,a){return zg(n^(t|~r),e,t,i,s,a)}function b6(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Pv(r,sB(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Pv(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Pv(r,i),r}function sB(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}zh=At.atob.bind(At),hy=At.btoa.bind(At);var P3="0123456789abcdef".split("");function aB(e){for(var t="",n=0;n<4;n++)t+=P3[e>>8*n+4&15]+P3[e>>8*n&15];return t}function oB(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function py(e){return b6(e).map(oB).join("")}var lB=function(e){for(var t=0;t<e.length;t++)e[t]=aB(e[t]);return e.join("")}(b6("hello"))!="5d41402abc4b2a76b9719d911017c592";function mc(e,t){if(lB){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function my(e,t){var n,r,i,s;if(e!==n){for(var a=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var f=0;for(c=0;c<256;c++){var p=l[c];f=(f+p+a.charCodeAt(c))%256,l[c]=l[f],l[f]=p}n=e,r=l}else l=r;var m=t.length,w=0,v=0,N="";for(c=0;c<m;c++)v=(v+(p=l[w=(w+1)%256]))%256,l[w]=l[v],l[v]=p,a=l[(l[w]+l[v])%256],N+=String.fromCharCode(t.charCodeAt(c)^a);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var T3={print:4,modify:8,copy:16,"annot-forms":32};function Fd(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(T3.perm!==void 0)throw new Error("Invalid permission: "+l);i+=T3[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=py(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=my(this.encryptionKey,this.padding)}function $d(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function O3(e){if(Sn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var a=t[n][s];try{a[0].apply(e,r)}catch(l){At.console&&Tn.error("jsPDF PubSub Error",l.message,l)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function K0(e){if(!(this instanceof K0))return new K0(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function _6(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Nu(e,t,n,r,i){if(!(this instanceof Nu))return new Nu(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,_6.call(this,r,i)}function Zd(e,t,n,r,i){if(!(this instanceof Zd))return new Zd(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,_6.call(this,r,i)}function Ct(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],l=1,c=16,f="S",p=null;Sn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),f=e.defaultPathOperation||"S"),a=e.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,w={},v={internal:{},__private__:{}};v.__private__.PubSub=O3;var N="1.3",k=v.__private__.getPdfVersion=function(){return N};v.__private__.setPdfVersion=function(x){N=x};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return C};var _=v.__private__.getPageFormat=function(x){return C[x]};i=i||"a4";var S={COMPAT:"compat",ADVANCED:"advanced"},L=S.COMPAT;function F(){this.saveGraphicsState(),P(new ft(tt,0,0,-tt,0,zs()*tt).toString()+" cm"),this.setFontSize(this.getFontSize()/tt),f="n",L=S.ADVANCED}function Q(){this.restoreGraphicsState(),f="S",L=S.COMPAT}var ee=v.__private__.combineFontStyleAndFontWeight=function(x,M){if(x=="bold"&&M=="normal"||x=="bold"&&M==400||x=="normal"&&M=="italic"||x=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(x=M==400||M==="normal"?x==="italic"?"italic":"normal":M!=700&&M!=="bold"||x!=="normal"?(M==700?"bold":M)+""+x:"bold"),x};v.advancedAPI=function(x){var M=L===S.COMPAT;return M&&F.call(this),typeof x!="function"||(x(this),M&&Q.call(this)),this},v.compatAPI=function(x){var M=L===S.ADVANCED;return M&&Q.call(this),typeof x!="function"||(x(this),M&&F.call(this)),this},v.isAdvancedAPI=function(){return L===S.ADVANCED};var W,$=function(x){if(L!==S.ADVANCED)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=v.roundToPrecision=v.__private__.roundToPrecision=function(x,M){var se=t||M;if(isNaN(x)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(se).replace(/0+$/,"")};W=v.hpf=v.__private__.hpf=typeof c=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(x,c)}:c==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(x,16)};var ie=v.f2=v.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return Z(x,2)},D=v.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return Z(x,3)},R=v.scale=v.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return L===S.COMPAT?x*tt:L===S.ADVANCED?x:void 0},V=function(x){return L===S.COMPAT?zs()-x:L===S.ADVANCED?x:void 0},Y=function(x){return R(V(x))};v.__private__.setPrecision=v.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(t=parseInt(x,10))};var he,ge="00000000000000000000000000000000",J=v.__private__.getFileId=function(){return ge},B=v.__private__.setFileId=function(x){return ge=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():ge.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Fr=new Fd(p.userPermissions,p.userPassword,p.ownerPassword,ge)),ge};v.setFileId=function(x){return B(x),this},v.getFileId=function(){return J()};var te=v.__private__.convertDateToPDFDate=function(x){var M=x.getTimezoneOffset(),se=M<0?"+":"-",pe=Math.floor(Math.abs(M/60)),Le=Math.abs(M%60),ze=[se,re(pe),"'",re(Le),"'"].join("");return["D:",x.getFullYear(),re(x.getMonth()+1),re(x.getDate()),re(x.getHours()),re(x.getMinutes()),re(x.getSeconds()),ze].join("")},oe=v.__private__.convertPDFDateToDate=function(x){var M=parseInt(x.substr(2,4),10),se=parseInt(x.substr(6,2),10)-1,pe=parseInt(x.substr(8,2),10),Le=parseInt(x.substr(10,2),10),ze=parseInt(x.substr(12,2),10),Xe=parseInt(x.substr(14,2),10);return new Date(M,se,pe,Le,ze,Xe,0)},Pe=v.__private__.setCreationDate=function(x){var M;if(x===void 0&&(x=new Date),x instanceof Date)M=te(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=x}return he=M},O=v.__private__.getCreationDate=function(x){var M=he;return x==="jsDate"&&(M=oe(he)),M};v.setCreationDate=function(x){return Pe(x),this},v.getCreationDate=function(x){return O(x)};var G,re=v.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},ae=v.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},de=0,ke=[],Ee=[],je=0,we=[],fe=[],xe=!1,Te=Ee,Oe=function(){de=0,je=0,Ee=[],ke=[],we=[],ki=jn(),ps=jn()};v.__private__.setCustomOutputDestination=function(x){xe=!0,Te=x};var ue=function(x){xe||(Te=x)};v.__private__.resetCustomOutputDestination=function(){xe=!1,Te=Ee};var P=v.__private__.out=function(x){return x=x.toString(),je+=x.length+1,Te.push(x),Te},Ce=v.__private__.write=function(x){return P(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},Ie=v.__private__.getArrayBuffer=function(x){for(var M=x.length,se=new ArrayBuffer(M),pe=new Uint8Array(se);M--;)pe[M]=x.charCodeAt(M);return se},ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return ce};var Ne=e.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(x){return Ne=L===S.ADVANCED?x/tt:x,this};var Fe,$e=v.__private__.getFontSize=v.getFontSize=function(){return L===S.COMPAT?Ne:Ne*tt},Ye=e.R2L||!1;v.__private__.setR2L=v.setR2L=function(x){return Ye=x,this},v.__private__.getR2L=v.getR2L=function(){return Ye};var rt,at=v.__private__.setZoomMode=function(x){var M=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))Fe=x;else if(isNaN(x)){if(M.indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');Fe=x}else Fe=parseInt(x,10)};v.__private__.getZoomMode=function(){return Fe};var lt,vt=v.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');rt=x};v.__private__.getPageMode=function(){return rt};var Nt=v.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');lt=x};v.__private__.getLayoutMode=function(){return lt},v.__private__.setDisplayMode=v.setDisplayMode=function(x,M,se){return at(x),Nt(M),vt(se),this};var it={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(x){if(Object.keys(it).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return it[x]},v.__private__.getDocumentProperties=function(){return it},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(x){for(var M in it)it.hasOwnProperty(M)&&x[M]&&(it[M]=x[M]);return this},v.__private__.setDocumentProperty=function(x,M){if(Object.keys(it).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return it[x]=M};var St,tt,Un,Vt,Yr,Qt={},pn={},si=[],Zt={},aa={},Dn={},ai={},bn=null,Gt=0,yt=[],Bt=new O3(v),ur=e.hotfixes||[],rn={},tr={},Pr=[],ft=function x(M,se,pe,Le,ze,Xe){if(!(this instanceof x))return new x(M,se,pe,Le,ze,Xe);isNaN(M)&&(M=1),isNaN(se)&&(se=0),isNaN(pe)&&(pe=0),isNaN(Le)&&(Le=1),isNaN(ze)&&(ze=0),isNaN(Xe)&&(Xe=0),this._matrix=[M,se,pe,Le,ze,Xe]};Object.defineProperty(ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ft.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(W).join(x)},ft.prototype.multiply=function(x){var M=x.sx*this.sx+x.shy*this.shx,se=x.sx*this.shy+x.shy*this.sy,pe=x.shx*this.sx+x.sy*this.shx,Le=x.shx*this.shy+x.sy*this.sy,ze=x.tx*this.sx+x.ty*this.shx+this.tx,Xe=x.tx*this.shy+x.ty*this.sy+this.ty;return new ft(M,se,pe,Le,ze,Xe)},ft.prototype.decompose=function(){var x=this.sx,M=this.shy,se=this.shx,pe=this.sy,Le=this.tx,ze=this.ty,Xe=Math.sqrt(x*x+M*M),ut=(x/=Xe)*se+(M/=Xe)*pe;se-=x*ut,pe-=M*ut;var bt=Math.sqrt(se*se+pe*pe);return ut/=bt,x*(pe/=bt)<M*(se/=bt)&&(x=-x,M=-M,ut=-ut,Xe=-Xe),{scale:new ft(Xe,0,0,bt,0,0),translate:new ft(1,0,0,1,Le,ze),rotate:new ft(x,M,-M,x,0,0),skew:new ft(1,0,ut,1,0,0)}},ft.prototype.toString=function(x){return this.join(" ")},ft.prototype.inversed=function(){var x=this.sx,M=this.shy,se=this.shx,pe=this.sy,Le=this.tx,ze=this.ty,Xe=1/(x*pe-M*se),ut=pe*Xe,bt=-M*Xe,Dt=-se*Xe,Pt=x*Xe;return new ft(ut,bt,Dt,Pt,-ut*Le-Dt*ze,-bt*Le-Pt*ze)},ft.prototype.applyToPoint=function(x){var M=x.x*this.sx+x.y*this.shx+this.tx,se=x.x*this.shy+x.y*this.sy+this.ty;return new Or(M,se)},ft.prototype.applyToRectangle=function(x){var M=this.applyToPoint(x),se=this.applyToPoint(new Or(x.x+x.w,x.y+x.h));return new Kc(M.x,M.y,se.x-M.x,se.y-M.y)},ft.prototype.clone=function(){var x=this.sx,M=this.shy,se=this.shx,pe=this.sy,Le=this.tx,ze=this.ty;return new ft(x,M,se,pe,Le,ze)},v.Matrix=ft;var Gn=v.matrixMult=function(x,M){return M.multiply(x)},nr=new ft(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=nr;var kn=function(x,M){if(!aa[x]){var se=(M instanceof Nu?"Sh":"P")+(Object.keys(Zt).length+1).toString(10);M.id=se,aa[x]=se,Zt[se]=M,Bt.publish("addPattern",M)}};v.ShadingPattern=Nu,v.TilingPattern=Zd,v.addShadingPattern=function(x,M){return $("addShadingPattern()"),kn(x,M),this},v.beginTilingPattern=function(x){$("beginTilingPattern()"),ys(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},v.endTilingPattern=function(x,M){$("endTilingPattern()"),M.stream=fe[G].join(`
`),kn(x,M),Bt.publish("endTilingPattern",M),Pr.pop().restore()};var Ln=v.__private__.newObject=function(){var x=jn();return Yn(x,!0),x},jn=v.__private__.newObjectDeferred=function(){return de++,ke[de]=function(){return je},de},Yn=function(x,M){return M=typeof M=="boolean"&&M,ke[x]=je,M&&P(x+" 0 obj"),x},Ui=v.__private__.newAdditionalObject=function(){var x={objId:jn(),content:""};return we.push(x),x},ki=jn(),ps=jn(),ms=v.__private__.decodeColorString=function(x){var M=x.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length===5&&(M[4]==="k"||M[4]==="K")&&(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var se=parseFloat(M[0]);M=[se,se,se,"r"]}for(var pe="#",Le=0;Le<3;Le++)pe+=("0"+Math.floor(255*parseFloat(M[Le])).toString(16)).slice(-2);return pe},gs=v.__private__.encodeColorString=function(x){var M;typeof x=="string"&&(x={ch1:x});var se=x.ch1,pe=x.ch2,Le=x.ch3,ze=x.ch4,Xe=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var ut=new x6(se);if(ut.ok)se=ut.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var bt=parseInt(se.substr(1),16);se=bt>>16&255,pe=bt>>8&255,Le=255&bt}if(pe===void 0||ze===void 0&&se===pe&&pe===Le)if(typeof se=="string")M=se+" "+Xe[0];else switch(x.precision){case 2:M=ie(se/255)+" "+Xe[0];break;case 3:default:M=D(se/255)+" "+Xe[0]}else if(ze===void 0||Sn(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return M=["1.","1.","1.",Xe[1]].join(" ");if(typeof se=="string")M=[se,pe,Le,Xe[1]].join(" ");else switch(x.precision){case 2:M=[ie(se/255),ie(pe/255),ie(Le/255),Xe[1]].join(" ");break;default:case 3:M=[D(se/255),D(pe/255),D(Le/255),Xe[1]].join(" ")}}else if(typeof se=="string")M=[se,pe,Le,ze,Xe[2]].join(" ");else switch(x.precision){case 2:M=[ie(se),ie(pe),ie(Le),ie(ze),Xe[2]].join(" ");break;case 3:default:M=[D(se),D(pe),D(Le),D(ze),Xe[2]].join(" ")}return M},vs=v.__private__.getFilters=function(){return a},zi=v.__private__.putStream=function(x){var M=(x=x||{}).data||"",se=x.filters||vs(),pe=x.alreadyAppliedFilters||[],Le=x.addLength1||!1,ze=M.length,Xe=x.objectId,ut=function(jr){return jr};if(p!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ut=Fr.encryptor(Xe,0));var bt={};se===!0&&(se=["FlateEncode"]);var Dt=x.additionalKeyValues||[],Pt=(bt=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(M,se):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(bt.data.length!==0&&(Dt.push({key:"Length",value:bt.data.length}),Le===!0&&Dt.push({key:"Length1",value:ze})),Pt.length!=0)if(Pt.split("/").length-1==1)Dt.push({key:"Filter",value:Pt});else{Dt.push({key:"Filter",value:"["+Pt+"]"});for(var Yt=0;Yt<Dt.length;Yt+=1)if(Dt[Yt].key==="DecodeParms"){for(var Mn=[],Xn=0;Xn<bt.reverseChain.split("/").length-1;Xn+=1)Mn.push("null");Mn.push(Dt[Yt].value),Dt[Yt].value="["+Mn.join(" ")+"]"}}P("<<");for(var Qn=0;Qn<Dt.length;Qn++)P("/"+Dt[Qn].key+" "+Dt[Qn].value);P(">>"),bt.data.length!==0&&(P("stream"),P(ut(bt.data)),P("endstream"))},Rs=v.__private__.putPage=function(x){var M=x.number,se=x.data,pe=x.objId,Le=x.contentsObjId;Yn(pe,!0),P("<</Type /Page"),P("/Parent "+x.rootDictionaryObjId+" 0 R"),P("/Resources "+x.resourceDictionaryObjId+" 0 R"),P("/MediaBox ["+parseFloat(W(x.mediaBox.bottomLeftX))+" "+parseFloat(W(x.mediaBox.bottomLeftY))+" "+W(x.mediaBox.topRightX)+" "+W(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&P("/CropBox ["+W(x.cropBox.bottomLeftX)+" "+W(x.cropBox.bottomLeftY)+" "+W(x.cropBox.topRightX)+" "+W(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&P("/BleedBox ["+W(x.bleedBox.bottomLeftX)+" "+W(x.bleedBox.bottomLeftY)+" "+W(x.bleedBox.topRightX)+" "+W(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&P("/TrimBox ["+W(x.trimBox.bottomLeftX)+" "+W(x.trimBox.bottomLeftY)+" "+W(x.trimBox.topRightX)+" "+W(x.trimBox.topRightY)+"]"),x.artBox!==null&&P("/ArtBox ["+W(x.artBox.bottomLeftX)+" "+W(x.artBox.bottomLeftY)+" "+W(x.artBox.topRightX)+" "+W(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&P("/UserUnit "+x.userUnit),Bt.publish("putPage",{objId:pe,pageContext:yt[M],pageNumber:M,page:se}),P("/Contents "+Le+" 0 R"),P(">>"),P("endobj");var ze=se.join(`
`);return L===S.ADVANCED&&(ze+=`
Q`),Yn(Le,!0),zi({data:ze,filters:vs(),objectId:Le}),P("endobj"),pe},bo=v.__private__.putPages=function(){var x,M,se=[];for(x=1;x<=Gt;x++)yt[x].objId=jn(),yt[x].contentsObjId=jn();for(x=1;x<=Gt;x++)se.push(Rs({number:x,data:fe[x],objId:yt[x].objId,contentsObjId:yt[x].contentsObjId,mediaBox:yt[x].mediaBox,cropBox:yt[x].cropBox,bleedBox:yt[x].bleedBox,trimBox:yt[x].trimBox,artBox:yt[x].artBox,userUnit:yt[x].userUnit,rootDictionaryObjId:ki,resourceDictionaryObjId:ps}));Yn(ki,!0),P("<</Type /Pages");var pe="/Kids [";for(M=0;M<Gt;M++)pe+=se[M]+" 0 R ";P(pe+"]"),P("/Count "+Gt),P(">>"),P("endobj"),Bt.publish("postPutPages")},ol=function(x){Bt.publish("putFont",{font:x,out:P,newObject:Ln,putStream:zi}),x.isAlreadyPutted!==!0&&(x.objectNumber=Ln(),P("<<"),P("/Type /Font"),P("/BaseFont /"+$d(x.postScriptName)),P("/Subtype /Type1"),typeof x.encoding=="string"&&P("/Encoding /"+x.encoding),P("/FirstChar 32"),P("/LastChar 255"),P(">>"),P("endobj"))},ll=function(){for(var x in Qt)Qt.hasOwnProperty(x)&&(m===!1||m===!0&&w.hasOwnProperty(x))&&ol(Qt[x])},cl=function(x){x.objectNumber=Ln();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[W(x.x),W(x.y),W(x.x+x.width),W(x.y+x.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var se=x.pages[1].join(`
`);zi({data:se,additionalKeyValues:M,objectId:x.objectNumber}),P("endobj")},oa=function(){for(var x in rn)rn.hasOwnProperty(x)&&cl(rn[x])},Yu=function(x,M){var se,pe=[],Le=1/(M-1);for(se=0;se<1;se+=Le)pe.push(se);if(pe.push(1),x[0].offset!=0){var ze={offset:0,color:x[0].color};x.unshift(ze)}if(x[x.length-1].offset!=1){var Xe={offset:1,color:x[x.length-1].color};x.push(Xe)}for(var ut="",bt=0,Dt=0;Dt<pe.length;Dt++){for(se=pe[Dt];se>x[bt+1].offset;)bt++;var Pt=x[bt].offset,Yt=(se-Pt)/(x[bt+1].offset-Pt),Mn=x[bt].color,Xn=x[bt+1].color;ut+=ae(Math.round((1-Yt)*Mn[0]+Yt*Xn[0]).toString(16))+ae(Math.round((1-Yt)*Mn[1]+Yt*Xn[1]).toString(16))+ae(Math.round((1-Yt)*Mn[2]+Yt*Xn[2]).toString(16))}return ut.trim()},ul=function(x,M){M||(M=21);var se=Ln(),pe=Yu(x.colors,M),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+M+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zi({data:pe,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),P("endobj"),x.objectNumber=Ln(),P("<< /ShadingType "+x.type),P("/ColorSpace /DeviceRGB");var ze="/Coords ["+W(parseFloat(x.coords[0]))+" "+W(parseFloat(x.coords[1]))+" ";x.type===2?ze+=W(parseFloat(x.coords[2]))+" "+W(parseFloat(x.coords[3])):ze+=W(parseFloat(x.coords[2]))+" "+W(parseFloat(x.coords[3]))+" "+W(parseFloat(x.coords[4]))+" "+W(parseFloat(x.coords[5])),P(ze+="]"),x.matrix&&P("/Matrix ["+x.matrix.toString()+"]"),P("/Function "+se+" 0 R"),P("/Extend [true true]"),P(">>"),P("endobj")},Mf=function(x,M){var se=jn(),pe=Ln();M.push({resourcesOid:se,objectOid:pe}),x.objectNumber=pe;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+x.boundingBox.map(W).join(" ")+"]"}),Le.push({key:"XStep",value:W(x.xStep)}),Le.push({key:"YStep",value:W(x.yStep)}),Le.push({key:"Resources",value:se+" 0 R"}),x.matrix&&Le.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),zi({data:x.stream,additionalKeyValues:Le,objectId:x.objectNumber}),P("endobj")},dl=function(x){var M;for(M in Zt)Zt.hasOwnProperty(M)&&(Zt[M]instanceof Nu?ul(Zt[M]):Zt[M]instanceof Zd&&Mf(Zt[M],x))},Ku=function(x){for(var M in x.objectNumber=Ln(),P("<<"),x)switch(M){case"opacity":P("/ca "+ie(x[M]));break;case"stroke-opacity":P("/CA "+ie(x[M]))}P(">>"),P("endobj")},Ju=function(){var x;for(x in Dn)Dn.hasOwnProperty(x)&&Ku(Dn[x])},fl=function(){for(var x in P("/XObject <<"),rn)rn.hasOwnProperty(x)&&rn[x].objectNumber>=0&&P("/"+x+" "+rn[x].objectNumber+" 0 R");Bt.publish("putXobjectDict"),P(">>")},Xu=function(){Fr.oid=Ln(),P("<<"),P("/Filter /Standard"),P("/V "+Fr.v),P("/R "+Fr.r),P("/U <"+Fr.toHexString(Fr.U)+">"),P("/O <"+Fr.toHexString(Fr.O)+">"),P("/P "+Fr.P),P(">>"),P("endobj")},Qu=function(){for(var x in P("/Font <<"),Qt)Qt.hasOwnProperty(x)&&(m===!1||m===!0&&w.hasOwnProperty(x))&&P("/"+x+" "+Qt[x].objectNumber+" 0 R");P(">>")},If=function(){if(Object.keys(Zt).length>0){for(var x in P("/Shading <<"),Zt)Zt.hasOwnProperty(x)&&Zt[x]instanceof Nu&&Zt[x].objectNumber>=0&&P("/"+x+" "+Zt[x].objectNumber+" 0 R");Bt.publish("putShadingPatternDict"),P(">>")}},hl=function(x){if(Object.keys(Zt).length>0){for(var M in P("/Pattern <<"),Zt)Zt.hasOwnProperty(M)&&Zt[M]instanceof v.TilingPattern&&Zt[M].objectNumber>=0&&Zt[M].objectNumber<x&&P("/"+M+" "+Zt[M].objectNumber+" 0 R");Bt.publish("putTilingPatternDict"),P(">>")}},Rf=function(){if(Object.keys(Dn).length>0){var x;for(x in P("/ExtGState <<"),Dn)Dn.hasOwnProperty(x)&&Dn[x].objectNumber>=0&&P("/"+x+" "+Dn[x].objectNumber+" 0 R");Bt.publish("putGStateDict"),P(">>")}},Kn=function(x){Yn(x.resourcesOid,!0),P("<<"),P("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Qu(),If(),hl(x.objectOid),Rf(),fl(),P(">>"),P("endobj")},$c=function(){var x=[];ll(),Ju(),oa(),dl(x),Bt.publish("putResources"),x.forEach(Kn),Kn({resourcesOid:ps,objectOid:Number.MAX_SAFE_INTEGER}),Bt.publish("postPutResources")},Bc=function(){Bt.publish("putAdditionalObjects");for(var x=0;x<we.length;x++){var M=we[x];Yn(M.objId,!0),P(M.content),P("endobj")}Bt.publish("postPutAdditionalObjects")},pl=function(x){pn[x.fontName]=pn[x.fontName]||{},pn[x.fontName][x.fontStyle]=x.id},Uc=function(x,M,se,pe,Le){var ze={id:"F"+(Object.keys(Qt).length+1).toString(10),postScriptName:x,fontName:M,fontStyle:se,encoding:pe,isStandardFont:Le||!1,metadata:{}};return Bt.publish("addFont",{font:ze,instance:this}),Qt[ze.id]=ze,pl(ze),ze.id},Zu=function(x){for(var M=0,se=ce.length;M<se;M++){var pe=Uc.call(this,x[M][0],x[M][1],x[M][2],ce[M][3],!0);m===!1&&(w[pe]=!0);var Le=x[M][0].split("-");pl({id:pe,fontName:Le[0],fontStyle:Le[1]||""})}Bt.publish("addFonts",{fonts:Qt,dictionary:pn})},oi=function(x){return x.foo=function(){try{return x.apply(this,arguments)}catch(pe){var M=pe.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var se="Error in function "+M.split(`
`)[0].split("<")[0]+": "+pe.message;if(!At.console)throw new Error(se);At.console.error(se,pe),At.alert&&alert(se)}},x.foo.bar=x,x.foo},_o=function(x,M){var se,pe,Le,ze,Xe,ut,bt,Dt,Pt;if(Le=(M=M||{}).sourceEncoding||"Unicode",Xe=M.outputEncoding,(M.autoencode||Xe)&&Qt[St].metadata&&Qt[St].metadata[Le]&&Qt[St].metadata[Le].encoding&&(ze=Qt[St].metadata[Le].encoding,!Xe&&Qt[St].encoding&&(Xe=Qt[St].encoding),!Xe&&ze.codePages&&(Xe=ze.codePages[0]),typeof Xe=="string"&&(Xe=ze[Xe]),Xe)){for(bt=!1,ut=[],se=0,pe=x.length;se<pe;se++)(Dt=Xe[x.charCodeAt(se)])?ut.push(String.fromCharCode(Dt)):ut.push(x[se]),ut[se].charCodeAt(0)>>8&&(bt=!0);x=ut.join("")}for(se=x.length;bt===void 0&&se!==0;)x.charCodeAt(se-1)>>8&&(bt=!0),se--;if(!bt)return x;for(ut=M.noBOM?[]:[254,255],se=0,pe=x.length;se<pe;se++){if((Pt=(Dt=x.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+x+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ut.push(Pt),ut.push(Dt-(Pt<<8))}return String.fromCharCode.apply(void 0,ut)},li=v.__private__.pdfEscape=v.pdfEscape=function(x,M){return _o(x,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ml=v.__private__.beginPage=function(x){fe[++Gt]=[],yt[Gt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},ed(Gt),ue(fe[G])},zc=function(x,M){var se,pe,Le;switch(n=M||n,typeof x=="string"&&(se=_(x.toLowerCase()),Array.isArray(se)&&(pe=se[0],Le=se[1])),Array.isArray(x)&&(pe=x[0]*tt,Le=x[1]*tt),isNaN(pe)&&(pe=i[0],Le=i[1]),(pe>14400||Le>14400)&&(Tn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),Le=Math.min(14400,Le)),i=[pe,Le],n.substr(0,1)){case"l":Le>pe&&(i=[Le,pe]);break;case"p":pe>Le&&(i=[Le,pe])}ml(i),ad(Gc),P(Jn),bl!==0&&P(bl+" J"),Tr!==0&&P(Tr+" j"),Bt.publish("addPage",{pageNumber:Gt})},qc=function(x){x>0&&x<=Gt&&(fe.splice(x,1),yt.splice(x,1),Gt--,G>Gt&&(G=Gt),this.setPage(G))},ed=function(x){x>0&&x<=Gt&&(G=x)},td=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return fe.length-1},gl=function(x,M,se){var pe,Le=void 0;return se=se||{},x=x!==void 0?x:Qt[St].fontName,M=M!==void 0?M:Qt[St].fontStyle,pe=x.toLowerCase(),pn[pe]!==void 0&&pn[pe][M]!==void 0?Le=pn[pe][M]:pn[x]!==void 0&&pn[x][M]!==void 0?Le=pn[x][M]:se.disableWarning===!1&&Tn.warn("Unable to look up font label for font '"+x+"', '"+M+"'. Refer to getFontList() for available fonts."),Le||se.noFallback||(Le=pn.times[M])==null&&(Le=pn.times.normal),Le},Wc=v.__private__.putInfo=function(){var x=Ln(),M=function(pe){return pe};for(var se in p!==null&&(M=Fr.encryptor(x,0)),P("<<"),P("/Producer ("+li(M("jsPDF "+Ct.version))+")"),it)it.hasOwnProperty(se)&&it[se]&&P("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+li(M(it[se]))+")");P("/CreationDate ("+li(M(he))+")"),P(">>"),P("endobj")},Fs=v.__private__.putCatalog=function(x){var M=(x=x||{}).rootDictionaryObjId||ki;switch(Ln(),P("<<"),P("/Type /Catalog"),P("/Pages "+M+" 0 R"),Fe||(Fe="fullwidth"),Fe){case"fullwidth":P("/OpenAction [3 0 R /FitH null]");break;case"fullheight":P("/OpenAction [3 0 R /FitV null]");break;case"fullpage":P("/OpenAction [3 0 R /Fit]");break;case"original":P("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+Fe;se.substr(se.length-1)==="%"&&(Fe=parseInt(Fe)/100),typeof Fe=="number"&&P("/OpenAction [3 0 R /XYZ null null "+ie(Fe)+"]")}switch(lt||(lt="continuous"),lt){case"continuous":P("/PageLayout /OneColumn");break;case"single":P("/PageLayout /SinglePage");break;case"two":case"twoleft":P("/PageLayout /TwoColumnLeft");break;case"tworight":P("/PageLayout /TwoColumnRight")}rt&&P("/PageMode /"+rt),Bt.publish("putCatalog"),P(">>"),P("endobj")},nd=v.__private__.putTrailer=function(){P("trailer"),P("<<"),P("/Size "+(de+1)),P("/Root "+de+" 0 R"),P("/Info "+(de-1)+" 0 R"),p!==null&&P("/Encrypt "+Fr.oid+" 0 R"),P("/ID [ <"+ge+"> <"+ge+"> ]"),P(">>")},rd=v.__private__.putHeader=function(){P("%PDF-"+N),P("%ºß¬à")},Ff=v.__private__.putXRef=function(){var x="0000000000";P("xref"),P("0 "+(de+1)),P("0000000000 65535 f ");for(var M=1;M<=de;M++)typeof ke[M]=="function"?P((x+ke[M]()).slice(-10)+" 00000 n "):ke[M]!==void 0?P((x+ke[M]).slice(-10)+" 00000 n "):P("0000000000 00000 n ")},$s=v.__private__.buildDocument=function(){Oe(),ue(Ee),Bt.publish("buildDocument"),rd(),bo(),Bc(),$c(),p!==null&&Xu(),Wc(),Fs();var x=je;return Ff(),nd(),P("startxref"),P(""+x),P("%%EOF"),ue(fe[G]),Ee.join(`
`)},So=v.__private__.getBlob=function(x){return new Blob([Ie(x)],{type:"application/pdf"})},No=v.output=v.__private__.output=oi(function(x,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",x){case void 0:return $s();case"save":v.save(M.filename);break;case"arraybuffer":return Ie($s());case"blob":return So($s());case"bloburi":case"bloburl":if(At.URL!==void 0&&typeof At.URL.createObjectURL=="function")return At.URL&&At.URL.createObjectURL(So($s()))||void 0;Tn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",pe=$s();try{se=hy(pe)}catch{se=hy(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+M.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(Le=M.pdfObjectUrl,ze="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",ut=At.open();return ut!==null&&ut.document.write(Xe),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',Dt=At.open();if(Dt!==null){Dt.document.write(bt);var Pt=this;Dt.document.documentElement.querySelector("#pdfViewer").onload=function(){Dt.document.title=M.filename,Dt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return Dt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(At)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',Mn=At.open();if(Mn!==null&&(Mn.document.write(Yt),Mn.document.title=M.filename),Mn||typeof safari>"u")return Mn;break;case"datauri":case"dataurl":return At.document.location.href=this.output("datauristring",M);default:return null}}),Hc=function(x){return Array.isArray(ur)===!0&&ur.indexOf(x)>-1};switch(r){case"pt":tt=1;break;case"mm":tt=72/25.4;break;case"cm":tt=72/2.54;break;case"in":tt=72;break;case"px":tt=Hc("px_scaling")==1?.75:96/72;break;case"pc":case"em":tt=12;break;case"ex":tt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);tt=r}var Fr=null;Pe(),B();var $f=function(x){return p!==null?Fr.encryptor(x,0):function(M){return M}},id=v.__private__.getPageInfo=v.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[x].objId,pageNumber:x,pageContext:yt[x]}},Lt=v.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in yt)if(yt[M].objId===x)break;return id(M)},Bf=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:yt[G].objId,pageNumber:G,pageContext:yt[G]}};v.addPage=function(){return zc.apply(this,arguments),this},v.setPage=function(){return ed.apply(this,arguments),ue.call(this,fe[G]),this},v.insertPage=function(x){return this.addPage(),this.movePage(G,x),this},v.movePage=function(x,M){var se,pe;if(x>M){se=fe[x],pe=yt[x];for(var Le=x;Le>M;Le--)fe[Le]=fe[Le-1],yt[Le]=yt[Le-1];fe[M]=se,yt[M]=pe,this.setPage(M)}else if(x<M){se=fe[x],pe=yt[x];for(var ze=x;ze<M;ze++)fe[ze]=fe[ze+1],yt[ze]=yt[ze+1];fe[M]=se,yt[M]=pe,this.setPage(M)}return this},v.deletePage=function(){return qc.apply(this,arguments),this},v.__private__.text=v.text=function(x,M,se,pe,Le){var ze,Xe,ut,bt,Dt,Pt,Yt,Mn,Xn,Qn=(pe=pe||{}).scope||this;if(typeof x=="number"&&typeof M=="number"&&(typeof se=="string"||Array.isArray(se))){var jr=se;se=M,M=x,x=jr}if(arguments[3]instanceof ft?($("The transform parameter of text() with a Matrix value"),Xn=Le):(ut=arguments[4],bt=arguments[5],Sn(Yt=arguments[3])==="object"&&Yt!==null||(typeof ut=="string"&&(bt=ut,ut=null),typeof Yt=="string"&&(bt=Yt,Yt=null),typeof Yt=="number"&&(ut=Yt,Yt=null),pe={flags:Yt,angle:ut,align:bt})),isNaN(M)||isNaN(se)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return Qn;var Er="",Hi=!1,Pn=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:ko,Vi=Qn.internal.scaleFactor;function za(gn){return gn=gn.split("	").join(Array(pe.TabLen||9).join(" ")),li(gn,Yt)}function Nl(gn){for(var En,rr=gn.concat(),vr=[],Ki=rr.length;Ki--;)typeof(En=rr.shift())=="string"?vr.push(En):Array.isArray(gn)&&(En.length===1||En[1]===void 0&&En[2]===void 0)?vr.push(En[0]):vr.push([En[0],En[1],En[2]]);return vr}function kl(gn,En){var rr;if(typeof gn=="string")rr=En(gn)[0];else if(Array.isArray(gn)){for(var vr,Ki,Ji=gn.concat(),da=[],Zc=Ji.length;Zc--;)typeof(vr=Ji.shift())=="string"?da.push(En(vr)[0]):Array.isArray(vr)&&typeof vr[0]=="string"&&(Ki=En(vr[0],vr[1],vr[2]),da.push([Ki[0],Ki[1],Ki[2]]));rr=da}return rr}var jl=!1,Xc=!0;if(typeof x=="string")jl=!0;else if(Array.isArray(x)){var Qc=x.concat();Xe=[];for(var El,Dr=Qc.length;Dr--;)(typeof(El=Qc.shift())!="string"||Array.isArray(El)&&typeof El[0]!="string")&&(Xc=!1);jl=Xc}if(jl===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var ws=Ne/Qn.internal.scaleFactor,Cl=ws*(Pn-1);switch(pe.baseline){case"bottom":se-=Cl;break;case"top":se+=ws-Cl;break;case"hanging":se+=ws-2*Cl;break;case"middle":se+=ws/2-Cl}if((Pt=pe.maxWidth||0)>0&&(typeof x=="string"?x=Qn.splitTextToSize(x,Pt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(gn,En){return gn.concat(Qn.splitTextToSize(En,Pt))},[]))),ze={text:x,x:M,y:se,options:pe,mutex:{pdfEscape:li,activeFontKey:St,fonts:Qt,activeFontSize:Ne}},Bt.publish("preProcessText",ze),x=ze.text,ut=(pe=ze.options).angle,!(Xn instanceof ft)&&ut&&typeof ut=="number"){ut*=Math.PI/180,pe.rotationDirection===0&&(ut=-ut),L===S.ADVANCED&&(ut=-ut);var Al=Math.cos(ut),Eo=Math.sin(ut);Xn=new ft(Al,Eo,-Eo,Al,0,0)}else ut&&ut instanceof ft&&(Xn=ut);L!==S.ADVANCED||Xn||(Xn=nr),(Dt=pe.charSpace||jo)!==void 0&&(Er+=W(R(Dt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mn=pe.horizontalScale)!==void 0&&(Er+=W(100*Mn)+` Tz
`),pe.lang;var Jr=-1,qs=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,qa=Qn.internal.getCurrentPageInfo().pageContext;switch(qs){case 0:case!1:case"fill":Jr=0;break;case 1:case!0:case"stroke":Jr=1;break;case 2:case"fillThenStroke":Jr=2;break;case 3:case"invisible":Jr=3;break;case 4:case"fillAndAddForClipping":Jr=4;break;case 5:case"strokeAndAddPathForClipping":Jr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Jr=6;break;case 7:case"addToPathForClipping":Jr=7}var fd=qa.usedRenderingMode!==void 0?qa.usedRenderingMode:-1;Jr!==-1?Er+=Jr+` Tr
`:fd!==-1&&(Er+=`0 Tr
`),Jr!==-1&&(qa.usedRenderingMode=Jr),bt=pe.align||"left";var Gi,Ll=Ne*Pn,la=Qn.internal.pageSize.getWidth(),ci=Qt[St];Dt=pe.charSpace||jo,Pt=pe.maxWidth||0,Yt=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var ca=[],Co=function(gn){return Qn.getStringUnitWidth(gn,{font:ci,charSpace:Dt,fontSize:Ne,doKerning:!1})*Ne/Vi};if(Object.prototype.toString.call(x)==="[object Array]"){var ui;Xe=Nl(x),bt!=="left"&&(Gi=Xe.map(Co));var Xr,Wa=0;if(bt==="right"){M-=Gi[0],x=[],Dr=Xe.length;for(var ua=0;ua<Dr;ua++)ua===0?(Xr=qi(M),ui=Kr(se)):(Xr=R(Wa-Gi[ua]),ui=-Ll),x.push([Xe[ua],Xr,ui]),Wa=Gi[ua]}else if(bt==="center"){M-=Gi[0]/2,x=[],Dr=Xe.length;for(var di=0;di<Dr;di++)di===0?(Xr=qi(M),ui=Kr(se)):(Xr=R((Wa-Gi[di])/2),ui=-Ll),x.push([Xe[di],Xr,ui]),Wa=Gi[di]}else if(bt==="left"){x=[],Dr=Xe.length;for(var _e=0;_e<Dr;_e++)x.push(Xe[_e])}else if(bt==="justify"&&ci.encoding==="Identity-H"){x=[],Dr=Xe.length,Pt=Pt!==0?Pt:la;for(var qe=0,De=0;De<Dr;De++)if(ui=De===0?Kr(se):-Ll,Xr=De===0?qi(M):qe,De<Dr-1){var dt=R((Pt-Gi[De])/(Xe[De].split(" ").length-1)),wt=Xe[De].split(" ");x.push([wt[0]+" ",Xr,ui]),qe=0;for(var It=1;It<wt.length;It++){var In=(Co(wt[It-1]+" "+wt[It])-Co(wt[It]))*Vi+dt;It==wt.length-1?x.push([wt[It],In,0]):x.push([wt[It]+" ",In,0]),qe-=In}}else x.push([Xe[De],Xr,ui]);x.push(["",qe,0])}else{if(bt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Dr=Xe.length,Pt=Pt!==0?Pt:la,De=0;De<Dr;De++)ui=De===0?Kr(se):-Ll,Xr=De===0?qi(M):0,De<Dr-1?ca.push(W(R((Pt-Gi[De])/(Xe[De].split(" ").length-1)))):ca.push(0),x.push([Xe[De],Xr,ui])}}var dn=typeof pe.R2L=="boolean"?pe.R2L:Ye;dn===!0&&(x=kl(x,function(gn,En,rr){return[gn.split("").reverse().join(""),En,rr]})),ze={text:x,x:M,y:se,options:pe,mutex:{pdfEscape:li,activeFontKey:St,fonts:Qt,activeFontSize:Ne}},Bt.publish("postProcessText",ze),x=ze.text,Hi=ze.mutex.isHex||!1;var Ao=Qt[St].encoding;Ao!=="WinAnsiEncoding"&&Ao!=="StandardEncoding"||(x=kl(x,function(gn,En,rr){return[za(gn),En,rr]})),Xe=Nl(x),x=[];for(var Lo,Cr,xs,Po=0,bs=1,Ws=Array.isArray(Xe[0])?bs:Po,_s="",en=function(gn,En,rr){var vr="";return rr instanceof ft?(rr=typeof pe.angle=="number"?Gn(rr,new ft(1,0,0,1,gn,En)):Gn(new ft(1,0,0,1,gn,En),rr),L===S.ADVANCED&&(rr=Gn(new ft(1,0,0,-1,0,0),rr)),vr=rr.join(" ")+` Tm
`):vr=W(gn)+" "+W(En)+` Td
`,vr},Yi=0;Yi<Xe.length;Yi++){switch(_s="",Ws){case bs:xs=(Hi?"<":"(")+Xe[Yi][0]+(Hi?">":")"),Lo=parseFloat(Xe[Yi][1]),Cr=parseFloat(Xe[Yi][2]);break;case Po:xs=(Hi?"<":"(")+Xe[Yi]+(Hi?">":")"),Lo=qi(M),Cr=Kr(se)}ca!==void 0&&ca[Yi]!==void 0&&(_s=ca[Yi]+` Tw
`),Yi===0?x.push(_s+en(Lo,Cr,Xn)+xs):Ws===Po?x.push(_s+xs):Ws===bs&&x.push(_s+en(Lo,Cr,Xn)+xs)}x=Ws===Po?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var ji=`BT
/`;return ji+=St+" "+Ne+` Tf
`,ji+=W(Ne*Pn)+` TL
`,ji+=Ba+`
`,ji+=Er,ji+=x,P(ji+="ET"),w[St]=!0,Qn};var Uf=v.__private__.clip=v.clip=function(x){return P(x==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return Uf("evenodd")},v.__private__.discardPath=v.discardPath=function(){return P("n"),this};var Bs=v.__private__.isValidStyle=function(x){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(M=!0),M};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(x){return Bs(x)&&(f=x),this};var sd=v.__private__.getStyle=v.getStyle=function(x){var M=f;switch(x){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=x}return M},vl=v.close=function(){return P("h"),this};v.stroke=function(){return P("S"),this},v.fill=function(x){return yl("f",x),this},v.fillEvenOdd=function(x){return yl("f*",x),this},v.fillStroke=function(x){return yl("B",x),this},v.fillStrokeEvenOdd=function(x){return yl("B*",x),this};var yl=function(x,M){Sn(M)==="object"?qf(M,x):P(x)},Vc=function(x){x===null||L===S.ADVANCED&&x===void 0||(x=sd(x),P(x))};function zf(x,M,se,pe,Le){var ze=new Zd(M||this.boundingBox,se||this.xStep,pe||this.yStep,this.gState,Le||this.matrix);ze.stream=this.stream;var Xe=x+"$$"+this.cloneIndex+++"$$";return kn(Xe,ze),ze}var qf=function(x,M){var se=aa[x.key],pe=Zt[se];if(pe instanceof Nu)P("q"),P(Wf(M)),pe.gState&&v.setGState(pe.gState),P(x.matrix.toString()+" cm"),P("/"+se+" sh"),P("Q");else if(pe instanceof Zd){var Le=new ft(1,0,0,-1,0,zs());x.matrix&&(Le=Le.multiply(x.matrix||nr),se=zf.call(pe,x.key,x.boundingBox,x.xStep,x.yStep,Le).id),P("q"),P("/Pattern cs"),P("/"+se+" scn"),pe.gState&&v.setGState(pe.gState),P(M),P("Q")}},Wf=function(x){switch(x){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},mn=v.moveTo=function(x,M){return P(W(R(x))+" "+W(Y(M))+" m"),this},sn=v.lineTo=function(x,M){return P(W(R(x))+" "+W(Y(M))+" l"),this},$a=v.curveTo=function(x,M,se,pe,Le,ze){return P([W(R(x)),W(Y(M)),W(R(se)),W(Y(pe)),W(R(Le)),W(Y(ze)),"c"].join(" ")),this};v.__private__.line=v.line=function(x,M,se,pe,Le){if(isNaN(x)||isNaN(M)||isNaN(se)||isNaN(pe)||!Bs(Le))throw new Error("Invalid arguments passed to jsPDF.line");return L===S.COMPAT?this.lines([[se-x,pe-M]],x,M,[1,1],Le||"S"):this.lines([[se-x,pe-M]],x,M,[1,1]).stroke()},v.__private__.lines=v.lines=function(x,M,se,pe,Le,ze){var Xe,ut,bt,Dt,Pt,Yt,Mn,Xn,Qn,jr,Er,Hi;if(typeof x=="number"&&(Hi=se,se=M,M=x,x=Hi),pe=pe||[1,1],ze=ze||!1,isNaN(M)||isNaN(se)||!Array.isArray(x)||!Array.isArray(pe)||!Bs(Le)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(mn(M,se),Xe=pe[0],ut=pe[1],Dt=x.length,jr=M,Er=se,bt=0;bt<Dt;bt++)(Pt=x[bt]).length===2?(jr=Pt[0]*Xe+jr,Er=Pt[1]*ut+Er,sn(jr,Er)):(Yt=Pt[0]*Xe+jr,Mn=Pt[1]*ut+Er,Xn=Pt[2]*Xe+jr,Qn=Pt[3]*ut+Er,jr=Pt[4]*Xe+jr,Er=Pt[5]*ut+Er,$a(Yt,Mn,Xn,Qn,jr,Er));return ze&&vl(),Vc(Le),this},v.path=function(x){for(var M=0;M<x.length;M++){var se=x[M],pe=se.c;switch(se.op){case"m":mn(pe[0],pe[1]);break;case"l":sn(pe[0],pe[1]);break;case"c":$a.apply(this,pe);break;case"h":vl()}}return this},v.__private__.rect=v.rect=function(x,M,se,pe,Le){if(isNaN(x)||isNaN(M)||isNaN(se)||isNaN(pe)||!Bs(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return L===S.COMPAT&&(pe=-pe),P([W(R(x)),W(Y(M)),W(R(se)),W(R(pe)),"re"].join(" ")),Vc(Le),this},v.__private__.triangle=v.triangle=function(x,M,se,pe,Le,ze,Xe){if(isNaN(x)||isNaN(M)||isNaN(se)||isNaN(pe)||isNaN(Le)||isNaN(ze)||!Bs(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-x,pe-M],[Le-se,ze-pe],[x-Le,M-ze]],x,M,[1,1],Xe,!0),this},v.__private__.roundedRect=v.roundedRect=function(x,M,se,pe,Le,ze,Xe){if(isNaN(x)||isNaN(M)||isNaN(se)||isNaN(pe)||isNaN(Le)||isNaN(ze)||!Bs(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*se),ze=Math.min(ze,.5*pe),this.lines([[se-2*Le,0],[Le*ut,0,Le,ze-ze*ut,Le,ze],[0,pe-2*ze],[0,ze*ut,-Le*ut,ze,-Le,ze],[2*Le-se,0],[-Le*ut,0,-Le,-ze*ut,-Le,-ze],[0,2*ze-pe],[0,-ze*ut,Le*ut,-ze,Le,-ze]],x+Le,M,[1,1],Xe,!0),this},v.__private__.ellipse=v.ellipse=function(x,M,se,pe,Le){if(isNaN(x)||isNaN(M)||isNaN(se)||isNaN(pe)||!Bs(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*se,Xe=4/3*(Math.SQRT2-1)*pe;return mn(x+se,M),$a(x+se,M-Xe,x+ze,M-pe,x,M-pe),$a(x-ze,M-pe,x-se,M-Xe,x-se,M),$a(x-se,M+Xe,x-ze,M+pe,x,M+pe),$a(x+ze,M+pe,x+se,M+Xe,x+se,M),Vc(Le),this},v.__private__.circle=v.circle=function(x,M,se,pe){if(isNaN(x)||isNaN(M)||isNaN(se)||!Bs(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,M,se,se,pe)},v.setFont=function(x,M,se){return se&&(M=ee(M,se)),St=gl(x,M,{disableWarning:!1}),this};var Hf=v.__private__.getFont=v.getFont=function(){return Qt[gl.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var x,M,se={};for(x in pn)if(pn.hasOwnProperty(x))for(M in se[x]=[],pn[x])pn[x].hasOwnProperty(M)&&se[x].push(M);return se},v.addFont=function(x,M,se,pe,Le){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(se=ee(se,pe)),Le=Le||"Identity-H",Uc.call(this,x,M,se,Le)};var ko,Gc=e.lineWidth||.200025,wl=v.__private__.getLineWidth=v.getLineWidth=function(){return Gc},ad=v.__private__.setLineWidth=v.setLineWidth=function(x){return Gc=x,P(W(R(x))+" w"),this};v.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(x,M){if(x=x||[],M=M||0,isNaN(M)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(se){return W(R(se))}).join(" "),M=W(R(M)),P("["+x+"] "+M+" d"),this};var Yc=v.__private__.getLineHeight=v.getLineHeight=function(){return Ne*ko};v.__private__.getLineHeight=v.getLineHeight=function(){return Ne*ko};var od=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(ko=x),this},dr=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return ko};od(e.lineHeight);var qi=v.__private__.getHorizontalCoordinate=function(x){return R(x)},Kr=v.__private__.getVerticalCoordinate=function(x){return L===S.ADVANCED?x:yt[G].mediaBox.topRightY-yt[G].mediaBox.bottomLeftY-R(x)},ld=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(x){return W(qi(x))},Us=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(x){return W(Kr(x))},Jn=e.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return ms(Jn)},v.__private__.setStrokeColor=v.setDrawColor=function(x,M,se,pe){return Jn=gs({ch1:x,ch2:M,ch3:se,ch4:pe,pdfColorType:"draw",precision:2}),P(Jn),this};var xl=e.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return ms(xl)},v.__private__.setFillColor=v.setFillColor=function(x,M,se,pe){return xl=gs({ch1:x,ch2:M,ch3:se,ch4:pe,pdfColorType:"fill",precision:2}),P(xl),this};var Ba=e.textColor||"0 g",cd=v.__private__.getTextColor=v.getTextColor=function(){return ms(Ba)};v.__private__.setTextColor=v.setTextColor=function(x,M,se,pe){return Ba=gs({ch1:x,ch2:M,ch3:se,ch4:pe,pdfColorType:"text",precision:3}),this};var jo=e.charSpace,ud=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(jo||0)};v.__private__.setCharSpace=v.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return jo=x,this};var bl=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(x){var M=v.CapJoinStyles[x];if(M===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bl=M,P(M+" J"),this};var Tr=0;v.__private__.setLineJoin=v.setLineJoin=function(x){var M=v.CapJoinStyles[x];if(M===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tr=M,P(M+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return P(W(R(x))+" M"),this},v.GState=K0,v.setGState=function(x){(x=typeof x=="string"?Dn[ai[x]]:dd(null,x)).equals(bn)||(P("/"+x.id+" gs"),bn=x)};var dd=function(x,M){if(!x||!ai[x]){var se=!1;for(var pe in Dn)if(Dn.hasOwnProperty(pe)&&Dn[pe].equals(M)){se=!0;break}if(se)M=Dn[pe];else{var Le="GS"+(Object.keys(Dn).length+1).toString(10);Dn[Le]=M,M.id=Le}return x&&(ai[x]=M.id),Bt.publish("addGState",M),M}};v.addGState=function(x,M){return dd(x,M),this},v.saveGraphicsState=function(){return P("q"),si.push({key:St,size:Ne,color:Ba}),this},v.restoreGraphicsState=function(){P("Q");var x=si.pop();return St=x.key,Ne=x.size,Ba=x.color,bn=null,this},v.setCurrentTransformationMatrix=function(x){return P(x.toString()+" cm"),this},v.comment=function(x){return P("#"+x),this};var Or=function(x,M){var se=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(ze){isNaN(ze)||(se=parseFloat(ze))}});var pe=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(ze){isNaN(ze)||(pe=parseFloat(ze))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(ze){Le=ze.toString()}}),this},Kc=function(x,M,se,pe){Or.call(this,x,M),this.type="rect";var Le=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(Xe){isNaN(Xe)||(Le=parseFloat(Xe))}});var ze=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(Xe){isNaN(Xe)||(ze=parseFloat(Xe))}}),this},_l=function(){this.page=Gt,this.currentPage=G,this.pages=fe.slice(0),this.pagesContext=yt.slice(0),this.x=Un,this.y=Vt,this.matrix=Yr,this.width=un(G),this.height=zs(G),this.outputDestination=Te,this.id="",this.objectNumber=-1};_l.prototype.restore=function(){Gt=this.page,G=this.currentPage,yt=this.pagesContext,fe=this.pages,Un=this.x,Vt=this.y,Yr=this.matrix,Wi(G,this.width),Jc(G,this.height),Te=this.outputDestination};var ys=function(x,M,se,pe,Le){Pr.push(new _l),Gt=G=0,fe=[],Un=x,Vt=M,Yr=Le,ml([se,pe])},Sl=function(x){if(tr[x])Pr.pop().restore();else{var M=new _l,se="Xo"+(Object.keys(rn).length+1).toString(10);M.id=se,tr[x]=se,rn[se]=M,Bt.publish("addFormObject",M),Pr.pop().restore()}};for(var Ua in v.beginFormObject=function(x,M,se,pe,Le){return ys(x,M,se,pe,Le),this},v.endFormObject=function(x){return Sl(x),this},v.doFormObject=function(x,M){var se=rn[tr[x]];return P("q"),P(M.toString()+" cm"),P("/"+se.id+" Do"),P("Q"),this},v.getFormObject=function(x){var M=rn[tr[x]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},v.save=function(x,M){return x=x||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(bu(So($s()),x),typeof bu.unload=="function"&&At.setTimeout&&setTimeout(bu.unload,911),this):new Promise(function(se,pe){try{var Le=bu(So($s()),x);typeof bu.unload=="function"&&At.setTimeout&&setTimeout(bu.unload,911),se(Le)}catch(ze){pe(ze.message)}})},Ct.API)Ct.API.hasOwnProperty(Ua)&&(Ua==="events"&&Ct.API.events.length?function(x,M){var se,pe,Le;for(Le=M.length-1;Le!==-1;Le--)se=M[Le][0],pe=M[Le][1],x.subscribe.apply(x,[se].concat(typeof pe=="function"?[pe]:pe))}(Bt,Ct.API.events):v[Ua]=Ct.API[Ua]);var un=v.getPageWidth=function(x){return(yt[x=x||G].mediaBox.topRightX-yt[x].mediaBox.bottomLeftX)/tt},Wi=v.setPageWidth=function(x,M){yt[x].mediaBox.topRightX=M*tt+yt[x].mediaBox.bottomLeftX},zs=v.getPageHeight=function(x){return(yt[x=x||G].mediaBox.topRightY-yt[x].mediaBox.bottomLeftY)/tt},Jc=v.setPageHeight=function(x,M){yt[x].mediaBox.topRightY=M*tt+yt[x].mediaBox.bottomLeftY};return v.internal={pdfEscape:li,getStyle:sd,getFont:Hf,getFontSize:$e,getCharSpace:ud,getTextColor:cd,getLineHeight:Yc,getLineHeightFactor:dr,getLineWidth:wl,write:Ce,getHorizontalCoordinate:qi,getVerticalCoordinate:Kr,getCoordinateString:ld,getVerticalCoordinateString:Us,collections:{},newObject:Ln,newAdditionalObject:Ui,newObjectDeferred:jn,newObjectDeferredBegin:Yn,getFilters:vs,putStream:zi,events:Bt,scaleFactor:tt,pageSize:{getWidth:function(){return un(G)},setWidth:function(x){Wi(G,x)},getHeight:function(){return zs(G)},setHeight:function(x){Jc(G,x)}},encryptionOptions:p,encryption:Fr,getEncryptor:$f,output:No,getNumberOfPages:td,pages:fe,out:P,f2:ie,f3:D,getPageInfo:id,getPageInfoByObjId:Lt,getCurrentPageInfo:Bf,getPDFVersion:k,Point:Or,Rectangle:Kc,Matrix:ft,hasHotfix:Hc},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return un(G)},set:function(x){Wi(G,x)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return zs(G)},set:function(x){Jc(G,x)},enumerable:!0,configurable:!0}),Zu.call(v,ce),St="F1",zc(i,n),Bt.publish("initialized"),v}Fd.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Fd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Fd.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Fd.prototype.processOwnerPassword=function(e,t){return my(py(t).substr(0,5),e)},Fd.prototype.encryptor=function(e,t){var n=py(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return my(n,r)}},K0.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Sn(e)!==Sn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Ct.API={events:[]},Ct.version="3.0.1";var pr=Ct.API,Y5=1,Gu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Id=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rt=function(e){return e.toFixed(2)},Zl=function(e){return e.toFixed(5)};pr.__acroform__={};var fs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},D3=function(e){return e*Y5},io=function(e){var t=new N6,n=gt.internal.getHeight(e)||0,r=gt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Rt(r)),Number(Rt(n))],t},cB=pr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},uB=pr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},dB=pr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},_r=pr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return dB(e,t-1)},Sr=pr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return cB(e,t-1)},Nr=pr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return uB(e,t-1)},fB=pr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],a=e[2],l=e[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+l)||0,c.upperRight_X=n(i+a)||0,c.upperRight_Y=r(s)||0,[Number(Rt(c.lowerLeft_X)),Number(Rt(c.lowerLeft_Y)),Number(Rt(c.upperRight_X)),Number(Rt(c.upperRight_Y))]},hB=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=gy(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Rt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=io(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},gy=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(D){return D.split(`
`)}):i.map(function(D){return[D]});var s=n,a=gt.internal.getHeight(e)||0;a=a<0?-a:a;var l=gt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(D,R,V){if(D+1<i.length){var Y=R+" "+i[D+1][0];return Bm(Y,e,V).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var f,p,m=Bm("3",e,s).height,w=e.multiline?a-s:(a-m)/2,v=w+=2,N=0,k=0,C=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Bm(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var _="",S=0,L=0;L<i.length;L++)if(i.hasOwnProperty(L)){var F=!1;if(i[L].length!==1&&C!==i[L].length-1){if((m+2)*(S+2)+2>a)continue e;_+=i[L][C],F=!0,k=L,L--}else{_=(_+=i[L][C]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var Q=parseInt(L),ee=c(Q,_,s),W=L>=i.length-1;if(ee&&!W){_+=" ",C=0;continue}if(ee||W){if(W)k=Q;else if(e.multiline&&(m+2)*(S+2)+2>a)continue e}else{if(!e.multiline||(m+2)*(S+2)+2>a)continue e;k=Q}}for(var $="",Z=N;Z<=k;Z++){var ie=i[Z];if(e.multiline){if(Z===k){$+=ie[C]+" ",C=(C+1)%ie.length;continue}if(Z===N){$+=ie[ie.length-1]+" ";continue}}$+=ie[0]+" "}switch($=$.substr($.length-1)==" "?$.substr(0,$.length-1):$,p=Bm($,e,s).width,e.textAlign){case"right":f=l-p-2;break;case"center":f=(l-p)/2;break;case"left":default:f=2}t+=Rt(f)+" "+Rt(v)+` Td
`,t+="("+Gu($)+`) Tj
`,t+=-Rt(f)+` 0 Td
`,v=-(s+2),p=0,N=F?k:k+1,S++,_=""}break}return r.text=t,r.fontSize=s,r},Bm=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},pB={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mB=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},gB=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Sn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},vB=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ra.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(pB)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Y5=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new k6,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&mB(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var l=r[a],c=[],f=l.Rect;if(l.Rect&&(l.Rect=fB(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=gt.createDefaultAppearanceStream(l),Sn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=hB(l);c.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var m="";for(var w in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(w)){var v=l.appearanceStreamContent[w];if(m+="/"+w+" ",m+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var a in v)if(v.hasOwnProperty(a)){var N=v[a];typeof N=="function"&&(N=N.call(i,l)),m+="/"+a+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=v)=="function"&&(N=N.call(i,l)),m+="/"+a+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&gB(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},S6=pr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(a){return a};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Sn(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Gu(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Tv=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Gu(r(e))+")"},uo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};uo.prototype.toString=function(){return this.objId+" 0 R"},uo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},uo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:S6(i,this.objId,this.scope)}):i instanceof uo?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var N6=function(){uo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};fs(N6,uo);var k6=function(){uo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Gu(n(e))+")"}},set:function(n){e=n}})};fs(k6,uo);var Ra=function e(){uo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_r(t,3)},set:function(_){_?this.F=Sr(t,3):this.F=Nr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof J0)return;s="FieldObject"+e.FieldNum++}var _=function(S){return S};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Gu(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/Y5:f},set:function(_){f=_}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(_){p=_}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof J0||this instanceof Du))return Tv(m,this.objId,this.scope)},set:function(_){_=_.toString(),m=_}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Hr?w:Tv(w,this.objId,this.scope)},set:function(_){_=_.toString(),w=this instanceof Hr?_:_.substr(0,1)==="("?Id(_.substr(1,_.length-2)):Id(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hr?Id(w.substr(1,w.length-1)):w},set:function(_){_=_.toString(),w=this instanceof Hr?"/"+_:_}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Hr?v:Tv(v,this.objId,this.scope)},set:function(_){_=_.toString(),v=this instanceof Hr?_:_.substr(0,1)==="("?Id(_.substr(1,_.length-2)):Id(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hr?Id(v.substr(1,v.length-1)):v},set:function(_){_=_.toString(),v=this instanceof Hr?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(_){_=!!_,k=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(_){N=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,1)},set:function(_){_?this.Ff=Sr(this.Ff,1):this.Ff=Nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,2)},set:function(_){_?this.Ff=Sr(this.Ff,2):this.Ff=Nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,3)},set:function(_){_?this.Ff=Sr(this.Ff,3):this.Ff=Nr(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');C=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(C){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};fs(Ra,uo);var cf=function(){Ra.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return S6(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,l){l||(l=1);for(var c,f=[];c=a.exec(s);)f.push(c[l]);return f}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,18)},set:function(n){n?this.Ff=Sr(this.Ff,18):this.Ff=Nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Sr(this.Ff,19):this.Ff=Nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,20)},set:function(n){n?(this.Ff=Sr(this.Ff,20),t.sort()):this.Ff=Nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,22)},set:function(n){n?this.Ff=Sr(this.Ff,22):this.Ff=Nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,23)},set:function(n){n?this.Ff=Sr(this.Ff,23):this.Ff=Nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,27)},set:function(n){n?this.Ff=Sr(this.Ff,27):this.Ff=Nr(this.Ff,27)}}),this.hasAppearanceStream=!1};fs(cf,Ra);var uf=function(){cf.call(this),this.fontName="helvetica",this.combo=!1};fs(uf,cf);var df=function(){uf.call(this),this.combo=!0};fs(df,uf);var c0=function(){df.call(this),this.edit=!0};fs(c0,df);var Hr=function(){Ra.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,15)},set:function(n){n?this.Ff=Sr(this.Ff,15):this.Ff=Nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,16)},set:function(n){n?this.Ff=Sr(this.Ff,16):this.Ff=Nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,17)},set:function(n){n?this.Ff=Sr(this.Ff,17):this.Ff=Nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,26)},set:function(n){n?this.Ff=Sr(this.Ff,26):this.Ff=Nr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Gu(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Sn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};fs(Hr,Ra);var u0=function(){Hr.call(this),this.pushButton=!0};fs(u0,Hr);var ff=function(){Hr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};fs(ff,Hr);var J0=function(){var e,t;Ra.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Gu(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Sn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fs(J0,Ra),ff.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ff.prototype.createOption=function(e){var t=new J0;return t.Parent=this,t.optionName=e,this.Kids.push(t),yB.call(this.scope,t),t};var d0=function(){Hr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};fs(d0,Hr);var Du=function(){Ra.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,13)},set:function(t){t?this.Ff=Sr(this.Ff,13):this.Ff=Nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,21)},set:function(t){t?this.Ff=Sr(this.Ff,21):this.Ff=Nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,23)},set:function(t){t?this.Ff=Sr(this.Ff,23):this.Ff=Nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,24)},set:function(t){t?this.Ff=Sr(this.Ff,24):this.Ff=Nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,25)},set:function(t){t?this.Ff=Sr(this.Ff,25):this.Ff=Nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,26)},set:function(t){t?this.Ff=Sr(this.Ff,26):this.Ff=Nr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fs(Du,Ra);var f0=function(){Du.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,14)},set:function(e){e?this.Ff=Sr(this.Ff,14):this.Ff=Nr(this.Ff,14)}}),this.password=!0};fs(f0,Du);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=io(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=gy(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Rt(gt.internal.getWidth(e))+" "+Rt(gt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Rt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=io(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=gt.internal.getHeight(e),a=gt.internal.getWidth(e),l=gy(e,e.caption);return i.push("1 g"),i.push("0 0 "+Rt(a)+" "+Rt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Rt(a-1)+" "+Rt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Rt(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=io(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(gt.internal.getWidth(e))+" "+Rt(gt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=gt.RadioButton.Circle.YesNormal,t.D[e]=gt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=io(e);t.scope=e.scope;var n=[],r=gt.internal.getWidth(e)<=gt.internal.getHeight(e)?gt.internal.getWidth(e)/4:gt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=gt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Zl(gt.internal.getWidth(e)/2)+" "+Zl(gt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=io(e);t.scope=e.scope;var n=[],r=gt.internal.getWidth(e)<=gt.internal.getHeight(e)?gt.internal.getWidth(e)/4:gt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*gt.internal.Bezier_C).toFixed(5)),a=Number((r*gt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Zl(gt.internal.getWidth(e)/2)+" "+Zl(gt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Zl(gt.internal.getWidth(e)/2)+" "+Zl(gt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=io(e);t.scope=e.scope;var n=[],r=gt.internal.getWidth(e)<=gt.internal.getHeight(e)?gt.internal.getWidth(e)/4:gt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*gt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Zl(gt.internal.getWidth(e)/2)+" "+Zl(gt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=gt.RadioButton.Cross.YesNormal,t.D[e]=gt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=io(e);t.scope=e.scope;var n=[],r=gt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Rt(gt.internal.getWidth(e)-2)+" "+Rt(gt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Rt(r.x1.x)+" "+Rt(r.x1.y)+" m"),n.push(Rt(r.x2.x)+" "+Rt(r.x2.y)+" l"),n.push(Rt(r.x4.x)+" "+Rt(r.x4.y)+" m"),n.push(Rt(r.x3.x)+" "+Rt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=io(e);t.scope=e.scope;var n=gt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Rt(gt.internal.getWidth(e))+" "+Rt(gt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Rt(gt.internal.getWidth(e)-2)+" "+Rt(gt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Rt(n.x1.x)+" "+Rt(n.x1.y)+" m"),r.push(Rt(n.x2.x)+" "+Rt(n.x2.y)+" l"),r.push(Rt(n.x4.x)+" "+Rt(n.x4.y)+" m"),r.push(Rt(n.x3.x)+" "+Rt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=io(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(gt.internal.getWidth(e))+" "+Rt(gt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};gt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=gt.internal.getWidth(e),n=gt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},gt.internal.getWidth=function(e){var t=0;return Sn(e)==="object"&&(t=D3(e.Rect[2])),t},gt.internal.getHeight=function(e){var t=0;return Sn(e)==="object"&&(t=D3(e.Rect[3])),t};var yB=pr.addField=function(e){if(vB(this,e),!(e instanceof Ra))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};pr.AcroFormChoiceField=cf,pr.AcroFormListBox=uf,pr.AcroFormComboBox=df,pr.AcroFormEditBox=c0,pr.AcroFormButton=Hr,pr.AcroFormPushButton=u0,pr.AcroFormRadioButton=ff,pr.AcroFormCheckBox=d0,pr.AcroFormTextField=Du,pr.AcroFormPasswordField=f0,pr.AcroFormAppearance=gt,pr.AcroForm={ChoiceField:cf,ListBox:uf,ComboBox:df,EditBox:c0,Button:Hr,PushButton:u0,RadioButton:ff,CheckBox:d0,TextField:Du,PasswordField:f0,Appearance:gt},Ct.AcroForm={ChoiceField:cf,ListBox:uf,ComboBox:df,EditBox:c0,Button:Hr,PushButton:u0,RadioButton:ff,CheckBox:d0,TextField:Du,PasswordField:f0,Appearance:gt};function j6(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(D,R){var V,Y,he,ge,J,B=t;if((R=R||t)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(ee(D))for(J in n)for(he=n[J],V=0;V<he.length;V+=1){for(ge=!0,Y=0;Y<he[V].length;Y+=1)if(he[V][Y]!==void 0&&he[V][Y]!==D[Y]){ge=!1;break}if(ge===!0){B=J;break}}else for(J in n)for(he=n[J],V=0;V<he.length;V+=1){for(ge=!0,Y=0;Y<he[V].length;Y+=1)if(he[V][Y]!==void 0&&he[V][Y]!==D.charCodeAt(Y)){ge=!1;break}if(ge===!0){B=J;break}}return B===t&&R!==t&&(B=R),B},i=function D(R){for(var V=this.internal.write,Y=this.internal.putStream,he=(0,this.internal.getFilters)();he.indexOf("FlateEncode")!==-1;)he.splice(he.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var ge=[];if(ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Image"}),ge.push({key:"Width",value:R.width}),ge.push({key:"Height",value:R.height}),R.colorSpace===C.INDEXED?ge.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(ge.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===C.DEVICE_CMYK&&ge.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ge.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&ge.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var J="",B=0,te=R.transparency.length;B<te;B++)J+=R.transparency[B]+" "+R.transparency[B]+" ";ge.push({key:"Mask",value:"["+J+"]"})}R.sMask!==void 0&&ge.push({key:"SMask",value:R.objectId+1+" 0 R"});var oe=R.filter!==void 0?["/"+R.filter]:void 0;if(Y({data:R.data,additionalKeyValues:ge,alreadyAppliedFilters:oe,objectId:R.objectId}),V("endobj"),"sMask"in R&&R.sMask!==void 0){var Pe="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,O={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:Pe,data:R.sMask};"filter"in R&&(O.filter=R.filter),D.call(this,O)}if(R.colorSpace===C.INDEXED){var G=this.internal.newObject();Y({data:$(new Uint8Array(R.palette)),objectId:G}),V("endobj")}},s=function(){var D=this.internal.collections.addImage_images;for(var R in D)i.call(this,D[R])},a=function(){var D,R=this.internal.collections.addImage_images,V=this.internal.write;for(var Y in R)V("/I"+(D=R[Y]).index,D.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var D=this.internal.collections.addImage_images;return l.call(this),D},f=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(D){return typeof e["process"+D.toUpperCase()]=="function"},m=function(D){return Sn(D)==="object"&&D.nodeType===1},w=function(D,R){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var V=""+D.getAttribute("src");if(V.indexOf("data:image/")===0)return zh(unescape(V).split("base64,").pop());var Y=e.loadFile(V,!0);if(Y!==void 0)return Y}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var he;switch(R){case"PNG":he="image/png";break;case"WEBP":he="image/webp";break;case"JPEG":case"JPG":default:he="image/jpeg"}return zh(D.toDataURL(he,1).split("base64,").pop())}},v=function(D){var R=this.internal.collections.addImage_images;if(R){for(var V in R)if(D===R[V].alias)return R[V]}},N=function(D,R,V){return D||R||(D=-96,R=-96),D<0&&(D=-1*V.width*72/D/this.internal.scaleFactor),R<0&&(R=-1*V.height*72/R/this.internal.scaleFactor),D===0&&(D=R*V.width/V.height),R===0&&(R=D*V.height/V.width),[D,R]},k=function(D,R,V,Y,he,ge){var J=N.call(this,V,Y,he),B=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,oe=c.call(this);if(V=J[0],Y=J[1],oe[he.index]=he,ge){ge*=Math.PI/180;var Pe=Math.cos(ge),O=Math.sin(ge),G=function(ae){return ae.toFixed(4)},re=[G(Pe),G(O),G(-1*O),G(Pe),0,0,"cm"]}this.internal.write("q"),ge?(this.internal.write([1,"0","0",1,B(D),te(R+Y),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([B(V),"0","0",B(Y),"0","0","cm"].join(" "))):this.internal.write([B(V),"0","0",B(Y),B(D),te(R+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+he.index+" Do"),this.internal.write("Q")},C=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(D){var R,V,Y=0;if(typeof D=="string")for(V=D.length,R=0;R<V;R++)Y=(Y<<5)-Y+D.charCodeAt(R),Y|=0;else if(ee(D))for(V=D.byteLength/2,R=0;R<V;R++)Y=(Y<<5)-Y+D[R],Y|=0;return Y},L=e.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var R=!0;return D.length===0&&(R=!1),D.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(R=!1),R},F=e.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var R=D.indexOf(",");return R<0?null:D.substring(0,R).trim().endsWith("base64")?D.substring(R+1):null},Q=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(D){return Q()&&D instanceof ArrayBuffer};var ee=e.__addimage__.isArrayBufferView=function(D){return Q()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},W=e.__addimage__.binaryStringToUint8Array=function(D){for(var R=D.length,V=new Uint8Array(R),Y=0;Y<R;Y++)V[Y]=D.charCodeAt(Y);return V},$=e.__addimage__.arrayBufferToBinaryString=function(D){for(var R="",V=ee(D)?D:new Uint8Array(D),Y=0;Y<V.length;Y+=8192)R+=String.fromCharCode.apply(null,V.subarray(Y,Y+8192));return R};e.addImage=function(){var D,R,V,Y,he,ge,J,B,te;if(typeof arguments[1]=="number"?(R=t,V=arguments[1],Y=arguments[2],he=arguments[3],ge=arguments[4],J=arguments[5],B=arguments[6],te=arguments[7]):(R=arguments[1],V=arguments[2],Y=arguments[3],he=arguments[4],ge=arguments[5],J=arguments[6],B=arguments[7],te=arguments[8]),Sn(D=arguments[0])==="object"&&!m(D)&&"imageData"in D){var oe=D;D=oe.imageData,R=oe.format||R||t,V=oe.x||V||0,Y=oe.y||Y||0,he=oe.w||oe.width||he,ge=oe.h||oe.height||ge,J=oe.alias||J,B=oe.compression||B,te=oe.rotation||oe.angle||te}var Pe=this.internal.getFilters();if(B===void 0&&Pe.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(V)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var O=Z.call(this,D,R,J,B);return k.call(this,V,Y,he,ge,O,te),this};var Z=function(D,R,V,Y){var he,ge,J;if(typeof D=="string"&&r(D)===t){D=unescape(D);var B=ie(D,!1);(B!==""||(B=e.loadFile(D,!0))!==void 0)&&(D=B)}if(m(D)&&(D=w(D,R)),R=r(D,R),!p(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((J=V)==null||J.length===0)&&(V=function(te){return typeof te=="string"||ee(te)?S(te):ee(te.data)?S(te.data):null}(D)),(he=v.call(this,V))||(Q()&&(D instanceof Uint8Array||R==="RGBA"||(ge=D,D=W(D))),he=this["process"+R.toUpperCase()](D,f.call(this),V,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in e.image_compression?te:_.NONE}(Y),ge)),!he)throw new Error("An unknown error occurred whilst processing the image.");return he},ie=e.__addimage__.convertBase64ToBinaryString=function(D,R){R=typeof R!="boolean"||R;var V,Y="";if(typeof D=="string"){var he;V=(he=F(D))!==null&&he!==void 0?he:D;try{Y=zh(V)}catch(ge){if(R)throw L(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ge.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};e.getImageProperties=function(D){var R,V,Y="";if(m(D)&&(D=w(D)),typeof D=="string"&&r(D)===t&&((Y=ie(D,!1))===""&&(Y=e.loadFile(D)||""),D=Y),V=r(D),!p(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!Q()||D instanceof Uint8Array||(D=W(D)),!(R=this["process"+V.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=V,R}})(Ct.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Ct.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,p=!1,m=0;m<f.length&&!p;m++)switch((r=f[m]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var w=0;w<f.length;w++){r=f[w];var v=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(k.objId),S=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+v(_(r.contents))+")",s+=" /Popup "+C.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+v(_(S))+") >>",k.content=s;var L=k.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+L,r.open&&(s+=" /Open true"),s+=" >>",C.content=s,this.internal.write(k.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+v(N(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var Q=this.annotations._nameMap[r.options.name];r.options.pageNumber=Q.page,r.options.top=Q.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+v(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var ee=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ee+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:f(r),w:c(n+i),h:f(r+s)},options:a,type:"link"})},e.textWithLink=function(n,r,i,s){var a,l,c=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var p=this.splitTextToSize(n,l).length;a=Math.ceil(f*p)}else l=c,a=f;return this.text(n,r,i,s),i+=.2*f,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-f,l,a,s),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Ct.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(k){return t[k.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},l=e.__arabicParser__.isArabicEndLetter=function(k){return a(k)&&s(k)&&t[k.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(k){return a(k)&&i.indexOf(k.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return a(k)&&s(k)&&t[k.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(k){return a(k)&&s(k)&&t[k.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(k){return a(k)&&s(k)&&t[k.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(k){return a(k)&&s(k)&&t[k.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(k){var C=0,_=n,S="",L=0;for(C=0;C<k.length;C+=1)_[k.charCodeAt(C)]!==void 0?(L++,typeof(_=_[k.charCodeAt(C)])=="number"&&(S+=String.fromCharCode(_),_=n,L=0),C===k.length-1&&(_=n,S+=k.charAt(C-(L-1)),C-=L-1,L=0)):(_=n,S+=k.charAt(C-L),C-=L,L=0);return S};e.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&r[k.charCodeAt(0)]!==void 0};var w=e.__arabicParser__.getCorrectForm=function(k,C,_){return a(k)?s(k)===!1?-1:!f(k)||!a(C)&&!a(_)||!a(_)&&l(C)||l(k)&&!a(C)||l(k)&&c(C)||l(k)&&l(C)?0:p(k)&&a(C)&&!l(C)&&a(_)&&f(_)?3:l(k)||!a(_)?1:2:-1},v=function(k){var C=0,_=0,S=0,L="",F="",Q="",ee=(k=k||"").split("\\s+"),W=[];for(C=0;C<ee.length;C+=1){for(W.push(""),_=0;_<ee[C].length;_+=1)L=ee[C][_],F=ee[C][_-1],Q=ee[C][_+1],a(L)?(S=w(L,F,Q),W[C]+=S!==-1?String.fromCharCode(t[L.charCodeAt(0)][S]):L):W[C]+=L;W[C]=m(W[C])}return W.join(" ")},N=e.__arabicParser__.processArabic=e.processArabic=function(){var k,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(C)){var S=0;for(_=[],S=0;S<C.length;S+=1)Array.isArray(C[S])?_.push([v(C[S][0]),C[S][1],C[S][2]]):_.push([v(C[S])]);k=_}else k=v(C);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};e.events.push(["preProcessText",N])}(Ct.API),Ct.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ct.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(k){c=k}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(k){f=k}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(k){p=k}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(k){w=k}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(k){v=k}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(k){N=k}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,f){r.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),w=f.scaleFactor||this.internal.scaleFactor,v=0,N=0,k=0,C=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var _=f.maxWidth;_>0?typeof c=="string"?c=this.splitTextToSize(c,_):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(L,F){return L.concat(C.splitTextToSize(F,_))},[])):c=Array.isArray(c)?c:[c];for(var S=0;S<c.length;S++)v<(k=this.getStringUnitWidth(c[S],{font:m})*p)&&(v=k);return v!==0&&(N=c.length),{w:v/=w,h:Math.max((N*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/w,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,v&&w&&(this.printHeaderRow(c.lineNumber,!0),c.y+=w[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};e.table=function(c,f,p,m,w){if(r.call(this),!p)throw new Error("No data for PDF table.");var v,N,k,C,_=[],S=[],L=[],F={},Q={},ee=[],W=[],$=(w=w||{}).autoSize||!1,Z=w.printHeaders!==!1,ie=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,D=w.margins||Object.assign({width:this.getPageWidth()},t),R=typeof w.padding=="number"?w.padding:3,V=w.headerBackgroundColor||"#c8c8c8",Y=w.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=Z,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=ie,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=Y,this.setFontSize(ie),m==null)S=_=Object.keys(p[0]),L=_.map(function(){return"left"});else if(Array.isArray(m)&&Sn(m[0])==="object")for(_=m.map(function(oe){return oe.name}),S=m.map(function(oe){return oe.prompt||oe.name||""}),L=m.map(function(oe){return oe.align||"left"}),v=0;v<m.length;v+=1)Q[m[v].name]=m[v].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(S=_=m,L=_.map(function(){return"left"}));if($||Array.isArray(m)&&typeof m[0]=="string")for(v=0;v<_.length;v+=1){for(F[C=_[v]]=p.map(function(oe){return oe[C]}),this.setFont(void 0,"bold"),ee.push(this.getTextDimensions(S[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=F[C],this.setFont(void 0,"normal"),k=0;k<N.length;k+=1)ee.push(this.getTextDimensions(N[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Q[C]=Math.max.apply(null,ee)+R+R,ee=[]}if(Z){var he={};for(v=0;v<_.length;v+=1)he[_[v]]={},he[_[v]].text=S[v],he[_[v]].align=L[v];var ge=l.call(this,he,Q);W=_.map(function(oe){return new s(c,f,Q[oe],ge,he[oe].text,void 0,he[oe].align)}),this.setTableHeaderRow(W),this.printHeaderRow(1,!1)}var J=m.reduce(function(oe,Pe){return oe[Pe.name]=Pe.align,oe},{});for(v=0;v<p.length;v+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:v,data:p[v]},this);var B=l.call(this,p[v],Q);for(k=0;k<_.length;k+=1){var te=p[v][_[k]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:v,col:k,data:te},this),a.call(this,new s(c,f,Q[_[k]],B,te,v+2,J[_[k]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var l=function(c,f){var p=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(c).map(function(v){var N=c[v];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,f[v]-p-p)},this).map(function(v){return this.getLineHeightFactor()*v.length*m/w+p+p},this).reduce(function(v,N){return Math.max(v,N)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){p=this.internal.__cell__.tableHeaderRow[v].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,w.push(p)),p.lineNumber=c;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,p),this.setTextColor(N)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),n=!1}}(Ct.API);var E6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},C6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vy=j6(C6),A6=[100,200,300,400,500,600,700,800,900],wB=j6(A6);function yy(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return E6[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof vy[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function M3(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var xB={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},I3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function R3(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function bB(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},xB,n.genericFontFamilies||{}),s=null,a=null,l=0;l<t.length;++l)if(i[(s=yy(t[l])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){a=e[s.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+R3(s)+"' and default family '"+r+"'.");if(a=function(c,f){if(f[c])return f[c];var p=vy[c],m=p<=vy.normal?-1:1,w=M3(f,C6,p,m);if(!w)throw new Error("Could not find a matching font-stretch value for "+c);return w}(s.stretch,a),a=function(c,f){if(f[c])return f[c];for(var p=E6[c],m=0;m<p.length;++m)if(f[p[m]])return f[p[m]];throw new Error("Could not find a matching font-style for "+c)}(s.style,a),!(a=function(c,f){if(f[c])return f[c];if(c===400&&f[500])return f[500];if(c===500&&f[400])return f[400];var p=wB[c],m=M3(f,A6,p,c<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+c);return m}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+R3(s)+"'.");return a}function F3(e){return e.trimLeft()}function _B(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function SB(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Um,$3,B3,Ov=["times"];(function(e){var t,n,r,i,s,a,l,c,f,p=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new c,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new a,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new a,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,f=new p}]);var m=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=O;Object.defineProperty(this,"pdf",{get:function(){return G}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(ue){re=!!ue}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(ue){ae=!!ue}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(ue){isNaN(ue)||(de=ue)}});var ke=0;Object.defineProperty(this,"posY",{get:function(){return ke},set:function(ue){isNaN(ue)||(ke=ue)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(ue){var P;typeof ue=="number"?P=[ue,ue,ue,ue]:((P=new Array(4))[0]=ue[0],P[1]=ue.length>=2?ue[1]:P[0],P[2]=ue.length>=3?ue[2]:P[0],P[3]=ue.length>=4?ue[3]:P[1]),f.margin=P}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(ue){Ee=ue}});var je=0;Object.defineProperty(this,"lastBreak",{get:function(){return je},set:function(ue){je=ue}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(ue){we=ue}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(ue){ue instanceof p&&(f=ue)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(ue){f.path=ue}});var fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return fe},set:function(ue){fe=ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ue){var P;P=w(ue),this.ctx.fillStyle=P.style,this.ctx.isFillTransparent=P.a===0,this.ctx.fillOpacity=P.a,this.pdf.setFillColor(P.r,P.g,P.b,{a:P.a}),this.pdf.setTextColor(P.r,P.g,P.b,{a:P.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ue){var P=w(ue);this.ctx.strokeStyle=P.style,this.ctx.isStrokeTransparent=P.a===0,this.ctx.strokeOpacity=P.a,P.a===0?this.pdf.setDrawColor(255,255,255):(P.a,this.pdf.setDrawColor(P.r,P.g,P.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ue){["butt","round","square"].indexOf(ue)!==-1&&(this.ctx.lineCap=ue,this.pdf.setLineCap(ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ue){isNaN(ue)||(this.ctx.lineWidth=ue,this.pdf.setLineWidth(ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ue){["bevel","round","miter"].indexOf(ue)!==-1&&(this.ctx.lineJoin=ue,this.pdf.setLineJoin(ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ue){isNaN(ue)||(this.ctx.miterLimit=ue,this.pdf.setMiterLimit(ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ue){this.ctx.textBaseline=ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ue){["right","end","center","left","start"].indexOf(ue)!==-1&&(this.ctx.textAlign=ue)}});var xe=null;function Te(ue,P){if(xe===null){var Ce=function(Ie){var ce=[];return Object.keys(Ie).forEach(function(Ne){Ie[Ne].forEach(function(Fe){var $e=null;switch(Fe){case"bold":$e={family:Ne,weight:"bold"};break;case"italic":$e={family:Ne,style:"italic"};break;case"bolditalic":$e={family:Ne,weight:"bold",style:"italic"};break;case"":case"normal":$e={family:Ne}}$e!==null&&($e.ref={name:Ne,style:Fe},ce.push($e))})}),ce}(ue.getFontList());xe=function(Ie){for(var ce={},Ne=0;Ne<Ie.length;++Ne){var Fe=yy(Ie[Ne]),$e=Fe.family,Ye=Fe.stretch,rt=Fe.style,at=Fe.weight;ce[$e]=ce[$e]||{},ce[$e][Ye]=ce[$e][Ye]||{},ce[$e][Ye][rt]=ce[$e][Ye][rt]||{},ce[$e][Ye][rt][at]=Fe}return ce}(Ce.concat(P))}return xe}var Oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Oe},set:function(ue){xe=null,Oe=ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ue){var P;if(this.ctx.font=ue,(P=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ue))!==null){var Ce=P[1];P[2];var Ie=P[3],ce=P[4];P[5];var Ne=P[6],Fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ce)[2];ce=Math.floor(Fe==="px"?parseFloat(ce)*this.pdf.internal.scaleFactor:Fe==="em"?parseFloat(ce)*this.pdf.getFontSize():parseFloat(ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ce);var $e=function(it){var St,tt,Un=[],Vt=it.trim();if(Vt==="")return Ov;if(Vt in I3)return[I3[Vt]];for(;Vt!=="";){switch(tt=null,St=(Vt=F3(Vt)).charAt(0)){case'"':case"'":tt=_B(Vt.substring(1),St);break;default:tt=SB(Vt)}if(tt===null||(Un.push(tt[0]),(Vt=F3(tt[1]))!==""&&Vt.charAt(0)!==","))return Ov;Vt=Vt.replace(/^,/,"")}return Un}(Ne);if(this.fontFaces){var Ye=bB(Te(this.pdf,this.fontFaces),$e.map(function(it){return{family:it,stretch:"normal",weight:Ie,style:Ce}}));this.pdf.setFont(Ye.ref.name,Ye.ref.style)}else{var rt="";(Ie==="bold"||parseInt(Ie,10)>=700||Ce==="bold")&&(rt="bold"),Ce==="italic"&&(rt+="italic"),rt.length===0&&(rt="normal");for(var at="",lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<$e.length;vt++){if(this.pdf.internal.getFont($e[vt],rt,{noFallback:!0,disableWarning:!0})!==void 0){at=$e[vt];break}if(rt==="bolditalic"&&this.pdf.internal.getFont($e[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=$e[vt],rt="bold";else if(this.pdf.internal.getFont($e[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=$e[vt],rt="normal";break}}if(at===""){for(var Nt=0;Nt<$e.length;Nt++)if(lt[$e[Nt]]){at=lt[$e[Nt]];break}}at=at===""?"Times":at,this.pdf.setFont(at,rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ue){this.ctx.globalCompositeOperation=ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ue){this.ctx.globalAlpha=ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ue){this.ctx.lineDashOffset=ue,Pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ue){this.ctx.lineDash=ue,Pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ue){this.ctx.ignoreClearRect=!!ue}})};m.prototype.setLineDash=function(O){this.lineDash=O},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){F.call(this,"fill",!1)},m.prototype.stroke=function(){F.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(O,G){if(isNaN(O)||isNaN(G))throw Tn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new a(O,G));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new a(O,G)},m.prototype.closePath=function(){var O=new a(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Sn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){O=new a(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(O.x,O.y)},m.prototype.lineTo=function(O,G){if(isNaN(O)||isNaN(G))throw Tn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new a(O,G));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},m.prototype.quadraticCurveTo=function(O,G,re,ae){if(isNaN(re)||isNaN(ae)||isNaN(O)||isNaN(G))throw Tn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new a(re,ae)),ke=this.ctx.transform.applyToPoint(new a(O,G));this.path.push({type:"qct",x1:ke.x,y1:ke.y,x:de.x,y:de.y}),this.ctx.lastPoint=new a(de.x,de.y)},m.prototype.bezierCurveTo=function(O,G,re,ae,de,ke){if(isNaN(de)||isNaN(ke)||isNaN(O)||isNaN(G)||isNaN(re)||isNaN(ae))throw Tn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new a(de,ke)),je=this.ctx.transform.applyToPoint(new a(O,G)),we=this.ctx.transform.applyToPoint(new a(re,ae));this.path.push({type:"bct",x1:je.x,y1:je.y,x2:we.x,y2:we.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new a(Ee.x,Ee.y)},m.prototype.arc=function(O,G,re,ae,de,ke){if(isNaN(O)||isNaN(G)||isNaN(re)||isNaN(ae)||isNaN(de))throw Tn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ke=!!ke,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new a(O,G));O=Ee.x,G=Ee.y;var je=this.ctx.transform.applyToPoint(new a(0,re)),we=this.ctx.transform.applyToPoint(new a(0,0));re=Math.sqrt(Math.pow(je.x-we.x,2)+Math.pow(je.y-we.y,2))}Math.abs(de-ae)>=2*Math.PI&&(ae=0,de=2*Math.PI),this.path.push({type:"arc",x:O,y:G,radius:re,startAngle:ae,endAngle:de,counterclockwise:ke})},m.prototype.arcTo=function(O,G,re,ae,de){throw new Error("arcTo not implemented.")},m.prototype.rect=function(O,G,re,ae){if(isNaN(O)||isNaN(G)||isNaN(re)||isNaN(ae))throw Tn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,G),this.lineTo(O+re,G),this.lineTo(O+re,G+ae),this.lineTo(O,G+ae),this.lineTo(O,G),this.lineTo(O+re,G),this.lineTo(O,G)},m.prototype.fillRect=function(O,G,re,ae){if(isNaN(O)||isNaN(G)||isNaN(re)||isNaN(ae))throw Tn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,G,re,ae),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},m.prototype.strokeRect=function(O,G,re,ae){if(isNaN(O)||isNaN(G)||isNaN(re)||isNaN(ae))throw Tn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(O,G,re,ae),this.stroke())},m.prototype.clearRect=function(O,G,re,ae){if(isNaN(O)||isNaN(G)||isNaN(re)||isNaN(ae))throw Tn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,G,re,ae))},m.prototype.save=function(O){O=typeof O!="boolean"||O;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},m.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(G),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(O){var G,re,ae,de;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))G=0,re=0,ae=0,de=0;else{var ke=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(ke!==null)G=parseInt(ke[1]),re=parseInt(ke[2]),ae=parseInt(ke[3]),de=1;else if((ke=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)G=parseInt(ke[1]),re=parseInt(ke[2]),ae=parseInt(ke[3]),de=parseFloat(ke[4]);else{if(de=1,typeof O=="string"&&O.charAt(0)!=="#"){var Ee=new x6(O);O=Ee.ok?Ee.toHex():"#000000"}O.length===4?(G=O.substring(1,2),G+=G,re=O.substring(2,3),re+=re,ae=O.substring(3,4),ae+=ae):(G=O.substring(1,3),re=O.substring(3,5),ae=O.substring(5,7)),G=parseInt(G,16),re=parseInt(re,16),ae=parseInt(ae,16)}}return{r:G,g:re,b:ae,a:de,style:O}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(O,G,re,ae){if(isNaN(G)||isNaN(re)||typeof O!="string")throw Tn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!v.call(this)){var de=B(this.ctx.transform.rotation),ke=this.ctx.transform.scaleX;R.call(this,{text:O,x:G,y:re,scale:ke,angle:de,align:this.textAlign,maxWidth:ae})}},m.prototype.strokeText=function(O,G,re,ae){if(isNaN(G)||isNaN(re)||typeof O!="string")throw Tn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){ae=isNaN(ae)?void 0:ae;var de=B(this.ctx.transform.rotation),ke=this.ctx.transform.scaleX;R.call(this,{text:O,x:G,y:re,scale:ke,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:ae})}},m.prototype.measureText=function(O){if(typeof O!="string")throw Tn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,re=this.pdf.internal.scaleFactor,ae=G.internal.getFontSize(),de=G.getStringUnitWidth(O)*ae/G.internal.scaleFactor,ke=function(Ee){var je=(Ee=Ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return je}}),this};return new ke({width:de*=Math.round(96*re/72*1e4)/1e4})},m.prototype.scale=function(O,G){if(isNaN(O)||isNaN(G))throw Tn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new c(O,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},m.prototype.rotate=function(O){if(isNaN(O))throw Tn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.translate=function(O,G){if(isNaN(O)||isNaN(G))throw Tn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new c(1,0,0,1,O,G);this.ctx.transform=this.ctx.transform.multiply(re)},m.prototype.transform=function(O,G,re,ae,de,ke){if(isNaN(O)||isNaN(G)||isNaN(re)||isNaN(ae)||isNaN(de)||isNaN(ke))throw Tn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new c(O,G,re,ae,de,ke);this.ctx.transform=this.ctx.transform.multiply(Ee)},m.prototype.setTransform=function(O,G,re,ae,de,ke){O=isNaN(O)?1:O,G=isNaN(G)?0:G,re=isNaN(re)?0:re,ae=isNaN(ae)?1:ae,de=isNaN(de)?0:de,ke=isNaN(ke)?0:ke,this.ctx.transform=new c(O,G,re,ae,de,ke)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(O,G,re,ae,de,ke,Ee,je,we){var fe=this.pdf.getImageProperties(O),xe=1,Te=1,Oe=1,ue=1;ae!==void 0&&je!==void 0&&(Oe=je/ae,ue=we/de,xe=fe.width/ae*je/ae,Te=fe.height/de*we/de),ke===void 0&&(ke=G,Ee=re,G=0,re=0),ae!==void 0&&je===void 0&&(je=ae,we=de),ae===void 0&&je===void 0&&(je=fe.width,we=fe.height);for(var P,Ce=this.ctx.transform.decompose(),Ie=B(Ce.rotate.shx),ce=new c,Ne=(ce=(ce=(ce=ce.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale)).applyToRectangle(new l(ke-G*Oe,Ee-re*ue,ae*xe,de*Te)),Fe=C.call(this,Ne),$e=[],Ye=0;Ye<Fe.length;Ye+=1)$e.indexOf(Fe[Ye])===-1&&$e.push(Fe[Ye]);if(L($e),this.autoPaging)for(var rt=$e[0],at=$e[$e.length-1],lt=rt;lt<at+1;lt++){this.pdf.setPage(lt);var vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=lt===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=lt===1?0:it+(lt-2)*St;if(this.ctx.clip_path.length!==0){var Un=this.path;P=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(P,this.posX+this.margin[3],-tt+Nt+this.ctx.prevPageLastElemOffset),Q.call(this,"fill",!0),this.path=Un}var Vt=JSON.parse(JSON.stringify(Ne));Vt=S([Vt],this.posX+this.margin[3],-tt+Nt+this.ctx.prevPageLastElemOffset)[0];var Yr=(lt>rt||lt<at)&&k.call(this);Yr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,St,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,Ie),Yr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,Ie)};var C=function(O,G,re){var ae=[];G=G||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":ae.push(Math.floor((O.y+de)/re)+1);break;case"arc":ae.push(Math.floor((O.y+de-O.radius)/re)+1),ae.push(Math.floor((O.y+de+O.radius)/re)+1);break;case"qct":var ke=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);ae.push(Math.floor((ke.y+de)/re)+1),ae.push(Math.floor((ke.y+ke.h+de)/re)+1);break;case"bct":var Ee=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);ae.push(Math.floor((Ee.y+de)/re)+1),ae.push(Math.floor((Ee.y+Ee.h+de)/re)+1);break;case"rect":ae.push(Math.floor((O.y+de)/re)+1),ae.push(Math.floor((O.y+O.h+de)/re)+1)}for(var je=0;je<ae.length;je+=1)for(;this.pdf.internal.getNumberOfPages()<ae[je];)_.call(this);return ae},_=function(){var O=this.fillStyle,G=this.strokeStyle,re=this.font,ae=this.lineCap,de=this.lineWidth,ke=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=G,this.font=re,this.lineCap=ae,this.lineWidth=de,this.lineJoin=ke},S=function(O,G,re){for(var ae=0;ae<O.length;ae++)switch(O[ae].type){case"bct":O[ae].x2+=G,O[ae].y2+=re;case"qct":O[ae].x1+=G,O[ae].y1+=re;case"mt":case"lt":case"arc":default:O[ae].x+=G,O[ae].y+=re}return O},L=function(O){return O.sort(function(G,re){return G-re})},F=function(O,G){for(var re,ae,de=this.fillStyle,ke=this.strokeStyle,Ee=this.lineCap,je=this.lineWidth,we=Math.abs(je*this.ctx.transform.scaleX),fe=this.lineJoin,xe=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),Oe=[],ue=0;ue<Te.length;ue++)if(Te[ue].x!==void 0)for(var P=C.call(this,Te[ue]),Ce=0;Ce<P.length;Ce+=1)Oe.indexOf(P[Ce])===-1&&Oe.push(P[Ce]);for(var Ie=0;Ie<Oe.length;Ie++)for(;this.pdf.internal.getNumberOfPages()<Oe[Ie];)_.call(this);if(L(Oe),this.autoPaging)for(var ce=Oe[0],Ne=Oe[Oe.length-1],Fe=ce;Fe<Ne+1;Fe++){this.pdf.setPage(Fe),this.fillStyle=de,this.strokeStyle=ke,this.lineCap=Ee,this.lineWidth=we,this.lineJoin=fe;var $e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=Fe===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=Fe===1?0:rt+(Fe-2)*at;if(this.ctx.clip_path.length!==0){var vt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(re,this.posX+this.margin[3],-lt+Ye+this.ctx.prevPageLastElemOffset),Q.call(this,O,!0),this.path=vt}if(ae=JSON.parse(JSON.stringify(xe)),this.path=S(ae,this.posX+this.margin[3],-lt+Ye+this.ctx.prevPageLastElemOffset),G===!1||Fe===0){var Nt=(Fe>ce||Fe<Ne)&&k.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,at,null).clip().discardPath()),Q.call(this,O,G),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=je}else this.lineWidth=we,Q.call(this,O,G),this.lineWidth=je;this.path=xe},Q=function(O,G){if((O!=="stroke"||G||!N.call(this))&&(O==="stroke"||G||!v.call(this))){for(var re,ae,de=[],ke=this.path,Ee=0;Ee<ke.length;Ee++){var je=ke[Ee];switch(je.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:je,deltas:[],abs:[]});break;case"lt":var we=de.length;if(ke[Ee-1]&&!isNaN(ke[Ee-1].x)&&(re=[je.x-ke[Ee-1].x,je.y-ke[Ee-1].y],we>0)){for(;we>=0;we--)if(de[we-1].close!==!0&&de[we-1].begin!==!0){de[we-1].deltas.push(re),de[we-1].abs.push(je);break}}break;case"bct":re=[je.x1-ke[Ee-1].x,je.y1-ke[Ee-1].y,je.x2-ke[Ee-1].x,je.y2-ke[Ee-1].y,je.x-ke[Ee-1].x,je.y-ke[Ee-1].y],de[de.length-1].deltas.push(re);break;case"qct":var fe=ke[Ee-1].x+2/3*(je.x1-ke[Ee-1].x),xe=ke[Ee-1].y+2/3*(je.y1-ke[Ee-1].y),Te=je.x+2/3*(je.x1-je.x),Oe=je.y+2/3*(je.y1-je.y),ue=je.x,P=je.y;re=[fe-ke[Ee-1].x,xe-ke[Ee-1].y,Te-ke[Ee-1].x,Oe-ke[Ee-1].y,ue-ke[Ee-1].x,P-ke[Ee-1].y],de[de.length-1].deltas.push(re);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(je)}}ae=G?null:O==="stroke"?"stroke":"fill";for(var Ce=!1,Ie=0;Ie<de.length;Ie++)if(de[Ie].arc)for(var ce=de[Ie].abs,Ne=0;Ne<ce.length;Ne++){var Fe=ce[Ne];Fe.type==="arc"?$.call(this,Fe.x,Fe.y,Fe.radius,Fe.startAngle,Fe.endAngle,Fe.counterclockwise,void 0,G,!Ce):V.call(this,Fe.x,Fe.y),Ce=!0}else if(de[Ie].close===!0)this.pdf.internal.out("h"),Ce=!1;else if(de[Ie].begin!==!0){var $e=de[Ie].start.x,Ye=de[Ie].start.y;Y.call(this,de[Ie].deltas,$e,Ye),Ce=!0}ae&&Z.call(this,ae),G&&ie.call(this)}},ee=function(O){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-re;case"top":return O+G-re;case"hanging":return O+G-2*re;case"middle":return O+G/2-re;case"ideographic":return O;case"alphabetic":default:return O}},W=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(G,re){this.colorStops.push([G,re])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var $=function(O,G,re,ae,de,ke,Ee,je,we){for(var fe=ge.call(this,re,ae,de,ke),xe=0;xe<fe.length;xe++){var Te=fe[xe];xe===0&&(we?D.call(this,Te.x1+O,Te.y1+G):V.call(this,Te.x1+O,Te.y1+G)),he.call(this,O,G,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}je?ie.call(this):Z.call(this,Ee)},Z=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ie=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(O,G){this.pdf.internal.out(n(O)+" "+r(G)+" m")},R=function(O){var G;switch(O.align){case"right":case"end":G="right";break;case"center":G="center";break;case"left":case"start":default:G="left"}var re=this.pdf.getTextDimensions(O.text),ae=ee.call(this,O.y),de=W.call(this,ae)-re.h,ke=this.ctx.transform.applyToPoint(new a(O.x,ae)),Ee=this.ctx.transform.decompose(),je=new c;je=(je=(je=je.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var we,fe,xe,Te=this.ctx.transform.applyToRectangle(new l(O.x,ae,re.w,re.h)),Oe=je.applyToRectangle(new l(O.x,de,re.w,re.h)),ue=C.call(this,Oe),P=[],Ce=0;Ce<ue.length;Ce+=1)P.indexOf(ue[Ce])===-1&&P.push(ue[Ce]);if(L(P),this.autoPaging)for(var Ie=P[0],ce=P[P.length-1],Ne=Ie;Ne<ce+1;Ne++){this.pdf.setPage(Ne);var Fe=Ne===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],rt=Ye-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],lt=at-this.margin[3],vt=Ne===1?0:$e+(Ne-2)*rt;if(this.ctx.clip_path.length!==0){var Nt=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(we,this.posX+this.margin[3],-1*vt+Fe),Q.call(this,"fill",!0),this.path=Nt}var it=S([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-vt+Fe+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*O.scale),xe=this.lineWidth,this.lineWidth=xe*O.scale);var St=this.autoPaging!=="text";if(St||it.y+it.h<=Ye){if(St||it.y>=Fe&&it.x<=at){var tt=St?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||at-it.x)[0],Un=S([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-vt+Fe+this.ctx.prevPageLastElemOffset)[0],Vt=St&&(Ne>Ie||Ne<ce)&&k.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,rt,null).clip().discardPath()),this.pdf.text(tt,Un.x,Un.y,{angle:O.angle,align:G,renderingMode:O.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else it.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-it.y);O.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=xe)}else O.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*O.scale),xe=this.lineWidth,this.lineWidth=xe*O.scale),this.pdf.text(O.text,ke.x+this.posX,ke.y+this.posY,{angle:O.angle,align:G,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=xe)},V=function(O,G,re,ae){re=re||0,ae=ae||0,this.pdf.internal.out(n(O+re)+" "+r(G+ae)+" l")},Y=function(O,G,re){return this.pdf.lines(O,G,re,null,null)},he=function(O,G,re,ae,de,ke,Ee,je){this.pdf.internal.out([t(i(re+O)),t(s(ae+G)),t(i(de+O)),t(s(ke+G)),t(i(Ee+O)),t(s(je+G)),"c"].join(" "))},ge=function(O,G,re,ae){for(var de=2*Math.PI,ke=Math.PI/2;G>re;)G-=de;var Ee=Math.abs(re-G);Ee<de&&ae&&(Ee=de-Ee);for(var je=[],we=ae?-1:1,fe=G;Ee>1e-5;){var xe=fe+we*Math.min(Ee,ke);je.push(J.call(this,O,fe,xe)),Ee-=Math.abs(xe-fe),fe=xe}return je},J=function(O,G,re){var ae=(re-G)/2,de=O*Math.cos(ae),ke=O*Math.sin(ae),Ee=de,je=-ke,we=Ee*Ee+je*je,fe=we+Ee*de+je*ke,xe=4/3*(Math.sqrt(2*we*fe)-fe)/(Ee*ke-je*de),Te=Ee-xe*je,Oe=je+xe*Ee,ue=Te,P=-Oe,Ce=ae+G,Ie=Math.cos(Ce),ce=Math.sin(Ce);return{x1:O*Math.cos(G),y1:O*Math.sin(G),x2:Te*Ie-Oe*ce,y2:Te*ce+Oe*Ie,x3:ue*Ie-P*ce,y3:ue*ce+P*Ie,x4:O*Math.cos(re),y4:O*Math.sin(re)}},B=function(O){return 180*O/Math.PI},te=function(O,G,re,ae,de,ke){var Ee=O+.5*(re-O),je=G+.5*(ae-G),we=de+.5*(re-de),fe=ke+.5*(ae-ke),xe=Math.min(O,de,Ee,we),Te=Math.max(O,de,Ee,we),Oe=Math.min(G,ke,je,fe),ue=Math.max(G,ke,je,fe);return new l(xe,Oe,Te-xe,ue-Oe)},oe=function(O,G,re,ae,de,ke,Ee,je){var we,fe,xe,Te,Oe,ue,P,Ce,Ie,ce,Ne,Fe,$e,Ye,rt=re-O,at=ae-G,lt=de-re,vt=ke-ae,Nt=Ee-de,it=je-ke;for(fe=0;fe<41;fe++)Ie=(P=(xe=O+(we=fe/40)*rt)+we*((Oe=re+we*lt)-xe))+we*(Oe+we*(de+we*Nt-Oe)-P),ce=(Ce=(Te=G+we*at)+we*((ue=ae+we*vt)-Te))+we*(ue+we*(ke+we*it-ue)-Ce),fe==0?(Ne=Ie,Fe=ce,$e=Ie,Ye=ce):(Ne=Math.min(Ne,Ie),Fe=Math.min(Fe,ce),$e=Math.max($e,Ie),Ye=Math.max(Ye,ce));return new l(Math.round(Ne),Math.round(Fe),Math.round($e-Ne),Math.round(Ye-Fe))},Pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,G,re=(O=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:G}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(Ct.API),function(e){var t=function(s){var a,l,c,f,p,m,w,v,N,k;for(l=[],c=0,f=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;f>c;c+=4)(p=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(m=(p=((p=((p=((p=(p-(k=p%85))/85)-(N=p%85))/85)-(v=p%85))/85)-(w=p%85))/85)%85,l.push(m+33,w+33,v+33,N+33,k+33)):l.push(122);return function(C,_){for(var S=_;S>0;S--)C.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var a,l,c,f,p,m=String,w="length",v=255,N="charCodeAt",k="slice",C="replace";for(s[k](-2),s=s[k](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),c=[],f=0,p=(s+=a="uuuuu"[k](s[w]%5||5))[w];p>f;f+=5)l=52200625*(s[N](f)-33)+614125*(s[N](f+1)-33)+7225*(s[N](f+2)-33)+85*(s[N](f+3)-33)+(s[N](f+4)-33),c.push(v&l>>24,v&l>>16,v&l>>8,v&l);return function(_,S){for(var L=S;L>0;L--)_.pop()}(c,a[w]),m.fromCharCode.apply(m,c)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},i=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return s=(a=fy(a)).reduce(function(c,f){return c+String.fromCharCode(f)},"")};e.processDataByFilters=function(s,a){var l=0,c=s||"",f=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}}(Ct.API),function(e){e.loadFile=function(t,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(c,f,p){var m=new XMLHttpRequest,w=0,v=function(N){var k=N.length,C=[],_=String.fromCharCode;for(w=0;w<k;w+=1)C.push(_(255&N.charCodeAt(w)));return C.join("")};if(m.open("GET",c,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?p(v(this.responseText)):p(void 0)}),m.send(null),f&&m.status===200)return v(m.responseText)}(i,s,a)}catch{}return l}(t,n,r)},e.loadImageFile=e.loadFile}(Ct.API),function(e){function t(){return(At.html2canvas?Promise.resolve(At.html2canvas):il(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(At.DOMPurify?Promise.resolve(At.DOMPurify):il(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=Sn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var f in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[f]=l.style[f];return c},s=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),f=a.convert(Promise.resolve(),c);return f=(f=f.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(f,p){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)p!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||m.appendChild(c(w,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var w=0;w<f.length;++w){var v=f[w],N=v.src.find(function(k){return k.format==="truetype"});N&&c.addFont(N.url,v.ref.name,v.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(c,f){return Math.floor(c*f/72*96)}return this.then(function(){(a=a||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,c,f){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,c,f){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(f,p){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(m){return c.updateProgress(null,f),m}).then(f,p).then(function(m){return c.updateProgress(1),m})})},s.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=c.call(f,a,l);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ct.getPageSize=function(a,l,c){if(Sn(a)==="object"){var f=a;a=f.orientation,l=f.unit||l,c=f.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var p,m=(""+c).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var v,N=0,k=0;if(w.hasOwnProperty(m))N=w[m][1]/p,k=w[m][0]/p;else try{N=c[1],k=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",k>N&&(v=k,k=N,N=v);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",N>k&&(v=k,k=N,N=v)}return{width:k,height:N,unit:l,k:p,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(yy):null;var c=new s(l);return l.worker?c:c.from(a).doCallback()}}(Ct.API),Ct.API.addJS=function(e){return B3=e,this.internal.events.subscribe("postPutResources",function(){Um=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Um+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),$3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+B3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Um!==void 0&&$3!==void 0&&this.internal.out("/Names <</JavaScript "+Um+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],l=r.exec(a);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(s=0;s<f;s++){var m=n.internal.newObject();p.push(m);var w=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var v=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<p.length;s++)n.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+v+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Ct.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,a,l){var c,f=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(m){for(var w,v=256*m.charCodeAt(4)+m.charCodeAt(5),N=m.length,k={width:0,height:0,numcomponents:1},C=4;C<N;C+=2){if(C+=v,t.indexOf(m.charCodeAt(C+1))!==-1){w=256*m.charCodeAt(C+5)+m.charCodeAt(C+6),k={width:256*m.charCodeAt(C+7)+m.charCodeAt(C+8),height:w,numcomponents:m.charCodeAt(C+9)};break}v=256*m.charCodeAt(C+2)+m.charCodeAt(C+3)}return k}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:f,index:r,alias:i}}return p}}(Ct.API);var Rd,zm,U3,z3,q3,NB=function(){var e,t,n;function r(s){var a,l,c,f,p,m,w,v,N,k,C,_,S,L;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(a=this.readUInt32(),N=(function(){var F,Q;for(Q=[],F=0;F<4;++F)Q.push(String.fromCharCode(this.data[this.pos++]));return Q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),f=this.readUInt16()||100,m.delay=1e3*p/f,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,a-=4),s=(m!=null?m.data:void 0)||this.imgData,_=0;0<=a?_<a:_>a;0<=a?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((k=c-this.transparency.indexed.length)>0)for(S=0;0<=k?S<k:S>k;0<=k?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":w=(C=this.read(a)).indexOf(0),v=String.fromCharCode.apply(String,C.slice(0,w)),this.text[v]=String.fromCharCode.apply(String,C.slice(w+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(L=this.colorType)===4||L===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,l;for(l=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),c=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(m,w,v,N){var k,C,_,S,L,F,Q,ee,W,$,Z,ie,D,R,V,Y,he,ge,J,B,te,oe=Math.ceil((f.width-m)/v),Pe=Math.ceil((f.height-w)/N),O=f.width==oe&&f.height==Pe;for(R=a*oe,ie=O?l:new Uint8Array(R*Pe),F=s.length,D=0,C=0;D<Pe&&c<F;){switch(s[c++]){case 0:for(S=he=0;he<R;S=he+=1)ie[C++]=s[c++];break;case 1:for(S=ge=0;ge<R;S=ge+=1)k=s[c++],L=S<a?0:ie[C-a],ie[C++]=(k+L)%256;break;case 2:for(S=J=0;J<R;S=J+=1)k=s[c++],_=(S-S%a)/a,V=D&&ie[(D-1)*R+_*a+S%a],ie[C++]=(V+k)%256;break;case 3:for(S=B=0;B<R;S=B+=1)k=s[c++],_=(S-S%a)/a,L=S<a?0:ie[C-a],V=D&&ie[(D-1)*R+_*a+S%a],ie[C++]=(k+Math.floor((L+V)/2))%256;break;case 4:for(S=te=0;te<R;S=te+=1)k=s[c++],_=(S-S%a)/a,L=S<a?0:ie[C-a],D===0?V=Y=0:(V=ie[(D-1)*R+_*a+S%a],Y=_&&ie[(D-1)*R+(_-1)*a+S%a]),Q=L+V-Y,ee=Math.abs(Q-L),$=Math.abs(Q-V),Z=Math.abs(Q-Y),W=ee<=$&&ee<=Z?L:$<=Z?V:Y,ie[C++]=(k+W)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!O){var G=((w+D*N)*f.width+m)*a,re=D*R;for(S=0;S<oe;S+=1){for(var ae=0;ae<a;ae+=1)l[G++]=ie[re++];G+=(v-1)*a}}D++}}return s=nB(s),f.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),l},r.prototype.decodePalette=function(){var s,a,l,c,f,p,m,w,v;for(l=this.palette,p=this.transparency.indexed||[],f=new Uint8Array((p.length||0)+l.length),c=0,s=0,a=m=0,w=l.length;m<w;a=m+=3)f[c++]=l[a],f[c++]=l[a+1],f[c++]=l[a+2],f[c++]=(v=p[s++])!=null?v:255;return f},r.prototype.copyToImageData=function(s,a){var l,c,f,p,m,w,v,N,k,C,_;if(c=this.colors,k=null,l=this.hasAlphaChannel,this.palette.length&&(k=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),c=4,l=!0),N=(f=s.data||s).length,m=k||a,p=w=0,c===1)for(;p<N;)v=k?4*a[p/4]:w,C=m[v++],f[p++]=C,f[p++]=C,f[p++]=C,f[p++]=l?m[v++]:255,w=v;else for(;p<N;)v=k?4*a[p/4]:w,f[p++]=m[v++],f[p++]=m[v++],f[p++]=m[v++],f[p++]=l?m[v++]:255,w=v},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(At)==="[object Window]"){try{t=At.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,l,c,f,p,m,w,v;if(this.animation){for(v=[],l=p=0,m=(w=this.animation.frames).length;p<m;l=++p)a=w[l],c=s.createImageData(a.width,a.height),f=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,f),a.imageData=c,v.push(a.image=e(c));return v}},r.prototype.renderFrame=function(s,a){var l,c,f;return l=(c=this.animation.frames)[a],f=c[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(s){var a,l,c,f,p,m,w=this;return l=0,m=this.animation,f=m.numFrames,c=m.frames,p=m.numPlays,(a=function(){var v,N;if(v=l++%f,N=c[v],w.renderFrame(s,v),f>1&&l/f<p)return w.animation._timeout=setTimeout(a,N.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function kB(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,a=1<<(7&i)+1;e[t++],e[t++];var l=null,c=null;s&&(l=t,c=a,t+=3*a);var f=!0,p=[],m=0,w=null,v=0,N=null;for(this.width=n,this.height=r;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,N=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var k=e[t++];m=e[t++]|e[t++]<<8,w=e[t++],!(1&k)&&(w=null),v=k>>2&7,t++;break;case 254:for(;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var C=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,F=e[t++],Q=F>>6&1,ee=1<<(7&F)+1,W=l,$=c,Z=!1;F>>7&&(Z=!0,W=t,$=ee,t+=3*ee);var ie=t;for(t++;;){var D;if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}p.push({x:C,y:_,width:S,height:L,has_local_palette:Z,palette_offset:W,palette_size:$,data_offset:ie,data_length:t-ie,transparent_index:w,interlaced:!!Q,delay:m,disposal:v});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return N},this.frameInfo=function(R){if(R<0||R>=p.length)throw new Error("Frame index out of range.");return p[R]},this.decodeAndBlitFrameBGRA=function(R,V){var Y=this.frameInfo(R),he=Y.width*Y.height,ge=new Uint8Array(he);W3(e,Y.data_offset,ge,he);var J=Y.palette_offset,B=Y.transparent_index;B===null&&(B=256);var te=Y.width,oe=n-te,Pe=te,O=4*(Y.y*n+Y.x),G=4*((Y.y+Y.height)*n+Y.x),re=O,ae=4*oe;Y.interlaced===!0&&(ae+=4*n*7);for(var de=8,ke=0,Ee=ge.length;ke<Ee;++ke){var je=ge[ke];if(Pe===0&&(Pe=te,(re+=ae)>=G&&(ae=4*oe+4*n*(de-1),re=O+(te+oe)*(de<<1),de>>=1)),je===B)re+=4;else{var we=e[J+3*je],fe=e[J+3*je+1],xe=e[J+3*je+2];V[re++]=xe,V[re++]=fe,V[re++]=we,V[re++]=255}--Pe}},this.decodeAndBlitFrameRGBA=function(R,V){var Y=this.frameInfo(R),he=Y.width*Y.height,ge=new Uint8Array(he);W3(e,Y.data_offset,ge,he);var J=Y.palette_offset,B=Y.transparent_index;B===null&&(B=256);var te=Y.width,oe=n-te,Pe=te,O=4*(Y.y*n+Y.x),G=4*((Y.y+Y.height)*n+Y.x),re=O,ae=4*oe;Y.interlaced===!0&&(ae+=4*n*7);for(var de=8,ke=0,Ee=ge.length;ke<Ee;++ke){var je=ge[ke];if(Pe===0&&(Pe=te,(re+=ae)>=G&&(ae=4*oe+4*n*(de-1),re=O+(te+oe)*(de<<1),de>>=1)),je===B)re+=4;else{var we=e[J+3*je],fe=e[J+3*je+1],xe=e[J+3*je+2];V[re++]=we,V[re++]=fe,V[re++]=xe,V[re++]=255}--Pe}}}function W3(e,t,n,r){for(var i=e[t++],s=1<<i,a=s+1,l=a+1,c=i+1,f=(1<<c)-1,p=0,m=0,w=0,v=e[t++],N=new Int32Array(4096),k=null;;){for(;p<16&&v!==0;)m|=e[t++]<<p,p+=8,v===1?v=e[t++]:--v;if(p<c)break;var C=m&f;if(m>>=c,p-=c,C!==s){if(C===a)break;for(var _=C<l?C:k,S=0,L=_;L>s;)L=N[L]>>8,++S;var F=L;if(w+S+(_!==C?1:0)>r)return void Tn.log("Warning, gif stream longer than expected.");n[w++]=F;var Q=w+=S;for(_!==C&&(n[w++]=F),L=_;S--;)L=N[L],n[--Q]=255&L,L>>=8;k!==null&&l<4096&&(N[l++]=k<<8|F,l>=f+1&&c<12&&(++c,f=f<<1|1)),k=C}else l=a+1,f=(1<<(c=i+1))-1,k=null}return w!==r&&Tn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Dv(e){var t,n,r,i,s,a=Math.floor,l=new Array(64),c=new Array(64),f=new Array(64),p=new Array(64),m=new Array(65535),w=new Array(65535),v=new Array(64),N=new Array(64),k=[],C=0,_=7,S=new Array(64),L=new Array(64),F=new Array(64),Q=new Array(256),ee=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],$=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ge(O,G){for(var re=0,ae=0,de=new Array,ke=1;ke<=16;ke++){for(var Ee=1;Ee<=O[ke];Ee++)de[G[ae]]=[],de[G[ae]][0]=re,de[G[ae]][1]=ke,ae++,re++;re*=2}return de}function J(O){for(var G=O[0],re=O[1]-1;re>=0;)G&1<<re&&(C|=1<<_),re--,--_<0&&(C==255?(B(255),B(0)):B(C),_=7,C=0)}function B(O){k.push(O)}function te(O){B(O>>8&255),B(255&O)}function oe(O,G,re,ae,de){for(var ke,Ee=de[0],je=de[240],we=function(ce,Ne){var Fe,$e,Ye,rt,at,lt,vt,Nt,it,St,tt=0;for(it=0;it<8;++it){Fe=ce[tt],$e=ce[tt+1],Ye=ce[tt+2],rt=ce[tt+3],at=ce[tt+4],lt=ce[tt+5],vt=ce[tt+6];var Un=Fe+(Nt=ce[tt+7]),Vt=Fe-Nt,Yr=$e+vt,Qt=$e-vt,pn=Ye+lt,si=Ye-lt,Zt=rt+at,aa=rt-at,Dn=Un+Zt,ai=Un-Zt,bn=Yr+pn,Gt=Yr-pn;ce[tt]=Dn+bn,ce[tt+4]=Dn-bn;var yt=.707106781*(Gt+ai);ce[tt+2]=ai+yt,ce[tt+6]=ai-yt;var Bt=.382683433*((Dn=aa+si)-(Gt=Qt+Vt)),ur=.5411961*Dn+Bt,rn=1.306562965*Gt+Bt,tr=.707106781*(bn=si+Qt),Pr=Vt+tr,ft=Vt-tr;ce[tt+5]=ft+ur,ce[tt+3]=ft-ur,ce[tt+1]=Pr+rn,ce[tt+7]=Pr-rn,tt+=8}for(tt=0,it=0;it<8;++it){Fe=ce[tt],$e=ce[tt+8],Ye=ce[tt+16],rt=ce[tt+24],at=ce[tt+32],lt=ce[tt+40],vt=ce[tt+48];var Gn=Fe+(Nt=ce[tt+56]),nr=Fe-Nt,kn=$e+vt,Ln=$e-vt,jn=Ye+lt,Yn=Ye-lt,Ui=rt+at,ki=rt-at,ps=Gn+Ui,ms=Gn-Ui,gs=kn+jn,vs=kn-jn;ce[tt]=ps+gs,ce[tt+32]=ps-gs;var zi=.707106781*(vs+ms);ce[tt+16]=ms+zi,ce[tt+48]=ms-zi;var Rs=.382683433*((ps=ki+Yn)-(vs=Ln+nr)),bo=.5411961*ps+Rs,ol=1.306562965*vs+Rs,ll=.707106781*(gs=Yn+Ln),cl=nr+ll,oa=nr-ll;ce[tt+40]=oa+bo,ce[tt+24]=oa-bo,ce[tt+8]=cl+ol,ce[tt+56]=cl-ol,tt++}for(it=0;it<64;++it)St=ce[it]*Ne[it],v[it]=St>0?St+.5|0:St-.5|0;return v}(O,G),fe=0;fe<64;++fe)N[W[fe]]=we[fe];var xe=N[0]-re;re=N[0],xe==0?J(ae[0]):(J(ae[w[ke=32767+xe]]),J(m[ke]));for(var Te=63;Te>0&&N[Te]==0;)Te--;if(Te==0)return J(Ee),re;for(var Oe,ue=1;ue<=Te;){for(var P=ue;N[ue]==0&&ue<=Te;)++ue;var Ce=ue-P;if(Ce>=16){Oe=Ce>>4;for(var Ie=1;Ie<=Oe;++Ie)J(je);Ce&=15}ke=32767+N[ue],J(de[(Ce<<4)+w[ke]]),J(m[ke]),ue++}return Te!=63&&J(Ee),re}function Pe(O){O=Math.min(Math.max(O,1),100),s!=O&&(function(G){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var de=a((re[ae]*G+50)/100);de=Math.min(Math.max(de,1),255),l[W[ae]]=de}for(var ke=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var je=a((ke[Ee]*G+50)/100);je=Math.min(Math.max(je,1),255),c[W[Ee]]=je}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],fe=0,xe=0;xe<8;xe++)for(var Te=0;Te<8;Te++)f[fe]=1/(l[W[fe]]*we[xe]*we[Te]*8),p[fe]=1/(c[W[fe]]*we[xe]*we[Te]*8),fe++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),s=O)}this.encode=function(O,G){G&&Pe(G),k=new Array,C=0,_=7,te(65496),te(65504),te(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),te(1),te(1),B(0),B(0),function(){te(65499),te(132),B(0);for(var $e=0;$e<64;$e++)B(l[$e]);B(1);for(var Ye=0;Ye<64;Ye++)B(c[Ye])}(),function($e,Ye){te(65472),te(17),B(8),te(Ye),te($e),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(O.width,O.height),function(){te(65476),te(418),B(0);for(var $e=0;$e<16;$e++)B($[$e+1]);for(var Ye=0;Ye<=11;Ye++)B(Z[Ye]);B(16);for(var rt=0;rt<16;rt++)B(ie[rt+1]);for(var at=0;at<=161;at++)B(D[at]);B(1);for(var lt=0;lt<16;lt++)B(R[lt+1]);for(var vt=0;vt<=11;vt++)B(V[vt]);B(17);for(var Nt=0;Nt<16;Nt++)B(Y[Nt+1]);for(var it=0;it<=161;it++)B(he[it])}(),te(65498),te(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var re=0,ae=0,de=0;C=0,_=7,this.encode.displayName="_encode_";for(var ke,Ee,je,we,fe,xe,Te,Oe,ue,P=O.data,Ce=O.width,Ie=O.height,ce=4*Ce,Ne=0;Ne<Ie;){for(ke=0;ke<ce;){for(fe=ce*Ne+ke,Te=-1,Oe=0,ue=0;ue<64;ue++)xe=fe+(Oe=ue>>3)*ce+(Te=4*(7&ue)),Ne+Oe>=Ie&&(xe-=ce*(Ne+1+Oe-Ie)),ke+Te>=ce&&(xe-=ke+Te-ce+4),Ee=P[xe++],je=P[xe++],we=P[xe++],S[ue]=(ee[Ee]+ee[je+256>>0]+ee[we+512>>0]>>16)-128,L[ue]=(ee[Ee+768>>0]+ee[je+1024>>0]+ee[we+1280>>0]>>16)-128,F[ue]=(ee[Ee+1280>>0]+ee[je+1536>>0]+ee[we+1792>>0]>>16)-128;re=oe(S,f,re,t,r),ae=oe(L,p,ae,n,i),de=oe(F,p,de,n,i),ke+=32}Ne+=8}if(_>=0){var Fe=[];Fe[1]=_+1,Fe[0]=(1<<_+1)-1,J(Fe)}return te(65497),new Uint8Array(k)},e=e||50,function(){for(var O=String.fromCharCode,G=0;G<256;G++)Q[G]=O(G)}(),t=ge($,Z),n=ge(R,V),r=ge(ie,D),i=ge(Y,he),function(){for(var O=1,G=2,re=1;re<=15;re++){for(var ae=O;ae<G;ae++)w[32767+ae]=re,m[32767+ae]=[],m[32767+ae][1]=re,m[32767+ae][0]=ae;for(var de=-(G-1);de<=-O;de++)w[32767+de]=re,m[32767+de]=[],m[32767+de][1]=re,m[32767+de][0]=G-1+de;O<<=1,G<<=1}}(),function(){for(var O=0;O<256;O++)ee[O]=19595*O,ee[O+256>>0]=38470*O,ee[O+512>>0]=7471*O+32768,ee[O+768>>0]=-11059*O,ee[O+1024>>0]=-21709*O,ee[O+1280>>0]=32768*O+8421375,ee[O+1536>>0]=-27439*O,ee[O+1792>>0]=-5329*O}(),Pe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function _a(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function H3(e){function t($){if(!$)throw Error("assert :P")}function n($,Z,ie){for(var D=0;4>D;D++)if($[Z+D]!=ie.charCodeAt(D))return!0;return!1}function r($,Z,ie,D,R){for(var V=0;V<R;V++)$[Z+V]=ie[D+V]}function i($,Z,ie,D){for(var R=0;R<D;R++)$[Z+R]=ie}function s($){return new Int32Array($)}function a($,Z){for(var ie=[],D=0;D<$;D++)ie.push(new Z);return ie}function l($,Z){var ie=[];return function D(R,V,Y){for(var he=Y[V],ge=0;ge<he&&(R.push(Y.length>V+1?[]:new Z),!(Y.length<V+1));ge++)D(R[ge],V+1,Y)}(ie,0,$),ie}var c=function(){var $=this;function Z(d,g){for(var b=1<<g-1>>>0;d&b;)b>>>=1;return b?(d&b-1)+b:d}function ie(d,g,b,A,T){t(!(A%b));do d[g+(A-=b)]=T;while(0<A)}function D(d,g,b,A,T){if(t(2328>=T),512>=T)var U=s(512);else if((U=s(T))==null)return 0;return function(z,q,K,ne,ye,Me){var Re,Se,Ve=q,Ue=1<<K,ve=s(16),be=s(16);for(t(ye!=0),t(ne!=null),t(z!=null),t(0<K),Se=0;Se<ye;++Se){if(15<ne[Se])return 0;++ve[ne[Se]]}if(ve[0]==ye)return 0;for(be[1]=0,Re=1;15>Re;++Re){if(ve[Re]>1<<Re)return 0;be[Re+1]=be[Re]+ve[Re]}for(Se=0;Se<ye;++Se)Re=ne[Se],0<ne[Se]&&(Me[be[Re]++]=Se);if(be[15]==1)return(ne=new R).g=0,ne.value=Me[0],ie(z,Ve,1,Ue,ne),Ue;var He,Qe=-1,We=Ue-1,ct=0,nt=1,mt=1,st=1<<K;for(Se=0,Re=1,ye=2;Re<=K;++Re,ye<<=1){if(nt+=mt<<=1,0>(mt-=ve[Re]))return 0;for(;0<ve[Re];--ve[Re])(ne=new R).g=Re,ne.value=Me[Se++],ie(z,Ve+ct,ye,st,ne),ct=Z(ct,Re)}for(Re=K+1,ye=2;15>=Re;++Re,ye<<=1){if(nt+=mt<<=1,0>(mt-=ve[Re]))return 0;for(;0<ve[Re];--ve[Re]){if(ne=new R,(ct&We)!=Qe){for(Ve+=st,He=1<<(Qe=Re)-K;15>Qe&&!(0>=(He-=ve[Qe]));)++Qe,He<<=1;Ue+=st=1<<(He=Qe-K),z[q+(Qe=ct&We)].g=He+K,z[q+Qe].value=Ve-q-Qe}ne.g=Re-K,ne.value=Me[Se++],ie(z,Ve+(ct>>K),ye,st,ne),ct=Z(ct,Re)}}return nt!=2*be[15]-1?0:Ue}(d,g,b,A,T,U)}function R(){this.value=this.g=0}function V(){this.value=this.g=0}function Y(){this.G=a(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Dr,V)}function he(d,g,b,A){t(d!=null),t(g!=null),t(2147483648>A),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=g,d.pa=b,d.Jd=g,d.Yc=b+A,d.Zc=4<=A?b+A-4+1:b,ke(d)}function ge(d,g){for(var b=0;0<g--;)b|=je(d,128)<<g;return b}function J(d,g){var b=ge(d,g);return Ee(d)?-b:b}function B(d,g,b,A){var T,U=0;for(t(d!=null),t(g!=null),t(4294967288>A),d.Sb=A,d.Ra=0,d.u=0,d.h=0,4<A&&(A=4),T=0;T<A;++T)U+=g[b+T]<<8*T;d.Ra=U,d.bb=A,d.oa=g,d.pa=b}function te(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Al-8>>>0,++d.bb,d.u-=8;re(d)&&(d.h=1,d.u=0)}function oe(d,g){if(t(0<=g),!d.h&&g<=Cl){var b=G(d)&ws[g];return d.u+=g,te(d),b}return d.h=1,d.u=0}function Pe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(d){return d.Ra>>>(d.u&Al-1)>>>0}function re(d){return t(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Al}function ae(d,g){d.u=g,d.h=re(d)}function de(d){d.u>=Eo&&(t(d.u>=Eo),te(d))}function ke(d){t(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(t(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function Ee(d){return ge(d,1)}function je(d,g){var b=d.Ca;0>d.b&&ke(d);var A=d.b,T=b*g>>>8,U=(d.I>>>A>T)+0;for(U?(b-=T,d.I-=T+1<<A>>>0):b=T+1,A=b,T=0;256<=A;)T+=8,A>>=8;return A=7^T+Jr[A],d.b-=A,d.Ca=(b<<A)-1,U}function we(d,g,b){d[g+0]=b>>24&255,d[g+1]=b>>16&255,d[g+2]=b>>8&255,d[g+3]=b>>0&255}function fe(d,g){return d[g+0]<<0|d[g+1]<<8}function xe(d,g){return fe(d,g)|d[g+2]<<16}function Te(d,g){return fe(d,g)|fe(d,g+2)<<16}function Oe(d,g){var b=1<<g;return t(d!=null),t(0<g),d.X=s(b),d.X==null?0:(d.Mb=32-g,d.Xa=g,1)}function ue(d,g){t(d!=null),t(g!=null),t(d.Xa==g.Xa),r(g.X,0,d.X,0,1<<g.Xa)}function P(){this.X=[],this.Xa=this.Mb=0}function Ce(d,g,b,A){t(b!=null),t(A!=null);var T=b[0],U=A[0];return T==0&&(T=(d*U+g/2)/g),U==0&&(U=(g*T+d/2)/d),0>=T||0>=U?0:(b[0]=T,A[0]=U,1)}function Ie(d,g){return d+(1<<g)-1>>>g}function ce(d,g){return((4278255360&d)+(4278255360&g)>>>0&4278255360)+((16711935&d)+(16711935&g)>>>0&16711935)>>>0}function Ne(d,g){$[g]=function(b,A,T,U,z,q,K){var ne;for(ne=0;ne<z;++ne){var ye=$[d](q[K+ne-1],T,U+ne);q[K+ne]=ce(b[A+ne],ye)}}}function Fe(){this.ud=this.hd=this.jd=0}function $e(d,g){return((4278124286&(d^g))>>>1)+(d&g)>>>0}function Ye(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function rt(d,g){return Ye(d+(d-g+.5>>1))}function at(d,g,b){return Math.abs(g-b)-Math.abs(d-b)}function lt(d,g,b,A,T,U,z){for(A=U[z-1],b=0;b<T;++b)U[z+b]=A=ce(d[g+b],A)}function vt(d,g,b,A,T){var U;for(U=0;U<b;++U){var z=d[g+U],q=z>>8&255,K=16711935&(K=(K=16711935&z)+((q<<16)+q));A[T+U]=(4278255360&z)+K>>>0}}function Nt(d,g){g.jd=d>>0&255,g.hd=d>>8&255,g.ud=d>>16&255}function it(d,g,b,A,T,U){var z;for(z=0;z<A;++z){var q=g[b+z],K=q>>>8,ne=q,ye=255&(ye=(ye=q>>>16)+((d.jd<<24>>24)*(K<<24>>24)>>>5));ne=255&(ne=(ne=ne+((d.hd<<24>>24)*(K<<24>>24)>>>5))+((d.ud<<24>>24)*(ye<<24>>24)>>>5)),T[U+z]=(4278255360&q)+(ye<<16)+ne}}function St(d,g,b,A,T){$[g]=function(U,z,q,K,ne,ye,Me,Re,Se){for(K=Me;K<Re;++K)for(Me=0;Me<Se;++Me)ne[ye++]=T(q[A(U[z++])])},$[d]=function(U,z,q,K,ne,ye,Me){var Re=8>>U.b,Se=U.Ea,Ve=U.K[0],Ue=U.w;if(8>Re)for(U=(1<<U.b)-1,Ue=(1<<Re)-1;z<q;++z){var ve,be=0;for(ve=0;ve<Se;++ve)ve&U||(be=A(K[ne++])),ye[Me++]=T(Ve[be&Ue]),be>>=Re}else $["VP8LMapColor"+b](K,ne,Ve,Ue,ye,Me,z,q,Se)}}function tt(d,g,b,A,T){for(b=g+b;g<b;){var U=d[g++];A[T++]=U>>16&255,A[T++]=U>>8&255,A[T++]=U>>0&255}}function Un(d,g,b,A,T){for(b=g+b;g<b;){var U=d[g++];A[T++]=U>>16&255,A[T++]=U>>8&255,A[T++]=U>>0&255,A[T++]=U>>24&255}}function Vt(d,g,b,A,T){for(b=g+b;g<b;){var U=(z=d[g++])>>16&240|z>>12&15,z=z>>0&240|z>>28&15;A[T++]=U,A[T++]=z}}function Yr(d,g,b,A,T){for(b=g+b;g<b;){var U=(z=d[g++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;A[T++]=U,A[T++]=z}}function Qt(d,g,b,A,T){for(b=g+b;g<b;){var U=d[g++];A[T++]=U>>0&255,A[T++]=U>>8&255,A[T++]=U>>16&255}}function pn(d,g,b,A,T,U){if(U==0)for(b=g+b;g<b;)we(A,((U=d[g++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),T+=32;else r(A,T,d,g,b)}function si(d,g){$[g][0]=$[d+"0"],$[g][1]=$[d+"1"],$[g][2]=$[d+"2"],$[g][3]=$[d+"3"],$[g][4]=$[d+"4"],$[g][5]=$[d+"5"],$[g][6]=$[d+"6"],$[g][7]=$[d+"7"],$[g][8]=$[d+"8"],$[g][9]=$[d+"9"],$[g][10]=$[d+"10"],$[g][11]=$[d+"11"],$[g][12]=$[d+"12"],$[g][13]=$[d+"13"],$[g][14]=$[d+"0"],$[g][15]=$[d+"0"]}function Zt(d){return d==Tl||d==Ol||d==Dl||d==Gf}function aa(){this.eb=[],this.size=this.A=this.fb=0}function Dn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ai(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new aa,this.f.kb=new Dn,this.sd=null}function bn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function yt(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Bt(d,g){var b=d.T,A=g.ba.f.RGBA,T=A.eb,U=A.fb+d.ka*A.A,z=Ei[g.ba.S],q=d.y,K=d.O,ne=d.f,ye=d.N,Me=d.ea,Re=d.W,Se=g.cc,Ve=g.dc,Ue=g.Mc,ve=g.Nc,be=d.ka,He=d.ka+d.T,Qe=d.U,We=Qe+1>>1;for(be==0?z(q,K,null,null,ne,ye,Me,Re,ne,ye,Me,Re,T,U,null,null,Qe):(z(g.ec,g.fc,q,K,Se,Ve,Ue,ve,ne,ye,Me,Re,T,U-A.A,T,U,Qe),++b);be+2<He;be+=2)Se=ne,Ve=ye,Ue=Me,ve=Re,ye+=d.Rc,Re+=d.Rc,U+=2*A.A,z(q,(K+=2*d.fa)-d.fa,q,K,Se,Ve,Ue,ve,ne,ye,Me,Re,T,U-A.A,T,U,Qe);return K+=d.fa,d.j+He<d.o?(r(g.ec,g.fc,q,K,Qe),r(g.cc,g.dc,ne,ye,We),r(g.Mc,g.Nc,Me,Re,We),b--):1&He||z(q,K,null,null,ne,ye,Me,Re,ne,ye,Me,Re,T,U+A.A,null,null,Qe),b}function ur(d,g,b){var A=d.F,T=[d.J];if(A!=null){var U=d.U,z=g.ba.S,q=z==hd||z==Dl;g=g.ba.f.RGBA;var K=[0],ne=d.ka;K[0]=d.T,d.Kb&&(ne==0?--K[0]:(--ne,T[0]-=d.width),d.j+d.ka+d.T==d.o&&(K[0]=d.o-d.j-ne));var ye=g.eb;ne=g.fb+ne*g.A,d=En(A,T[0],d.width,U,K,ye,ne+(q?0:3),g.A),t(b==K),d&&Zt(z)&&ji(ye,ne,q,U,K,g.A)}return 0}function rn(d){var g=d.ma,b=g.ba.S,A=11>b,T=b==Ha||b==To||b==hd||b==Vf||b==12||Zt(b);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Xc(g.Oa,d,T?11:12))return 0;if(T&&Zt(b)&&Xe(),d.da)alert("todo:use_scaling");else{if(A){if(g.Ib=yt,d.Kb){if(b=d.U+1>>1,g.memory=s(d.U+2*b),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+d.U,g.Mc=g.cc,g.Nc=g.dc+b,g.Ib=Bt,Xe()}}else alert("todo:EmitYUV");T&&(g.Jb=ur,A&&Le())}if(A&&!Up){for(d=0;256>d;++d)pa[d]=89858*(d-128)+Hs>>md,n1[d]=-22014*(d-128)+Hs,t1[d]=-45773*(d-128),e1[d]=113618*(d-128)+Hs>>md;for(d=au;d<Jf;++d)g=76283*(d-16)+Hs>>md,r1[d-au]=Pn(g,255),i1[d-au]=Pn(g+8>>4,15);Up=1}return 1}function tr(d){var g=d.ma,b=d.U,A=d.T;return t(!(1&d.ka)),0>=b||0>=A?0:(b=g.Ib(d,g),g.Jb!=null&&g.Jb(d,g,b),g.Dc+=b,1)}function Pr(d){d.ma.memory=null}function ft(d,g,b,A){return oe(d,8)!=47?0:(g[0]=oe(d,14)+1,b[0]=oe(d,14)+1,A[0]=oe(d,1),oe(d,3)!=0?0:!d.h)}function Gn(d,g){if(4>d)return d+1;var b=d-2>>1;return(2+(1&d)<<b)+oe(g,b)+1}function nr(d,g){return 120<g?g-120:1<=(b=((b=Yg[g-1])>>4)*d+(8-(15&b)))?b:1;var b}function kn(d,g,b){var A=G(b),T=d[g+=255&A].g-8;return 0<T&&(ae(b,b.u+8),A=G(b),g+=d[g].value,g+=A&(1<<T)-1),ae(b,b.u+d[g].g),d[g].value}function Ln(d,g,b){return b.g+=d.g,b.value+=d.value<<g>>>0,t(8>=b.g),d.g}function jn(d,g,b){var A=d.xc;return t((g=A==0?0:d.vc[d.md*(b>>A)+(g>>A)])<d.Wb),d.Ya[g]}function Yn(d,g,b,A){var T=d.ab,U=d.c*g,z=d.C;g=z+g;var q=b,K=A;for(A=d.Ta,b=d.Ua;0<T--;){var ne=d.gc[T],ye=z,Me=g,Re=q,Se=K,Ve=(K=A,q=b,ne.Ea);switch(t(ye<Me),t(Me<=ne.nc),ne.hc){case 2:fd(Re,Se,(Me-ye)*Ve,K,q);break;case 0:var Ue=ye,ve=Me,be=K,He=q,Qe=(st=ne).Ea;Ue==0&&(qs(Re,Se,null,null,1,be,He),lt(Re,Se+1,0,0,Qe-1,be,He+1),Se+=Qe,He+=Qe,++Ue);for(var We=1<<st.b,ct=We-1,nt=Ie(Qe,st.b),mt=st.K,st=st.w+(Ue>>st.b)*nt;Ue<ve;){var an=mt,fn=st,Wt=1;for(qa(Re,Se,be,He-Qe,1,be,He);Wt<Qe;){var Mt=(Wt&~ct)+We;Mt>Qe&&(Mt=Qe),(0,ca[an[fn++]>>8&15])(Re,Se+ +Wt,be,He+Wt-Qe,Mt-Wt,be,He+Wt),Wt=Mt}Se+=Qe,He+=Qe,++Ue&ct||(st+=nt)}Me!=ne.nc&&r(K,q-Ve,K,q+(Me-ye-1)*Ve,Ve);break;case 1:for(Ve=Re,ve=Se,Qe=(Re=ne.Ea)-(He=Re&~(be=(Se=1<<ne.b)-1)),Ue=Ie(Re,ne.b),We=ne.K,ne=ne.w+(ye>>ne.b)*Ue;ye<Me;){for(ct=We,nt=ne,mt=new Fe,st=ve+He,an=ve+Re;ve<st;)Nt(ct[nt++],mt),Co(mt,Ve,ve,Se,K,q),ve+=Se,q+=Se;ve<an&&(Nt(ct[nt++],mt),Co(mt,Ve,ve,Qe,K,q),ve+=Qe,q+=Qe),++ye&be||(ne+=Ue)}break;case 3:if(Re==K&&Se==q&&0<ne.b){for(ve=K,Re=Ve=q+(Me-ye)*Ve-(He=(Me-ye)*Ie(ne.Ea,ne.b)),Se=K,be=q,Ue=[],He=(Qe=He)-1;0<=He;--He)Ue[He]=Se[be+He];for(He=Qe-1;0<=He;--He)ve[Re+He]=Ue[He];Gi(ne,ye,Me,K,Ve,K,q)}else Gi(ne,ye,Me,Re,Se,K,q)}q=A,K=b}K!=b&&r(A,b,q,K,U)}function Ui(d,g){var b=d.V,A=d.Ba+d.c*d.C,T=g-d.C;if(t(g<=d.l.o),t(16>=T),0<T){var U=d.l,z=d.Ta,q=d.Ua,K=U.width;if(Yn(d,T,b,A),T=q=[q],t((b=d.C)<(A=g)),t(U.v<U.va),A>U.o&&(A=U.o),b<U.j){var ne=U.j-b;b=U.j,T[0]+=ne*K}if(b>=A?b=0:(T[0]+=4*U.v,U.ka=b-U.j,U.U=U.va-U.v,U.T=A-b,b=1),b){if(q=q[0],11>(b=d.ca).S){var ye=b.f.RGBA,Me=(A=b.S,T=U.U,U=U.T,ne=ye.eb,ye.A),Re=U;for(ye=ye.fb+d.Ma*ye.A;0<Re--;){var Se=z,Ve=q,Ue=T,ve=ne,be=ye;switch(A){case tu:ui(Se,Ve,Ue,ve,be);break;case Ha:Xr(Se,Ve,Ue,ve,be);break;case Tl:Xr(Se,Ve,Ue,ve,be),ji(ve,be,0,Ue,1,0);break;case Va:di(Se,Ve,Ue,ve,be);break;case To:pn(Se,Ve,Ue,ve,be,1);break;case Ol:pn(Se,Ve,Ue,ve,be,1),ji(ve,be,0,Ue,1,0);break;case hd:pn(Se,Ve,Ue,ve,be,0);break;case Dl:pn(Se,Ve,Ue,ve,be,0),ji(ve,be,1,Ue,1,0);break;case Vf:Wa(Se,Ve,Ue,ve,be);break;case Gf:Wa(Se,Ve,Ue,ve,be),gn(ve,be,Ue,1,0);break;case Mp:ua(Se,Ve,Ue,ve,be);break;default:t(0)}q+=K,ye+=Me}d.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");t(d.Ma<=b.height)}}d.C=g,t(d.C<=d.i)}function ki(d){var g;if(0<d.ua)return 0;for(g=0;g<d.Wb;++g){var b=d.Ya[g].G,A=d.Ya[g].H;if(0<b[1][A[1]+0].g||0<b[2][A[2]+0].g||0<b[3][A[3]+0].g)return 0}return 1}function ps(d,g,b,A,T,U){if(d.Z!=0){var z=d.qd,q=d.rd;for(t(Xi[d.Z]!=null);g<b;++g)Xi[d.Z](z,q,A,T,A,T,U),z=A,q=T,T+=U;d.qd=z,d.rd=q}}function ms(d,g){var b=d.l.ma,A=b.Z==0||b.Z==1?d.l.j:d.C;if(A=d.C<A?A:d.C,t(g<=d.l.o),g>A){var T=d.l.width,U=b.ca,z=b.tb+T*A,q=d.V,K=d.Ba+d.c*A,ne=d.gc;t(d.ab==1),t(ne[0].hc==3),la(ne[0],A,g,q,K,U,z),ps(b,A,g,U,z,T)}d.C=d.Ma=g}function gs(d,g,b,A,T,U,z){var q=d.$/A,K=d.$%A,ne=d.m,ye=d.s,Me=b+d.$,Re=Me;T=b+A*T;var Se=b+A*U,Ve=280+ye.ua,Ue=d.Pb?q:16777216,ve=0<ye.ua?ye.Wa:null,be=ye.wc,He=Me<Se?jn(ye,K,q):null;t(d.C<U),t(Se<=T);var Qe=!1;e:for(;;){for(;Qe||Me<Se;){var We=0;if(q>=Ue){var ct=Me-b;t((Ue=d).Pb),Ue.wd=Ue.m,Ue.xd=ct,0<Ue.s.ua&&ue(Ue.s.Wa,Ue.s.vb),Ue=q+Fp}if(K&be||(He=jn(ye,K,q)),t(He!=null),He.Qb&&(g[Me]=He.qb,Qe=!0),!Qe)if(de(ne),He.jc){We=ne,ct=g;var nt=Me,mt=He.pd[G(We)&Dr-1];t(He.jc),256>mt.g?(ae(We,We.u+mt.g),ct[nt]=mt.value,We=0):(ae(We,We.u+mt.g-256),t(256<=mt.value),We=mt.value),We==0&&(Qe=!0)}else We=kn(He.G[0],He.H[0],ne);if(ne.h)break;if(Qe||256>We){if(!Qe)if(He.nd)g[Me]=(He.qb|We<<8)>>>0;else{if(de(ne),Qe=kn(He.G[1],He.H[1],ne),de(ne),ct=kn(He.G[2],He.H[2],ne),nt=kn(He.G[3],He.H[3],ne),ne.h)break;g[Me]=(nt<<24|Qe<<16|We<<8|ct)>>>0}if(Qe=!1,++Me,++K>=A&&(K=0,++q,z!=null&&q<=U&&!(q%16)&&z(d,q),ve!=null))for(;Re<Me;)We=g[Re++],ve.X[(506832829*We&4294967295)>>>ve.Mb]=We}else if(280>We){if(We=Gn(We-256,ne),ct=kn(He.G[4],He.H[4],ne),de(ne),ct=nr(A,ct=Gn(ct,ne)),ne.h)break;if(Me-b<ct||T-Me<We)break e;for(nt=0;nt<We;++nt)g[Me+nt]=g[Me+nt-ct];for(Me+=We,K+=We;K>=A;)K-=A,++q,z!=null&&q<=U&&!(q%16)&&z(d,q);if(t(Me<=T),K&be&&(He=jn(ye,K,q)),ve!=null)for(;Re<Me;)We=g[Re++],ve.X[(506832829*We&4294967295)>>>ve.Mb]=We}else{if(!(We<Ve))break e;for(Qe=We-280,t(ve!=null);Re<Me;)We=g[Re++],ve.X[(506832829*We&4294967295)>>>ve.Mb]=We;We=Me,t(!(Qe>>>(ct=ve).Xa)),g[We]=ct.X[Qe],Qe=!0}Qe||t(ne.h==re(ne))}if(d.Pb&&ne.h&&Me<T)t(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&ue(d.s.vb,d.s.Wa);else{if(ne.h)break e;z!=null&&z(d,q>U?U:q),d.a=0,d.$=Me-b}return 1}return d.a=3,0}function vs(d){t(d!=null),d.vc=null,d.yc=null,d.Ya=null;var g=d.Wa;g!=null&&(g.X=null),d.vb=null,t(d!=null)}function zi(){var d=new Sl;return d==null?null:(d.a=0,d.xb=iu,si("Predictor","VP8LPredictors"),si("Predictor","VP8LPredictors_C"),si("PredictorAdd","VP8LPredictorsAdd"),si("PredictorAdd","VP8LPredictorsAdd_C"),fd=vt,Co=it,ui=tt,Xr=Un,Wa=Vt,ua=Yr,di=Qt,$.VP8LMapColor32b=Ll,$.VP8LMapColor8b=ci,d)}function Rs(d,g,b,A,T){var U=1,z=[d],q=[g],K=A.m,ne=A.s,ye=null,Me=0;e:for(;;){if(b)for(;U&&oe(K,1);){var Re=z,Se=q,Ve=A,Ue=1,ve=Ve.m,be=Ve.gc[Ve.ab],He=oe(ve,2);if(Ve.Oc&1<<He)U=0;else{switch(Ve.Oc|=1<<He,be.hc=He,be.Ea=Re[0],be.nc=Se[0],be.K=[null],++Ve.ab,t(4>=Ve.ab),He){case 0:case 1:be.b=oe(ve,3)+2,Ue=Rs(Ie(be.Ea,be.b),Ie(be.nc,be.b),0,Ve,be.K),be.K=be.K[0];break;case 3:var Qe,We=oe(ve,8)+1,ct=16<We?0:4<We?1:2<We?2:3;if(Re[0]=Ie(be.Ea,ct),be.b=ct,Qe=Ue=Rs(We,1,0,Ve,be.K)){var nt,mt=We,st=be,an=1<<(8>>st.b),fn=s(an);if(fn==null)Qe=0;else{var Wt=st.K[0],Mt=st.w;for(fn[0]=st.K[0][0],nt=1;nt<1*mt;++nt)fn[nt]=ce(Wt[Mt+nt],fn[nt-1]);for(;nt<4*an;++nt)fn[nt]=0;st.K[0]=null,st.K[0]=fn,Qe=1}}Ue=Qe;break;case 2:break;default:t(0)}U=Ue}}if(z=z[0],q=q[0],U&&oe(K,1)&&!(U=1<=(Me=oe(K,4))&&11>=Me)){A.a=3;break e}var yn;if(yn=U)t:{var wn,Ot,fr,Zr=A,Kt=z,Br=q,hn=Me,Zn=b,ei=Zr.m,ir=Zr.s,zn=[null],Ur=1,Cn=0,Qi=Kg[hn];n:for(;;){if(Zn&&oe(ei,1)){var Ar=oe(ei,3)+2,ma=Ie(Kt,Ar),Oo=Ie(Br,Ar),Ya=ma*Oo;if(!Rs(ma,Oo,0,Zr,zn))break n;for(zn=zn[0],ir.xc=Ar,wn=0;wn<Ya;++wn){var Ka=zn[wn]>>8&65535;zn[wn]=Ka,Ka>=Ur&&(Ur=Ka+1)}}if(ei.h)break n;for(Ot=0;5>Ot;++Ot){var An=Rp[Ot];!Ot&&0<hn&&(An+=1<<hn),Cn<An&&(Cn=An)}var vd=a(Ur*Qi,R),qp=Ur,Wp=a(qp,Y);if(Wp==null)var Ja=null;else t(65536>=qp),Ja=Wp;var ou=s(Cn);if(Ja==null||ou==null||vd==null){Zr.a=1;break n}var yd=vd;for(wn=fr=0;wn<Ur;++wn){var Ai=Ja[wn],Do=Ai.G,$l=Ai.H,Hp=0,wd=1,Xf=0;for(Ot=0;5>Ot;++Ot){An=Rp[Ot],Do[Ot]=yd,$l[Ot]=fr,!Ot&&0<hn&&(An+=1<<hn);i:{var Bl,Qf=An,Ul=Zr,zl=ou,Vp=yd,Gp=fr,ql=0,Xa=Ul.m,Yp=oe(Xa,1);if(i(zl,0,0,Qf),Yp){var Kp=oe(Xa,1)+1,o1=oe(Xa,1),Zf=oe(Xa,o1==0?1:8);zl[Zf]=1,Kp==2&&(zl[Zf=oe(Xa,8)]=1);var xd=1}else{var bd=s(19),eh=oe(Xa,4)+4;if(19<eh){Ul.a=3;var Wl=0;break i}for(Bl=0;Bl<eh;++Bl)bd[$r[Bl]]=oe(Xa,3);var th=void 0,Mo=void 0,$t=Ul,l1=bd,_d=Qf,Hl=zl,Sd=0,Qa=$t.m,Jp=8,Li=a(128,R);r:for(;D(Li,0,7,l1,19);){if(oe(Qa,1)){var c1=2+2*oe(Qa,3);if((th=2+oe(Qa,c1))>_d)break r}else th=_d;for(Mo=0;Mo<_d&&th--;){de(Qa);var lu=Li[0+(127&G(Qa))];ae(Qa,Qa.u+lu.g);var Za=lu.value;if(16>Za)Hl[Mo++]=Za,Za!=0&&(Jp=Za);else{var Xp=Za==16,nh=Za-16,Pi=Gg[nh],ga=oe(Qa,Ip[nh])+Pi;if(Mo+ga>_d)break r;for(var rh=Xp?Jp:0;0<ga--;)Hl[Mo++]=rh}}Sd=1;break r}Sd||($t.a=3),xd=Sd}(xd=xd&&!Xa.h)&&(ql=D(Vp,Gp,8,zl,Qf)),xd&&ql!=0?Wl=ql:(Ul.a=3,Wl=0)}if(Wl==0)break n;if(wd&&yr[Ot]==1&&(wd=yd[fr].g==0),Hp+=yd[fr].g,fr+=Wl,3>=Ot){var Vl,Gl=ou[0];for(Vl=1;Vl<An;++Vl)ou[Vl]>Gl&&(Gl=ou[Vl]);Xf+=Gl}}if(Ai.nd=wd,Ai.Qb=0,wd&&(Ai.qb=(Do[3][$l[3]+0].value<<24|Do[1][$l[1]+0].value<<16|Do[2][$l[2]+0].value)>>>0,Hp==0&&256>Do[0][$l[0]+0].value&&(Ai.Qb=1,Ai.qb+=Do[0][$l[0]+0].value<<8)),Ai.jc=!Ai.Qb&&6>Xf,Ai.jc){var cu,Ns=Ai;for(cu=0;cu<Dr;++cu){var va=cu,Gs=Ns.pd[va],Yl=Ns.G[0][Ns.H[0]+va];256<=Yl.value?(Gs.g=Yl.g+256,Gs.value=Yl.value):(Gs.g=0,Gs.value=0,va>>=Ln(Yl,8,Gs),va>>=Ln(Ns.G[1][Ns.H[1]+va],16,Gs),va>>=Ln(Ns.G[2][Ns.H[2]+va],0,Gs),Ln(Ns.G[3][Ns.H[3]+va],24,Gs))}}}ir.vc=zn,ir.Wb=Ur,ir.Ya=Ja,ir.yc=vd,yn=1;break t}yn=0}if(!(U=yn)){A.a=3;break e}if(0<Me){if(ne.ua=1<<Me,!Oe(ne.Wa,Me)){A.a=1,U=0;break e}}else ne.ua=0;var Ys=A,Qp=z,eo=q,Nd=Ys.s,kd=Nd.xc;if(Ys.c=Qp,Ys.i=eo,Nd.md=Ie(Qp,kd),Nd.wc=kd==0?-1:(1<<kd)-1,b){A.xb=Xg;break e}if((ye=s(z*q))==null){A.a=1,U=0;break e}U=(U=gs(A,ye,0,z,q,q,null))&&!K.h;break e}return U?(T!=null?T[0]=ye:(t(ye==null),t(b)),A.$=0,b||vs(ne)):vs(ne),U}function bo(d,g){var b=d.c*d.i,A=b+g+16*g;return t(d.c<=g),d.V=s(A),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+b+g,1)}function ol(d,g){var b=d.C,A=g-b,T=d.V,U=d.Ba+d.c*b;for(t(g<=d.l.o);0<A;){var z=16<A?16:A,q=d.l.ma,K=d.l.width,ne=K*z,ye=q.ca,Me=q.tb+K*b,Re=d.Ta,Se=d.Ua;Yn(d,z,T,U),rr(Re,Se,ye,Me,ne),ps(q,b,b+z,ye,Me,K),A-=z,T+=z*d.c,b+=z}t(b==g),d.C=d.Ma=g}function ll(){this.ub=this.yd=this.td=this.Rb=0}function cl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function oa(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Yu(){this.Yb=function(){var d=[];return function g(b,A,T){for(var U=T[A],z=0;z<U&&(b.push(T.length>A+1?[]:0),!(T.length<A+1));z++)g(b[z],A+1,T)}(d,0,[3,11]),d}()}function ul(){this.jb=s(3),this.Wc=l([4,8],Yu),this.Xc=l([4,17],Yu)}function Mf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function dl(){this.ld=this.La=this.dd=this.tc=0}function Ku(){this.Na=this.la=0}function Ju(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xu(){this.uc=this.M=this.Nb=0,this.wa=Array(new dl),this.Y=0,this.ya=Array(new fl),this.aa=0,this.l=new hl}function Qu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function If(){this.cb=this.a=0,this.sc="",this.m=new Pe,this.Od=new ll,this.Kc=new cl,this.ed=new Mf,this.Qa=new oa,this.Ic=this.$c=this.Aa=0,this.D=new Xu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Pe),this.ia=0,this.pb=a(4,Ju),this.Pa=new ul,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qu),this.Hd=0,this.rb=Array(new Ku),this.sb=0,this.wa=Array(new dl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fl),this.L=this.aa=0,this.gd=l([4,2],dl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function hl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rf(){var d=new If;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,fa||(fa=pl)),d}function Kn(d,g,b){return d.a==0&&(d.a=g,d.sc=b,d.cb=0),0}function $c(d,g,b){return 3<=b&&d[g+0]==157&&d[g+1]==1&&d[g+2]==42}function Bc(d,g){if(d==null)return 0;if(d.a=0,d.sc="OK",g==null)return Kn(d,2,"null VP8Io passed to VP8GetHeaders()");var b=g.data,A=g.w,T=g.ha;if(4>T)return Kn(d,7,"Truncated header.");var U=b[A+0]|b[A+1]<<8|b[A+2]<<16,z=d.Od;if(z.Rb=!(1&U),z.td=U>>1&7,z.yd=U>>4&1,z.ub=U>>5,3<z.td)return Kn(d,3,"Incorrect keyframe parameters.");if(!z.yd)return Kn(d,4,"Frame not displayable.");A+=3,T-=3;var q=d.Kc;if(z.Rb){if(7>T)return Kn(d,7,"cannot parse picture header");if(!$c(b,A,T))return Kn(d,3,"Bad code word");q.c=16383&(b[A+4]<<8|b[A+3]),q.Td=b[A+4]>>6,q.i=16383&(b[A+6]<<8|b[A+5]),q.Ud=b[A+6]>>6,A+=7,T-=7,d.za=q.c+15>>4,d.Ub=q.i+15>>4,g.width=q.c,g.height=q.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((U=d.Pa).jb,0,255,U.jb.length),t((U=d.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,i(U.Zb,0,0,U.Zb.length),i(U.Lb,0,0,U.Lb)}if(z.ub>T)return Kn(d,7,"bad partition length");he(U=d.m,b,A,z.ub),A+=z.ub,T-=z.ub,z.Rb&&(q.Ld=Ee(U),q.Kd=Ee(U)),q=d.Qa;var K,ne=d.Pa;if(t(U!=null),t(q!=null),q.Cb=Ee(U),q.Cb){if(q.Bb=Ee(U),Ee(U)){for(q.Fb=Ee(U),K=0;4>K;++K)q.Zb[K]=Ee(U)?J(U,7):0;for(K=0;4>K;++K)q.Lb[K]=Ee(U)?J(U,6):0}if(q.Bb)for(K=0;3>K;++K)ne.jb[K]=Ee(U)?ge(U,8):255}else q.Bb=0;if(U.Ka)return Kn(d,3,"cannot parse segment header");if((q=d.ed).zd=Ee(U),q.Tb=ge(U,6),q.wb=ge(U,3),q.Pc=Ee(U),q.Pc&&Ee(U)){for(ne=0;4>ne;++ne)Ee(U)&&(q.vd[ne]=J(U,6));for(ne=0;4>ne;++ne)Ee(U)&&(q.od[ne]=J(U,6))}if(d.L=q.Tb==0?0:q.zd?1:2,U.Ka)return Kn(d,3,"cannot parse filter header");var ye=T;if(T=K=A,A=K+ye,q=ye,d.Xb=(1<<ge(d.m,2))-1,ye<3*(ne=d.Xb))b=7;else{for(K+=3*ne,q-=3*ne,ye=0;ye<ne;++ye){var Me=b[T+0]|b[T+1]<<8|b[T+2]<<16;Me>q&&(Me=q),he(d.Jc[+ye],b,K,Me),K+=Me,q-=Me,T+=3}he(d.Jc[+ne],b,K,q),b=K<A?0:5}if(b!=0)return Kn(d,b,"cannot parse partitions");for(b=ge(K=d.m,7),T=Ee(K)?J(K,4):0,A=Ee(K)?J(K,4):0,q=Ee(K)?J(K,4):0,ne=Ee(K)?J(K,4):0,K=Ee(K)?J(K,4):0,ye=d.Qa,Me=0;4>Me;++Me){if(ye.Cb){var Re=ye.Zb[Me];ye.Fb||(Re+=b)}else{if(0<Me){d.pb[Me]=d.pb[0];continue}Re=b}var Se=d.pb[Me];Se.Sc[0]=Yf[Pn(Re+T,127)],Se.Sc[1]=nu[Pn(Re+0,127)],Se.Eb[0]=2*Yf[Pn(Re+A,127)],Se.Eb[1]=101581*nu[Pn(Re+q,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=Yf[Pn(Re+ne,117)],Se.Qc[1]=nu[Pn(Re+K,127)],Se.lc=Re+K}if(!z.Rb)return Kn(d,4,"Not a key frame.");for(Ee(U),z=d.Pa,b=0;4>b;++b){for(T=0;8>T;++T)for(A=0;3>A;++A)for(q=0;11>q;++q)ne=je(U,Rl[b][T][A][q])?ge(U,8):ru[b][T][A][q],z.Wc[b][T].Yb[A][q]=ne;for(T=0;17>T;++T)z.Xc[b][T]=z.Wc[b][Jg[T]]}return d.kc=Ee(U),d.kc&&(d.Bd=ge(U,8)),d.cb=1}function pl(d,g,b,A,T,U,z){var q=g[T].Yb[b];for(b=0;16>T;++T){if(!je(d,q[b+0]))return T;for(;!je(d,q[b+1]);)if(q=g[++T].Yb[0],b=0,T==16)return 16;var K=g[T+1].Yb;if(je(d,q[b+2])){var ne=d,ye=0;if(je(ne,(Re=q)[(Me=b)+3]))if(je(ne,Re[Me+6])){for(q=0,Me=2*(ye=je(ne,Re[Me+8]))+(Re=je(ne,Re[Me+9+ye])),ye=0,Re=Kf[Me];Re[q];++q)ye+=ye+je(ne,Re[q]);ye+=3+(8<<Me)}else je(ne,Re[Me+7])?(ye=7+2*je(ne,165),ye+=je(ne,145)):ye=5+je(ne,159);else ye=je(ne,Re[Me+4])?3+je(ne,Re[Me+5]):2;q=K[2]}else ye=1,q=K[1];K=z+Ml[T],0>(ne=d).b&&ke(ne);var Me,Re=ne.b,Se=(Me=ne.Ca>>1)-(ne.I>>Re)>>31;--ne.b,ne.Ca+=Se,ne.Ca|=1,ne.I-=(Me+1&Se)<<Re,U[K]=((ye^Se)-Se)*A[(0<T)+0]}return 16}function Uc(d){var g=d.rb[d.sb-1];g.la=0,g.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function Zu(d,g){if(d==null)return 0;if(g==null)return Kn(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Bc(d,g))return 0;if(t(d.cb),g.ac==null||g.ac(g)){g.ob&&(d.L=0);var b=gd[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=g.v-b>>4,d.zb=g.j-b>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=g.o+15+b>>4,d.Hb=g.va+15+b>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var A=d.ed;for(b=0;4>b;++b){var T;if(d.Qa.Cb){var U=d.Qa.Lb[b];d.Qa.Fb||(U+=A.Tb)}else U=A.Tb;for(T=0;1>=T;++T){var z=d.gd[b][T],q=U;if(A.Pc&&(q+=A.vd[0],T&&(q+=A.od[0])),0<(q=0>q?0:63<q?63:q)){var K=q;0<A.wb&&(K=4<A.wb?K>>2:K>>1)>9-A.wb&&(K=9-A.wb),1>K&&(K=1),z.dd=K,z.tc=2*q+K,z.ld=40<=q?2:15<=q?1:0}else z.tc=0;z.La=T}}}b=0}else Kn(d,6,"Frame setup failed"),b=d.a;if(b=b==0){if(b){d.$c=0,0<d.Aa||(d.Ic=a1);e:{b=d.Ic,A=4*(K=d.za);var ne=32*K,ye=K+1,Me=0<d.L?K*(0<d.Aa?2:1):0,Re=(d.Aa==2?2:1)*K;if((z=A+832+(T=3*(16*b+gd[d.L])/2*ne)+(U=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=z)b=0;else{if(z>d.Vb){if(d.Vb=0,d.Ec=s(z),d.Fc=0,d.Ec==null){b=Kn(d,1,"no memory during frame initialization.");break e}d.Vb=z}z=d.Ec,q=d.Fc,d.Ac=z,d.Bc=q,q+=A,d.Gd=a(ne,Qu),d.Hd=0,d.rb=a(ye+1,Ku),d.sb=1,d.wa=Me?a(Me,dl):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=K),t(!0),d.oc=z,d.pc=q,q+=832,d.ya=a(Re,fl),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=K),d.R=16*K,d.B=8*K,K=(ne=gd[d.L])*d.R,ne=ne/2*d.B,d.sa=z,d.ta=q+K,d.qa=d.sa,d.ra=d.ta+16*b*d.R+ne,d.Ha=d.qa,d.Ia=d.ra+8*b*d.B+ne,d.$c=0,q+=T,d.mb=U?z:null,d.nb=U?q:null,t(q+U<=d.Fc+d.Vb),Uc(d),i(d.Ac,d.Bc,0,A),b=1}}if(b){if(g.ka=0,g.y=d.sa,g.O=d.ta,g.f=d.qa,g.N=d.ra,g.ea=d.Ha,g.Vd=d.Ia,g.fa=d.R,g.Rc=d.B,g.F=null,g.J=0,!Zc){for(b=-255;255>=b;++b)vr[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)Ki[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)Ji[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)da[255+b]=0>b?0:255<b?255:b;Zc=1}_e=Wc,qe=qc,dt=ed,wt=td,It=gl,De=zc,In=xl,dn=Ba,Ao=ud,Lo=bl,Cr=cd,xs=jo,Po=Tr,bs=dd,Ws=dr,_s=qi,en=Kr,Yi=ld,Ss[0]=Bs,Ss[1]=nd,Ss[2]=Bf,Ss[3]=Uf,Ss[4]=sd,Ss[5]=yl,Ss[6]=vl,Ss[7]=Vc,Ss[8]=qf,Ss[9]=zf,Ga[0]=Hc,Ga[1]=Ff,Ga[2]=$s,Ga[3]=So,Ga[4]=Fr,Ga[5]=$f,Ga[6]=id,ha[0]=$a,ha[1]=rd,ha[2]=Wf,ha[3]=mn,ha[4]=ko,ha[5]=Hf,ha[6]=Gc,b=1}else b=0}b&&(b=function(Se,Ve){for(Se.M=0;Se.M<Se.Va;++Se.M){var Ue,ve=Se.Jc[Se.M&Se.Xb],be=Se.m,He=Se;for(Ue=0;Ue<He.za;++Ue){var Qe=be,We=He,ct=We.Ac,nt=We.Bc+4*Ue,mt=We.zc,st=We.ya[We.aa+Ue];if(We.Qa.Bb?st.$b=je(Qe,We.Pa.jb[0])?2+je(Qe,We.Pa.jb[2]):je(Qe,We.Pa.jb[1]):st.$b=0,We.kc&&(st.Ad=je(Qe,We.Bd)),st.Za=!je(Qe,145)+0,st.Za){var an=st.Ob,fn=0;for(We=0;4>We;++We){var Wt,Mt=mt[0+We];for(Wt=0;4>Wt;++Wt){Mt=pd[ct[nt+Wt]][Mt];for(var yn=Il[je(Qe,Mt[0])];0<yn;)yn=Il[2*yn+je(Qe,Mt[yn])];Mt=-yn,ct[nt+Wt]=Mt}r(an,fn,ct,nt,4),fn+=4,mt[0+We]=Mt}}else Mt=je(Qe,156)?je(Qe,128)?1:3:je(Qe,163)?2:0,st.Ob[0]=Mt,i(ct,nt,Mt,4),i(mt,0,Mt,4);st.Dd=je(Qe,142)?je(Qe,114)?je(Qe,183)?1:3:2:0}if(He.m.Ka)return Kn(Se,7,"Premature end-of-partition0 encountered.");for(;Se.ja<Se.za;++Se.ja){if(He=ve,Qe=(be=Se).rb[be.sb-1],ct=be.rb[be.sb+be.ja],Ue=be.ya[be.aa+be.ja],nt=be.kc?Ue.Ad:0)Qe.la=ct.la=0,Ue.Za||(Qe.Na=ct.Na=0),Ue.Hc=0,Ue.Gc=0,Ue.ia=0;else{var wn,Ot;if(Qe=ct,ct=He,nt=be.Pa.Xc,mt=be.ya[be.aa+be.ja],st=be.pb[mt.$b],We=mt.ad,an=0,fn=be.rb[be.sb-1],Mt=Wt=0,i(We,an,0,384),mt.Za)var fr=0,Zr=nt[3];else{yn=s(16);var Kt=Qe.Na+fn.Na;if(Kt=fa(ct,nt[1],Kt,st.Eb,0,yn,0),Qe.Na=fn.Na=(0<Kt)+0,1<Kt)_e(yn,0,We,an);else{var Br=yn[0]+3>>3;for(yn=0;256>yn;yn+=16)We[an+yn]=Br}fr=1,Zr=nt[0]}var hn=15&Qe.la,Zn=15&fn.la;for(yn=0;4>yn;++yn){var ei=1&Zn;for(Br=Ot=0;4>Br;++Br)hn=hn>>1|(ei=(Kt=fa(ct,Zr,Kt=ei+(1&hn),st.Sc,fr,We,an))>fr)<<7,Ot=Ot<<2|(3<Kt?3:1<Kt?2:We[an+0]!=0),an+=16;hn>>=4,Zn=Zn>>1|ei<<7,Wt=(Wt<<8|Ot)>>>0}for(Zr=hn,fr=Zn>>4,wn=0;4>wn;wn+=2){for(Ot=0,hn=Qe.la>>4+wn,Zn=fn.la>>4+wn,yn=0;2>yn;++yn){for(ei=1&Zn,Br=0;2>Br;++Br)Kt=ei+(1&hn),hn=hn>>1|(ei=0<(Kt=fa(ct,nt[2],Kt,st.Qc,0,We,an)))<<3,Ot=Ot<<2|(3<Kt?3:1<Kt?2:We[an+0]!=0),an+=16;hn>>=2,Zn=Zn>>1|ei<<5}Mt|=Ot<<4*wn,Zr|=hn<<4<<wn,fr|=(240&Zn)<<wn}Qe.la=Zr,fn.la=fr,mt.Hc=Wt,mt.Gc=Mt,mt.ia=43690&Mt?0:st.ia,nt=!(Wt|Mt)}if(0<be.L&&(be.wa[be.Y+be.ja]=be.gd[Ue.$b][Ue.Za],be.wa[be.Y+be.ja].La|=!nt),He.Ka)return Kn(Se,7,"Premature end-of-file encountered.")}if(Uc(Se),be=Ve,He=1,Ue=(ve=Se).D,Qe=0<ve.L&&ve.M>=ve.zb&&ve.M<=ve.Va,ve.Aa==0)e:{if(Ue.M=ve.M,Ue.uc=Qe,kl(ve,Ue),He=1,Ue=(Ot=ve.D).Nb,Qe=(Mt=gd[ve.L])*ve.R,ct=Mt/2*ve.B,yn=16*Ue*ve.R,Br=8*Ue*ve.B,nt=ve.sa,mt=ve.ta-Qe+yn,st=ve.qa,We=ve.ra-ct+Br,an=ve.Ha,fn=ve.Ia-ct+Br,Zn=(hn=Ot.M)==0,Wt=hn>=ve.Va-1,ve.Aa==2&&kl(ve,Ot),Ot.uc)for(ei=(Kt=ve).D.M,t(Kt.D.uc),Ot=Kt.yb;Ot<Kt.Hb;++Ot){fr=Ot,Zr=ei;var ir=(zn=(An=Kt).D).Nb;wn=An.R;var zn=zn.wa[zn.Y+fr],Ur=An.sa,Cn=An.ta+16*ir*wn+16*fr,Qi=zn.dd,Ar=zn.tc;if(Ar!=0)if(t(3<=Ar),An.L==1)0<fr&&_s(Ur,Cn,wn,Ar+4),zn.La&&Yi(Ur,Cn,wn,Ar),0<Zr&&Ws(Ur,Cn,wn,Ar+4),zn.La&&en(Ur,Cn,wn,Ar);else{var ma=An.B,Oo=An.qa,Ya=An.ra+8*ir*ma+8*fr,Ka=An.Ha,An=An.Ia+8*ir*ma+8*fr;ir=zn.ld,0<fr&&(dn(Ur,Cn,wn,Ar+4,Qi,ir),Lo(Oo,Ya,Ka,An,ma,Ar+4,Qi,ir)),zn.La&&(xs(Ur,Cn,wn,Ar,Qi,ir),bs(Oo,Ya,Ka,An,ma,Ar,Qi,ir)),0<Zr&&(In(Ur,Cn,wn,Ar+4,Qi,ir),Ao(Oo,Ya,Ka,An,ma,Ar+4,Qi,ir)),zn.La&&(Cr(Ur,Cn,wn,Ar,Qi,ir),Po(Oo,Ya,Ka,An,ma,Ar,Qi,ir))}}if(ve.ia&&alert("todo:DitherRow"),be.put!=null){if(Ot=16*hn,hn=16*(hn+1),Zn?(be.y=ve.sa,be.O=ve.ta+yn,be.f=ve.qa,be.N=ve.ra+Br,be.ea=ve.Ha,be.W=ve.Ia+Br):(Ot-=Mt,be.y=nt,be.O=mt,be.f=st,be.N=We,be.ea=an,be.W=fn),Wt||(hn-=Mt),hn>be.o&&(hn=be.o),be.F=null,be.J=null,ve.Fa!=null&&0<ve.Fa.length&&Ot<hn&&(be.J=Jc(ve,be,Ot,hn-Ot),be.F=ve.mb,be.F==null&&be.F.length==0)){He=Kn(ve,3,"Could not decode alpha data.");break e}Ot<be.j&&(Mt=be.j-Ot,Ot=be.j,t(!(1&Mt)),be.O+=ve.R*Mt,be.N+=ve.B*(Mt>>1),be.W+=ve.B*(Mt>>1),be.F!=null&&(be.J+=be.width*Mt)),Ot<hn&&(be.O+=be.v,be.N+=be.v>>1,be.W+=be.v>>1,be.F!=null&&(be.J+=be.v),be.ka=Ot-be.j,be.U=be.va-be.v,be.T=hn-Ot,He=be.put(be))}Ue+1!=ve.Ic||Wt||(r(ve.sa,ve.ta-Qe,nt,mt+16*ve.R,Qe),r(ve.qa,ve.ra-ct,st,We+8*ve.B,ct),r(ve.Ha,ve.Ia-ct,an,fn+8*ve.B,ct))}if(!He)return Kn(Se,6,"Output aborted.")}return 1}(d,g)),g.bc!=null&&g.bc(g),b&=1}return b?(d.cb=0,b):0}function oi(d,g,b,A,T){T=d[g+b+32*A]+(T>>3),d[g+b+32*A]=-256&T?0>T?0:255:T}function _o(d,g,b,A,T,U){oi(d,g,0,b,A+T),oi(d,g,1,b,A+U),oi(d,g,2,b,A-U),oi(d,g,3,b,A-T)}function li(d){return(20091*d>>16)+d}function ml(d,g,b,A){var T,U=0,z=s(16);for(T=0;4>T;++T){var q=d[g+0]+d[g+8],K=d[g+0]-d[g+8],ne=(35468*d[g+4]>>16)-li(d[g+12]),ye=li(d[g+4])+(35468*d[g+12]>>16);z[U+0]=q+ye,z[U+1]=K+ne,z[U+2]=K-ne,z[U+3]=q-ye,U+=4,g++}for(T=U=0;4>T;++T)q=(d=z[U+0]+4)+z[U+8],K=d-z[U+8],ne=(35468*z[U+4]>>16)-li(z[U+12]),oi(b,A,0,0,q+(ye=li(z[U+4])+(35468*z[U+12]>>16))),oi(b,A,1,0,K+ne),oi(b,A,2,0,K-ne),oi(b,A,3,0,q-ye),U++,A+=32}function zc(d,g,b,A){var T=d[g+0]+4,U=35468*d[g+4]>>16,z=li(d[g+4]),q=35468*d[g+1]>>16;_o(b,A,0,T+z,d=li(d[g+1]),q),_o(b,A,1,T+U,d,q),_o(b,A,2,T-U,d,q),_o(b,A,3,T-z,d,q)}function qc(d,g,b,A,T){ml(d,g,b,A),T&&ml(d,g+16,b,A+4)}function ed(d,g,b,A){qe(d,g+0,b,A,1),qe(d,g+32,b,A+128,1)}function td(d,g,b,A){var T;for(d=d[g+0]+4,T=0;4>T;++T)for(g=0;4>g;++g)oi(b,A,g,T,d)}function gl(d,g,b,A){d[g+0]&&wt(d,g+0,b,A),d[g+16]&&wt(d,g+16,b,A+4),d[g+32]&&wt(d,g+32,b,A+128),d[g+48]&&wt(d,g+48,b,A+128+4)}function Wc(d,g,b,A){var T,U=s(16);for(T=0;4>T;++T){var z=d[g+0+T]+d[g+12+T],q=d[g+4+T]+d[g+8+T],K=d[g+4+T]-d[g+8+T],ne=d[g+0+T]-d[g+12+T];U[0+T]=z+q,U[8+T]=z-q,U[4+T]=ne+K,U[12+T]=ne-K}for(T=0;4>T;++T)z=(d=U[0+4*T]+3)+U[3+4*T],q=U[1+4*T]+U[2+4*T],K=U[1+4*T]-U[2+4*T],ne=d-U[3+4*T],b[A+0]=z+q>>3,b[A+16]=ne+K>>3,b[A+32]=z-q>>3,b[A+48]=ne-K>>3,A+=64}function Fs(d,g,b){var A,T=g-32,U=fi,z=255-d[T-1];for(A=0;A<b;++A){var q,K=U,ne=z+d[g-1];for(q=0;q<b;++q)d[g+q]=K[ne+d[T+q]];g+=32}}function nd(d,g){Fs(d,g,4)}function rd(d,g){Fs(d,g,8)}function Ff(d,g){Fs(d,g,16)}function $s(d,g){var b;for(b=0;16>b;++b)r(d,g+32*b,d,g-32,16)}function So(d,g){var b;for(b=16;0<b;--b)i(d,g,d[g-1],16),g+=32}function No(d,g,b){var A;for(A=0;16>A;++A)i(g,b+32*A,d,16)}function Hc(d,g){var b,A=16;for(b=0;16>b;++b)A+=d[g-1+32*b]+d[g+b-32];No(A>>5,d,g)}function Fr(d,g){var b,A=8;for(b=0;16>b;++b)A+=d[g-1+32*b];No(A>>4,d,g)}function $f(d,g){var b,A=8;for(b=0;16>b;++b)A+=d[g+b-32];No(A>>4,d,g)}function id(d,g){No(128,d,g)}function Lt(d,g,b){return d+2*g+b+2>>2}function Bf(d,g){var b,A=g-32;for(A=new Uint8Array([Lt(d[A-1],d[A+0],d[A+1]),Lt(d[A+0],d[A+1],d[A+2]),Lt(d[A+1],d[A+2],d[A+3]),Lt(d[A+2],d[A+3],d[A+4])]),b=0;4>b;++b)r(d,g+32*b,A,0,A.length)}function Uf(d,g){var b=d[g-1],A=d[g-1+32],T=d[g-1+64],U=d[g-1+96];we(d,g+0,16843009*Lt(d[g-1-32],b,A)),we(d,g+32,16843009*Lt(b,A,T)),we(d,g+64,16843009*Lt(A,T,U)),we(d,g+96,16843009*Lt(T,U,U))}function Bs(d,g){var b,A=4;for(b=0;4>b;++b)A+=d[g+b-32]+d[g-1+32*b];for(A>>=3,b=0;4>b;++b)i(d,g+32*b,A,4)}function sd(d,g){var b=d[g-1+0],A=d[g-1+32],T=d[g-1+64],U=d[g-1-32],z=d[g+0-32],q=d[g+1-32],K=d[g+2-32],ne=d[g+3-32];d[g+0+96]=Lt(A,T,d[g-1+96]),d[g+1+96]=d[g+0+64]=Lt(b,A,T),d[g+2+96]=d[g+1+64]=d[g+0+32]=Lt(U,b,A),d[g+3+96]=d[g+2+64]=d[g+1+32]=d[g+0+0]=Lt(z,U,b),d[g+3+64]=d[g+2+32]=d[g+1+0]=Lt(q,z,U),d[g+3+32]=d[g+2+0]=Lt(K,q,z),d[g+3+0]=Lt(ne,K,q)}function vl(d,g){var b=d[g+1-32],A=d[g+2-32],T=d[g+3-32],U=d[g+4-32],z=d[g+5-32],q=d[g+6-32],K=d[g+7-32];d[g+0+0]=Lt(d[g+0-32],b,A),d[g+1+0]=d[g+0+32]=Lt(b,A,T),d[g+2+0]=d[g+1+32]=d[g+0+64]=Lt(A,T,U),d[g+3+0]=d[g+2+32]=d[g+1+64]=d[g+0+96]=Lt(T,U,z),d[g+3+32]=d[g+2+64]=d[g+1+96]=Lt(U,z,q),d[g+3+64]=d[g+2+96]=Lt(z,q,K),d[g+3+96]=Lt(q,K,K)}function yl(d,g){var b=d[g-1+0],A=d[g-1+32],T=d[g-1+64],U=d[g-1-32],z=d[g+0-32],q=d[g+1-32],K=d[g+2-32],ne=d[g+3-32];d[g+0+0]=d[g+1+64]=U+z+1>>1,d[g+1+0]=d[g+2+64]=z+q+1>>1,d[g+2+0]=d[g+3+64]=q+K+1>>1,d[g+3+0]=K+ne+1>>1,d[g+0+96]=Lt(T,A,b),d[g+0+64]=Lt(A,b,U),d[g+0+32]=d[g+1+96]=Lt(b,U,z),d[g+1+32]=d[g+2+96]=Lt(U,z,q),d[g+2+32]=d[g+3+96]=Lt(z,q,K),d[g+3+32]=Lt(q,K,ne)}function Vc(d,g){var b=d[g+0-32],A=d[g+1-32],T=d[g+2-32],U=d[g+3-32],z=d[g+4-32],q=d[g+5-32],K=d[g+6-32],ne=d[g+7-32];d[g+0+0]=b+A+1>>1,d[g+1+0]=d[g+0+64]=A+T+1>>1,d[g+2+0]=d[g+1+64]=T+U+1>>1,d[g+3+0]=d[g+2+64]=U+z+1>>1,d[g+0+32]=Lt(b,A,T),d[g+1+32]=d[g+0+96]=Lt(A,T,U),d[g+2+32]=d[g+1+96]=Lt(T,U,z),d[g+3+32]=d[g+2+96]=Lt(U,z,q),d[g+3+64]=Lt(z,q,K),d[g+3+96]=Lt(q,K,ne)}function zf(d,g){var b=d[g-1+0],A=d[g-1+32],T=d[g-1+64],U=d[g-1+96];d[g+0+0]=b+A+1>>1,d[g+2+0]=d[g+0+32]=A+T+1>>1,d[g+2+32]=d[g+0+64]=T+U+1>>1,d[g+1+0]=Lt(b,A,T),d[g+3+0]=d[g+1+32]=Lt(A,T,U),d[g+3+32]=d[g+1+64]=Lt(T,U,U),d[g+3+64]=d[g+2+64]=d[g+0+96]=d[g+1+96]=d[g+2+96]=d[g+3+96]=U}function qf(d,g){var b=d[g-1+0],A=d[g-1+32],T=d[g-1+64],U=d[g-1+96],z=d[g-1-32],q=d[g+0-32],K=d[g+1-32],ne=d[g+2-32];d[g+0+0]=d[g+2+32]=b+z+1>>1,d[g+0+32]=d[g+2+64]=A+b+1>>1,d[g+0+64]=d[g+2+96]=T+A+1>>1,d[g+0+96]=U+T+1>>1,d[g+3+0]=Lt(q,K,ne),d[g+2+0]=Lt(z,q,K),d[g+1+0]=d[g+3+32]=Lt(b,z,q),d[g+1+32]=d[g+3+64]=Lt(A,b,z),d[g+1+64]=d[g+3+96]=Lt(T,A,b),d[g+1+96]=Lt(U,T,A)}function Wf(d,g){var b;for(b=0;8>b;++b)r(d,g+32*b,d,g-32,8)}function mn(d,g){var b;for(b=0;8>b;++b)i(d,g,d[g-1],8),g+=32}function sn(d,g,b){var A;for(A=0;8>A;++A)i(g,b+32*A,d,8)}function $a(d,g){var b,A=8;for(b=0;8>b;++b)A+=d[g+b-32]+d[g-1+32*b];sn(A>>4,d,g)}function Hf(d,g){var b,A=4;for(b=0;8>b;++b)A+=d[g+b-32];sn(A>>3,d,g)}function ko(d,g){var b,A=4;for(b=0;8>b;++b)A+=d[g-1+32*b];sn(A>>3,d,g)}function Gc(d,g){sn(128,d,g)}function wl(d,g,b){var A=d[g-b],T=d[g+0],U=3*(T-A)+Pl[1020+d[g-2*b]-d[g+b]],z=eu[112+(U+4>>3)];d[g-b]=fi[255+A+eu[112+(U+3>>3)]],d[g+0]=fi[255+T-z]}function ad(d,g,b,A){var T=d[g+0],U=d[g+b];return Qr[255+d[g-2*b]-d[g-b]]>A||Qr[255+U-T]>A}function Yc(d,g,b,A){return 4*Qr[255+d[g-b]-d[g+0]]+Qr[255+d[g-2*b]-d[g+b]]<=A}function od(d,g,b,A,T){var U=d[g-3*b],z=d[g-2*b],q=d[g-b],K=d[g+0],ne=d[g+b],ye=d[g+2*b],Me=d[g+3*b];return 4*Qr[255+q-K]+Qr[255+z-ne]>A?0:Qr[255+d[g-4*b]-U]<=T&&Qr[255+U-z]<=T&&Qr[255+z-q]<=T&&Qr[255+Me-ye]<=T&&Qr[255+ye-ne]<=T&&Qr[255+ne-K]<=T}function dr(d,g,b,A){var T=2*A+1;for(A=0;16>A;++A)Yc(d,g+A,b,T)&&wl(d,g+A,b)}function qi(d,g,b,A){var T=2*A+1;for(A=0;16>A;++A)Yc(d,g+A*b,1,T)&&wl(d,g+A*b,1)}function Kr(d,g,b,A){var T;for(T=3;0<T;--T)dr(d,g+=4*b,b,A)}function ld(d,g,b,A){var T;for(T=3;0<T;--T)qi(d,g+=4,b,A)}function Us(d,g,b,A,T,U,z,q){for(U=2*U+1;0<T--;){if(od(d,g,b,U,z))if(ad(d,g,b,q))wl(d,g,b);else{var K=d,ne=g,ye=b,Me=K[ne-2*ye],Re=K[ne-ye],Se=K[ne+0],Ve=K[ne+ye],Ue=K[ne+2*ye],ve=27*(He=Pl[1020+3*(Se-Re)+Pl[1020+Me-Ve]])+63>>7,be=18*He+63>>7,He=9*He+63>>7;K[ne-3*ye]=fi[255+K[ne-3*ye]+He],K[ne-2*ye]=fi[255+Me+be],K[ne-ye]=fi[255+Re+ve],K[ne+0]=fi[255+Se-ve],K[ne+ye]=fi[255+Ve-be],K[ne+2*ye]=fi[255+Ue-He]}g+=A}}function Jn(d,g,b,A,T,U,z,q){for(U=2*U+1;0<T--;){if(od(d,g,b,U,z))if(ad(d,g,b,q))wl(d,g,b);else{var K=d,ne=g,ye=b,Me=K[ne-ye],Re=K[ne+0],Se=K[ne+ye],Ve=eu[112+((Ue=3*(Re-Me))+4>>3)],Ue=eu[112+(Ue+3>>3)],ve=Ve+1>>1;K[ne-2*ye]=fi[255+K[ne-2*ye]+ve],K[ne-ye]=fi[255+Me+Ue],K[ne+0]=fi[255+Re-Ve],K[ne+ye]=fi[255+Se-ve]}g+=A}}function xl(d,g,b,A,T,U){Us(d,g,b,1,16,A,T,U)}function Ba(d,g,b,A,T,U){Us(d,g,1,b,16,A,T,U)}function cd(d,g,b,A,T,U){var z;for(z=3;0<z;--z)Jn(d,g+=4*b,b,1,16,A,T,U)}function jo(d,g,b,A,T,U){var z;for(z=3;0<z;--z)Jn(d,g+=4,1,b,16,A,T,U)}function ud(d,g,b,A,T,U,z,q){Us(d,g,T,1,8,U,z,q),Us(b,A,T,1,8,U,z,q)}function bl(d,g,b,A,T,U,z,q){Us(d,g,1,T,8,U,z,q),Us(b,A,1,T,8,U,z,q)}function Tr(d,g,b,A,T,U,z,q){Jn(d,g+4*T,T,1,8,U,z,q),Jn(b,A+4*T,T,1,8,U,z,q)}function dd(d,g,b,A,T,U,z,q){Jn(d,g+4,1,T,8,U,z,q),Jn(b,A+4,1,T,8,U,z,q)}function Or(){this.ba=new ai,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Kc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _l(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ys(){this.ua=0,this.Wa=new P,this.vb=new P,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new R}function Sl(){this.xb=this.a=0,this.l=new hl,this.ca=new ai,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ys,this.ab=0,this.gc=a(4,_l),this.Oc=0}function Ua(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new hl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function un(d,g,b,A,T,U,z){for(d=d==null?0:d[g+0],g=0;g<z;++g)T[U+g]=d+b[A+g]&255,d=T[U+g]}function Wi(d,g,b,A,T,U,z){var q;if(d==null)un(null,null,b,A,T,U,z);else for(q=0;q<z;++q)T[U+q]=d[g+q]+b[A+q]&255}function zs(d,g,b,A,T,U,z){if(d==null)un(null,null,b,A,T,U,z);else{var q,K=d[g+0],ne=K,ye=K;for(q=0;q<z;++q)ne=ye+(K=d[g+q])-ne,ye=b[A+q]+(-256&ne?0>ne?0:255:ne)&255,ne=K,T[U+q]=ye}}function Jc(d,g,b,A){var T=g.width,U=g.o;if(t(d!=null&&g!=null),0>b||0>=A||b+A>U)return null;if(!d.Cc){if(d.ga==null){var z;if(d.ga=new Ua,(z=d.ga==null)||(z=g.width*g.o,t(d.Gb.length==0),d.Gb=s(z),d.Uc=0,d.Gb==null?z=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,z=1),z=!z),!z){z=d.ga;var q=d.Fa,K=d.P,ne=d.qc,ye=d.mb,Me=d.nb,Re=K+1,Se=ne-1,Ve=z.l;if(t(q!=null&&ye!=null&&g!=null),Xi[0]=null,Xi[1]=un,Xi[2]=Wi,Xi[3]=zs,z.ca=ye,z.tb=Me,z.c=g.width,z.i=g.height,t(0<z.c&&0<z.i),1>=ne)g=0;else if(z.$a=q[K+0]>>0&3,z.Z=q[K+0]>>2&3,z.Lc=q[K+0]>>4&3,K=q[K+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||K)g=0;else if(Ve.put=tr,Ve.ac=rn,Ve.bc=Pr,Ve.ma=z,Ve.width=g.width,Ve.height=g.height,Ve.Da=g.Da,Ve.v=g.v,Ve.va=g.va,Ve.j=g.j,Ve.o=g.o,z.$a)e:{t(z.$a==1),g=zi();t:for(;;){if(g==null){g=0;break e}if(t(z!=null),z.mc=g,g.c=z.c,g.i=z.i,g.l=z.l,g.l.ma=z,g.l.width=z.c,g.l.height=z.i,g.a=0,B(g.m,q,Re,Se),!Rs(z.c,z.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&ki(g.s)?(z.ic=1,q=g.c*g.i,g.Ta=null,g.Ua=0,g.V=s(q),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(z.ic=0,g=bo(g,z.c)),!g))break t;g=1;break e}z.mc=null,g=0}else g=Se>=z.c*z.i;z=!g}if(z)return null;d.ga.Lc!=1?d.Ga=0:A=U-b}t(d.ga!=null),t(b+A<=U);e:{if(g=(q=d.ga).c,U=q.l.o,q.$a==0){if(Re=d.rc,Se=d.Vc,Ve=d.Fa,K=d.P+1+b*g,ne=d.mb,ye=d.nb+b*g,t(K<=d.P+d.qc),q.Z!=0)for(t(Xi[q.Z]!=null),z=0;z<A;++z)Xi[q.Z](Re,Se,Ve,K,ne,ye,g),Re=ne,Se=ye,ye+=g,K+=g;else for(z=0;z<A;++z)r(ne,ye,Ve,K,g),Re=ne,Se=ye,ye+=g,K+=g;d.rc=Re,d.Vc=Se}else{if(t(q.mc!=null),g=b+A,t((z=q.mc)!=null),t(g<=z.i),z.C>=g)g=1;else if(q.ic||Le(),q.ic){q=z.V,Re=z.Ba,Se=z.c;var Ue=z.i,ve=(Ve=1,K=z.$/Se,ne=z.$%Se,ye=z.m,Me=z.s,z.$),be=Se*Ue,He=Se*g,Qe=Me.wc,We=ve<He?jn(Me,ne,K):null;t(ve<=be),t(g<=Ue),t(ki(Me));t:for(;;){for(;!ye.h&&ve<He;){if(ne&Qe||(We=jn(Me,ne,K)),t(We!=null),de(ye),256>(Ue=kn(We.G[0],We.H[0],ye)))q[Re+ve]=Ue,++ve,++ne>=Se&&(ne=0,++K<=g&&!(K%16)&&ms(z,K));else{if(!(280>Ue)){Ve=0;break t}Ue=Gn(Ue-256,ye);var ct,nt=kn(We.G[4],We.H[4],ye);if(de(ye),!(ve>=(nt=nr(Se,nt=Gn(nt,ye)))&&be-ve>=Ue)){Ve=0;break t}for(ct=0;ct<Ue;++ct)q[Re+ve+ct]=q[Re+ve+ct-nt];for(ve+=Ue,ne+=Ue;ne>=Se;)ne-=Se,++K<=g&&!(K%16)&&ms(z,K);ve<He&&ne&Qe&&(We=jn(Me,ne,K))}t(ye.h==re(ye))}ms(z,K>g?g:K);break t}!Ve||ye.h&&ve<be?(Ve=0,z.a=ye.h?5:3):z.$=ve,g=Ve}else g=gs(z,z.V,z.Ba,z.c,z.i,g,ol);if(!g){A=0;break e}}b+A>=U&&(d.Cc=1),A=1}if(!A)return null;if(d.Cc&&((A=d.ga)!=null&&(A.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+b*T}function x(d,g,b,A,T,U){for(;0<T--;){var z,q=d,K=g+(b?1:0),ne=d,ye=g+(b?0:3);for(z=0;z<A;++z){var Me=ne[ye+4*z];Me!=255&&(Me*=32897,q[K+4*z+0]=q[K+4*z+0]*Me>>23,q[K+4*z+1]=q[K+4*z+1]*Me>>23,q[K+4*z+2]=q[K+4*z+2]*Me>>23)}g+=U}}function M(d,g,b,A,T){for(;0<A--;){var U;for(U=0;U<b;++U){var z=d[g+2*U+0],q=15&(ne=d[g+2*U+1]),K=4369*q,ne=(240&ne|ne>>4)*K>>16;d[g+2*U+0]=(240&z|z>>4)*K>>16&240|(15&z|z<<4)*K>>16>>4&15,d[g+2*U+1]=240&ne|q}g+=T}}function se(d,g,b,A,T,U,z,q){var K,ne,ye=255;for(ne=0;ne<T;++ne){for(K=0;K<A;++K){var Me=d[g+K];U[z+4*K]=Me,ye&=Me}g+=b,z+=q}return ye!=255}function pe(d,g,b,A,T){var U;for(U=0;U<T;++U)b[A+U]=d[g+U]>>8}function Le(){ji=x,gn=M,En=se,rr=pe}function ze(d,g,b){$[d]=function(A,T,U,z,q,K,ne,ye,Me,Re,Se,Ve,Ue,ve,be,He,Qe){var We,ct=Qe-1>>1,nt=q[K+0]|ne[ye+0]<<16,mt=Me[Re+0]|Se[Ve+0]<<16;t(A!=null);var st=3*nt+mt+131074>>2;for(g(A[T+0],255&st,st>>16,Ue,ve),U!=null&&(st=3*mt+nt+131074>>2,g(U[z+0],255&st,st>>16,be,He)),We=1;We<=ct;++We){var an=q[K+We]|ne[ye+We]<<16,fn=Me[Re+We]|Se[Ve+We]<<16,Wt=nt+an+mt+fn+524296,Mt=Wt+2*(an+mt)>>3;st=Mt+nt>>1,nt=(Wt=Wt+2*(nt+fn)>>3)+an>>1,g(A[T+2*We-1],255&st,st>>16,Ue,ve+(2*We-1)*b),g(A[T+2*We-0],255&nt,nt>>16,Ue,ve+(2*We-0)*b),U!=null&&(st=Wt+mt>>1,nt=Mt+fn>>1,g(U[z+2*We-1],255&st,st>>16,be,He+(2*We-1)*b),g(U[z+2*We+0],255&nt,nt>>16,be,He+(2*We+0)*b)),nt=an,mt=fn}1&Qe||(st=3*nt+mt+131074>>2,g(A[T+Qe-1],255&st,st>>16,Ue,ve+(Qe-1)*b),U!=null&&(st=3*mt+nt+131074>>2,g(U[z+Qe-1],255&st,st>>16,be,He+(Qe-1)*b)))}}function Xe(){Ei[tu]=H,Ei[Ha]=su,Ei[Va]=Fl,Ei[To]=Ci,Ei[hd]=qt,Ei[Vf]=$p,Ei[Mp]=Qg,Ei[Tl]=su,Ei[Ol]=Ci,Ei[Dl]=qt,Ei[Gf]=$p}function ut(d){return d&~Zg?0>d?0:255:d>>Bp}function bt(d,g){return ut((19077*d>>8)+(26149*g>>8)-14234)}function Dt(d,g,b){return ut((19077*d>>8)-(6419*g>>8)-(13320*b>>8)+8708)}function Pt(d,g){return ut((19077*d>>8)+(33050*g>>8)-17685)}function Yt(d,g,b,A,T){A[T+0]=bt(d,b),A[T+1]=Dt(d,g,b),A[T+2]=Pt(d,g)}function Mn(d,g,b,A,T){A[T+0]=Pt(d,g),A[T+1]=Dt(d,g,b),A[T+2]=bt(d,b)}function Xn(d,g,b,A,T){var U=Dt(d,g,b);g=U<<3&224|Pt(d,g)>>3,A[T+0]=248&bt(d,b)|U>>5,A[T+1]=g}function Qn(d,g,b,A,T){var U=240&Pt(d,g)|15;A[T+0]=240&bt(d,b)|Dt(d,g,b)>>4,A[T+1]=U}function jr(d,g,b,A,T){A[T+0]=255,Yt(d,g,b,A,T+1)}function Er(d,g,b,A,T){Mn(d,g,b,A,T),A[T+3]=255}function Hi(d,g,b,A,T){Yt(d,g,b,A,T),A[T+3]=255}function Pn(d,g){return 0>d?0:d>g?g:d}function Vi(d,g,b){$[d]=function(A,T,U,z,q,K,ne,ye,Me){for(var Re=ye+(-2&Me)*b;ye!=Re;)g(A[T+0],U[z+0],q[K+0],ne,ye),g(A[T+1],U[z+0],q[K+0],ne,ye+b),T+=2,++z,++K,ye+=2*b;1&Me&&g(A[T+0],U[z+0],q[K+0],ne,ye)}}function za(d,g,b){return b==0?d==0?g==0?6:5:g==0?4:0:b}function Nl(d,g,b,A,T){switch(d>>>30){case 3:qe(g,b,A,T,0);break;case 2:De(g,b,A,T);break;case 1:wt(g,b,A,T)}}function kl(d,g){var b,A,T=g.M,U=g.Nb,z=d.oc,q=d.pc+40,K=d.oc,ne=d.pc+584,ye=d.oc,Me=d.pc+600;for(b=0;16>b;++b)z[q+32*b-1]=129;for(b=0;8>b;++b)K[ne+32*b-1]=129,ye[Me+32*b-1]=129;for(0<T?z[q-1-32]=K[ne-1-32]=ye[Me-1-32]=129:(i(z,q-32-1,127,21),i(K,ne-32-1,127,9),i(ye,Me-32-1,127,9)),A=0;A<d.za;++A){var Re=g.ya[g.aa+A];if(0<A){for(b=-1;16>b;++b)r(z,q+32*b-4,z,q+32*b+12,4);for(b=-1;8>b;++b)r(K,ne+32*b-4,K,ne+32*b+4,4),r(ye,Me+32*b-4,ye,Me+32*b+4,4)}var Se=d.Gd,Ve=d.Hd+A,Ue=Re.ad,ve=Re.Hc;if(0<T&&(r(z,q-32,Se[Ve].y,0,16),r(K,ne-32,Se[Ve].f,0,8),r(ye,Me-32,Se[Ve].ea,0,8)),Re.Za){var be=z,He=q-32+16;for(0<T&&(A>=d.za-1?i(be,He,Se[Ve].y[15],4):r(be,He,Se[Ve+1].y,0,4)),b=0;4>b;b++)be[He+128+b]=be[He+256+b]=be[He+384+b]=be[He+0+b];for(b=0;16>b;++b,ve<<=2)be=z,He=q+Vs[b],Ss[Re.Ob[b]](be,He),Nl(ve,Ue,16*+b,be,He)}else if(be=za(A,T,Re.Ob[0]),Ga[be](z,q),ve!=0)for(b=0;16>b;++b,ve<<=2)Nl(ve,Ue,16*+b,z,q+Vs[b]);for(b=Re.Gc,be=za(A,T,Re.Dd),ha[be](K,ne),ha[be](ye,Me),ve=Ue,be=K,He=ne,255&(Re=b>>0)&&(170&Re?dt(ve,256,be,He):It(ve,256,be,He)),Re=ye,ve=Me,255&(b>>=8)&&(170&b?dt(Ue,320,Re,ve):It(Ue,320,Re,ve)),T<d.Ub-1&&(r(Se[Ve].y,0,z,q+480,16),r(Se[Ve].f,0,K,ne+224,8),r(Se[Ve].ea,0,ye,Me+224,8)),b=8*U*d.B,Se=d.sa,Ve=d.ta+16*A+16*U*d.R,Ue=d.qa,Re=d.ra+8*A+b,ve=d.Ha,be=d.Ia+8*A+b,b=0;16>b;++b)r(Se,Ve+b*d.R,z,q+32*b,16);for(b=0;8>b;++b)r(Ue,Re+b*d.B,K,ne+32*b,8),r(ve,be+b*d.B,ye,Me+32*b,8)}}function jl(d,g,b,A,T,U,z,q,K){var ne=[0],ye=[0],Me=0,Re=K!=null?K.kd:0,Se=K??new Kc;if(d==null||12>b)return 7;Se.data=d,Se.w=g,Se.ha=b,g=[g],b=[b],Se.gb=[Se.gb];e:{var Ve=g,Ue=b,ve=Se.gb;if(t(d!=null),t(Ue!=null),t(ve!=null),ve[0]=0,12<=Ue[0]&&!n(d,Ve[0],"RIFF")){if(n(d,Ve[0]+8,"WEBP")){ve=3;break e}var be=Te(d,Ve[0]+4);if(12>be||4294967286<be){ve=3;break e}if(Re&&be>Ue[0]-8){ve=7;break e}ve[0]=be,Ve[0]+=12,Ue[0]-=12}ve=0}if(ve!=0)return ve;for(be=0<Se.gb[0],b=b[0];;){e:{var He=d;Ue=g,ve=b;var Qe=ne,We=ye,ct=Ve=[0];if((st=Me=[Me])[0]=0,8>ve[0])ve=7;else{if(!n(He,Ue[0],"VP8X")){if(Te(He,Ue[0]+4)!=10){ve=3;break e}if(18>ve[0]){ve=7;break e}var nt=Te(He,Ue[0]+8),mt=1+xe(He,Ue[0]+12);if(2147483648<=mt*(He=1+xe(He,Ue[0]+15))){ve=3;break e}ct!=null&&(ct[0]=nt),Qe!=null&&(Qe[0]=mt),We!=null&&(We[0]=He),Ue[0]+=18,ve[0]-=18,st[0]=1}ve=0}}if(Me=Me[0],Ve=Ve[0],ve!=0)return ve;if(Ue=!!(2&Ve),!be&&Me)return 3;if(U!=null&&(U[0]=!!(16&Ve)),z!=null&&(z[0]=Ue),q!=null&&(q[0]=0),z=ne[0],Ve=ye[0],Me&&Ue&&K==null){ve=0;break}if(4>b){ve=7;break}if(be&&Me||!be&&!Me&&!n(d,g[0],"ALPH")){b=[b],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{nt=d,ve=g,be=b;var st=Se.gb;Qe=Se.na,We=Se.P,ct=Se.Sa,mt=22,t(nt!=null),t(be!=null),He=ve[0];var an=be[0];for(t(Qe!=null),t(ct!=null),Qe[0]=null,We[0]=null,ct[0]=0;;){if(ve[0]=He,be[0]=an,8>an){ve=7;break e}var fn=Te(nt,He+4);if(4294967286<fn){ve=3;break e}var Wt=8+fn+1&-2;if(mt+=Wt,0<st&&mt>st){ve=3;break e}if(!n(nt,He,"VP8 ")||!n(nt,He,"VP8L")){ve=0;break e}if(an[0]<Wt){ve=7;break e}n(nt,He,"ALPH")||(Qe[0]=nt,We[0]=He+8,ct[0]=fn),He+=Wt,an-=Wt}}if(b=b[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],ve!=0)break}b=[b],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(st=d,ve=g,be=b,Qe=Se.gb[0],We=Se.Ja,ct=Se.xa,nt=ve[0],He=!n(st,nt,"VP8 "),mt=!n(st,nt,"VP8L"),t(st!=null),t(be!=null),t(We!=null),t(ct!=null),8>be[0])ve=7;else{if(He||mt){if(st=Te(st,nt+4),12<=Qe&&st>Qe-12){ve=3;break e}if(Re&&st>be[0]-8){ve=7;break e}We[0]=st,ve[0]+=8,be[0]-=8,ct[0]=mt}else ct[0]=5<=be[0]&&st[nt+0]==47&&!(st[nt+4]>>5),We[0]=be[0];ve=0}if(b=b[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],g=g[0],ve!=0)break;if(4294967286<Se.Ja)return 3;if(q==null||Ue||(q[0]=Se.xa?2:1),z=[z],Ve=[Ve],Se.xa){if(5>b){ve=7;break}q=z,Re=Ve,Ue=U,d==null||5>b?d=0:5<=b&&d[g+0]==47&&!(d[g+4]>>5)?(be=[0],st=[0],Qe=[0],B(We=new O,d,g,b),ft(We,be,st,Qe)?(q!=null&&(q[0]=be[0]),Re!=null&&(Re[0]=st[0]),Ue!=null&&(Ue[0]=Qe[0]),d=1):d=0):d=0}else{if(10>b){ve=7;break}q=Ve,d==null||10>b||!$c(d,g+3,b-3)?d=0:(Re=d[g+0]|d[g+1]<<8|d[g+2]<<16,Ue=16383&(d[g+7]<<8|d[g+6]),d=16383&(d[g+9]<<8|d[g+8]),1&Re||3<(Re>>1&7)||!(Re>>4&1)||Re>>5>=Se.Ja||!Ue||!d?d=0:(z&&(z[0]=Ue),q&&(q[0]=d),d=1))}if(!d||(z=z[0],Ve=Ve[0],Me&&(ne[0]!=z||ye[0]!=Ve)))return 3;K!=null&&(K[0]=Se,K.offset=g-K.w,t(4294967286>g-K.w),t(K.offset==K.ha-b));break}return ve==0||ve==7&&Me&&K==null?(U!=null&&(U[0]|=Se.na!=null&&0<Se.na.length),A!=null&&(A[0]=z),T!=null&&(T[0]=Ve),0):ve}function Xc(d,g,b){var A=g.width,T=g.height,U=0,z=0,q=A,K=T;if(g.Da=d!=null&&0<d.Da,g.Da&&(q=d.cd,K=d.bd,U=d.v,z=d.j,11>b||(U&=-2,z&=-2),0>U||0>z||0>=q||0>=K||U+q>A||z+K>T))return 0;if(g.v=U,g.j=z,g.va=U+q,g.o=z+K,g.U=q,g.T=K,g.da=d!=null&&0<d.da,g.da){if(!Ce(q,K,b=[d.ib],U=[d.hb]))return 0;g.ib=b[0],g.hb=U[0]}return g.ob=d!=null&&d.ob,g.Kb=d==null||!d.Sd,g.da&&(g.ob=g.ib<3*A/4&&g.hb<3*T/4,g.Kb=0),1}function Qc(d){if(d==null)return 2;if(11>d.S){var g=d.f.RGBA;g.fb+=(d.height-1)*g.A,g.A=-g.A}else g=d.f.kb,d=d.height,g.O+=(d-1)*g.fa,g.fa=-g.fa,g.N+=(d-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(d-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(d-1)*g.lb,g.lb=-g.lb);return 0}function El(d,g,b,A){if(A==null||0>=d||0>=g)return 2;if(b!=null){if(b.Da){var T=b.cd,U=b.bd,z=-2&b.v,q=-2&b.j;if(0>z||0>q||0>=T||0>=U||z+T>d||q+U>g)return 2;d=T,g=U}if(b.da){if(!Ce(d,g,T=[b.ib],U=[b.hb]))return 2;d=T[0],g=U[0]}}A.width=d,A.height=g;e:{var K=A.width,ne=A.height;if(d=A.S,0>=K||0>=ne||!(d>=tu&&13>d))d=2;else{if(0>=A.Rd&&A.sd==null){z=U=T=g=0;var ye=(q=K*zp[d])*ne;if(11>d||(U=(ne+1)/2*(g=(K+1)/2),d==12&&(z=(T=K)*ne)),(ne=s(ye+2*U+z))==null){d=1;break e}A.sd=ne,11>d?((K=A.f.RGBA).eb=ne,K.fb=0,K.A=q,K.size=ye):((K=A.f.kb).y=ne,K.O=0,K.fa=q,K.Fd=ye,K.f=ne,K.N=0+ye,K.Ab=g,K.Cd=U,K.ea=ne,K.W=0+ye+U,K.Db=g,K.Ed=U,d==12&&(K.F=ne,K.J=0+ye+2*U),K.Tc=z,K.lb=T)}if(g=1,T=A.S,U=A.width,z=A.height,T>=tu&&13>T)if(11>T)d=A.f.RGBA,g&=(q=Math.abs(d.A))*(z-1)+U<=d.size,g&=q>=U*zp[T],g&=d.eb!=null;else{d=A.f.kb,q=(U+1)/2,ye=(z+1)/2,K=Math.abs(d.fa),ne=Math.abs(d.Ab);var Me=Math.abs(d.Db),Re=Math.abs(d.lb),Se=Re*(z-1)+U;g&=K*(z-1)+U<=d.Fd,g&=ne*(ye-1)+q<=d.Cd,g=(g&=Me*(ye-1)+q<=d.Ed)&K>=U&ne>=q&Me>=q,g&=d.y!=null,g&=d.f!=null,g&=d.ea!=null,T==12&&(g&=Re>=U,g&=Se<=d.Tc,g&=d.F!=null)}else g=0;d=g?0:2}}return d!=0||b!=null&&b.fd&&(d=Qc(A)),d}var Dr=64,ws=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Cl=24,Al=32,Eo=8,Jr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ne("Predictor0","PredictorAdd0"),$.Predictor0=function(){return 4278190080},$.Predictor1=function(d){return d},$.Predictor2=function(d,g,b){return g[b+0]},$.Predictor3=function(d,g,b){return g[b+1]},$.Predictor4=function(d,g,b){return g[b-1]},$.Predictor5=function(d,g,b){return $e($e(d,g[b+1]),g[b+0])},$.Predictor6=function(d,g,b){return $e(d,g[b-1])},$.Predictor7=function(d,g,b){return $e(d,g[b+0])},$.Predictor8=function(d,g,b){return $e(g[b-1],g[b+0])},$.Predictor9=function(d,g,b){return $e(g[b+0],g[b+1])},$.Predictor10=function(d,g,b){return $e($e(d,g[b-1]),$e(g[b+0],g[b+1]))},$.Predictor11=function(d,g,b){var A=g[b+0];return 0>=at(A>>24&255,d>>24&255,(g=g[b-1])>>24&255)+at(A>>16&255,d>>16&255,g>>16&255)+at(A>>8&255,d>>8&255,g>>8&255)+at(255&A,255&d,255&g)?A:d},$.Predictor12=function(d,g,b){var A=g[b+0];return(Ye((d>>24&255)+(A>>24&255)-((g=g[b-1])>>24&255))<<24|Ye((d>>16&255)+(A>>16&255)-(g>>16&255))<<16|Ye((d>>8&255)+(A>>8&255)-(g>>8&255))<<8|Ye((255&d)+(255&A)-(255&g)))>>>0},$.Predictor13=function(d,g,b){var A=g[b-1];return(rt((d=$e(d,g[b+0]))>>24&255,A>>24&255)<<24|rt(d>>16&255,A>>16&255)<<16|rt(d>>8&255,A>>8&255)<<8|rt(d>>0&255,A>>0&255))>>>0};var qs=$.PredictorAdd0;$.PredictorAdd1=lt,Ne("Predictor2","PredictorAdd2"),Ne("Predictor3","PredictorAdd3"),Ne("Predictor4","PredictorAdd4"),Ne("Predictor5","PredictorAdd5"),Ne("Predictor6","PredictorAdd6"),Ne("Predictor7","PredictorAdd7"),Ne("Predictor8","PredictorAdd8"),Ne("Predictor9","PredictorAdd9"),Ne("Predictor10","PredictorAdd10"),Ne("Predictor11","PredictorAdd11"),Ne("Predictor12","PredictorAdd12"),Ne("Predictor13","PredictorAdd13");var qa=$.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var fd,Gi=$.ColorIndexInverseTransform,Ll=$.MapARGB,la=$.VP8LColorIndexInverseTransformAlpha,ci=$.MapAlpha,ca=$.VP8LPredictorsAdd=[];ca.length=16,($.VP8LPredictors=[]).length=16,($.VP8LPredictorsAdd_C=[]).length=16,($.VP8LPredictors_C=[]).length=16;var Co,ui,Xr,Wa,ua,di,_e,qe,De,dt,wt,It,In,dn,Ao,Lo,Cr,xs,Po,bs,Ws,_s,en,Yi,ji,gn,En,rr,vr=s(511),Ki=s(2041),Ji=s(225),da=s(767),Zc=0,Pl=Ki,eu=Ji,fi=da,Qr=vr,tu=0,Ha=1,Va=2,To=3,hd=4,Vf=5,Mp=6,Tl=7,Ol=8,Dl=9,Gf=10,Ip=[2,3,7],Gg=[3,3,11],Rp=[280,256,256,256,40],yr=[0,1,1,1,0],$r=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Yg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Kg=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Fp=8,Yf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],nu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],fa=null,Kf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ml=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Il=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ru=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Rl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Jg=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ga=[],Ss=[],ha=[],Xg=1,iu=2,Xi=[],Ei=[];ze("UpsampleRgbLinePair",Yt,3),ze("UpsampleBgrLinePair",Mn,3),ze("UpsampleRgbaLinePair",Hi,4),ze("UpsampleBgraLinePair",Er,4),ze("UpsampleArgbLinePair",jr,4),ze("UpsampleRgba4444LinePair",Qn,2),ze("UpsampleRgb565LinePair",Xn,2);var H=$.UpsampleRgbLinePair,Fl=$.UpsampleBgrLinePair,su=$.UpsampleRgbaLinePair,Ci=$.UpsampleBgraLinePair,qt=$.UpsampleArgbLinePair,$p=$.UpsampleRgba4444LinePair,Qg=$.UpsampleRgb565LinePair,md=16,Hs=1<<md-1,au=-227,Jf=482,Bp=6,Zg=(256<<Bp)-1,Up=0,pa=s(256),e1=s(256),t1=s(256),n1=s(256),r1=s(Jf-au),i1=s(Jf-au);Vi("YuvToRgbRow",Yt,3),Vi("YuvToBgrRow",Mn,3),Vi("YuvToRgbaRow",Hi,4),Vi("YuvToBgraRow",Er,4),Vi("YuvToArgbRow",jr,4),Vi("YuvToRgba4444Row",Qn,2),Vi("YuvToRgb565Row",Xn,2);var Vs=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gd=[0,2,8],s1=[8,7,6,4,4,2,2,2,1,1,1,1],a1=1;this.WebPDecodeRGBA=function(d,g,b,A,T){var U=Ha,z=new Or,q=new ai;z.ba=q,q.S=U,q.width=[q.width],q.height=[q.height];var K=q.width,ne=q.height,ye=new bn;if(ye==null||d==null)var Me=2;else t(ye!=null),Me=jl(d,g,b,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Me!=0?K=0:(K!=null&&(K[0]=ye.width[0]),ne!=null&&(ne[0]=ye.height[0]),K=1),K){q.width=q.width[0],q.height=q.height[0],A!=null&&(A[0]=q.width),T!=null&&(T[0]=q.height);e:{if(A=new hl,(T=new Kc).data=d,T.w=g,T.ha=b,T.kd=1,g=[0],t(T!=null),((d=jl(T.data,T.w,T.ha,null,null,null,g,null,T))==0||d==7)&&g[0]&&(d=4),(g=d)==0){if(t(z!=null),A.data=T.data,A.w=T.w+T.offset,A.ha=T.ha-T.offset,A.put=tr,A.ac=rn,A.bc=Pr,A.ma=z,T.xa){if((d=zi())==null){z=1;break e}if(function(Re,Se){var Ve=[0],Ue=[0],ve=[0];t:for(;;){if(Re==null)return 0;if(Se==null)return Re.a=2,0;if(Re.l=Se,Re.a=0,B(Re.m,Se.data,Se.w,Se.ha),!ft(Re.m,Ve,Ue,ve)){Re.a=3;break t}if(Re.xb=iu,Se.width=Ve[0],Se.height=Ue[0],!Rs(Ve[0],Ue[0],1,Re,null))break t;return 1}return t(Re.a!=0),0}(d,A)){if(A=(g=El(A.width,A.height,z.Oa,z.ba))==0){t:{A=d;n:for(;;){if(A==null){A=0;break t}if(t(A.s.yc!=null),t(A.s.Ya!=null),t(0<A.s.Wb),t((b=A.l)!=null),t((T=b.ma)!=null),A.xb!=0){if(A.ca=T.ba,A.tb=T.tb,t(A.ca!=null),!Xc(T.Oa,b,To)){A.a=2;break n}if(!bo(A,b.width)||b.da)break n;if((b.da||Zt(A.ca.S))&&Le(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&Le()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!Oe(A.s.vb,A.s.Wa.Xa)){A.a=1;break n}A.xb=0}if(!gs(A,A.V,A.Ba,A.c,A.i,b.o,Ui))break n;T.Dc=A.Ma,A=1;break t}t(A.a!=0),A=0}A=!A}A&&(g=d.a)}else g=d.a}else{if((d=new Rf)==null){z=1;break e}if(d.Fa=T.na,d.P=T.P,d.qc=T.Sa,Bc(d,A)){if((g=El(A.width,A.height,z.Oa,z.ba))==0){if(d.Aa=0,b=z.Oa,t((T=d)!=null),b!=null){if(0<(K=0>(K=b.Md)?0:100<K?255:255*K/100)){for(ne=ye=0;4>ne;++ne)12>(Me=T.pb[ne]).lc&&(Me.ia=K*s1[0>Me.lc?0:Me.lc]>>3),ye|=Me.ia;ye&&(alert("todo:VP8InitRandom"),T.ia=1)}T.Ga=b.Id,100<T.Ga?T.Ga=100:0>T.Ga&&(T.Ga=0)}Zu(d,A)||(g=d.a)}}else g=d.a}g==0&&z.Oa!=null&&z.Oa.fd&&(g=Qc(z.ba))}z=g}U=z!=0?null:11>U?q.f.RGBA.eb:q.f.kb.y}else U=null;return U};var zp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f($,Z){for(var ie="",D=0;D<4;D++)ie+=String.fromCharCode($[Z++]);return ie}function p($,Z){return($[Z+0]<<0|$[Z+1]<<8|$[Z+2]<<16)>>>0}function m($,Z){return($[Z+0]<<0|$[Z+1]<<8|$[Z+2]<<16|$[Z+3]<<24)>>>0}new c;var w=[0],v=[0],N=[],k=new c,C=e,_=function($,Z){var ie={},D=0,R=!1,V=0,Y=0;if(ie.frames=[],!function(G,re,ae,de){for(var ke=0;ke<de;ke++)if(G[re+ke]!=ae.charCodeAt(ke))return!0;return!1}($,Z,"RIFF",4)){for(m($,Z+=4),Z+=8;Z<$.length;){var he=f($,Z),ge=m($,Z+=4);Z+=4;var J=ge+(1&ge);switch(he){case"VP8 ":case"VP8L":ie.frames[D]===void 0&&(ie.frames[D]={}),(oe=ie.frames[D]).src_off=R?Y:Z-8,oe.src_size=V+ge+8,D++,R&&(R=!1,V=0,Y=0);break;case"VP8X":(oe=ie.header={}).feature_flags=$[Z];var B=Z+4;oe.canvas_width=1+p($,B),B+=3,oe.canvas_height=1+p($,B),B+=3;break;case"ALPH":R=!0,V=J+8,Y=Z-8;break;case"ANIM":(oe=ie.header).bgcolor=m($,Z),B=Z+4,oe.loop_count=(Pe=$)[(O=B)+0]<<0|Pe[O+1]<<8,B+=2;break;case"ANMF":var te,oe;(oe=ie.frames[D]={}).offset_x=2*p($,Z),Z+=3,oe.offset_y=2*p($,Z),Z+=3,oe.width=1+p($,Z),Z+=3,oe.height=1+p($,Z),Z+=3,oe.duration=p($,Z),Z+=3,te=$[Z++],oe.dispose=1&te,oe.blend=te>>1&1}he!="ANMF"&&(Z+=J)}var Pe,O;return ie}}(C,0);_.response=C,_.rgbaoutput=!0,_.dataurl=!1;var S=_.header?_.header:null,L=_.frames?_.frames:null;if(S){S.loop_counter=S.loop_count,w=[S.canvas_height],v=[S.canvas_width];for(var F=0;F<L.length&&L[F].blend!=0;F++);}var Q=L[0],ee=k.WebPDecodeRGBA(C,Q.src_off,Q.src_size,v,w);Q.rgba=ee,Q.imgwidth=v[0],Q.imgheight=w[0];for(var W=0;W<v[0]*w[0]*4;W++)N[W]=ee[W];return this.width=v,this.height=w,this.data=N,this}(function(e){var t=function(){return typeof fy=="function"},n=function(w,v,N,k){var C=4,_=a;switch(k){case e.image_compression.FAST:C=1,_=s;break;case e.image_compression.MEDIUM:C=6,_=l;break;case e.image_compression.SLOW:C=9,_=c}w=r(w,v,N,_);var S=fy(w,{level:C});return e.__addimage__.arrayBufferToBinaryString(S)},r=function(w,v,N,k){for(var C,_,S,L=w.length/v,F=new Uint8Array(w.length+L),Q=p(),ee=0;ee<L;ee+=1){if(S=ee*v,C=w.subarray(S,S+v),k)F.set(k(C,N,_),S+ee);else{for(var W,$=Q.length,Z=[];W<$;W+=1)Z[W]=Q[W](C,N,_);var ie=m(Z.concat());F.set(Z[ie],S+ee)}_=C}return F},i=function(w){var v=Array.apply([],w);return v.unshift(0),v},s=function(w,v){var N,k=[],C=w.length;k[0]=1;for(var _=0;_<C;_+=1)N=w[_-v]||0,k[_+1]=w[_]-N+256&255;return k},a=function(w,v,N){var k,C=[],_=w.length;C[0]=2;for(var S=0;S<_;S+=1)k=N&&N[S]||0,C[S+1]=w[S]-k+256&255;return C},l=function(w,v,N){var k,C,_=[],S=w.length;_[0]=3;for(var L=0;L<S;L+=1)k=w[L-v]||0,C=N&&N[L]||0,_[L+1]=w[L]+256-(k+C>>>1)&255;return _},c=function(w,v,N){var k,C,_,S,L=[],F=w.length;L[0]=4;for(var Q=0;Q<F;Q+=1)k=w[Q-v]||0,C=N&&N[Q]||0,_=N&&N[Q-v]||0,S=f(k,C,_),L[Q+1]=w[Q]-S+256&255;return L},f=function(w,v,N){if(w===v&&v===N)return w;var k=Math.abs(v-N),C=Math.abs(w-N),_=Math.abs(w+v-N-N);return k<=C&&k<=_?w:C<=_?v:N},p=function(){return[i,s,a,l,c]},m=function(w){var v=w.map(function(N){return N.reduce(function(k,C){return k+Math.abs(C)},0)});return v.indexOf(Math.min.apply(null,v))};e.processPNG=function(w,v,N,k){var C,_,S,L,F,Q,ee,W,$,Z,ie,D,R,V,Y,he=this.decode.FLATE_DECODE,ge="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(S=new NB(w)).imgData,_=S.bits,C=S.colorSpace,F=S.colors,[4,6].indexOf(S.colorType)!==-1){if(S.bits===8){$=(W=S.pixelBitlength==32?new Uint32Array(S.decodePixels().buffer):S.pixelBitlength==16?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,ie=new Uint8Array($*S.colors),Z=new Uint8Array($);var J,B=S.pixelBitlength-S.bits;for(V=0,Y=0;V<$;V++){for(R=W[V],J=0;J<B;)ie[Y++]=R>>>J&255,J+=S.bits;Z[V]=R>>>J&255}}if(S.bits===16){$=(W=new Uint32Array(S.decodePixels().buffer)).length,ie=new Uint8Array($*(32/S.pixelBitlength)*S.colors),Z=new Uint8Array($*(32/S.pixelBitlength)),D=S.colors>1,V=0,Y=0;for(var te=0;V<$;)R=W[V++],ie[Y++]=R>>>0&255,D&&(ie[Y++]=R>>>16&255,R=W[V++],ie[Y++]=R>>>0&255),Z[te++]=R>>>16&255;_=8}k!==e.image_compression.NONE&&t()?(w=n(ie,S.width*S.colors,S.colors,k),ee=n(Z,S.width,1,k)):(w=ie,ee=Z,he=void 0)}if(S.colorType===3&&(C=this.color_spaces.INDEXED,Q=S.palette,S.transparency.indexed)){var oe=S.transparency.indexed,Pe=0;for(V=0,$=oe.length;V<$;++V)Pe+=oe[V];if((Pe/=255)===$-1&&oe.indexOf(0)!==-1)L=[oe.indexOf(0)];else if(Pe!==$){for(W=S.decodePixels(),Z=new Uint8Array(W.length),V=0,$=W.length;V<$;V++)Z[V]=oe[W[V]];ee=n(Z,S.width,1)}}var O=function(G){var re;switch(G){case e.image_compression.FAST:re=11;break;case e.image_compression.MEDIUM:re=13;break;case e.image_compression.SLOW:re=14;break;default:re=12}return re}(k);return he===this.decode.FLATE_DECODE&&(ge="/Predictor "+O+" "),ge+="/Colors "+F+" /BitsPerComponent "+_+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(ee&&this.__addimage__.isArrayBuffer(ee)||this.__addimage__.isArrayBufferView(ee))&&(ee=this.__addimage__.arrayBufferToBinaryString(ee)),{alias:N,data:w,index:v,filter:he,decodeParameters:ge,transparency:L,palette:Q,sMask:ee,predictor:O,width:S.width,height:S.height,bitsPerComponent:_,colorSpace:C}}}})(Ct.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new kB(t),a=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:a,height:l},p=new Dv(100).encode(f,100);return e.processJPEG.call(this,p,n,r,i)},e.processGIF87A=e.processGIF89A}(Ct.API),_a.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_a.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Tn.log("bit decode error:"+n)}},_a.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}n!==0&&(this.pos+=4-n)}},_a.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,l=s>>4,c=15&s,f=this.palette[l];if(this.data[a]=f.blue,this.data[a+1]=f.green,this.data[a+2]=f.red,this.data[a+3]=255,2*i+1>=this.width)break;f=this.palette[c],this.data[a+4]=f.blue,this.data[a+4+1]=f.green,this.data[a+4+2]=f.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},_a.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},_a.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,f=s>>15?255:0,p=r*this.width*4+4*i;this.data[p]=c,this.data[p+1]=l,this.data[p+2]=a,this.data[p+3]=f}this.pos+=e}},_a.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,c=(a>>5&n)/n*255|0,f=(a>>11)/t*255|0,p=i*this.width*4+4*s;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=255}this.pos+=e}},_a.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},_a.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=a}},_a.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new _a(t,!1),a=s.width,l=s.height,c={data:s.getData(),width:a,height:l},f=new Dv(100).encode(c,100);return e.processJPEG.call(this,f,n,r,i)}}(Ct.API),H3.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new H3(t),a=s.width,l=s.height,c={data:s.getData(),width:a,height:l},f=new Dv(100).encode(c,100);return e.processJPEG.call(this,f,n,r,i)}}(Ct.API),Ct.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),l=0,c=0,f=0;f<i;f+=4){var p=r[f],m=r[f+1],w=r[f+2],v=r[f+3];s[l++]=p,s[l++]=m,s[l++]=w,a[c++]=v}var N=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:N,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ct.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Rd=Ct.API,zm=Rd.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,f=t.kerning?t.kerning:i.metadata.Unicode.kerning,p=f.fof?f.fof:1,m=t.doKerning!==!1,w=0,v=e.length,N=0,k=l[0]||c,C=[];for(n=0;n<v;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(w=m&&Sn(f[r])==="object"&&!isNaN(parseInt(f[r][N],10))?f[r][N]/p:0,C.push((l[r]||k)/c+w)),N=r;return C},U3=Rd.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Rd.processArabic&&(e=Rd.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:zm.apply(this,arguments).reduce(function(s,a){return s+a},0)},z3=function(e,t,n,r){for(var i=[],s=0,a=e.length,l=0;s!==a&&l+t[s]<n;)l+=t[s],s++;i.push(e.slice(0,s));var c=s;for(l=0;s!==a;)l+t[s]>r&&(i.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&i.push(e.slice(c,s)),i},q3=function(e,t,n){n||(n={});var r,i,s,a,l,c,f,p=[],m=[p],w=n.textIndent||0,v=0,N=0,k=e.split(" "),C=zm.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?k[0].length+2:n.lineIndent||0){var _=Array(c).join(" "),S=[];k.map(function(F){(F=F.split(/\s*\n/)).length>1?S=S.concat(F.map(function(Q,ee){return(ee&&Q.length?`
`:"")+Q})):S.push(F[0])}),k=S,c=U3.apply(this,[_,n])}for(s=0,a=k.length;s<a;s++){var L=0;if(r=k[s],c&&r[0]==`
`&&(r=r.substr(1),L=1),w+v+(N=(i=zm.apply(this,[r,n])).reduce(function(F,Q){return F+Q},0))>t||L){if(N>t){for(l=z3.apply(this,[r,i,t-(w+v),t]),p.push(l.shift()),p=[l.pop()];l.length;)m.push([l.shift()]);N=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(F,Q){return F+Q},0)}else p=[r];m.push(p),w=N+c,v=C}else p.push(r),w+=v+N,v=C}return f=c?function(F,Q){return(Q?_:"")+F.join(" ")}:function(F){return F.join(" ")},m.map(f)},Rd.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var m=this.internal.getFont(p.fontName,p.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var l,c,f=[];for(l=0,c=r.length;l<c;l++)f=f.concat(q3.apply(this,[r[l],a,s]));return f},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(m){return"0x"+parseInt(m,10).toString(16)},a=e.__fontmetrics__.compress=function(m){var w,v,N,k,C=["{"];for(var _ in m){if(w=m[_],isNaN(parseInt(_,10))?v="'"+_+"'":(_=parseInt(_,10),v=(v=s(_).slice(2)).slice(0,-1)+r[v.slice(-1)]),typeof w=="number")w<0?(N=s(w).slice(3),k="-"):(N=s(w).slice(2),k=""),N=k+N.slice(0,-1)+r[N.slice(-1)];else{if(Sn(w)!=="object")throw new Error("Don't know what to do with value type "+Sn(w)+".");N=a(w)}C.push(v+N)}return C.push("}"),C.join("")},l=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,v,N,k,C={},_=1,S=C,L=[],F="",Q="",ee=m.length-1,W=1;W<ee;W+=1)(k=m[W])=="'"?w?(N=w.join(""),w=void 0):w=[]:w?w.push(k):k=="{"?(L.push([S,N]),S={},N=void 0):k=="}"?((v=L.pop())[0][v[1]]=S,N=void 0,S=v[0]):k=="-"?_=-1:N===void 0?n.hasOwnProperty(k)?(F+=n[k],N=parseInt(F,16)*_,_=1,F=""):F+=k:n.hasOwnProperty(k)?(Q+=n[k],S[N]=parseInt(Q,16)*_,_=1,N=void 0,Q=""):Q+=k;return C},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var w=m.font,v=p.Unicode[w.postScriptName];v&&(w.metadata.Unicode={},w.metadata.Unicode.widths=v.widths,w.metadata.Unicode.kerning=v.kerning);var N=f.Unicode[w.postScriptName];N&&(w.metadata.Unicode.encoding=N,w.encoding=N.codePages[0])}])}(Ct.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(zh(l)),a.metadata=e.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(Ct),function(e){function t(){return(At.canvg?Promise.resolve(At.canvg):il(()=>import("./index.es-CaH5zkg8.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Ct.API.addSvgAsImage=function(n,r,i,s,a,l,c,f){if(isNaN(r)||isNaN(i))throw Tn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Tn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=a;var m=p.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,p.width,p.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return t().then(function(N){return N.fromString(m,n,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(w)}).then(function(){v.addImage(p.toDataURL("image/jpeg",1),r,i,s,a,c,f)})}}(),Ct.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Ct.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],f=0,p=0,m=0;function w(N,k){var C,_=!1;for(C=0;C<N.length;C+=1)N[C]===k&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var v=l.length;for(m=0;m<v;m+=1)n[l[m]].value=n[l[m]].defaultValue,n[l[m]].explicitSet=!1}if(Sn(e)==="object"){for(i in e)if(s=e[i],w(l,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&w(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")c.push(String(s[f]-1));else if(s[f].length>1){for(p=0;p<s[f].length;p+=1)typeof s[f][p]!="number"&&(r=!1);r===!0&&c.push([s[f][0]-1,s[f][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,k=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?k.push("/"+N+" /"+n[N].value):k.push("/"+N+" "+n[N].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+a.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Ct.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,a){for(var l,c=a.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],m=0,w=s.length;m<w;++m){if(l=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=s.charCodeAt(m),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(f[4-l.length],l)}return p.join("")},r=function(s){var a,l,c,f,p,m,w;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,w=(l=Object.keys(s).sort(function(v,N){return v-N})).length;m<w;m++)a=l[m],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(f=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+f+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var l=a.font,c=a.out,f=a.newObject,p=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,w=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),v="",N=0;N<w.length;N++)v+=String.fromCharCode(w[N]);var k=f();p({data:v,addLength1:!0,objectId:k}),c("endobj");var C=f();p({data:r(l.metadata.toUnicode),addLength1:!0,objectId:C}),c("endobj");var _=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+$d(l.fontName)),c("/FontFile2 "+k+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var S=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+$d(l.fontName)),c("/FontDescriptor "+_+" 0 R"),c("/W "+e.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+C+" 0 R"),c("/BaseFont /"+$d(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+S+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var l=a.font,c=a.out,f=a.newObject,p=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,w="",v=0;v<m.length;v++)w+=String.fromCharCode(m[v]);var N=f();p({data:w,addLength1:!0,objectId:N}),c("endobj");var k=f();p({data:r(l.metadata.toUnicode),addLength1:!0,objectId:k}),c("endobj");var C=f();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+N+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+$d(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=f();for(var _=0;_<l.metadata.hmtx.widths.length;_++)l.metadata.hmtx.widths[_]=parseInt(l.metadata.hmtx.widths[_]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+$d(l.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,l=s.text||"",c=s.x,f=s.y,p=s.options||{},m=s.mutex||{},w=m.pdfEscape,v=m.activeFontKey,N=m.fonts,k=v,C="",_=0,S="",L=N[k].encoding;if(N[k].encoding!=="Identity-H")return{text:l,x:c,y:f,options:p,mutex:m};for(S=l,k=v,Array.isArray(l)&&(S=l[0]),_=0;_<S.length;_+=1)N[k].metadata.hasOwnProperty("cmap")&&(a=N[k].metadata.cmap.unicode.codeMap[S[_].charCodeAt(0)]),a||S[_].charCodeAt(0)<256&&N[k].metadata.hasOwnProperty("Unicode")?C+=S[_]:C+="";var F="";return parseInt(k.slice(1))<14||L==="WinAnsiEncoding"?F=w(C,k).split("").map(function(Q){return Q.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(F=n(C,N[k])),m.isHex=!0,{text:F,x:c,y:f,options:p,mutex:m}};t.events.push(["postProcessText",function(s){var a=s.text||"",l=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var f=0;for(f=0;f<a.length;f+=1)Array.isArray(a[f])&&a[f].length===3?l.push([i(Object.assign({},c,{text:a[f][0]})).text,a[f][1],a[f][2]]):l.push(i(Object.assign({},c,{text:a[f]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:a})).text}])}(Ct),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Ct.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,a,l,c,f,p,m=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,L=0;this.__bidiEngine__={};var F=function(D){var R=D.charCodeAt(),V=R>>8,Y=k[V];return Y!==void 0?m[256*Y+(255&R)]:V===252||V===253?"AL":_.test(V)?"L":V===8?"R":"N"},Q=function(D){for(var R,V=0;V<D.length;V++){if((R=F(D.charAt(V)))==="L")return!1;if(R==="R")return!0}return!1},ee=function(D,R,V,Y){var he,ge,J,B,te=R[Y];switch(te){case"L":case"R":S=!1;break;case"N":case"AN":break;case"EN":S&&(te="AN");break;case"AL":S=!0,te="R";break;case"WS":te="N";break;case"CS":Y<1||Y+1>=R.length||(he=V[Y-1])!=="EN"&&he!=="AN"||(ge=R[Y+1])!=="EN"&&ge!=="AN"?te="N":S&&(ge="AN"),te=ge===he?ge:"N";break;case"ES":te=(he=Y>0?V[Y-1]:"B")==="EN"&&Y+1<R.length&&R[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&V[Y-1]==="EN"){te="EN";break}if(S){te="N";break}for(J=Y+1,B=R.length;J<B&&R[J]==="ET";)J++;te=J<B&&R[J]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(B=R.length,J=Y+1;J<B&&R[J]==="NSM";)J++;if(J<B){var oe=D[Y],Pe=oe>=1425&&oe<=2303||oe===64286;if(he=R[J],Pe&&(he==="R"||he==="AL")){te="R";break}}}te=Y<1||(he=R[Y-1])==="B"?"N":V[Y-1];break;case"B":S=!1,i=!0,te=L;break;case"S":s=!0,te="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"BN":te="N"}return te},W=function(D,R,V){var Y=D.split("");return V&&$(Y,V,{hiLevel:L}),Y.reverse(),R&&R.reverse(),Y.join("")},$=function(D,R,V){var Y,he,ge,J,B,te=-1,oe=D.length,Pe=0,O=[],G=L?v:w,re=[];for(S=!1,i=!1,s=!1,he=0;he<oe;he++)re[he]=F(D[he]);for(ge=0;ge<oe;ge++){if(B=Pe,O[ge]=ee(D,re,O,ge),Y=240&(Pe=G[B][N[O[ge]]]),Pe&=15,R[ge]=J=G[Pe][5],Y>0)if(Y===16){for(he=te;he<ge;he++)R[he]=1;te=-1}else te=-1;if(G[Pe][6])te===-1&&(te=ge);else if(te>-1){for(he=te;he<ge;he++)R[he]=J;te=-1}re[ge]==="B"&&(R[ge]=0),V.hiLevel|=J}s&&function(ae,de,ke){for(var Ee=0;Ee<ke;Ee++)if(ae[Ee]==="S"){de[Ee]=L;for(var je=Ee-1;je>=0&&ae[je]==="WS";je--)de[je]=L}}(re,R,oe)},Z=function(D,R,V,Y,he){if(!(he.hiLevel<D)){if(D===1&&L===1&&!i)return R.reverse(),void(V&&V.reverse());for(var ge,J,B,te,oe=R.length,Pe=0;Pe<oe;){if(Y[Pe]>=D){for(B=Pe+1;B<oe&&Y[B]>=D;)B++;for(te=Pe,J=B-1;te<J;te++,J--)ge=R[te],R[te]=R[J],R[J]=ge,V&&(ge=V[te],V[te]=V[J],V[J]=ge);Pe=B}Pe++}}},ie=function(D,R,V){var Y=D.split(""),he={hiLevel:L};return V||(V=[]),$(Y,V,he),function(ge,J,B){if(B.hiLevel!==0&&p)for(var te,oe=0;oe<ge.length;oe++)J[oe]===1&&(te=C.indexOf(ge[oe]))>=0&&(ge[oe]=C[te+1])}(Y,V,he),Z(2,Y,R,V,he),Z(1,Y,R,V,he),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(D,R,V){if(function(he,ge){if(ge)for(var J=0;J<he.length;J++)ge[J]=J;l===void 0&&(l=Q(he)),f===void 0&&(f=Q(he))}(D,R),a||!c||f)if(a&&c&&l^f)L=l?1:0,D=W(D,R,V);else if(!a&&c&&f)L=l?1:0,D=ie(D,R,V),D=W(D,R);else if(!a||l||c||f){if(a&&!c&&l^f)D=W(D,R),l?(L=0,D=ie(D,R,V)):(L=1,D=ie(D,R,V),D=W(D,R));else if(a&&l&&!c&&f)L=1,D=ie(D,R,V),D=W(D,R);else if(!a&&!c&&l^f){var Y=p;l?(L=1,D=ie(D,R,V),L=0,p=!1,D=ie(D,R,V),p=Y):(L=0,D=ie(D,R,V),D=W(D,R),L=1,p=!1,D=ie(D,R,V),p=Y,D=W(D,R))}}else L=0,D=ie(D,R,V);else L=l?1:0,D=ie(D,R,V);return D},this.__bidiEngine__.setOptions=function(D){D&&(a=D.isInputVisual,c=D.isOutputVisual,l=D.isInputRtl,f=D.isOutputRtl,p=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(a=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?a.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):a.push([n.doBidiReorder(i[l])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Ct),Ct.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Tc(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new BB(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new jB(this.contents),this.head=new CB(this),this.name=new OB(this),this.cmap=new L6(this),this.toUnicode={},this.hhea=new AB(this),this.maxp=new DB(this),this.hmtx=new MB(this),this.post=new PB(this),this.os2=new LB(this),this.loca=new $B(this),this.glyf=new IB(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,f;for(f=[],a=0,l=(c=this.bbox).length;a<l;a++)t=c[a],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,a,l;for(a=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Fa,Tc=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,a,l,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*l+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),jB=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,a,l,c,f,p,m,w,v,N,k;for(k in v=Object.keys(n).length,c=Math.log(2),m=16*Math.floor(Math.log(v)/c),a=Math.floor(m/c),p=16*v-m,(i=new Tc).writeInt(this.scalarType),i.writeShort(v),i.writeShort(m),i.writeShort(a),i.writeShort(p),s=16*v,f=i.pos+s,l=null,N=[],n)for(w=n[k],i.writeString(k),i.writeInt(e(w)),i.writeInt(f),i.writeInt(w.length),N=N.concat(w),k==="head"&&(l=f),f+=w.length;f%4;)N.push(0),f++;return i.write(N),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,a;for(n=P6.call(n);n.length%4;)n.push(0);for(s=new Tc(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),EB={}.hasOwnProperty,wo=function(e,t){for(var n in t)EB.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Fa=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var CB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Fa),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Tc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),V3=function(){function e(t,n){var r,i,s,a,l,c,f,p,m,w,v,N,k,C,_,S,L;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(v=t.readUInt16(),w=v/2,t.pos+=6,s=function(){var F,Q;for(Q=[],c=F=0;0<=w?F<w:F>w;c=0<=w?++F:--F)Q.push(t.readUInt16());return Q}(),t.pos+=2,k=function(){var F,Q;for(Q=[],c=F=0;0<=w?F<w:F>w;c=0<=w?++F:--F)Q.push(t.readUInt16());return Q}(),f=function(){var F,Q;for(Q=[],c=F=0;0<=w?F<w:F>w;c=0<=w?++F:--F)Q.push(t.readUInt16());return Q}(),p=function(){var F,Q;for(Q=[],c=F=0;0<=w?F<w:F>w;c=0<=w?++F:--F)Q.push(t.readUInt16());return Q}(),i=(this.length-t.pos+this.offset)/2,l=function(){var F,Q;for(Q=[],c=F=0;0<=i?F<i:F>i;c=0<=i?++F:--F)Q.push(t.readUInt16());return Q}(),c=_=0,L=s.length;_<L;c=++_)for(C=s[c],r=S=N=k[c];N<=C?S<=C:S>=C;r=N<=C?++S:--S)p[c]===0?a=r+f[c]:(a=l[p[c]/2+(r-N)-(w-c)]||0)!==0&&(a+=f[c]),this.codeMap[r]=65535&a}t.pos=m}return e.encode=function(t,n){var r,i,s,a,l,c,f,p,m,w,v,N,k,C,_,S,L,F,Q,ee,W,$,Z,ie,D,R,V,Y,he,ge,J,B,te,oe,Pe,O,G,re,ae,de,ke,Ee,je,we,fe,xe;switch(Y=new Tc,a=Object.keys(t).sort(function(Te,Oe){return Te-Oe}),n){case"macroman":for(k=0,C=function(){var Te=[];for(N=0;N<256;++N)Te.push(0);return Te}(),S={0:0},s={},he=0,te=a.length;he<te;he++)S[je=t[i=a[he]]]==null&&(S[je]=++k),s[i]={old:t[i],new:S[t[i]]},C[i]=S[t[i]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(C),{charMap:s,subtable:Y.data,maxGlyphID:k+1};case"unicode":for(R=[],m=[],L=0,S={},r={},_=f=null,ge=0,oe=a.length;ge<oe;ge++)S[Q=t[i=a[ge]]]==null&&(S[Q]=++L),r[i]={old:Q,new:S[Q]},l=S[Q]-i,_!=null&&l===f||(_&&m.push(_),R.push(i),f=l),_=i;for(_&&m.push(_),m.push(65535),R.push(65535),ie=2*(Z=R.length),$=2*Math.pow(Math.log(Z)/Math.LN2,2),w=Math.log($/2)/Math.LN2,W=2*Z-$,c=[],ee=[],v=[],N=J=0,Pe=R.length;J<Pe;N=++J){if(D=R[N],p=m[N],D===65535){c.push(0),ee.push(0);break}if(D-(V=r[D].new)>=32768)for(c.push(0),ee.push(2*(v.length+Z-N)),i=B=D;D<=p?B<=p:B>=p;i=D<=p?++B:--B)v.push(r[i].new);else c.push(V-D),ee.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*Z+2*v.length),Y.writeUInt16(0),Y.writeUInt16(ie),Y.writeUInt16($),Y.writeUInt16(w),Y.writeUInt16(W),ke=0,O=m.length;ke<O;ke++)i=m[ke],Y.writeUInt16(i);for(Y.writeUInt16(0),Ee=0,G=R.length;Ee<G;Ee++)i=R[Ee],Y.writeUInt16(i);for(we=0,re=c.length;we<re;we++)l=c[we],Y.writeUInt16(l);for(fe=0,ae=ee.length;fe<ae;fe++)F=ee[fe],Y.writeUInt16(F);for(xe=0,de=v.length;xe<de;xe++)k=v[xe],Y.writeUInt16(k);return{charMap:r,subtable:Y.data,maxGlyphID:L+1}}},e}(),L6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Fa),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new V3(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=V3.encode(n,r),(s=new Tc).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),AB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Fa),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),LB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Fa),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),PB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Fa),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,f;for(f=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)f.push(n.readUInt32());return f}).call(this)}},t}(),TB=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},OB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Fa),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,a,l,c,f,p,m,w,v;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(f={},a=m=0,w=i.length;m<w;a=++m)s=i[a],n.pos=s.offset,p=n.readString(s.length),l=new TB(p,s),f[v=s.nameID]==null&&(f[v]=[]),f[s.nameID].push(l);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),DB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Fa),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),MB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Fa),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,a,l,c,f;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,m;for(m=[],r=p=0;0<=s?p<s:p>s;r=0<=s?++p:--p)m.push(n.readInt16());return m}(),this.widths=(function(){var p,m,w,v;for(v=[],p=0,m=(w=this.metrics).length;p<m;p++)a=w[p],v.push(a.advance);return v}).call(this),i=this.widths[this.widths.length-1],f=[],r=l=0;0<=s?l<s:l>s;r=0<=s?++l:--l)f.push(this.widths.push(i));return f},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),P6=[].slice,IB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Fa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,a,l,c,f,p,m,w;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,l=(c=new Tc(r.read(s))).readShort(),p=c.readShort(),w=c.readShort(),f=c.readShort(),m=c.readShort(),this.cache[n]=l===-1?new FB(c,p,w,f,m):new RB(c,l,p,w,f,m),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,a,l,c,f;for(l=[],a=[],c=0,f=r.length;c<f;c++)s=n[r[c]],a.push(l.length),s&&(l=l.concat(s.encode(i)));return a.push(l.length),{table:l,offsets:a}},t}(),RB=function(){function e(t,n,r,i,s,a){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),FB=function(){function e(t,n,r,i,s){var a,l;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Tc(P6.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),$B=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Fa),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,l=0;l<i.length;++l)if(i[l]=s,a<r.length&&r[a]==l){++a,i[l]=s;var c=this.offsets[l],f=this.offsets[l+1]-c;f>0&&(s+=f)}for(var p=new Array(4*i.length),m=0;m<i.length;++m)p[4*m+3]=255&i[m],p[4*m+2]=(65280&i[m])>>8,p[4*m+1]=(16711680&i[m])>>16,p[4*m]=(4278190080&i[m])>>24;return p},t}(),BB=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,a,l,c;for(i={},a=0,l=t.length;a<l;a++)i[s=t[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,a,l,c,f,p,m,w,v,N,k,C,_;for(i in r=L6.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),v={0:0},_=r.charMap)v[(c=_[i]).old]=c.new;for(N in w=r.maxGlyphID,a)N in v||(v[N]=w++);return p=function(S){var L,F;for(L in F={},S)F[S[L]]=L;return F}(v),m=Object.keys(p).sort(function(S,L){return S-L}),k=function(){var S,L,F;for(F=[],S=0,L=m.length;S<L;S++)l=m[S],F.push(p[l]);return F}(),s=this.font.glyf.encode(a,k,v),f=this.font.loca.encode(s.offsets,k),C={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},e}();Ct.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var l,c,f;for(f=[],l=0,c=n.length;l<c;l++)r=n[l],f.push(t.convert(r));return f}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+n},t}();const UB=(e,t,n,r=!1)=>{var W,$;const i=new Ct("p","mm","a4"),s=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),l=r?"#FFFFFF":"#1E2A47",c=r?"#000000":"#F95738",f="helvetica";r||(i.setFillColor(l),i.rect(0,0,s,a,"F"));const p=[...((W=e.songs)==null?void 0:W.map(Z=>({...Z,type:"song"})))||[],...(($=e.medleys)==null?void 0:$.map(Z=>({...Z,type:"medley"})))||[]].sort((Z,ie)=>Z.position-ie.position),m=30,w=10,v=s-60,N=p.length>20,k=N?(v-20)/2:v,C=20,_=C+k+20;let S=18,L=w;p.length>30?(S=14,L=8):p.length>25&&(S=16,L=9),i.setFont(f,"bold"),i.setFontSize(S),i.setTextColor(c);let F=m;if(N){const Z=Math.ceil(p.length/2),ie=p.slice(0,Z),D=p.slice(Z);let R=F;ie.forEach((Y,he)=>{let ge="";if(Y.type==="song"){const oe=Y;oe.song&&(ge=oe.song.title)}else Y.type==="medley"&&(ge=Y.name||"Medley");const B=`${String(he+1).padStart(2,"0")}. ${ge}`,te=i.splitTextToSize(B.toUpperCase(),k);i.text(te,C,R),R+=te.length*L});let V=F;D.forEach((Y,he)=>{let ge="";if(Y.type==="song"){const oe=Y;oe.song&&(ge=oe.song.title)}else Y.type==="medley"&&(ge=Y.name||"Medley");const B=`${String(Z+he+1).padStart(2,"0")}. ${ge}`,te=i.splitTextToSize(B.toUpperCase(),k);i.text(te,_,V),V+=te.length*L})}else p.forEach((Z,ie)=>{F>a-50&&(i.addPage(),r||(i.setFillColor(l),i.rect(0,0,s,a,"F")),F=m,i.setFont(f,"bold"),i.setFontSize(S),i.setTextColor(c));let D="";if(Z.type==="song"){const he=Z;he.song&&(D=he.song.title)}else Z.type==="medley"&&(D=Z.name||"Medley");const V=`${String(ie+1).padStart(2,"0")}. ${D}`,Y=i.splitTextToSize(V.toUpperCase(),k);i.text(Y,C,F),F+=Y.length*L});const Q=i.getNumberOfPages();for(let Z=1;Z<=Q;Z++){i.setPage(Z),i.setFont(f,"bold"),i.setFontSize(48),i.setTextColor(c);const ie=(n||"YOUR BAND").toUpperCase();i.text(ie,s-20,m,{angle:-90,align:"left"})}const ee=Z=>new Date(Z).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"});if(t){i.setFont(f,"normal"),i.setFontSize(10),i.setTextColor(c);const Z=[t.name||"The Arena",t.location||"Town, Country",ee(t.date)];i.text(Z,s-20,a-30,{align:"right"})}return i},zB=({isOpen:e,onClose:t,setlist:n,eventName:r,eventDate:i,bandName:s})=>{const[a,l]=E.useState(!0),c=(f=!1)=>{if(!n)return;const m=UB(n,r&&i?{name:r,date:i}:void 0,s,f),v=`${s||"Setlist"} - ${r||"Event"}${f?" (Print)":" (Digital)"}.pdf`;if(f){const N=m.output("blob"),k=URL.createObjectURL(N);window.open(k,"_blank")}else m.save(v)};return h.jsx(h.Fragment,{children:h.jsx("div",{className:`fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-2 sm:p-4 transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"} print:hidden`,onClick:t,children:h.jsx("div",{className:`bg-white rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] sm:max-h-[90vh] flex flex-col font-sans relative transform transition-all duration-300 ${e?"scale-100 opacity-100":"scale-95 opacity-0"}`,onClick:f=>f.stopPropagation(),children:n&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 sm:p-6 border-b border-gray-200 gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[h.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg flex-shrink-0",children:h.jsx(Si,{className:"w-5 h-5 sm:w-6 sm:h-6 text-indigo-600"})}),h.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-gray-900 truncate",children:n.name})]}),h.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 print:hidden flex-wrap",children:[h.jsxs("button",{onClick:()=>c(!1),className:"flex items-center gap-2 px-2 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-xs",title:"Descargar PDF Digital",children:[h.jsx(K2,{className:"w-3 h-3"}),"Digital"]}),h.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-2 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-xs",title:"Descargar PDF para Imprimir",children:[h.jsx(K2,{className:"w-3 h-3"}),"Impresión"]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("label",{htmlFor:"showArtists",className:"text-sm font-medium text-gray-600",children:"Artistas"}),h.jsx("button",{onClick:()=>l(!a),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a?"bg-indigo-600":"bg-gray-200"}`,children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a?"translate-x-6":"translate-x-1"}`})})]}),h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(Xo,{className:"w-6 h-6"})})]})]}),h.jsxs("div",{className:"p-6 overflow-y-auto flex-grow",children:[n.description&&h.jsx("p",{className:"text-sm text-gray-600 italic mb-6 bg-gray-50 p-3 rounded-md border border-gray-200",children:n.description}),(()=>{const f=E.useMemo(()=>n!=null&&n.songs?n.songs.map(v=>{var N;return{...v,type:((N=v.song)==null?void 0:N.type)==="medley"?"medley":"song"}}).sort((v,N)=>v.position-N.position):[],[n==null?void 0:n.songs]),p=f.length,m=p>10,w=m?Math.ceil(p/2):p;return p===0?h.jsx("div",{className:"text-center py-10",children:h.jsx("p",{className:"text-gray-500",children:"Este setlist está vacío."})}):h.jsx("div",{className:"grid gap-x-8",style:{gridTemplateRows:`repeat(${w}, auto)`,gridAutoFlow:"column",gridTemplateColumns:m?"1fr 1fr":"1fr"},children:f.map((v,N)=>{var k,C,_,S,L,F,Q;return v.type==="medley"?h.jsx("div",{className:"bg-slate-50 rounded-lg p-2 my-1 transition-all duration-300",children:h.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[h.jsxs("span",{className:"text-gray-400 font-mono w-5 text-right pt-1 self-start",children:[N+1,"."]}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("p",{className:"text-indigo-600 font-bold",children:(k=v.song)==null?void 0:k.title}),h.jsxs("p",{className:"text-xs text-gray-400",children:["Medley (",((_=(C=v.song)==null?void 0:C.medley_song_ids)==null?void 0:_.length)||0," canciones)"]})]})]})},`medley-${v.id}`):h.jsxs("div",{className:"flex items-baseline space-x-3 text-sm group py-1 min-h-[3.25rem]",children:[h.jsxs("span",{className:"text-gray-400 font-mono w-5 text-right",children:[N+1,"."]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-800 font-medium group-hover:text-indigo-600 transition-colors",children:((S=v.song)==null?void 0:S.title)||"N/A"}),h.jsx("p",{className:`text-gray-500 text-xs transition-all duration-300 ease-in-out ${a&&((L=v.song)!=null&&L.artist)?"opacity-100 h-4":"opacity-0 h-0"}`,children:(F=v.song)==null?void 0:F.artist})]})]},`song-${((Q=v.song)==null?void 0:Q.id)||N}`)})})})()]})]})})})})};function qB({groupId:e,canManageEvents:t,availableDates:n,members:r}){const[i,s]=E.useState([]),[a,l]=E.useState(!0),[c,f]=E.useState(null),[p,m]=E.useState(!1),[w,v]=E.useState(!1),[N,k]=E.useState("upcoming"),[C,_]=E.useState(null),[S,L]=E.useState(null),[F,Q]=E.useState("");E.useEffect(()=>{ee()},[e]);const ee=async()=>{try{l(!0);const{data:J,error:B}=await Je.from("events").select(`
          *,
          setlist:setlists (
            id,
            name,
            songs:setlist_songs(
              id,
              song:songs(type)
            )
          )
        `).eq("group_id",e).order("date").order("time");if(B)throw B;if(J){const te=await Promise.all(J.map(async oe=>{const{data:Pe,error:O}=await Je.from("event_members").select("group_member_id, user_id").eq("event_id",oe.id);if(O)return console.error("Error loading event members:",O),{...oe,members:[]};const G=(Pe==null?void 0:Pe.map(re=>{const ae=r.find(de=>de.id===re.group_member_id);return{group_member_id:re.group_member_id,user_id:re.user_id,member_name:(ae==null?void 0:ae.name)||"Unknown Member",role_in_group:(ae==null?void 0:ae.role_in_group)||"principal"}}))||[];return{...oe,members:G}}));s(te)}}catch(J){console.error("Error fetching events:",J),Be.error("Error loading events")}finally{l(!1)}},W=async J=>{if(window.confirm("¿Estás seguro de que quieres eliminar este evento?"))try{const{data:B,error:te}=await Je.from("event_members").select(`
          group_member_id,
          user_id,
          group_members!event_members_group_member_id_fkey(sync_calendar)
        `).eq("event_id",J);if(te)throw te;const{error:oe}=await Je.from("events").delete().eq("id",J);if(oe)throw oe;B&&B.length>0&&(console.log("Actualizando calendarios después de eliminar evento"),await Promise.all(B.filter(Pe=>Pe.group_members.sync_calendar).map(async Pe=>{try{await c6(e,Pe.group_member_id),console.log("Calendario actualizado para miembro:",Pe.group_member_id)}catch(O){console.error("Error actualizando calendario para miembro:",Pe.group_member_id,O)}}))),Be.success("Evento eliminado correctamente"),ee()}catch(B){console.error("Error deleting event:",B),Be.error("Error al eliminar el evento")}},$=J=>{f(J),v(!0)},Z=async J=>{try{const{data:te,error:oe}=await Je.from("groups").select("name").eq("id",J.group_id).single();if(oe)throw oe;Q((te==null?void 0:te.name)||"")}catch{Q("")}const B=J.setlist;if(!B){console.warn("Se intentó abrir un preview con un setlist undefined");return}if(L({name:J.name,date:J.date}),!B){console.warn("Se intentó abrir un preview con un setlist undefined");return}try{const{data:te,error:oe}=await Je.from("setlists").select(`
          *,
          songs: setlist_songs(*, song: songs(*))
        `).eq("id",B.id).single();if(oe)throw oe;te&&_(te)}catch(te){console.error("Error al cargar el setlist completo:",te),Be.error("Error al cargar el setlist")}};if(a)return h.jsx("div",{className:"text-center py-4",children:"Cargando eventos..."});const ie=J=>{const B=J.reduce((te,oe)=>{const Pe=on(pu(oe.date),"MMMM yyyy");return te[Pe]||(te[Pe]=[]),te[Pe].push(oe),te},{});return Object.entries(B)},D=J=>{if(!J)return"";if(console.log("Location raw:",J),typeof J=="object"&&J!==null)return J.name||String(J);if(typeof J!="string")return String(J);if(J.startsWith("{")||J.startsWith("["))try{const B=JSON.parse(J);return B.name||B.formatted_address||B.description||String(B)}catch(B){return console.log("Location parse error:",B),J}return J},R=J=>{if(!J)return;const B=D(J);window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(B)}`,"_blank")},V=J=>{const B=J.members.filter(oe=>oe.role_in_group==="principal"),te=J.members.filter(oe=>oe.role_in_group==="sustituto");return h.jsxs("div",{className:"mt-1.5 space-y-1",children:[h.jsx("div",{className:"flex flex-wrap gap-1",children:B.map(oe=>h.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-indigo-50 text-indigo-700",children:oe.member_name},oe.group_member_id))}),te.length>0&&h.jsxs("div",{className:"flex flex-wrap gap-1",children:[h.jsx("span",{className:"text-xs text-gray-500 mr-1",children:"Sustitutos:"}),te.map(oe=>h.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-yellow-50 text-yellow-700",children:oe.member_name},oe.group_member_id))]}),J.location&&h.jsx("div",{className:"flex items-center gap-1 mt-1",children:h.jsxs("button",{onClick:()=>R(J.location),className:"inline-flex items-center text-xs text-gray-600 hover:text-indigo-600",children:[h.jsx(o0,{className:"w-3 h-3 mr-1"}),h.jsx("span",{className:"underline",children:Y(D(J.location))})]})})]})},Y=(J,B=40)=>{if(!J)return"";if(J.includes(",")){const te=J.split(",")[0];return te.length<=B?te:`${te.slice(0,B)}...`}return J.length>B?`${J.slice(0,B)}...`:J},he=i.filter(J=>{const B=pu(J.date);return m3(Lc(B))||g3(B)}),ge=i.filter(J=>{const B=pu(J.date);return!m3(Lc(B))&&!g3(B)});return h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100",children:h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Eventos"}),t&&h.jsx(_t,{onClick:()=>m(!0),children:"Añadir Evento"})]}),i.length===0?h.jsxs("div",{className:"text-center py-6 text-gray-500",children:[h.jsx(fp,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),h.jsx("p",{children:"No hay eventos programados"})]}):h.jsxs("div",{className:"mt-4",children:[h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("nav",{className:"-mb-px flex space-x-8",children:[h.jsxs("button",{onClick:()=>k("upcoming"),className:`${N==="upcoming"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[h.jsx("span",{children:"Próximos eventos"}),he.length>0&&h.jsx("span",{className:`${N==="upcoming"?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-900"} py-0.5 px-2.5 rounded-full text-xs font-medium`,children:he.length})]}),h.jsxs("button",{onClick:()=>k("past"),className:`${N==="past"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[h.jsx("span",{children:"Eventos pasados"}),ge.length>0&&h.jsx("span",{className:`${N==="past"?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-900"} py-0.5 px-2.5 rounded-full text-xs font-medium`,children:ge.length})]})]})}),h.jsx("div",{className:"mt-4 space-y-6",children:ie(N==="upcoming"?he:ge).map(([J,B])=>h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:J}),h.jsx("div",{className:"space-y-1",children:B.map(te=>h.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 hover:border-gray-200 transition-colors",children:h.jsx("div",{className:"p-3",children:h.jsxs("div",{className:"flex items-center justify-between gap-4",children:[h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex-shrink-0 w-12 text-center",children:[h.jsx("div",{className:"text-lg font-bold text-gray-900",children:on(pu(te.date),"d")}),h.jsx("div",{className:"text-xs text-gray-500 uppercase",children:on(pu(te.date),"EEE")})]}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:te.name}),h.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mt-0.5",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(hN,{className:"w-3 h-3 mr-1"}),on(pu(`2000-01-01T${te.time}`),"h:mm a")]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Sf,{className:"w-3 h-3 mr-1"}),te.members.length]}),te.setlist?h.jsxs("div",{className:"flex items-center",children:[h.jsx(Si,{className:"w-3 h-3 mr-1 text-blue-500"}),h.jsx("span",{className:"text-indigo-600 font-medium cursor-pointer hover:underline",onClick:()=>te.setlist&&Z(te),children:te.setlist.name}),h.jsx("span",{className:"text-gray-400 ml-1",children:(()=>{var O,G;const oe=((O=te.setlist.songs)==null?void 0:O.filter(re=>{var ae,de;return((ae=re.song)==null?void 0:ae.type)==="song"||!((de=re.song)!=null&&de.type)}))||[],Pe=((G=te.setlist.songs)==null?void 0:G.filter(re=>{var ae;return((ae=re.song)==null?void 0:ae.type)==="medley"}))||[];return`(${oe.length} canciones${Pe.length>0?`, ${Pe.length} medleys`:""})`})()})]}):h.jsxs("div",{className:"flex items-center",children:[h.jsx(Si,{className:"w-3 h-3 mr-1 text-gray-300"}),h.jsx("span",{className:"text-gray-400 italic",children:"Sin setlist"})]})]})]})]}),V(te),te.notes&&h.jsx("p",{className:"mt-1 text-xs text-gray-500 line-clamp-1",children:te.notes})]}),t&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:()=>$(te),className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",title:"Editar evento",children:h.jsx(pN,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>W(te.id),className:"p-1 text-red-400 hover:text-red-600 rounded-full hover:bg-red-50",title:"Eliminar evento",children:h.jsx(C5,{className:"w-4 h-4"})})]})]})})},te.id))})]},J))})]})]})}),h.jsx(j3,{isOpen:p,onClose:()=>m(!1),groupId:e,onEventSaved:()=>{ee(),m(!1)},availableDates:n,members:r}),c&&h.jsx(j3,{isOpen:w,onClose:()=>{v(!1),f(null)},groupId:e,event:c,onEventSaved:()=>{ee(),v(!1),f(null)},availableDates:[...n,pu(c.date)],members:r}),C&&h.jsx(zB,{isOpen:!!C,onClose:()=>{_(null),L(null),Q("")},setlist:C,eventName:S==null?void 0:S.name,eventDate:S==null?void 0:S.date,bandName:F})]})}function WB({isOpen:e,onClose:t,onConfirm:n,title:r,message:i}){return e?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[h.jsx("h2",{className:"text-xl font-semibold text-red-600",children:r}),h.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:h.jsx(Xo,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"p-6",children:[h.jsx("p",{className:"text-gray-700 mb-6",children:i}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx(_t,{variant:"secondary",onClick:t,children:"Cancelar"}),h.jsx(_t,{onClick:n,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500",children:"Eliminar"})]})]})]})}):null}function HB({isOpen:e,onClose:t,calendarUrl:n}){const r=async()=>{await navigator.clipboard.writeText(n),Be.success("URL copiada al portapapeles")};return h.jsxs(Ou,{open:e,onClose:t,className:"relative z-50",children:[h.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),h.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:h.jsxs(Ou.Panel,{className:"mx-auto max-w-md rounded-lg bg-white p-6",children:[h.jsxs(Ou.Title,{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[h.jsx(fp,{className:"w-5 h-5"}),"Suscribirse al Calendario"]}),h.jsxs("div",{className:"mt-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-900",children:"Google Calendar"}),h.jsxs("ol",{className:"mt-2 list-decimal list-inside text-sm text-gray-600",children:[h.jsx("li",{children:"Abre Google Calendar"}),h.jsx("li",{children:'En el panel izquierdo, junto a "Otros calendarios", haz clic en el "+"'}),h.jsx("li",{children:'Selecciona "Desde URL"'}),h.jsx("li",{children:'Pega la URL del calendario y haz clic en "Añadir calendario"'})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-900",children:"Apple Calendar"}),h.jsxs("ol",{className:"mt-2 list-decimal list-inside text-sm text-gray-600",children:[h.jsx("li",{children:"Abre la aplicación Calendario"}),h.jsx("li",{children:"Ve a Archivo → Nueva suscripción a calendario"}),h.jsx("li",{children:'Pega la URL del calendario y haz clic en "Suscribirse"'})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-900",children:"Outlook"}),h.jsxs("ol",{className:"mt-2 list-decimal list-inside text-sm text-gray-600",children:[h.jsx("li",{children:"Abre Outlook Calendar"}),h.jsx("li",{children:'Ve a "Añadir calendario" → "Desde Internet"'}),h.jsx("li",{children:'Pega la URL del calendario y haz clic en "Importar"'})]})]}),h.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-md",children:[h.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"URL del calendario:"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",value:n,readOnly:!0,className:"flex-1 text-sm bg-white border border-gray-300 rounded-md px-3 py-2"}),h.jsxs(_t,{onClick:r,variant:"secondary",className:"flex items-center gap-1",children:[h.jsx(VD,{className:"w-4 h-4"}),"Copiar"]})]})]})]}),h.jsx("div",{className:"mt-6 flex justify-end",children:h.jsx(_t,{onClick:t,children:"Cerrar"})})]})})]})}const qg=()=>{const[e,t]=E.useState(!1),[n,r]=E.useState(null),[i,s]=E.useState(!0);E.useEffect(()=>{a()},[]);const a=async()=>{try{if(console.log("🎵 Checking Spotify auth status..."),console.log("🎵 Is authenticated:",xi.isAuthenticated()),xi.isAuthenticated()){console.log("🎵 Getting user data...");const N=await xi.getCurrentUser();console.log("🎵 User data:",N),r(N),t(!0)}}catch(N){console.error("❌ Error checking Spotify auth status:",N),xi.logout()}finally{s(!1)}},l=E.useCallback(async()=>{const N=await xi.getAuthUrl();window.location.href=N},[]),c=E.useCallback(()=>{xi.logout(),t(!1),r(null),Be.success("Desconectado de Spotify")},[]),f=E.useCallback(async N=>{if(!e)throw new Error("No authenticated with Spotify");try{return await xi.searchTracks(N)}catch(k){throw console.error("Error searching tracks:",k),Be.error("Error al buscar canciones en Spotify"),k}},[e]),p=E.useCallback(async(N,k)=>{if(!e)return Be.error("Debes conectar con Spotify primero"),null;try{const C=await xi.createPlaylist(`Band Plan - ${N}`,"Setlist generado automáticamente desde Band Plan",!1),_=k.filter(S=>S.id).map(S=>`spotify:track:${S.id}`);return _.length>0&&await xi.addTracksToPlaylist(C.id,_),Be.success(`Playlist "${C.name}" creada en Spotify`),C.external_urls.spotify}catch(C){return console.error("Error creating playlist:",C),Be.error("Error al crear playlist en Spotify"),null}},[e]),m=E.useCallback(async N=>{if(!e){Be.error("Debes conectar con Spotify primero");return}try{await xi.playTrack(N)}catch(k){console.error("Error playing track:",k),Be.error("Error al reproducir canción. Asegúrate de tener Spotify abierto.")}},[e]),w=E.useCallback(async()=>{if(e)try{await xi.pausePlayback()}catch(N){console.error("Error pausing playback:",N),Be.error("Error al pausar reproducción")}},[e]),v=E.useCallback(async()=>{if(e)try{await xi.resumePlayback()}catch(N){console.error("Error resuming playback:",N),Be.error("Error al reanudar reproducción")}},[e]);return{isAuthenticated:e,user:n,loading:i,login:l,logout:c,searchTracks:f,createPlaylistFromSetlist:p,playTrack:m,pausePlayback:w,resumePlayback:v}},VB=({className:e="",compact:t=!1})=>{var l,c;const{isAuthenticated:n,user:r,loading:i,login:s,logout:a}=qg();return i?h.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[h.jsx(Cc,{className:"w-4 h-4 animate-spin text-green-500"}),h.jsx("span",{className:"text-sm text-gray-600",children:"Conectando con Spotify..."})]}):n?t?h.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[((l=r==null?void 0:r.images)==null?void 0:l[0])&&h.jsx("img",{src:r.images[0].url,alt:r.display_name,className:"w-6 h-6 rounded-full"}),h.jsx("span",{className:"text-sm text-gray-700",children:r==null?void 0:r.display_name}),h.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",title:"Desconectar Spotify",children:h.jsx(J2,{className:"w-4 h-4"})})]}):h.jsx("div",{className:`bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg border border-green-200 ${e}`,children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"bg-green-500 p-2 rounded-full",children:h.jsx(Si,{className:"w-5 h-5 text-white"})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[((c=r==null?void 0:r.images)==null?void 0:c[0])&&h.jsx("img",{src:r.images[0].url,alt:r.display_name,className:"w-6 h-6 rounded-full"}),h.jsxs("span",{className:"font-medium text-gray-900",children:["Conectado como ",r==null?void 0:r.display_name]})]}),h.jsx("p",{className:"text-sm text-gray-600",children:"Spotify conectado correctamente"})]})]}),h.jsxs(_t,{onClick:a,variant:"secondary",size:"sm",children:[h.jsx(J2,{className:"w-4 h-4 mr-2"}),"Desconectar"]})]})}):t?h.jsxs("button",{onClick:s,className:`flex items-center gap-2 px-3 py-2 bg-green-500 hover:bg-green-600 text-white rounded-md transition-colors text-sm ${e}`,children:[h.jsx(Si,{className:"w-4 h-4"}),"Conectar Spotify"]}):h.jsx("div",{className:`bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-lg border border-green-200 ${e}`,children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"bg-green-500 p-3 rounded-full",children:h.jsx(Si,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Conecta con Spotify"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Conecta tu cuenta de Spotify para acceder a funciones avanzadas como búsqueda de canciones, creación automática de playlists, y reproducción de previews."}),h.jsxs("ul",{className:"text-sm text-gray-600 mb-4 space-y-1",children:[h.jsx("li",{children:"• Búsqueda automática de canciones con datos completos"}),h.jsx("li",{children:"• Crear playlists automáticamente desde tus setlists"}),h.jsx("li",{children:"• Reproducir previews de canciones"}),h.jsx("li",{children:"• Control de reproducción desde la app"})]}),h.jsxs(_t,{onClick:s,variant:"primary",className:"bg-green-500 hover:bg-green-600 text-white",children:[h.jsx(Si,{className:"w-4 h-4 mr-2"}),"Conectar con Spotify"]})]})]})})},GB=({onSpotifyTrackSelect:e,onManualAdd:t,placeholder:n="Buscar en Spotify o añadir manualmente...",className:r=""})=>{const{isAuthenticated:i,searchTracks:s,loading:a}=qg(),[l,c]=E.useState(""),[f,p]=E.useState([]),[m,w]=E.useState(!1),[v,N]=E.useState(!1),[k,C]=E.useState(null),_=E.useRef(null),S=E.useRef(null),L=E.useRef(),F=l||"";E.useEffect(()=>{const R=V=>{_.current&&!_.current.contains(V.target)&&N(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]),E.useEffect(()=>{if(!i||F.length<2){p([]);return}return L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{Q(F)},300),()=>{L.current&&clearTimeout(L.current)}},[F,i]);const Q=async R=>{if(!i){N(!0);return}w(!0);try{const V=await s(R);p(V),N(!0)}catch(V){console.error("Error searching tracks:",V),p([]),N(!0)}finally{w(!1)}},ee=R=>{e(R),c(""),p([]),N(!1),Z()},W=()=>{t(),c(""),p([]),N(!1),Z()},$=R=>{if(k===R.id){Z();return}if(!R.preview_url){Be.error("Preview no disponible para esta canción");return}Z(),S.current&&(S.current.src=R.preview_url,S.current.play(),C(R.id),S.current.onended=()=>{C(null)})},Z=()=>{S.current&&(S.current.pause(),S.current.currentTime=0),C(null)},ie=R=>{window.open(R.external_urls.spotify,"_blank"),Be.success("Abriendo en Spotify")},D=R=>{const V=Math.floor(R/6e4),Y=Math.floor(R%6e4/1e3);return`${V}:${Y.toString().padStart(2,"0")}`};return a?h.jsx("div",{className:`relative ${r}`,children:h.jsxs("div",{className:"relative",children:[h.jsx(X2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),h.jsx("input",{type:"text",placeholder:"Cargando...",disabled:!0,value:"",readOnly:!0,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed text-lg"})]})}):h.jsxs("div",{ref:_,className:`relative ${r}`,children:[h.jsxs("div",{className:"relative",children:[h.jsx(X2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),h.jsx("input",{type:"text",value:F,onChange:R=>c(R.target.value||""),placeholder:n,className:"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg shadow-sm",onFocus:()=>N(!0)}),m&&h.jsx(Cc,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 animate-spin"})]}),v&&h.jsxs("div",{className:"absolute z-50 w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:[h.jsxs("div",{onClick:W,className:"p-4 hover:bg-blue-50 cursor-pointer border-b border-gray-100 flex items-center gap-3 bg-blue-25",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:h.jsx(Ag,{className:"w-6 h-6 text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-blue-900",children:"Añadir manualmente"}),h.jsx("p",{className:"text-sm text-blue-600",children:F?`Crear "${F}" con formulario`:"Usar formulario manual"})]})]}),i&&f.length>0&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"px-4 py-2 bg-green-50 border-b border-green-100",children:h.jsxs("p",{className:"text-sm text-green-700 font-medium flex items-center gap-2",children:[h.jsx(Si,{className:"w-4 h-4"}),"Resultados de Spotify"]})}),f.map(R=>{var V,Y;return h.jsx("div",{className:"p-3 hover:bg-green-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("img",{src:((V=R.album.images[2])==null?void 0:V.url)||((Y=R.album.images[0])==null?void 0:Y.url),alt:R.album.name,className:"w-12 h-12 rounded object-cover flex-shrink-0"}),h.jsx("div",{className:"flex-1 min-w-0",onClick:()=>ee(R),children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"min-w-0",children:[h.jsx("h4",{className:"font-medium text-gray-900 truncate",children:R.name}),h.jsx("p",{className:"text-sm text-gray-600 truncate",children:R.artists.map(he=>he.name).join(", ")}),h.jsx("p",{className:"text-xs text-gray-500 truncate",children:R.album.name})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 ml-2",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(hN,{className:"w-3 h-3"}),D(R.duration_ms)]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(mN,{className:"w-3 h-3"}),R.popularity,"%"]})]})]})}),h.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[R.preview_url&&h.jsx("button",{onClick:he=>{he.stopPropagation(),$(R)},className:"p-1.5 text-gray-400 hover:text-green-500 transition-colors",title:"Preview (30s)",children:k===R.id?h.jsx(JD,{className:"w-4 h-4"}):h.jsx(XD,{className:"w-4 h-4"})}),h.jsx("button",{onClick:he=>{he.stopPropagation(),ie(R)},className:"p-1.5 text-gray-400 hover:text-green-500 transition-colors",title:"Abrir en Spotify",children:h.jsx(GD,{className:"w-4 h-4"})})]})]})},R.id)})]}),i&&f.length===0&&!m&&F.length>=2&&h.jsxs("div",{className:"p-4 text-center text-gray-500 border-b border-gray-100",children:[h.jsx(Si,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),h.jsxs("p",{children:['No se encontraron canciones en Spotify para "',F,'"']})]}),!i&&F.length>=2&&h.jsxs("div",{className:"p-4 text-center text-gray-500 border-b border-gray-100",children:[h.jsx(Si,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),h.jsx("p",{children:"Conecta con Spotify para buscar canciones"})]})]}),h.jsx("audio",{ref:S})]})},G3={title:"",artist:"",duration_minutes:"",key:"",notes:""},Y3=["","C","C#","Db","D","D#","Eb","E","F","F#","Gb","G","G#","Ab","A","A#","Bb","B"];function YB(e,t){const[n,r]=E.useState(e);return E.useEffect(()=>{const i=setTimeout(()=>r(e),t);return()=>clearTimeout(i)},[e,t]),n}function KB({groupId:e,canManageSongs:t=!0}){const[n,r]=E.useState([]),[i,s]=E.useState(!0),[a,l]=E.useState(!1),[c,f]=E.useState(null),[p,m]=E.useState(G3),[w,v]=E.useState(!1),[N,k]=E.useState(null),[C,_]=E.useState([]),[S,L]=E.useState(!1),[F,Q]=E.useState(!1),ee=E.useRef(null),[W,$]=E.useState(null),[Z,ie]=E.useState(""),[D,R]=E.useState(!1),[V,Y]=E.useState(null),[he,ge]=E.useState(""),[J,B]=E.useState(""),[te,oe]=E.useState("");qg();const Pe=YB(p.title,400),O=n.filter(P=>{var Ne;const Ce=!he||P.title.toLowerCase().includes(he.toLowerCase())||((Ne=P.artist)==null?void 0:Ne.toLowerCase().includes(he.toLowerCase())),Ie=!J||P.key===J,ce=!te||P.type===te;return Ce&&Ie&&ce}),G=[...new Set(n.map(P=>P.key).filter(Boolean))].sort();E.useEffect(()=>{re()},[e]),E.useEffect(()=>{if(console.log("Debounced title changed:",Pe),Pe.length<2){console.log("Title too short, clearing suggestions"),_([]),L(!1);return}console.log("Fetching suggestions for:",Pe),Q(!0),fetch(`https://corsproxy.io/?https://api.deezer.com/search?q=${encodeURIComponent(Pe)}`).then(P=>P.json()).then(P=>{console.log("Deezer API response:",P),_(P.data||[]),L(!0)}).catch(P=>{console.error("Error fetching suggestions:",P),_([])}).finally(()=>Q(!1))},[Pe]),E.useEffect(()=>{function P(Ce){ee.current&&!ee.current.contains(Ce.target)&&L(!1)}return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const re=async()=>{s(!0);const P=await Y0(e);P&&r(P),s(!1)},ae=async P=>{var Fe;const{data:{user:Ce}}=await Je.auth.getUser();if(!Ce){Be.error("No se pudo obtener la información del usuario");return}const Ie=Math.round(P.duration_ms/6e4),ce=((Fe=P.audio_features)==null?void 0:Fe.key)!==void 0?["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][P.audio_features.key]:"",Ne={title:P.name,artist:P.artists.map($e=>$e.name).join(", "),duration_minutes:Ie.toString(),key:ce,notes:`Popularidad: ${P.popularity}% | Álbum: ${P.album.name} (${P.album.release_date.split("-")[0]})`,group_id:e,created_by:Ce.id};try{await _3(Ne),await re(),Be.success(`"${P.name}" añadida desde Spotify`)}catch($e){console.error("Error creating song from Spotify:",$e),Be.error("Error al añadir la canción")}},de=async P=>{if(P.preventDefault(),!p.title.trim()){Be.error("El título es obligatorio");return}const{data:{user:Ce}}=await Je.auth.getUser();if(!Ce){Be.error("No se pudo obtener la información del usuario");return}const Ie={group_id:e,title:p.title.trim(),artist:p.artist.trim()||void 0,duration_minutes:p.duration_minutes?parseInt(p.duration_minutes):void 0,key:p.key.trim()||void 0,notes:p.notes.trim()||void 0,created_by:Ce.id};if(c){const ce=await S3(c.id,Ie);ce&&(Be.success("Canción actualizada correctamente"),r(Ne=>Ne.map(Fe=>Fe.id===c.id?ce:Fe)))}else{const ce=await _3(Ie);ce&&(Be.success("Canción creada correctamente"),r(Ne=>[...Ne,ce]))}we()},ke=P=>{var Ce;f(P),m({title:P.title,artist:P.artist||"",duration_minutes:((Ce=P.duration_minutes)==null?void 0:Ce.toString())||"",key:P.key||"",notes:P.notes||""}),l(!0)},Ee=P=>{k(P),v(!0)},je=async()=>{if(!N)return;console.log("Eliminando canción:",N.id);const P=await O$(N.id);console.log("Resultado de eliminación:",P),P?(Be.success("Canción eliminada correctamente"),r(Ce=>Ce.filter(Ie=>Ie.id!==N.id))):Be.error("No se pudo eliminar la canción"),v(!1),k(null)},we=()=>{m(G3),f(null),l(!1)},fe=P=>{if(!P)return"-";const Ce=Math.floor(P/60),Ie=P%60;return Ce>0?`${Ce}h ${Ie}m`:`${Ie}m`},xe=P=>{m({...p,title:P.title,artist:P.artist.name,duration_minutes:Math.round(P.duration/60).toString()}),L(!1)},Te=(P,Ce,Ie)=>{$({songId:P,field:Ce}),ie(String(Ie||"")),Y(null)},Oe=async(P,Ce)=>{if(Z===(P[Ce]||"")){$(null);return}R(!0),Y(null);const Ie=await S3(P.id,{[Ce]:Ce==="duration_minutes"?parseInt(Z)||null:Z||null});R(!1),Ie?(r(ce=>ce.map(Ne=>Ne.id===P.id?{...Ne,...Ie}:Ne)),$(null)):Y("Error al guardar")},ue=(P,Ce,Ie)=>{P.key==="Enter"?(P.preventDefault(),Oe(Ce,Ie)):P.key==="Escape"&&$(null)};return i?h.jsx("div",{className:"text-center py-8",children:"Cargando canciones..."}):h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex flex-col gap-4",children:h.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Pool de Canciones"}),h.jsx("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:h.jsx(VB,{compact:!0})})]})}),t&&h.jsx("div",{className:"mb-6",children:h.jsx(GB,{onSpotifyTrackSelect:ae,onManualAdd:()=>l(!0),className:"w-full"})}),!t&&h.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:h.jsx("p",{className:"text-yellow-800 text-sm",children:"Solo los miembros principales pueden gestionar canciones y setlists."})}),a&&t&&h.jsxs("form",{onSubmit:de,className:"bg-white p-6 rounded-lg shadow-md space-y-4",children:[h.jsx("h3",{className:"text-lg font-semibold",children:c?"Editar Canción":"Nueva Canción"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx(Vn,{label:"Título *",value:p.title,onChange:P=>{m({...p,title:P.target.value}),L(!0)},required:!0,autoComplete:"off"}),S&&C.length>0&&h.jsxs("div",{ref:ee,className:"absolute z-10 left-0 right-0 bg-white border border-gray-200 rounded shadow-lg max-h-60 overflow-y-auto mt-1",children:[F&&h.jsx("div",{className:"p-2 text-gray-500 text-sm",children:"Buscando..."}),C.map(P=>h.jsxs("div",{className:"p-2 hover:bg-blue-100 cursor-pointer flex flex-col",onClick:()=>xe(P),children:[h.jsx("span",{className:"font-medium",children:P.title}),h.jsxs("span",{className:"text-xs text-gray-500",children:[P.artist.name," · ",Math.round(P.duration/60)," min"]})]},P.id))]})]}),h.jsx(Vn,{label:"Artista",value:p.artist,onChange:P=>m({...p,artist:P.target.value})}),h.jsx(Vn,{label:"Duración (minutos)",type:"number",value:p.duration_minutes,onChange:P=>m({...p,duration_minutes:P.target.value}),min:"1"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tonalidad"}),h.jsx("select",{className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.key,onChange:P=>m({...p,key:P.target.value}),children:Y3.map(P=>h.jsx("option",{value:P,children:P||"Sin especificar"},P))})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas"}),h.jsx("textarea",{value:p.notes,onChange:P=>m({...p,notes:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Notas adicionales sobre la canción..."})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(_t,{type:"submit",variant:"primary",children:c?"Actualizar":"Crear"}),h.jsx(_t,{type:"button",variant:"secondary",onClick:we,children:"Cancelar"})]})]}),h.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.length===0?h.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay canciones en el pool. Añade la primera canción para empezar."}):O.length===0?h.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No se encontraron canciones que coincidan con los filtros aplicados.",h.jsx("button",{onClick:()=>{ge(""),B(""),oe("")},className:"block mx-auto mt-2 text-blue-600 hover:text-blue-800 underline",children:"Limpiar filtros"})]}):h.jsxs("div",{className:"overflow-x-auto",children:[h.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[h.jsxs("span",{className:"text-sm text-gray-600",children:["Mostrando ",O.length," de ",n.length," canciones"]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx(X2,{className:"w-3 h-3 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Buscar...",value:he,onChange:P=>ge(P.target.value),className:"w-24 px-2 py-1 border border-gray-200 rounded text-xs focus:outline-none focus:border-blue-400 focus:w-32 transition-all"}),h.jsxs("select",{value:J,onChange:P=>B(P.target.value),className:"px-2 py-1 border border-gray-200 rounded text-xs focus:outline-none focus:border-blue-400",children:[h.jsx("option",{value:"",children:"Clave"}),G.map(P=>h.jsx("option",{value:P,children:P},P))]}),h.jsxs("select",{value:te,onChange:P=>oe(P.target.value),className:"px-2 py-1 border border-gray-200 rounded text-xs focus:outline-none focus:border-blue-400",children:[h.jsx("option",{value:"",children:"Tipo"}),h.jsx("option",{value:"song",children:"Canciones"}),h.jsx("option",{value:"medley",children:"Medleys"})]})]})]})}),h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Título"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Artista"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duración"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tonalidad"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map(P=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap align-top",children:[(W==null?void 0:W.songId)===P.id&&W.field==="title"?h.jsx("input",{className:"w-full border border-blue-400 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",value:Z,autoFocus:!0,onChange:Ce=>ie(Ce.target.value),onBlur:()=>Oe(P,"title"),onKeyDown:Ce=>ue(Ce,P,"title"),disabled:D}):h.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-pointer hover:underline",onClick:()=>t&&Te(P.id,"title",P.title),title:"Haz clic para editar",children:P.title}),(W==null?void 0:W.songId)===P.id&&V&&h.jsx("div",{className:"text-xs text-red-500 mt-1",children:V})]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap align-top text-sm text-gray-900",children:(W==null?void 0:W.songId)===P.id&&W.field==="artist"?h.jsx("input",{className:"w-full border border-blue-400 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",value:Z,autoFocus:!0,onChange:Ce=>ie(Ce.target.value),onBlur:()=>Oe(P,"artist"),onKeyDown:Ce=>ue(Ce,P,"artist"),disabled:D}):h.jsx("div",{className:"cursor-pointer hover:underline",onClick:()=>t&&Te(P.id,"artist",P.artist||""),title:"Haz clic para editar",children:P.artist||h.jsx("span",{className:"text-gray-400",children:"Sin artista"})})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap align-top text-sm text-gray-900",children:(W==null?void 0:W.songId)===P.id&&W.field==="duration_minutes"?h.jsx("input",{className:"w-20 border border-blue-400 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",type:"number",min:"1",value:Z,autoFocus:!0,onChange:Ce=>ie(Ce.target.value),onBlur:()=>Oe(P,"duration_minutes"),onKeyDown:Ce=>ue(Ce,P,"duration_minutes"),disabled:D}):h.jsx("div",{className:"cursor-pointer hover:underline",onClick:()=>{var Ce;return t&&Te(P.id,"duration_minutes",((Ce=P.duration_minutes)==null?void 0:Ce.toString())||"")},title:"Haz clic para editar",children:fe(P.duration_minutes)})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap align-top text-sm text-gray-900",children:(W==null?void 0:W.songId)===P.id&&W.field==="key"?h.jsx("select",{className:"w-28 border border-blue-400 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",value:Z,autoFocus:!0,onChange:Ce=>ie(Ce.target.value),onBlur:()=>Oe(P,"key"),onKeyDown:Ce=>ue(Ce,P,"key"),disabled:D,children:Y3.map(Ce=>h.jsx("option",{value:Ce,children:Ce||"Sin especificar"},Ce))}):h.jsx("div",{className:"cursor-pointer hover:underline",onClick:()=>t&&Te(P.id,"key",P.key||""),title:"Haz clic para editar",children:P.key||h.jsx("span",{className:"text-gray-400",children:"Sin especificar"})})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t&&h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>ke(P),className:"text-blue-600 hover:text-blue-900",children:"Editar"}),h.jsx("button",{onClick:()=>Ee(P),className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})})]},P.id))})]})]})}),w&&N&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmar Eliminación"}),h.jsxs("p",{className:"text-gray-600 mb-6",children:['¿Estás seguro de que quieres eliminar la canción "',N.title,'"? Esta acción no se puede deshacer.']}),h.jsxs("div",{className:"flex gap-3 justify-end",children:[h.jsx(_t,{variant:"secondary",onClick:()=>{v(!1),k(null)},children:"Cancelar"}),h.jsx(_t,{variant:"danger",onClick:je,children:"Eliminar"})]})]})})]})}var T6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},K3=ht.createContext&&ht.createContext(T6),JB=["attr","size","title"];function XB(e,t){if(e==null)return{};var n=QB(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QB(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X0.apply(this,arguments)}function J3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(n),!0).forEach(function(r){ZB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZB(e,t,n){return t=eU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eU(e){var t=tU(e,"string");return typeof t=="symbol"?t:t+""}function tU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O6(e){return e&&e.map((t,n)=>ht.createElement(t.tag,Q0({key:n},t.attr),O6(t.child)))}function xo(e){return t=>ht.createElement(nU,X0({attr:Q0({},e.attr)},t),O6(e.child))}function nU(e){var t=n=>{var{attr:r,size:i,title:s}=e,a=XB(e,JB),l=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),ht.createElement("svg",X0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:c,style:Q0(Q0({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&ht.createElement("title",null,s),e.children)};return K3!==void 0?ht.createElement(K3.Consumer,null,n=>t(n)):t(T6)}function rU(e){return xo({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"},child:[]}]})(e)}function iU(e){return xo({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function sU(e){return xo({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function aU(e){return xo({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function D6(e){return xo({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function oU(e){return xo({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function lU(e){return xo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"},child:[]}]})(e)}function wy(e){return xo({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function X3(e){return xo({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function cU(e){return xo({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function uU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return E.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const Wg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Tf(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function K5(e){return"nodeType"in e}function hs(e){var t,n;return e?Tf(e)?e:K5(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function J5(e){const{Document:t}=hs(e);return e instanceof t}function Tp(e){return Tf(e)?!1:e instanceof hs(e).HTMLElement}function M6(e){return e instanceof hs(e).SVGElement}function Of(e){return e?Tf(e)?e.document:K5(e)?J5(e)?e:Tp(e)||M6(e)?e.ownerDocument:document:document:document}const go=Wg?E.useLayoutEffect:E.useEffect;function X5(e){const t=E.useRef(e);return go(()=>{t.current=e}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function dU(){const e=E.useRef(null),t=E.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=E.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function mp(e,t){t===void 0&&(t=[e]);const n=E.useRef(e);return go(()=>{n.current!==e&&(n.current=e)},t),n}function Op(e,t){const n=E.useRef();return E.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Z0(e){const t=X5(e),n=E.useRef(null),r=E.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function xy(e){const t=E.useRef();return E.useEffect(()=>{t.current=e},[e]),t.current}let Mv={};function Dp(e,t){return E.useMemo(()=>{if(t)return t;const n=Mv[e]==null?0:Mv[e]+1;return Mv[e]=n,e+"-"+n},[e,t])}function I6(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,a)=>{const l=Object.entries(a);for(const[c,f]of l){const p=s[c];p!=null&&(s[c]=p+e*f)}return s},{...t})}}const hf=I6(1),eg=I6(-1);function fU(e){return"clientX"in e&&"clientY"in e}function Q5(e){if(!e)return!1;const{KeyboardEvent:t}=hs(e.target);return t&&e instanceof t}function hU(e){if(!e)return!1;const{TouchEvent:t}=hs(e.target);return t&&e instanceof t}function by(e){if(hU(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return fU(e)?{x:e.clientX,y:e.clientY}:null}const gp=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[gp.Translate.toString(e),gp.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Q3="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function pU(e){return e.matches(Q3)?e:e.querySelector(Q3)}const mU={display:"none"};function gU(e){let{id:t,value:n}=e;return ht.createElement("div",{id:t,style:mU},n)}function vU(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ht.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function yU(){const[e,t]=E.useState("");return{announce:E.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const R6=E.createContext(null);function wU(e){const t=E.useContext(R6);E.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function xU(){const[e]=E.useState(()=>new Set),t=E.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[E.useCallback(r=>{let{type:i,event:s}=r;e.forEach(a=>{var l;return(l=a[i])==null?void 0:l.call(a,s)})},[e]),t]}const bU={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},_U={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function SU(e){let{announcements:t=_U,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=bU}=e;const{announce:s,announcement:a}=yU(),l=Dp("DndLiveRegion"),[c,f]=E.useState(!1);if(E.useEffect(()=>{f(!0)},[]),wU(E.useMemo(()=>({onDragStart(m){let{active:w}=m;s(t.onDragStart({active:w}))},onDragMove(m){let{active:w,over:v}=m;t.onDragMove&&s(t.onDragMove({active:w,over:v}))},onDragOver(m){let{active:w,over:v}=m;s(t.onDragOver({active:w,over:v}))},onDragEnd(m){let{active:w,over:v}=m;s(t.onDragEnd({active:w,over:v}))},onDragCancel(m){let{active:w,over:v}=m;s(t.onDragCancel({active:w,over:v}))}}),[s,t])),!c)return null;const p=ht.createElement(ht.Fragment,null,ht.createElement(gU,{id:r,value:i.draggable}),ht.createElement(vU,{id:l,announcement:a}));return n?Cu.createPortal(p,n):p}var Ir;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ir||(Ir={}));function tg(){}function Iv(e,t){return E.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function NU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return E.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ma=Object.freeze({x:0,y:0});function kU(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function jU(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function EU(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function CU(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Z3(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const AU=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Z3(t,t.left,t.top),s=[];for(const a of r){const{id:l}=a,c=n.get(l);if(c){const f=kU(Z3(c),i);s.push({id:l,data:{droppableContainer:a,value:f}})}}return s.sort(jU)};function LU(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),a=i-r,l=s-n;if(r<i&&n<s){const c=t.width*t.height,f=e.width*e.height,p=a*l,m=p/(c+f-p);return Number(m.toFixed(4))}return 0}const PU=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const c=LU(l,t);c>0&&i.push({id:a,data:{droppableContainer:s,value:c}})}}return i.sort(EU)};function TU(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function F6(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ma}function OU(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((a,l)=>({...a,top:a.top+e*l.y,bottom:a.bottom+e*l.y,left:a.left+e*l.x,right:a.right+e*l.x}),{...n})}}const DU=OU(1);function MU(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function IU(e,t,n){const r=MU(t);if(!r)return e;const{scaleX:i,scaleY:s,x:a,y:l}=r,c=e.left-a-(1-i)*parseFloat(n),f=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?e.width/i:e.width,m=s?e.height/s:e.height;return{width:p,height:m,top:f,right:c+p,bottom:f+m,left:c}}const RU={ignoreTransform:!1};function Df(e,t){t===void 0&&(t=RU);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:p}=hs(e).getComputedStyle(e);f&&(n=IU(n,f,p))}const{top:r,left:i,width:s,height:a,bottom:l,right:c}=n;return{top:r,left:i,width:s,height:a,bottom:l,right:c}}function e_(e){return Df(e,{ignoreTransform:!0})}function FU(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function $U(e,t){return t===void 0&&(t=hs(e).getComputedStyle(e)),t.position==="fixed"}function BU(e,t){t===void 0&&(t=hs(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function Z5(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(J5(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Tp(i)||M6(i)||n.includes(i))return n;const s=hs(e).getComputedStyle(i);return i!==e&&BU(i,s)&&n.push(i),$U(i,s)?n:r(i.parentNode)}return e?r(e):n}function $6(e){const[t]=Z5(e,1);return t??null}function Rv(e){return!Wg||!e?null:Tf(e)?e:K5(e)?J5(e)||e===Of(e).scrollingElement?window:Tp(e)?e:null:null}function B6(e){return Tf(e)?e.scrollX:e.scrollLeft}function U6(e){return Tf(e)?e.scrollY:e.scrollTop}function _y(e){return{x:B6(e),y:U6(e)}}var Vr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Vr||(Vr={}));function z6(e){return!Wg||!e?!1:e===document.scrollingElement}function q6(e){const t={x:0,y:0},n=z6(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:a,isRight:l,maxScroll:r,minScroll:t}}const UU={x:.2,y:.2};function zU(e,t,n,r,i){let{top:s,left:a,right:l,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=UU);const{isTop:f,isBottom:p,isLeft:m,isRight:w}=q6(e),v={x:0,y:0},N={x:0,y:0},k={height:t.height*i.y,width:t.width*i.x};return!f&&s<=t.top+k.height?(v.y=Vr.Backward,N.y=r*Math.abs((t.top+k.height-s)/k.height)):!p&&c>=t.bottom-k.height&&(v.y=Vr.Forward,N.y=r*Math.abs((t.bottom-k.height-c)/k.height)),!w&&l>=t.right-k.width?(v.x=Vr.Forward,N.x=r*Math.abs((t.right-k.width-l)/k.width)):!m&&a<=t.left+k.width&&(v.x=Vr.Backward,N.x=r*Math.abs((t.left+k.width-a)/k.width)),{direction:v,speed:N}}function qU(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function W6(e){return e.reduce((t,n)=>hf(t,_y(n)),Ma)}function WU(e){return e.reduce((t,n)=>t+B6(n),0)}function HU(e){return e.reduce((t,n)=>t+U6(n),0)}function VU(e,t){if(t===void 0&&(t=Df),!e)return;const{top:n,left:r,bottom:i,right:s}=t(e);$6(e)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const GU=[["x",["left","right"],WU],["y",["top","bottom"],HU]];class ew{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Z5(n),i=W6(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,a,l]of GU)for(const c of a)Object.defineProperty(this,c,{get:()=>{const f=l(r),p=i[s]-f;return this.rect[c]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class qh{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function YU(e){const{EventTarget:t}=hs(e);return e instanceof t?e:Of(e)}function Fv(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Xs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Xs||(Xs={}));function t_(e){e.preventDefault()}function KU(e){e.stopPropagation()}var vn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(vn||(vn={}));const H6={start:[vn.Space,vn.Enter],cancel:[vn.Esc],end:[vn.Space,vn.Enter,vn.Tab]},JU=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case vn.Right:return{...n,x:n.x+25};case vn.Left:return{...n,x:n.x-25};case vn.Down:return{...n,y:n.y+25};case vn.Up:return{...n,y:n.y-25}}};class tw{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new qh(Of(n)),this.windowListeners=new qh(hs(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Xs.Resize,this.handleCancel),this.windowListeners.add(Xs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Xs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&VU(r),n(Ma)}handleKeyDown(t){if(Q5(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=H6,coordinateGetter:a=JU,scrollBehavior:l="smooth"}=i,{code:c}=t;if(s.end.includes(c)){this.handleEnd(t);return}if(s.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:f}=r.current,p=f?{x:f.left,y:f.top}:Ma;this.referenceCoordinates||(this.referenceCoordinates=p);const m=a(t,{active:n,context:r.current,currentCoordinates:p});if(m){const w=eg(m,p),v={x:0,y:0},{scrollableAncestors:N}=r.current;for(const k of N){const C=t.code,{isTop:_,isRight:S,isLeft:L,isBottom:F,maxScroll:Q,minScroll:ee}=q6(k),W=qU(k),$={x:Math.min(C===vn.Right?W.right-W.width/2:W.right,Math.max(C===vn.Right?W.left:W.left+W.width/2,m.x)),y:Math.min(C===vn.Down?W.bottom-W.height/2:W.bottom,Math.max(C===vn.Down?W.top:W.top+W.height/2,m.y))},Z=C===vn.Right&&!S||C===vn.Left&&!L,ie=C===vn.Down&&!F||C===vn.Up&&!_;if(Z&&$.x!==m.x){const D=k.scrollLeft+w.x,R=C===vn.Right&&D<=Q.x||C===vn.Left&&D>=ee.x;if(R&&!w.y){k.scrollTo({left:D,behavior:l});return}R?v.x=k.scrollLeft-D:v.x=C===vn.Right?k.scrollLeft-Q.x:k.scrollLeft-ee.x,v.x&&k.scrollBy({left:-v.x,behavior:l});break}else if(ie&&$.y!==m.y){const D=k.scrollTop+w.y,R=C===vn.Down&&D<=Q.y||C===vn.Up&&D>=ee.y;if(R&&!w.x){k.scrollTo({top:D,behavior:l});return}R?v.y=k.scrollTop-D:v.y=C===vn.Down?k.scrollTop-Q.y:k.scrollTop-ee.y,v.y&&k.scrollBy({top:-v.y,behavior:l});break}}this.handleMove(t,hf(eg(m,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}tw.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=H6,onActivation:i}=t,{active:s}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function n_(e){return!!(e&&"distance"in e)}function r_(e){return!!(e&&"delay"in e)}class nw{constructor(t,n,r){var i;r===void 0&&(r=YU(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:a}=s;this.props=t,this.events=n,this.document=Of(a),this.documentListeners=new qh(this.document),this.listeners=new qh(r),this.windowListeners=new qh(hs(a)),this.initialCoordinates=(i=by(s))!=null?i:Ma,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Xs.Resize,this.handleCancel),this.windowListeners.add(Xs.DragStart,t_),this.windowListeners.add(Xs.VisibilityChange,this.handleCancel),this.windowListeners.add(Xs.ContextMenu,t_),this.documentListeners.add(Xs.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(r_(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(n_(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Xs.Click,KU,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Xs.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!i)return;const c=(n=by(t))!=null?n:Ma,f=eg(i,c);if(!r&&l){if(n_(l)){if(l.tolerance!=null&&Fv(f,l.tolerance))return this.handleCancel();if(Fv(f,l.distance))return this.handleStart()}if(r_(l)&&Fv(f,l.tolerance))return this.handleCancel();this.handlePending(l,f);return}t.cancelable&&t.preventDefault(),a(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===vn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const XU={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class rw extends nw{constructor(t){const{event:n}=t,r=Of(n.target);super(t,XU,r)}}rw.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const QU={move:{name:"mousemove"},end:{name:"mouseup"}};var Sy;(function(e){e[e.RightClick=2]="RightClick"})(Sy||(Sy={}));class ZU extends nw{constructor(t){super(t,QU,Of(t.event.target))}}ZU.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Sy.RightClick?!1:(r==null||r({event:n}),!0)}}];const $v={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class V6 extends nw{constructor(t){super(t,$v)}static setup(){return window.addEventListener($v.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener($v.move.name,t)};function t(){}}}V6.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Wh;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Wh||(Wh={}));var ng;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ng||(ng={}));function ez(e){let{acceleration:t,activator:n=Wh.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:a=5,order:l=ng.TreeOrder,pointerCoordinates:c,scrollableAncestors:f,scrollableAncestorRects:p,delta:m,threshold:w}=e;const v=nz({delta:m,disabled:!s}),[N,k]=dU(),C=E.useRef({x:0,y:0}),_=E.useRef({x:0,y:0}),S=E.useMemo(()=>{switch(n){case Wh.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Wh.DraggableRect:return i}},[n,i,c]),L=E.useRef(null),F=E.useCallback(()=>{const ee=L.current;if(!ee)return;const W=C.current.x*_.current.x,$=C.current.y*_.current.y;ee.scrollBy(W,$)},[]),Q=E.useMemo(()=>l===ng.TreeOrder?[...f].reverse():f,[l,f]);E.useEffect(()=>{if(!s||!f.length||!S){k();return}for(const ee of Q){if((r==null?void 0:r(ee))===!1)continue;const W=f.indexOf(ee),$=p[W];if(!$)continue;const{direction:Z,speed:ie}=zU(ee,$,S,t,w);for(const D of["x","y"])v[D][Z[D]]||(ie[D]=0,Z[D]=0);if(ie.x>0||ie.y>0){k(),L.current=ee,N(F,a),C.current=ie,_.current=Z;return}}C.current={x:0,y:0},_.current={x:0,y:0},k()},[t,F,r,k,s,a,JSON.stringify(S),JSON.stringify(v),N,f,Q,p,JSON.stringify(w)])}const tz={x:{[Vr.Backward]:!1,[Vr.Forward]:!1},y:{[Vr.Backward]:!1,[Vr.Forward]:!1}};function nz(e){let{delta:t,disabled:n}=e;const r=xy(t);return Op(i=>{if(n||!r||!i)return tz;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Vr.Backward]:i.x[Vr.Backward]||s.x===-1,[Vr.Forward]:i.x[Vr.Forward]||s.x===1},y:{[Vr.Backward]:i.y[Vr.Backward]||s.y===-1,[Vr.Forward]:i.y[Vr.Forward]||s.y===1}}},[n,t,r])}function rz(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Op(i=>{var s;return t==null?null:(s=r??i)!=null?s:null},[r,t])}function iz(e,t){return E.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...s]},[]),[e,t])}var vp;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(vp||(vp={}));var Ny;(function(e){e.Optimized="optimized"})(Ny||(Ny={}));const i_=new Map;function sz(e,t){let{dragging:n,dependencies:r,config:i}=t;const[s,a]=E.useState(null),{frequency:l,measure:c,strategy:f}=i,p=E.useRef(e),m=C(),w=mp(m),v=E.useCallback(function(_){_===void 0&&(_=[]),!w.current&&a(S=>S===null?_:S.concat(_.filter(L=>!S.includes(L))))},[w]),N=E.useRef(null),k=Op(_=>{if(m&&!n)return i_;if(!_||_===i_||p.current!==e||s!=null){const S=new Map;for(let L of e){if(!L)continue;if(s&&s.length>0&&!s.includes(L.id)&&L.rect.current){S.set(L.id,L.rect.current);continue}const F=L.node.current,Q=F?new ew(c(F),F):null;L.rect.current=Q,Q&&S.set(L.id,Q)}return S}return _},[e,s,n,m,c]);return E.useEffect(()=>{p.current=e},[e]),E.useEffect(()=>{m||v()},[n,m]),E.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),E.useEffect(()=>{m||typeof l!="number"||N.current!==null||(N.current=setTimeout(()=>{v(),N.current=null},l))},[l,m,v,...r]),{droppableRects:k,measureDroppableContainers:v,measuringScheduled:s!=null};function C(){switch(f){case vp.Always:return!1;case vp.BeforeDragging:return n;default:return!n}}}function G6(e,t){return Op(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function az(e,t){return G6(e,t)}function oz(e){let{callback:t,disabled:n}=e;const r=X5(t),i=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return E.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Hg(e){let{callback:t,disabled:n}=e;const r=X5(t),i=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return E.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function lz(e){return new ew(Df(e),e)}function s_(e,t,n){t===void 0&&(t=lz);const[r,i]=E.useState(null);function s(){i(c=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=c??n)!=null?f:null}const p=t(e);return JSON.stringify(c)===JSON.stringify(p)?c:p})}const a=oz({callback(c){if(e)for(const f of c){const{type:p,target:m}=f;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){s();break}}}}),l=Hg({callback:s});return go(()=>{s(),e?(l==null||l.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),a==null||a.disconnect())},[e]),r}function cz(e){const t=G6(e);return F6(e,t)}const a_=[];function uz(e){const t=E.useRef(e),n=Op(r=>e?r&&r!==a_&&e&&t.current&&e.parentNode===t.current.parentNode?r:Z5(e):a_,[e]);return E.useEffect(()=>{t.current=e},[e]),n}function dz(e){const[t,n]=E.useState(null),r=E.useRef(e),i=E.useCallback(s=>{const a=Rv(s.target);a&&n(l=>l?(l.set(a,_y(a)),new Map(l)):null)},[]);return E.useEffect(()=>{const s=r.current;if(e!==s){a(s);const l=e.map(c=>{const f=Rv(c);return f?(f.addEventListener("scroll",i,{passive:!0}),[f,_y(f)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{a(e),a(s)};function a(l){l.forEach(c=>{const f=Rv(c);f==null||f.removeEventListener("scroll",i)})}},[i,e]),E.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,a)=>hf(s,a),Ma):W6(e):Ma,[e,t])}function o_(e,t){t===void 0&&(t=[]);const n=E.useRef(null);return E.useEffect(()=>{n.current=null},t),E.useEffect(()=>{const r=e!==Ma;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?eg(e,n.current):Ma}function fz(e){E.useEffect(()=>{if(!Wg)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function hz(e,t){return E.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=a=>{s(a,t)},n},{}),[e,t])}function Y6(e){return E.useMemo(()=>e?FU(e):null,[e])}const l_=[];function pz(e,t){t===void 0&&(t=Df);const[n]=e,r=Y6(n?hs(n):null),[i,s]=E.useState(l_);function a(){s(()=>e.length?e.map(c=>z6(c)?r:new ew(t(c),c)):l_)}const l=Hg({callback:a});return go(()=>{l==null||l.disconnect(),a(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),i}function mz(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Tp(t)?t:e}function gz(e){let{measure:t}=e;const[n,r]=E.useState(null),i=E.useCallback(f=>{for(const{target:p}of f)if(Tp(p)){r(m=>{const w=t(p);return m?{...m,width:w.width,height:w.height}:w});break}},[t]),s=Hg({callback:i}),a=E.useCallback(f=>{const p=mz(f);s==null||s.disconnect(),p&&(s==null||s.observe(p)),r(p?t(p):null)},[t,s]),[l,c]=Z0(a);return E.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const vz=[{sensor:rw,options:{}},{sensor:tw,options:{}}],yz={current:{}},h0={draggable:{measure:e_},droppable:{measure:e_,strategy:vp.WhileDragging,frequency:Ny.Optimized},dragOverlay:{measure:Df}};class Hh extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const wz={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Hh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:tg},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:h0,measureDroppableContainers:tg,windowRect:null,measuringScheduled:!1},xz={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:tg,draggableNodes:new Map,over:null,measureDroppableContainers:tg},Vg=E.createContext(xz),K6=E.createContext(wz);function bz(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Hh}}}function _z(e,t){switch(t.type){case Ir.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ir.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ir.DragEnd:case Ir.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ir.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Hh(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Ir.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new Hh(e.droppable.containers);return a.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:a}}}case Ir.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new Hh(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function Sz(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=E.useContext(Vg),s=xy(r),a=xy(n==null?void 0:n.id);return E.useEffect(()=>{if(!t&&!r&&s&&a!=null){if(!Q5(s)||document.activeElement===s.target)return;const l=i.get(a);if(!l)return;const{activatorNode:c,node:f}=l;if(!c.current&&!f.current)return;requestAnimationFrame(()=>{for(const p of[c.current,f.current]){if(!p)continue;const m=pU(p);if(m){m.focus();break}}})}},[r,t,i,a,s]),null}function Nz(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...r}),n):n}function kz(e){return E.useMemo(()=>({draggable:{...h0.draggable,...e==null?void 0:e.draggable},droppable:{...h0.droppable,...e==null?void 0:e.droppable},dragOverlay:{...h0.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function jz(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const s=E.useRef(!1),{x:a,y:l}=typeof i=="boolean"?{x:i,y:i}:i;go(()=>{if(!a&&!l||!t){s.current=!1;return}if(s.current||!r)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const p=n(f),m=F6(p,r);if(a||(m.x=0),l||(m.y=0),s.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const w=$6(f);w&&w.scrollBy({top:m.y,left:m.x})}},[t,a,l,r,n])}const J6=E.createContext({...Ma,scaleX:1,scaleY:1});var sc;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(sc||(sc={}));const Ez=E.memo(function(t){var n,r,i,s;let{id:a,accessibility:l,autoScroll:c=!0,children:f,sensors:p=vz,collisionDetection:m=PU,measuring:w,modifiers:v,...N}=t;const k=E.useReducer(_z,void 0,bz),[C,_]=k,[S,L]=xU(),[F,Q]=E.useState(sc.Uninitialized),ee=F===sc.Initialized,{draggable:{active:W,nodes:$,translate:Z},droppable:{containers:ie}}=C,D=W!=null?$.get(W):null,R=E.useRef({initial:null,translated:null}),V=E.useMemo(()=>{var bn;return W!=null?{id:W,data:(bn=D==null?void 0:D.data)!=null?bn:yz,rect:R}:null},[W,D]),Y=E.useRef(null),[he,ge]=E.useState(null),[J,B]=E.useState(null),te=mp(N,Object.values(N)),oe=Dp("DndDescribedBy",a),Pe=E.useMemo(()=>ie.getEnabled(),[ie]),O=kz(w),{droppableRects:G,measureDroppableContainers:re,measuringScheduled:ae}=sz(Pe,{dragging:ee,dependencies:[Z.x,Z.y],config:O.droppable}),de=rz($,W),ke=E.useMemo(()=>J?by(J):null,[J]),Ee=ai(),je=az(de,O.draggable.measure);jz({activeNode:W!=null?$.get(W):null,config:Ee.layoutShiftCompensation,initialRect:je,measure:O.draggable.measure});const we=s_(de,O.draggable.measure,je),fe=s_(de?de.parentElement:null),xe=E.useRef({activatorEvent:null,active:null,activeNode:de,collisionRect:null,collisions:null,droppableRects:G,draggableNodes:$,draggingNode:null,draggingNodeRect:null,droppableContainers:ie,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Te=ie.getNodeFor((n=xe.current.over)==null?void 0:n.id),Oe=gz({measure:O.dragOverlay.measure}),ue=(r=Oe.nodeRef.current)!=null?r:de,P=ee?(i=Oe.rect)!=null?i:we:null,Ce=!!(Oe.nodeRef.current&&Oe.rect),Ie=cz(Ce?null:we),ce=Y6(ue?hs(ue):null),Ne=uz(ee?Te??de:null),Fe=pz(Ne),$e=Nz(v,{transform:{x:Z.x-Ie.x,y:Z.y-Ie.y,scaleX:1,scaleY:1},activatorEvent:J,active:V,activeNodeRect:we,containerNodeRect:fe,draggingNodeRect:P,over:xe.current.over,overlayNodeRect:Oe.rect,scrollableAncestors:Ne,scrollableAncestorRects:Fe,windowRect:ce}),Ye=ke?hf(ke,Z):null,rt=dz(Ne),at=o_(rt),lt=o_(rt,[we]),vt=hf($e,at),Nt=P?DU(P,$e):null,it=V&&Nt?m({active:V,collisionRect:Nt,droppableRects:G,droppableContainers:Pe,pointerCoordinates:Ye}):null,St=CU(it,"id"),[tt,Un]=E.useState(null),Vt=Ce?$e:hf($e,lt),Yr=TU(Vt,(s=tt==null?void 0:tt.rect)!=null?s:null,we),Qt=E.useRef(null),pn=E.useCallback((bn,Gt)=>{let{sensor:yt,options:Bt}=Gt;if(Y.current==null)return;const ur=$.get(Y.current);if(!ur)return;const rn=bn.nativeEvent,tr=new yt({active:Y.current,activeNode:ur,event:rn,options:Bt,context:xe,onAbort(ft){if(!$.get(ft))return;const{onDragAbort:nr}=te.current,kn={id:ft};nr==null||nr(kn),S({type:"onDragAbort",event:kn})},onPending(ft,Gn,nr,kn){if(!$.get(ft))return;const{onDragPending:jn}=te.current,Yn={id:ft,constraint:Gn,initialCoordinates:nr,offset:kn};jn==null||jn(Yn),S({type:"onDragPending",event:Yn})},onStart(ft){const Gn=Y.current;if(Gn==null)return;const nr=$.get(Gn);if(!nr)return;const{onDragStart:kn}=te.current,Ln={activatorEvent:rn,active:{id:Gn,data:nr.data,rect:R}};Cu.unstable_batchedUpdates(()=>{kn==null||kn(Ln),Q(sc.Initializing),_({type:Ir.DragStart,initialCoordinates:ft,active:Gn}),S({type:"onDragStart",event:Ln}),ge(Qt.current),B(rn)})},onMove(ft){_({type:Ir.DragMove,coordinates:ft})},onEnd:Pr(Ir.DragEnd),onCancel:Pr(Ir.DragCancel)});Qt.current=tr;function Pr(ft){return async function(){const{active:nr,collisions:kn,over:Ln,scrollAdjustedTranslate:jn}=xe.current;let Yn=null;if(nr&&jn){const{cancelDrop:Ui}=te.current;Yn={activatorEvent:rn,active:nr,collisions:kn,delta:jn,over:Ln},ft===Ir.DragEnd&&typeof Ui=="function"&&await Promise.resolve(Ui(Yn))&&(ft=Ir.DragCancel)}Y.current=null,Cu.unstable_batchedUpdates(()=>{_({type:ft}),Q(sc.Uninitialized),Un(null),ge(null),B(null),Qt.current=null;const Ui=ft===Ir.DragEnd?"onDragEnd":"onDragCancel";if(Yn){const ki=te.current[Ui];ki==null||ki(Yn),S({type:Ui,event:Yn})}})}}},[$]),si=E.useCallback((bn,Gt)=>(yt,Bt)=>{const ur=yt.nativeEvent,rn=$.get(Bt);if(Y.current!==null||!rn||ur.dndKit||ur.defaultPrevented)return;const tr={active:rn};bn(yt,Gt.options,tr)===!0&&(ur.dndKit={capturedBy:Gt.sensor},Y.current=Bt,pn(yt,Gt))},[$,pn]),Zt=iz(p,si);fz(p),go(()=>{we&&F===sc.Initializing&&Q(sc.Initialized)},[we,F]),E.useEffect(()=>{const{onDragMove:bn}=te.current,{active:Gt,activatorEvent:yt,collisions:Bt,over:ur}=xe.current;if(!Gt||!yt)return;const rn={active:Gt,activatorEvent:yt,collisions:Bt,delta:{x:vt.x,y:vt.y},over:ur};Cu.unstable_batchedUpdates(()=>{bn==null||bn(rn),S({type:"onDragMove",event:rn})})},[vt.x,vt.y]),E.useEffect(()=>{const{active:bn,activatorEvent:Gt,collisions:yt,droppableContainers:Bt,scrollAdjustedTranslate:ur}=xe.current;if(!bn||Y.current==null||!Gt||!ur)return;const{onDragOver:rn}=te.current,tr=Bt.get(St),Pr=tr&&tr.rect.current?{id:tr.id,rect:tr.rect.current,data:tr.data,disabled:tr.disabled}:null,ft={active:bn,activatorEvent:Gt,collisions:yt,delta:{x:ur.x,y:ur.y},over:Pr};Cu.unstable_batchedUpdates(()=>{Un(Pr),rn==null||rn(ft),S({type:"onDragOver",event:ft})})},[St]),go(()=>{xe.current={activatorEvent:J,active:V,activeNode:de,collisionRect:Nt,collisions:it,droppableRects:G,draggableNodes:$,draggingNode:ue,draggingNodeRect:P,droppableContainers:ie,over:tt,scrollableAncestors:Ne,scrollAdjustedTranslate:vt},R.current={initial:P,translated:Nt}},[V,de,it,Nt,$,ue,P,G,ie,tt,Ne,vt]),ez({...Ee,delta:Z,draggingRect:Nt,pointerCoordinates:Ye,scrollableAncestors:Ne,scrollableAncestorRects:Fe});const aa=E.useMemo(()=>({active:V,activeNode:de,activeNodeRect:we,activatorEvent:J,collisions:it,containerNodeRect:fe,dragOverlay:Oe,draggableNodes:$,droppableContainers:ie,droppableRects:G,over:tt,measureDroppableContainers:re,scrollableAncestors:Ne,scrollableAncestorRects:Fe,measuringConfiguration:O,measuringScheduled:ae,windowRect:ce}),[V,de,we,J,it,fe,Oe,$,ie,G,tt,re,Ne,Fe,O,ae,ce]),Dn=E.useMemo(()=>({activatorEvent:J,activators:Zt,active:V,activeNodeRect:we,ariaDescribedById:{draggable:oe},dispatch:_,draggableNodes:$,over:tt,measureDroppableContainers:re}),[J,Zt,V,we,_,oe,$,tt,re]);return ht.createElement(R6.Provider,{value:L},ht.createElement(Vg.Provider,{value:Dn},ht.createElement(K6.Provider,{value:aa},ht.createElement(J6.Provider,{value:Yr},f)),ht.createElement(Sz,{disabled:(l==null?void 0:l.restoreFocus)===!1})),ht.createElement(SU,{...l,hiddenTextDescribedById:oe}));function ai(){const bn=(he==null?void 0:he.autoScrollEnabled)===!1,Gt=typeof c=="object"?c.enabled===!1:c===!1,yt=ee&&!bn&&!Gt;return typeof c=="object"?{...c,enabled:yt}:{enabled:yt}}}),Cz=E.createContext(null),c_="button",Az="Draggable";function Lz(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const s=Dp(Az),{activators:a,activatorEvent:l,active:c,activeNodeRect:f,ariaDescribedById:p,draggableNodes:m,over:w}=E.useContext(Vg),{role:v=c_,roleDescription:N="draggable",tabIndex:k=0}=i??{},C=(c==null?void 0:c.id)===t,_=E.useContext(C?J6:Cz),[S,L]=Z0(),[F,Q]=Z0(),ee=hz(a,t),W=mp(n);go(()=>(m.set(t,{id:t,key:s,node:S,activatorNode:F,data:W}),()=>{const Z=m.get(t);Z&&Z.key===s&&m.delete(t)}),[m,t]);const $=E.useMemo(()=>({role:v,tabIndex:k,"aria-disabled":r,"aria-pressed":C&&v===c_?!0:void 0,"aria-roledescription":N,"aria-describedby":p.draggable}),[r,v,k,C,N,p.draggable]);return{active:c,activatorEvent:l,activeNodeRect:f,attributes:$,isDragging:C,listeners:r?void 0:ee,node:S,over:w,setNodeRef:L,setActivatorNodeRef:Q,transform:_}}function Pz(){return E.useContext(K6)}const Tz="Droppable",Oz={timeout:25};function Dz(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const s=Dp(Tz),{active:a,dispatch:l,over:c,measureDroppableContainers:f}=E.useContext(Vg),p=E.useRef({disabled:n}),m=E.useRef(!1),w=E.useRef(null),v=E.useRef(null),{disabled:N,updateMeasurementsFor:k,timeout:C}={...Oz,...i},_=mp(k??r),S=E.useCallback(()=>{if(!m.current){m.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{f(Array.isArray(_.current)?_.current:[_.current]),v.current=null},C)},[C]),L=Hg({callback:S,disabled:N||!a}),F=E.useCallback(($,Z)=>{L&&(Z&&(L.unobserve(Z),m.current=!1),$&&L.observe($))},[L]),[Q,ee]=Z0(F),W=mp(t);return E.useEffect(()=>{!L||!Q.current||(L.disconnect(),m.current=!1,L.observe(Q.current))},[Q,L]),E.useEffect(()=>(l({type:Ir.RegisterDroppable,element:{id:r,key:s,disabled:n,node:Q,rect:w,data:W}}),()=>l({type:Ir.UnregisterDroppable,key:s,id:r})),[r]),E.useEffect(()=>{n!==p.current.disabled&&(l({type:Ir.SetDroppableDisabled,id:r,key:s,disabled:n}),p.current.disabled=n)},[r,s,n,l]),{active:a,rect:w,isOver:(c==null?void 0:c.id)===r,node:Q,over:c,setNodeRef:ee}}function iw(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Mz(e,t){return e.reduce((n,r,i)=>{const s=t.get(r);return s&&(n[i]=s),n},Array(e.length))}function qm(e){return e!==null&&e>=0}function Iz(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Rz(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const X6=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const s=iw(t,r,n),a=t[i],l=s[i];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},Wm={scaleX:1,scaleY:1},Fz=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:a}=e;const l=(t=s[n])!=null?t:r;if(!l)return null;if(i===n){const f=s[a];return f?{x:0,y:n<a?f.top+f.height-(l.top+l.height):f.top-l.top,...Wm}:null}const c=$z(s,i,n);return i>n&&i<=a?{x:0,y:-l.height-c,...Wm}:i<n&&i>=a?{x:0,y:l.height+c,...Wm}:{x:0,y:0,...Wm}};function $z(e,t,n){const r=e[t],i=e[t-1],s=e[t+1];return r?n<t?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const Q6="Sortable",Z6=ht.createContext({activeIndex:-1,containerId:Q6,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:X6,disabled:{draggable:!1,droppable:!1}});function Bz(e){let{children:t,id:n,items:r,strategy:i=X6,disabled:s=!1}=e;const{active:a,dragOverlay:l,droppableRects:c,over:f,measureDroppableContainers:p}=Pz(),m=Dp(Q6,n),w=l.rect!==null,v=E.useMemo(()=>r.map(ee=>typeof ee=="object"&&"id"in ee?ee.id:ee),[r]),N=a!=null,k=a?v.indexOf(a.id):-1,C=f?v.indexOf(f.id):-1,_=E.useRef(v),S=!Iz(v,_.current),L=C!==-1&&k===-1||S,F=Rz(s);go(()=>{S&&N&&p(v)},[S,v,N,p]),E.useEffect(()=>{_.current=v},[v]);const Q=E.useMemo(()=>({activeIndex:k,containerId:m,disabled:F,disableTransforms:L,items:v,overIndex:C,useDragOverlay:w,sortedRects:Mz(v,c),strategy:i}),[k,m,F.draggable,F.droppable,L,v,C,c,w,i]);return ht.createElement(Z6.Provider,{value:Q},t)}const Uz=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return iw(n,r,i).indexOf(t)},zz=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:s,newIndex:a,previousItems:l,previousContainerId:c,transition:f}=e;return!f||!r||l!==s&&i===a?!1:n?!0:a!==i&&t===c},qz={duration:200,easing:"ease"},ek="transform",Wz=gp.Transition.toString({property:ek,duration:0,easing:"linear"}),Hz={roleDescription:"sortable"};function Vz(e){let{disabled:t,index:n,node:r,rect:i}=e;const[s,a]=E.useState(null),l=E.useRef(n);return go(()=>{if(!t&&n!==l.current&&r.current){const c=i.current;if(c){const f=Df(r.current,{ignoreTransform:!0}),p={x:c.left-f.left,y:c.top-f.top,scaleX:c.width/f.width,scaleY:c.height/f.height};(p.x||p.y)&&a(p)}}n!==l.current&&(l.current=n)},[t,n,r,i]),E.useEffect(()=>{s&&a(null)},[s]),s}function Gz(e){let{animateLayoutChanges:t=zz,attributes:n,disabled:r,data:i,getNewIndex:s=Uz,id:a,strategy:l,resizeObserverConfig:c,transition:f=qz}=e;const{items:p,containerId:m,activeIndex:w,disabled:v,disableTransforms:N,sortedRects:k,overIndex:C,useDragOverlay:_,strategy:S}=E.useContext(Z6),L=Yz(r,v),F=p.indexOf(a),Q=E.useMemo(()=>({sortable:{containerId:m,index:F,items:p},...i}),[m,i,F,p]),ee=E.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:W,node:$,isOver:Z,setNodeRef:ie}=Dz({id:a,data:Q,disabled:L.droppable,resizeObserverConfig:{updateMeasurementsFor:ee,...c}}),{active:D,activatorEvent:R,activeNodeRect:V,attributes:Y,setNodeRef:he,listeners:ge,isDragging:J,over:B,setActivatorNodeRef:te,transform:oe}=Lz({id:a,data:Q,attributes:{...Hz,...n},disabled:L.draggable}),Pe=uU(ie,he),O=!!D,G=O&&!N&&qm(w)&&qm(C),re=!_&&J,ae=re&&G?oe:null,ke=G?ae??(l??S)({rects:k,activeNodeRect:V,activeIndex:w,overIndex:C,index:F}):null,Ee=qm(w)&&qm(C)?s({id:a,items:p,activeIndex:w,overIndex:C}):F,je=D==null?void 0:D.id,we=E.useRef({activeId:je,items:p,newIndex:Ee,containerId:m}),fe=p!==we.current.items,xe=t({active:D,containerId:m,isDragging:J,isSorting:O,id:a,index:F,items:p,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:f,wasDragging:we.current.activeId!=null}),Te=Vz({disabled:!xe,index:F,node:$,rect:W});return E.useEffect(()=>{O&&we.current.newIndex!==Ee&&(we.current.newIndex=Ee),m!==we.current.containerId&&(we.current.containerId=m),p!==we.current.items&&(we.current.items=p)},[O,Ee,m,p]),E.useEffect(()=>{if(je===we.current.activeId)return;if(je!=null&&we.current.activeId==null){we.current.activeId=je;return}const ue=setTimeout(()=>{we.current.activeId=je},50);return()=>clearTimeout(ue)},[je]),{active:D,activeIndex:w,attributes:Y,data:Q,rect:W,index:F,newIndex:Ee,items:p,isOver:Z,isSorting:O,isDragging:J,listeners:ge,node:$,overIndex:C,over:B,setNodeRef:Pe,setActivatorNodeRef:te,setDroppableNodeRef:ie,setDraggableNodeRef:he,transform:Te??ke,transition:Oe()};function Oe(){if(Te||fe&&we.current.newIndex===F)return Wz;if(!(re&&!Q5(R)||!f)&&(O||xe))return gp.Transition.toString({...f,property:ek})}}function Yz(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}vn.Down,vn.Right,vn.Up,vn.Left;function Kz({isOpen:e,onClose:t,groupId:n,availableSongs:r,onMedleyCreated:i}){const[s,a]=E.useState(""),[l,c]=E.useState([]),[f,p]=E.useState(!1),[m,w]=E.useState(""),v=C=>{c(_=>_.includes(C)?_.filter(S=>S!==C):[..._,C])},N=async()=>{if(l.length<2){Be.error("Selecciona al menos dos canciones para el medley");return}let C=s.trim();if(C||(C=l.map(S=>r.find(L=>L.id===S)).filter(S=>!!S).map(S=>S.title).join(" | ")),!C){Be.error("No se pudo generar el nombre del medley.");return}p(!0);try{const _=await T$(n,C,l);_&&(Be.success("Medley creado con éxito"),i(_),k())}catch(_){console.error("Error creating medley:",_),Be.error("Error al crear el medley")}finally{p(!1)}},k=()=>{a(""),c([]),w(""),t()};return e?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full shadow-lg max-h-[80vh] overflow-y-auto",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Crear Nuevo Medley"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(Vn,{label:"Nombre del Medley",value:s,onChange:C=>a(C.target.value),placeholder:"Ej: Medley de Rock Clásico",autoFocus:!0}),h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Canciones (opcional)"}),h.jsxs("div",{className:"border rounded-md p-2",children:[h.jsx(Vn,{placeholder:"Buscar canción para añadir...",value:m,onChange:C=>w(C.target.value),className:"mb-2"}),h.jsx("div",{className:"max-h-40 overflow-y-auto",children:r.filter(C=>C.type==="song").filter(C=>{var _;return C.title.toLowerCase().includes(m.toLowerCase())||((_=C.artist)==null?void 0:_.toLowerCase().includes(m.toLowerCase()))}).map(C=>h.jsx("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50",children:h.jsx("div",{children:h.jsxs("label",{className:"flex items-center gap-2 py-1 hover:bg-gray-50 rounded px-1",children:[h.jsx("input",{type:"checkbox",checked:l.includes(C.id),onChange:()=>v(C.id),className:"rounded"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-medium text-sm truncate",children:C.title}),C.artist&&h.jsx("div",{className:"text-xs text-gray-500 truncate",children:C.artist})]})]})})},C.id))})]})]}),h.jsxs("div",{className:"flex gap-2 justify-end",children:[h.jsx(_t,{variant:"secondary",onClick:k,disabled:f,children:"Cancelar"}),h.jsx(_t,{variant:"primary",onClick:N,loading:f,disabled:l.length<2,children:"Crear Medley"})]})]})}):null}function Jz({medley:e,availableSongs:t,canEdit:n=!0,onSongAdded:r,onSongRemoved:i,onMedleyRenamed:s,onMedleyDeleted:a}){const[l,c]=E.useState(!1),[f,p]=E.useState(!1),[m,w]=E.useState(e.title),[v,N]=E.useState(!1),[k,C]=E.useState(!1),[_,S]=E.useState(!1),[L,F]=E.useState(""),[Q,ee]=E.useState([]);E.useEffect(()=>{(async()=>{if(e.medley_song_ids&&e.medley_song_ids.length>0){const Y=await Y0(e.group_id);if(Y){const he=Y.filter(ge=>{var J;return((J=e.medley_song_ids)==null?void 0:J.includes(ge.id))&&ge.type==="song"});ee(he)}}})()},[e.medley_song_ids,e.group_id]);const W=async()=>{if(!m.trim()){Be.error("El nombre del medley es obligatorio");return}C(!0);try{await F$(e.id,{title:m})&&(Be.success("Medley actualizado"),s(e.id,m),p(!1))}catch(V){console.error("Error al actualizar el medley:",V),Be.error("Error al actualizar el medley")}finally{C(!1)}},$=async()=>{C(!0);try{await U$(e.id)&&(Be.success("Medley eliminado"),a(e.id))}catch(V){console.error("Error al eliminar el medley:",V),Be.error("Error al eliminar el medley")}finally{C(!1),S(!1)}},Z=async V=>{C(!0);try{await B$(e.id,V)&&(Be.success("Canción eliminada del medley"),i(e.id,V),ee(he=>he.filter(ge=>ge.id!==V)))}catch(Y){console.error("Error al eliminar la canción del medley:",Y),Be.error("Error al eliminar la canción del medley")}finally{C(!1)}},ie=async V=>{if(!t.find(he=>he.id===V)){Be.error("No se pudo encontrar la canción seleccionada");return}C(!0);try{const he=await $$(e.id,V);if(he){Be.success("Canción añadida al medley"),r(e.id,V),N(!1),F("");const ge=await Y0(e.group_id);if(ge&&he.medley_song_ids){const J=ge.filter(B=>{var te;return((te=he.medley_song_ids)==null?void 0:te.includes(B.id))&&B.type==="song"});ee(J)}}}catch(he){console.error("Error al añadir la canción al medley:",he),Be.error("Error al añadir la canción al medley")}finally{C(!1)}},D=e.medley_song_ids?e.medley_song_ids.map(V=>Q.find(Y=>Y.id===V)).filter(Boolean):[],R=Array.from(new Map(D.map(V=>[V.id,V])).values());return h.jsxs("div",{className:"border-l-4 border-blue-400 bg-blue-50 rounded p-3 mb-2",children:[h.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>c(!l),children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(lU,{className:"text-blue-600"}),h.jsx("span",{className:"font-semibold text-blue-800",children:e.title})]}),h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[h.jsxs("span",{children:[R.length," canciones"]}),l?h.jsx(sU,{}):h.jsx(iU,{})]})]}),l&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",onClick:V=>V.stopPropagation(),children:[n&&h.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3",children:[h.jsxs(_t,{variant:"secondary",onClick:()=>{p(!f),f&&w(e.title)},children:[h.jsx(D6,{className:"mr-1"}),f?"Cancelar":"Renombrar"]}),!f&&h.jsxs(_t,{variant:"danger",onClick:()=>S(!0),loading:k,children:[h.jsx(cU,{className:"mr-1"}),"Eliminar"]})]}),f&&h.jsxs("div",{className:"flex items-center gap-2 mb-4 p-2 bg-white rounded-md",children:[h.jsx(Vn,{value:m,onChange:V=>w(V.target.value),placeholder:"Nuevo nombre del medley"}),h.jsx(_t,{onClick:W,loading:k,children:"Guardar"})]}),!f&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Canciones:"}),R.length===0?h.jsx("p",{className:"text-sm text-gray-500 italic",children:"No hay canciones en este medley"}):h.jsx("ul",{className:"space-y-1",children:R.map(V=>h.jsxs("li",{className:"flex items-center justify-between py-1 pl-2 hover:bg-blue-100 rounded",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("span",{className:"font-medium text-sm",children:V.title}),V.artist&&h.jsx("span",{className:"text-xs text-gray-500 ml-2",children:V.artist})]}),n&&h.jsx(_t,{variant:"danger",onClick:()=>Z(V.id),loading:k,children:h.jsx(X3,{})})]},V.id))})]}),n&&h.jsx("div",{className:"mt-3",children:v?h.jsxs("div",{className:"border rounded p-2 bg-white",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Añadir canción:"}),h.jsx(_t,{variant:"secondary",onClick:()=>{N(!1),F("")},children:h.jsx(X3,{})})]}),h.jsx(Vn,{placeholder:"Buscar canción...",value:L,onChange:V=>F(V.target.value),className:"mb-2"}),h.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[t.filter(V=>V.type==="song").filter(V=>!R.some(Y=>Y.id===V.id)).filter(V=>{var Y;return V.title.toLowerCase().includes(L.toLowerCase())||((Y=V.artist)==null?void 0:Y.toLowerCase().includes(L.toLowerCase()))}).map(V=>h.jsxs("button",{onClick:()=>ie(V.id),className:"w-full text-left p-1 hover:bg-gray-100 rounded text-sm",disabled:k,children:[h.jsx("div",{className:"font-medium",children:V.title}),V.artist&&h.jsx("div",{className:"text-xs text-gray-500",children:V.artist})]},V.id)),t.filter(V=>V.type==="song"&&!R.some(Y=>Y.id===V.id)).length===0&&h.jsx("p",{className:"text-xs text-gray-500 p-1",children:"No hay más canciones para añadir."})]})]}):h.jsxs(_t,{variant:"primary",onClick:()=>N(!0),children:[h.jsx(wy,{className:"mr-1"}),"Añadir Canción"]})})]})]}),_&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>S(!1),children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full shadow-xl",onClick:V=>V.stopPropagation(),children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmar Eliminación"}),h.jsxs("p",{className:"text-gray-600 mb-6",children:['¿Estás seguro de que quieres eliminar el medley "',e.title,'"? Esta acción no se puede deshacer.']}),h.jsxs("div",{className:"flex gap-3 justify-end",children:[h.jsx(_t,{variant:"secondary",onClick:()=>S(!1),disabled:k,children:"Cancelar"}),h.jsx(_t,{variant:"danger",onClick:$,loading:k,children:k?"Eliminando...":"Eliminar"})]})]})})]})}const u_={name:"",description:"",estimated_duration_minutes:""};function Xz({item:e,canManageSetlists:t,songs:n,onRemoveSong:r,onSongAddedToMedley:i,onSongRemovedFromMedley:s,onMedleyRenamed:a,onMedleyDeleted:l}){var N,k,C,_;const{attributes:c,listeners:f,setNodeRef:p,transform:m,transition:w}=Gz({id:e.id}),v={transform:gp.Transform.toString(m),transition:w};return h.jsxs("div",{ref:p,style:v,...c,className:"flex items-center gap-2 mb-2",children:[t&&h.jsx("div",{...f,className:"cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600 py-3 px-3 touch-none select-none min-w-[48px] min-h-[48px] flex items-center justify-center rounded-md hover:bg-gray-100 active:bg-gray-200 transition-colors",role:"button","aria-label":"Arrastrar para reordenar",tabIndex:0,children:h.jsx(oU,{className:"text-lg"})}),h.jsx("div",{className:"flex-grow",children:e.type==="song"?h.jsxs("div",{className:"bg-white p-3 rounded-md shadow-sm border border-gray-200 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:(N=e.data.song)==null?void 0:N.title}),h.jsxs("p",{className:"text-sm text-gray-500",children:[(k=e.data.song)==null?void 0:k.artist," - ",(C=e.data.song)==null?void 0:C.duration_minutes,"m - Tono: ",(_=e.data.song)==null?void 0:_.key]})]}),t&&h.jsx(_t,{variant:"danger",onClick:()=>r(e.data.setlist_id,e.data.song_id),children:"Eliminar"})]}):h.jsx(Jz,{medley:e.data,availableSongs:n.filter(S=>S.type==="song"),canEdit:t,onSongAdded:i,onSongRemoved:s,onMedleyRenamed:a,onMedleyDeleted:l})})]})}function Qz({groupId:e,canManageSetlists:t=!0}){const[n,r]=E.useState([]),[i,s]=E.useState([]),[a,l]=E.useState(!0),[c,f]=E.useState(!1),[p,m]=E.useState(null),[w,v]=E.useState(null),[N,k]=E.useState(u_),[C,_]=E.useState(!1),[S,L]=E.useState(null),[F,Q]=E.useState(!1),[ee,W]=E.useState(null),[$,Z]=E.useState(""),[ie,D]=E.useState(""),[R,V]=E.useState(!1),{isAuthenticated:Y,createPlaylistFromSetlist:he,searchTracks:ge}=qg();E.useState(null),E.useState("");const[J,B]=E.useState([]),te=NU(Iv(rw,{activationConstraint:{distance:8}}),Iv(V6,{activationConstraint:{delay:200,tolerance:5}}),Iv(tw,{coordinateGetter:(ce,{context:{active:Ne,droppableRects:Fe,droppableContainers:$e,collisionRect:Ye}})=>null}));E.useEffect(()=>{oe()},[e]),E.useEffect(()=>{if(w){const ce=[];w.songs&&w.songs.forEach($e=>{var rt,at,lt,vt;const Ye=((rt=$e.song)==null?void 0:rt.type)==="medley";Ye&&console.log("Processing medley item:",{songId:$e.id,songSongId:(at=$e.song)==null?void 0:at.id,songTitle:(lt=$e.song)==null?void 0:lt.title,songType:(vt=$e.song)==null?void 0:vt.type,position:$e.position}),$e.id?ce.push({id:$e.id,type:Ye?"medley":"song",position:$e.position,data:Ye?$e.song:$e}):console.error("Song with undefined ID found:",$e)}),w.medleys&&w.medleys.length>0&&(console.warn("Legacy medleys found in setlist - these will be ignored in the new system:",w.medleys),console.warn('All medleys should be in the songs table with type="medley"')),ce.sort(($e,Ye)=>$e.position-Ye.position);const Ne=ce.map($e=>$e.id),Fe=Ne.filter(($e,Ye)=>Ne.indexOf($e)!==Ye);Fe.length>0&&(console.error("Duplicate IDs found in setlistItems:",Fe),console.error("All items:",ce),console.error("selectedSetlist.songs:",w.songs),console.error("selectedSetlist.medleys:",w.medleys)),console.log("All setlistItems:",ce.map($e=>({id:$e.id,type:$e.type,position:$e.position}))),B(ce)}else B([])},[w]);const oe=async()=>{l(!0);const[ce,Ne]=await Promise.all([ay(e),Y0(e)]);return ce&&r(ce),Ne&&s(Ne),l(!1),ce},Pe=async ce=>{if(ce.preventDefault(),!N.name.trim()){Be.error("El nombre es obligatorio");return}const{data:{user:Ne}}=await Je.auth.getUser();if(!Ne){Be.error("No se pudo obtener la información del usuario");return}const Fe={group_id:e,name:N.name.trim(),description:N.description.trim()||void 0,estimated_duration_minutes:N.estimated_duration_minutes?parseInt(N.estimated_duration_minutes):void 0,created_by:Ne.id};if(p){const $e=await D$(p.id,Fe);$e&&(Be.success("Setlist actualizado correctamente"),r(Ye=>Ye.map(rt=>rt.id===p.id?{...rt,...$e}:rt)),(w==null?void 0:w.id)===p.id&&v(Ye=>Ye?{...Ye,...$e}:null))}else{const $e=await u6({...Fe,name:Fe.name});$e&&(Be.success("Setlist creado correctamente"),r(Ye=>[...Ye,{...$e,songs:[]}]))}Ee()},O=ce=>{var Ne;m(ce),k({name:ce.name,description:ce.description||"",estimated_duration_minutes:((Ne=ce.estimated_duration_minutes)==null?void 0:Ne.toString())||""}),f(!0)},G=ce=>{L(ce),_(!0)},re=async()=>{if(!S)return;await M$(S.id)?(Be.success("Setlist eliminado correctamente"),r(Ne=>Ne.filter(Fe=>Fe.id!==S.id)),(w==null?void 0:w.id)===S.id&&v(null)):Be.error("No se pudo eliminar el setlist"),_(!1),L(null)},ae=async(ce,Ne)=>{if(!w)return;const $e=(w.songs&&w.songs.length>0?Math.max(...w.songs.map(rt=>rt.position)):0)+1,Ye=await oy(ce,Ne,$e);if(Ye){Be.success("Canción añadida al setlist");const rt=i.find(at=>at.id===Ne);if(rt){const at={...Ye,position:$e,song:rt},lt={...w,songs:[...w.songs||[],at]};v(lt),r(vt=>vt.map(Nt=>Nt.id===ce?lt:Nt))}}else console.error("No se pudo añadir la canción al setlist")},de=async(ce,Ne)=>{var $e;if(await I$(ce,Ne)){Be.success("Canción eliminada del setlist");const Ye=w?{...w,songs:($e=w.songs)==null?void 0:$e.filter(rt=>rt.song_id!==Ne)}:null;Ye&&(v(Ye),r(rt=>rt.map(at=>at.id===Ye.id?Ye:at)))}else Be.error("No se pudo eliminar la canción del setlist")},ke=ce=>{const{active:Ne,over:Fe}=ce;if(!Fe||Ne.id===Fe.id||!w)return;const $e=J.findIndex(it=>it.id===Ne.id),Ye=J.findIndex(it=>it.id===Fe.id),at=iw(J,$e,Ye).map((it,St)=>({id:it.id,type:it.type,position:St+1})),lt=at.map(it=>{var tt;return{...(tt=w.songs)==null?void 0:tt.find(Un=>Un.id===it.id),position:it.position}}),vt={...w,songs:lt};v(vt),r(it=>it.map(St=>St.id===vt.id?vt:St)),console.log("Reordering items:",at);const Nt=at.map(it=>({songId:it.id,position:it.position}));R$(w.id,Nt).then(it=>{it?console.log("Reorder successful"):(Be.error("No se pudo guardar el orden. Se revertirán los cambios."),oe())})},Ee=()=>{k(u_),m(null),f(!1)},je=ce=>{if(!i)return[];const Ne=new Set((ce.songs||[]).map(Fe=>Fe.song_id));return i.filter(Fe=>!Ne.has(Fe.id))},we=ce=>{const Ne=n.find(Fe=>Fe.id===ce.id);v(Ne||null)},fe=(ce,Ne,Fe)=>{if(!w)return;const $e={...Fe,song:Ne},Ye={...w,medleys:(w.medleys||[]).map(rt=>rt.id===ce?{...rt,songs:[...rt.songs||[],$e].sort((at,lt)=>at.position-lt.position)}:rt)};v(Ye),r(rt=>rt.map(at=>at.id===Ye.id?Ye:at))},xe=(ce,Ne)=>{if(!w)return;const Fe={...w,medleys:(w.medleys||[]).map($e=>$e.id===ce?{...$e,songs:($e.songs||[]).filter(Ye=>Ye.song_id!==Ne)}:$e)};v(Fe),r($e=>$e.map(Ye=>Ye.id===Fe.id?Fe:Ye))},Te=(ce,Ne)=>{if(!w)return;const Fe={...w,medleys:(w.medleys||[]).map($e=>$e.id===ce?{...$e,name:Ne}:$e)};v(Fe),r($e=>$e.map(Ye=>Ye.id===Fe.id?Fe:Ye))},Oe=ce=>{if(!w)return;const Ne={...w,medleys:(w.medleys||[]).filter(Fe=>Fe.id!==ce)};v(Ne),r(Fe=>Fe.map($e=>$e.id===Ne.id?Ne:$e))},ue=async ce=>{if(!w)return;const Fe=(w.songs&&w.songs.length>0?Math.max(...w.songs.map(Ye=>Ye.position)):0)+1;if(await oy(w.id,ce.id,Fe)){Be.success("Medley creado y añadido al setlist"),await oe();const Ye=await ay(e);if(Ye){const rt=Ye.find(at=>at.id===w.id);rt&&v(rt)}}else Be.error("Medley creado pero no se pudo añadir al setlist")},P=ce=>{W(ce),Z(`${ce.name} (copia)`),Q(!0)},Ce=async ce=>{if(!Y){Be.error("Debes conectar con Spotify primero");return}l(!0);try{const Ne=ce.songs||[],Fe=[];for(const Ye of Ne)if(Ye.song){const rt=`${Ye.song.title} ${Ye.song.artist||""}`.trim();try{const at=await ge(rt);at.length>0&&Fe.push(at[0])}catch{console.warn(`Could not find "${rt}" on Spotify`)}}if(Fe.length===0){Be.error("No se encontraron canciones del setlist en Spotify");return}const $e=await he(ce.name,Fe);$e&&Be.success(h.jsxs("div",{children:[h.jsx("p",{children:"¡Playlist creada en Spotify!"}),h.jsxs("p",{className:"text-sm",children:["Encontradas ",Fe.length," de ",Ne.length," canciones"]}),h.jsx("a",{href:$e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"Abrir en Spotify"})]}))}catch(Ne){console.error("Error creating Spotify playlist:",Ne),Be.error("Error al crear playlist en Spotify")}finally{l(!1)}},Ie=async()=>{if(!ee||!$.trim())return;l(!0),Q(!1),await z$(ee.id,$.trim())?(Be.success("Setlist duplicado correctamente"),await oe()):Be.error("No se pudo duplicar el setlist"),W(null),Z(""),l(!1)};return a?h.jsx("div",{className:"text-center py-8",children:"Cargando setlists..."}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Setlists"}),t&&h.jsx(_t,{onClick:()=>f(!c),variant:c?"secondary":"primary",children:c?"Cancelar":"Crear Setlist"})]}),!t&&h.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:h.jsx("p",{className:"text-yellow-800 text-sm",children:"Solo los miembros principales pueden gestionar canciones y setlists."})}),c&&t&&h.jsxs("form",{onSubmit:Pe,className:"bg-white p-6 rounded-lg shadow-md space-y-4",children:[h.jsx("h3",{className:"text-lg font-semibold",children:p?"Editar Setlist":"Nuevo Setlist"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(Vn,{label:"Nombre *",value:N.name,onChange:ce=>k({...N,name:ce.target.value}),required:!0}),h.jsx(Vn,{label:"Duración estimada (minutos)",type:"number",value:N.estimated_duration_minutes,onChange:ce=>k({...N,estimated_duration_minutes:ce.target.value}),min:"1"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),h.jsx("textarea",{value:N.description,onChange:ce=>k({...N,description:ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descripción breve del setlist..."})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(_t,{type:"submit",variant:"primary",children:p?"Actualizar":"Crear"}),h.jsx(_t,{type:"button",variant:"secondary",onClick:Ee,children:"Cancelar"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[h.jsxs("div",{className:"lg:col-span-1 space-y-3",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3 lg:hidden",children:"Setlists"}),n.map(ce=>{var Ne,Fe;return h.jsxs("div",{className:`p-4 rounded-lg cursor-pointer transition-all ${(w==null?void 0:w.id)===ce.id?"bg-blue-600 text-white shadow-lg":"bg-white hover:bg-gray-100"}`,onClick:()=>we(ce),children:[h.jsx("h4",{className:`font-bold ${(w==null?void 0:w.id)===ce.id?"text-white":"text-gray-800"}`,children:ce.name}),h.jsxs("p",{className:`text-sm ${(w==null?void 0:w.id)===ce.id?"text-blue-100":"text-gray-500"}`,children:[(((Ne=ce.songs)==null?void 0:Ne.length)||0)+(((Fe=ce.medleys)==null?void 0:Fe.length)||0)," items"]})]},ce.id)}),n.length===0&&!a&&h.jsx("p",{className:"text-center text-gray-500 py-4",children:"No hay setlists. ¡Crea el primero!"})]}),h.jsx("div",{className:"lg:col-span-2",children:w?h.jsxs("div",{className:"bg-white p-4 lg:p-6 rounded-lg shadow-md",children:[h.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start mb-4 gap-4",children:[h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 truncate",children:w.name}),h.jsx("p",{className:"text-sm text-gray-500 break-words",children:w.description})]}),t&&h.jsxs("div",{className:"flex flex-wrap gap-2 lg:flex-nowrap",children:[h.jsxs(_t,{variant:"primary",onClick:()=>V(!0),children:[h.jsx(wy,{className:"mr-1"})," Crear Medley"]}),Y&&h.jsxs(_t,{variant:"secondary",onClick:()=>Ce(w),className:"bg-green-500 hover:bg-green-600 text-white",children:[h.jsx(rU,{className:"mr-2"})," Playlist Spotify"]}),h.jsxs(_t,{variant:"secondary",onClick:()=>O(w),children:[h.jsx(D6,{className:"mr-2"})," Editar"]}),h.jsxs(_t,{variant:"secondary",onClick:()=>P(w),children:[h.jsx(aU,{className:"mr-2"})," Duplicar"]}),h.jsx(_t,{variant:"danger",onClick:()=>G(w),children:"Eliminar"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 xl:gap-8",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Canciones en el Setlist"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ez,{sensors:te,collisionDetection:AU,onDragEnd:ke,children:h.jsx(Bz,{items:J.map(ce=>ce.id),strategy:Fz,children:J.map((ce,Ne)=>h.jsx(Xz,{item:ce,canManageSetlists:t,songs:i,onRemoveSong:de,onSongAddedToMedley:fe,onSongRemovedFromMedley:xe,onMedleyRenamed:Te,onMedleyDeleted:Oe},`${ce.type}-${ce.id}-${Ne}`))})}),J.length===0&&h.jsx("p",{className:"text-gray-500 text-sm py-4 text-center",children:"Este setlist está vacío."})]})]}),t&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Añadir Canción al Setlist"}),h.jsx(Vn,{placeholder:"Buscar canción...",value:ie,onChange:ce=>D(ce.target.value),className:"mb-2"}),h.jsxs("div",{className:"space-y-2 max-h-60 lg:max-h-80 overflow-y-auto pr-2",children:[je(w).filter(ce=>{var Ne;return ce.title.toLowerCase().includes(ie.toLowerCase())||((Ne=ce.artist)==null?void 0:Ne.toLowerCase().includes(ie.toLowerCase()))}).map(ce=>h.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"font-medium text-sm",children:[ce.type==="medley"&&h.jsx("span",{className:"text-blue-600 mr-1",children:"🎵"}),ce.title]}),h.jsx("p",{className:"text-xs text-gray-500",children:ce.type==="medley"?"Medley":ce.artist})]}),h.jsx(_t,{onClick:()=>ae(w.id,ce.id),children:h.jsx(wy,{})})]},ce.id)),je(w).length===0&&h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Todas las canciones ya están en este setlist."})]})]})]})]}):h.jsx("div",{className:"text-center py-12 text-gray-500",children:h.jsx("p",{children:"Selecciona un setlist para ver los detalles"})})})]}),C&&S&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmar Eliminación"}),h.jsxs("p",{className:"text-gray-600 mb-6",children:['¿Estás seguro de que quieres eliminar el setlist "',S.name,'"? Esta acción no se puede deshacer.']}),h.jsxs("div",{className:"flex gap-3 justify-end",children:[h.jsx(_t,{variant:"secondary",onClick:()=>{_(!1),L(null)},children:"Cancelar"}),h.jsx(_t,{variant:"danger",onClick:re,children:"Eliminar"})]})]})}),F&&ee&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Duplicar Setlist"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Introduce un nombre para el nuevo setlist:"}),h.jsx(Vn,{value:$,onChange:ce=>Z(ce.target.value),className:"mb-6",autoFocus:!0}),h.jsxs("div",{className:"flex gap-3 justify-end",children:[h.jsx(_t,{variant:"secondary",onClick:()=>{Q(!1),W(null),Z("")},children:"Cancelar"}),h.jsx(_t,{variant:"primary",onClick:Ie,disabled:!$.trim(),children:"Duplicar"})]})]})}),R&&w&&h.jsx(Kz,{isOpen:R,onClose:()=>V(!1),groupId:e,availableSongs:je(w),onMedleyCreated:ce=>{ue(ce),V(!1)}})]})}function Zz({groupId:e,canManageSongs:t=!0,canManageSetlists:n=!0,defaultTab:r="songs"}){const[i,s]=E.useState(r);return E.useEffect(()=>{s(r)},[r]),h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100",children:[h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[h.jsx("button",{onClick:()=>s("songs"),className:`${i==="songs"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Pool de Canciones"}),h.jsx("button",{onClick:()=>s("setlists"),className:`${i==="setlists"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Setlists"})]})}),h.jsxs("div",{className:"p-6",children:[i==="songs"&&h.jsx(KB,{groupId:e,canManageSongs:t}),i==="setlists"&&h.jsx(Qz,{groupId:e,canManageSetlists:n})]})]})})}const eq=({groupId:e})=>{const[t,n]=E.useState(!0),[r,i]=E.useState([]),[s,a]=E.useState(null),[l,c]=E.useState(null),[f,p]=E.useState(null),[m,w]=E.useState([]),[v,N]=E.useState("6m");E.useEffect(()=>{e&&k()},[e,v]);const k=async()=>{n(!0);try{await Promise.all([_(),S(),L(),F(),Q()])}catch(ee){console.error("Error loading analytics:",ee)}n(!1)},C=()=>{const ee=new Date;switch(v){case"3m":return xh(ee,3);case"6m":return xh(ee,6);case"1y":return xh(ee,12);default:return new Date("2020-01-01")}},_=async()=>{try{const{data:ee}=await Je.from("songs").select("*").eq("group_id",e).eq("type","song"),{data:W}=await Je.from("setlist_songs").select(`
          song_id,
          setlist:setlists!inner(created_at)
        `).gte("setlist.created_at",C().toISOString());if(ee&&W){const $=new Map;W.forEach(ie=>{var R;const D=$.get(ie.song_id)||{count:0};$.set(ie.song_id,{count:D.count+1,lastUsed:((R=ie.setlist)==null?void 0:R.created_at)||D.lastUsed})});const Z=ee.map(ie=>{var D,R;return{song:ie,usageCount:((D=$.get(ie.id))==null?void 0:D.count)||0,lastUsed:(R=$.get(ie.id))==null?void 0:R.lastUsed}}).sort((ie,D)=>D.usageCount-ie.usageCount);i(Z)}}catch(ee){console.error("Error loading song stats:",ee)}},S=async()=>{try{const ee=C(),{data:W}=await Je.from("events").select("*").eq("group_id",e).gte("created_at",ee.toISOString()),{data:$}=await Je.from("setlists").select(`
          id,
          songs:setlist_songs(count),
          medleys:setlist_medleys(count)
        `).eq("group_id",e);if(W){const Z=new Date,ie=W.filter(Y=>new Date(Y.date)>=Z).length,D=[];for(let Y=5;Y>=0;Y--){const he=Fi(xh(Z,Y)),ge=Fg(xh(Z,Y)),J=W.filter(B=>{const te=new Date(B.date);return te>=he&&te<=ge});D.push({month:on(he,"MMM yyyy"),count:J.length})}let R=0,V=0;$&&$.forEach(Y=>{var ge,J,B,te;const he=(((J=(ge=Y.songs)==null?void 0:ge[0])==null?void 0:J.count)||0)+(((te=(B=Y.medleys)==null?void 0:B[0])==null?void 0:te.count)||0);he>0&&(R+=he,V++)}),a({totalEvents:W.length,upcomingEvents:ie,monthlyEvents:D,averageSetlistSize:V>0?Math.round(R/V):0})}}catch(ee){console.error("Error loading event stats:",ee)}},L=async()=>{try{const{data:ee}=await Je.from("setlists").select(`
          id,
          name,
          songs:setlist_songs(count),
          medleys:setlist_medleys(count)
        `).eq("group_id",e);if(ee){const W=ee.map(R=>{var V,Y,he,ge;return{...R,songCount:(((Y=(V=R.songs)==null?void 0:V[0])==null?void 0:Y.count)||0)+(((ge=(he=R.medleys)==null?void 0:he[0])==null?void 0:ge.count)||0)}}).filter(R=>R.songCount>0),$=W.reduce((R,V)=>R+V.songCount,0),Z=W.length>0?Math.round($/W.length):0,ie=W.reduce((R,V)=>V.songCount>R.songCount?V:R,W[0]||{name:"N/A",songCount:0}),D=W.reduce((R,V)=>V.songCount<R.songCount?V:R,W[0]||{name:"N/A",songCount:0});c({totalSetlists:ee.length,averageSongsPerSetlist:Z,longestSetlist:{name:ie.name,songCount:ie.songCount},shortestSetlist:{name:D.name,songCount:D.songCount}})}}catch(ee){console.error("Error loading setlist stats:",ee)}},F=async()=>{try{const{data:ee}=await Je.from("group_members").select(`
          *,
          user:users(id, email)
        `).eq("group_id",e),{data:W}=await Je.from("event_members").select(`
          member_id,
          event:events!inner(date)
        `).gte("event.date",C().toISOString());if(ee){const $=ee.filter(ie=>ie.user).length,Z=ee.map(ie=>{const D=(W==null?void 0:W.filter(R=>R.member_id===ie.id).length)||0;return{member:ie,eventCount:D}}).sort((ie,D)=>D.eventCount-ie.eventCount);p({totalMembers:ee.length,activeMembers:$,memberParticipation:Z})}}catch(ee){console.error("Error loading member stats:",ee)}},Q=async()=>{try{const{data:ee}=await Je.from("songs").select("*").eq("group_id",e).eq("type","song").not("artist","is",null),{data:W}=await Je.from("setlist_songs").select(`
          song_id,
          song:songs!inner(artist)
        `);if(ee&&W){const $=new Map;ee.forEach(ie=>{if(ie.artist){const D=$.get(ie.artist)||{songCount:0,usageCount:0};$.set(ie.artist,{...D,songCount:D.songCount+1})}}),W.forEach(ie=>{var R;const D=(R=ie.song)==null?void 0:R.artist;if(D){const V=$.get(D)||{songCount:0,usageCount:0};$.set(D,{...V,usageCount:V.usageCount+1})}});const Z=Array.from($.entries()).map(([ie,D])=>({artist:ie,...D})).sort((ie,D)=>D.usageCount-ie.usageCount).slice(0,10);w(Z)}}catch(ee){console.error("Error loading artist stats:",ee)}};return t?h.jsx("div",{className:"p-6",children:h.jsxs("div",{className:"animate-pulse space-y-6",children:[h.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(ee=>h.jsx("div",{className:"h-32 bg-gray-200 rounded"},ee))})]})}):h.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Analytics Dashboard"}),h.jsxs("select",{value:v,onChange:ee=>N(ee.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[h.jsx("option",{value:"3m",children:"Últimos 3 meses"}),h.jsx("option",{value:"6m",children:"Últimos 6 meses"}),h.jsx("option",{value:"1y",children:"Último año"}),h.jsx("option",{value:"all",children:"Todo el tiempo"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Eventos"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.totalEvents)||0})]}),h.jsx(fp,{className:"w-8 h-8 text-blue-500"})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Próximos Eventos"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.upcomingEvents)||0})]}),h.jsx(mN,{className:"w-8 h-8 text-green-500"})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-purple-500",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Setlists"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(l==null?void 0:l.totalSetlists)||0})]}),h.jsx(Si,{className:"w-8 h-8 text-purple-500"})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-orange-500",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Miembros Activos"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(f==null?void 0:f.activeMembers)||0})]}),h.jsx(Sf,{className:"w-8 h-8 text-orange-500"})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(WD,{className:"w-5 h-5 text-yellow-500"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Canciones Más Tocadas"})]}),h.jsx("div",{className:"space-y-3",children:r.slice(0,5).map((ee,W)=>h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"w-6 h-6 bg-yellow-100 text-yellow-800 rounded-full flex items-center justify-center text-sm font-bold",children:W+1}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900",children:ee.song.title}),h.jsx("p",{className:"text-sm text-gray-500",children:ee.song.artist})]})]}),h.jsxs("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-sm font-medium",children:[ee.usageCount," veces"]})]},ee.song.id))})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(Y2,{className:"w-5 h-5 text-blue-500"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Artistas Más Tocados"})]}),h.jsx("div",{className:"space-y-3",children:m.slice(0,5).map((ee,W)=>h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"w-6 h-6 bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-sm font-bold",children:W+1}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900",children:ee.artist}),h.jsxs("p",{className:"text-sm text-gray-500",children:[ee.songCount," canciones"]})]})]}),h.jsxs("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-sm font-medium",children:[ee.usageCount," usos"]})]},ee.artist))})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(QD,{className:"w-5 h-5 text-green-500"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Estadísticas de Setlists"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Promedio de canciones"}),h.jsx("span",{className:"font-bold text-gray-900",children:(l==null?void 0:l.averageSongsPerSetlist)||0})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Setlist más largo"}),h.jsxs("span",{className:"font-bold text-gray-900",children:[(l==null?void 0:l.longestSetlist.songCount)||0," canciones"]})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Setlist más corto"}),h.jsxs("span",{className:"font-bold text-gray-900",children:[(l==null?void 0:l.shortestSetlist.songCount)||0," canciones"]})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Promedio por evento"}),h.jsxs("span",{className:"font-bold text-gray-900",children:[(s==null?void 0:s.averageSetlistSize)||0," canciones"]})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(Sf,{className:"w-5 h-5 text-purple-500"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Participación de Miembros"})]}),h.jsx("div",{className:"space-y-3",children:f==null?void 0:f.memberParticipation.slice(0,5).map((ee,W)=>{var $;return h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"w-6 h-6 bg-purple-100 text-purple-800 rounded-full flex items-center justify-center text-sm font-bold",children:W+1}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900",children:ee.member.name}),h.jsx("p",{className:"text-sm text-gray-500",children:(($=ee.member.role)==null?void 0:$.name)||"Sin rol"})]})]}),h.jsxs("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-sm font-medium",children:[ee.eventCount," eventos"]})]},ee.member.id)})})]})]}),(s==null?void 0:s.monthlyEvents)&&s.monthlyEvents.length>0&&h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(Y2,{className:"w-5 h-5 text-indigo-500"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Eventos por Mes"})]}),h.jsx("div",{className:"flex items-end gap-2 h-32",children:s.monthlyEvents.map((ee,W)=>h.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[h.jsx("div",{className:"bg-indigo-500 w-full rounded-t",style:{height:`${Math.max(ee.count/Math.max(...s.monthlyEvents.map($=>$.count))*100,5)}%`}}),h.jsx("span",{className:"text-xs text-gray-600 mt-2 transform -rotate-45 origin-left",children:ee.month}),h.jsx("span",{className:"text-xs font-bold text-gray-900",children:ee.count})]},W))})]})]})};function Bv({defaultTab:e}){const{id:t}=PS(),n=Ia(),r=vo(),[i,s]=E.useState(null),[a,l]=E.useState([]),[c,f]=E.useState([]),[p,m]=E.useState(!1),[w,v]=E.useState(!1),[N,k]=E.useState(!1),[C,_]=E.useState(null),[S,L]=E.useState(null),[F,Q]=E.useState(!0),[ee,W]=E.useState(!1),[$,Z]=E.useState(null),[ie,D]=E.useState(!1),[R,V]=E.useState([]),{user:Y}=Is(),[he,ge]=E.useState(!1),[J,B]=E.useState(!1),[te,oe]=E.useState(""),Pe=()=>{if(e)return e;const P=new URLSearchParams(r.search).get("tab");return r.pathname.endsWith("/songs")?"songs":r.pathname.endsWith("/setlists")?"setlists":P==="analytics"?"analytics":"overview"},[O,G]=E.useState(Pe()),re=ue=>{switch(G(ue),ue){case"songs":n(`/group/${t}/songs`);break;case"setlists":n(`/group/${t}/setlists`);break;case"analytics":n(`/group/${t}?tab=analytics`);break;case"overview":default:n(`/group/${t}`);break}};E.useEffect(()=>{G(Pe())},[r.pathname,r.search,e]),E.useEffect(()=>{t&&de()},[t,Y]),E.useEffect(()=>{t&&Y&&ae()},[t,Y,a]);const ae=async()=>{if(Y)try{const ue=await Fn(()=>Je.from("users").select("role").eq("id",Y.id).single(),"Error checking permissions");ue&&(Z(ue.role),W(ue.role==="admin"));const P=a.find(Ce=>Ce.user_id===Y.id);ge(!!P),D((P==null?void 0:P.role_in_group)==="principal"||!1),(P==null?void 0:P.role_in_group)==="principal"&&W(!0)}catch(ue){console.error("Error checking permissions:",ue)}},de=async()=>{try{const ue=await Fn(()=>Je.from("groups").select("*").eq("id",t).single(),"Error loading group");ue&&s(ue);const P=await Fn(()=>Je.from("group_members").select(`
            *,
            group_member_roles!group_member_roles_group_member_id_fkey (
              role:roles (
                id,
                name
              )
            )
          `).eq("group_id",t).order("role_in_group",{ascending:!1}).order("name"),"Error loading members");if(P){const Ie=P.map(ce=>({...ce,instruments:(ce.group_member_roles||[]).filter(Ne=>Ne==null?void 0:Ne.role).map(Ne=>({id:Ne.role.id,name:Ne.role.name}))}));l(Ie)}const Ce=await Fn(()=>Je.from("roles").select("*").eq("group_id",t).order("name"),"Error loading roles");Ce&&f(Ce)}catch(ue){console.error("Error fetching group data:",ue)}finally{Q(!1)}},ke=async ue=>{if(!(!Y||!t))try{await Fn(()=>Je.rpc("link_group_member",{p_member_id:ue,p_user_id:Y.id,p_group_id:t}),"Error linking member"),Be.success("¡Te has vinculado correctamente!"),await de(),await ae()}catch(P){console.error("Error linking member:",P)}},Ee=ue=>{_(ue),v(!0)},je=ue=>{L(ue),k(!0)},we=async()=>{if(S)try{await Fn(()=>Je.from("group_members").delete().eq("id",S.id),"Error deleting member"),Be.success("Miembro eliminado correctamente"),k(!1),L(null),de()}catch(ue){console.error("Error deleting member:",ue)}},fe=a.filter(ue=>ue.role_in_group==="principal"),xe=a.filter(ue=>ue.role_in_group==="sustituto"),Te=(ue,P)=>h.jsxs("div",{children:[h.jsx("div",{className:"bg-gray-50 px-3 py-2",children:h.jsx("h3",{className:"text-sm font-medium text-gray-700",children:P})}),h.jsx("div",{className:"divide-y",children:ue.map(Ce=>h.jsxs("div",{className:"p-3 hover:bg-gray-50",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"font-medium text-gray-900",children:Ce.name}),h.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${Ce.role_in_group==="principal"?"bg-indigo-100 text-indigo-700":"bg-yellow-100 text-yellow-700"}`,children:Ce.role_in_group==="principal"?"Principal":"Sustituto"}),!Ce.user_id&&h.jsx("span",{className:"text-xs text-gray-500",children:"(Sin vincular)"})]}),Ce.instruments.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Ce.instruments.map((Ie,ce)=>h.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[h.jsx(Si,{className:"w-3 h-3 mr-1"}),Ie.name]},`${Ce.id}-${Ie.id}-${ce}`))}),Ce.user_id===(Y==null?void 0:Y.id)&&h.jsx("div",{className:"mt-2 flex items-center",children:h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:Ce.sync_calendar,onChange:async()=>{try{await Fn(()=>Je.from("group_members").update({sync_calendar:!Ce.sync_calendar}).eq("id",Ce.id),"Error actualizando preferencias de calendario"),Be.success("Preferencias de calendario actualizadas"),de()}catch(Ie){console.error("Error:",Ie)}},className:"sr-only peer"}),h.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"}),h.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Sincronizar eventos al calendario"})]})}),Ce.user_id===(Y==null?void 0:Y.id)&&Ce.sync_calendar&&h.jsxs("button",{onClick:()=>Oe(Ce.id),className:"mt-2 text-sm text-indigo-600 hover:text-indigo-700 flex items-center",children:[h.jsx(fp,{className:"w-4 h-4 mr-1"}),"Obtener enlace de suscripción al calendario"]})]}),h.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[($==="admin"||Ce.user_id===(Y==null?void 0:Y.id))&&h.jsx("button",{onClick:()=>Ee(Ce),className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",title:"Editar miembro",children:h.jsx(pN,{className:"w-4 h-4"})}),($==="admin"||ie)&&h.jsx("button",{onClick:()=>je(Ce),className:"p-1 text-red-400 hover:text-red-600 rounded-full hover:bg-red-50",title:"Eliminar miembro",children:h.jsx(C5,{className:"w-4 h-4"})})]})]}),!Ce.user_id&&!he&&h.jsxs(_t,{onClick:()=>ke(Ce.id),variant:"secondary",className:"w-full mt-2 text-sm py-1",children:[h.jsx(t3,{className:"w-3 h-3 mr-1"}),"Soy este miembro"]})]},Ce.id))})]}),Oe=async ue=>{try{const{data:P,error:Ce}=await Je.rpc("get_group_calendar",{p_group_id:i==null?void 0:i.id,p_member_id:ue});if(Ce)throw Ce;if(!P)throw new Error("No se pudo generar el calendario");const Ie=new Blob([P],{type:"text/calendar"}),ce=new File([Ie],"calendar.ics",{type:"text/calendar"}),{error:Ne}=await Je.storage.from("calendars").upload(`${i==null?void 0:i.id}/${ue}/calendar.ics`,ce,{cacheControl:"0",upsert:!0});if(Ne)throw console.error("Upload error:",Ne),Ne;const{data:{publicUrl:Fe}}=await Je.storage.from("calendars").getPublicUrl(`${i==null?void 0:i.id}/${ue}/calendar.ics`);if(Fe)oe(Fe),B(!0);else throw new Error("No se pudo generar el enlace público")}catch(P){console.error("Error:",P),P.message==="new row violates row-level security policy"?Be.error("Error de permisos al generar el calendario. Por favor, contacta con el administrador."):Be.error("Error al generar el enlace del calendario")}};return F?h.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:h.jsx(Cc,{className:"w-8 h-8 animate-spin text-indigo-600"})}):i?h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:i.name}),h.jsx("p",{className:"text-gray-500 mt-1",children:"Gestiona miembros y disponibilidad"})]}),(ee||ie)&&(!he||$==="admin"||ie)&&h.jsxs(_t,{onClick:()=>m(!0),className:"flex items-center space-x-2",children:[h.jsx(Ag,{className:"w-5 h-5"}),h.jsx("span",{children:$==="admin"||ie?"Añadir Miembro":"Unirse al Grupo"})]})]}),h.jsx("div",{className:"border-b border-gray-200 mb-6",children:h.jsxs("nav",{className:"-mb-px flex space-x-8",children:[h.jsxs("button",{onClick:()=>re("overview"),className:`${O==="overview"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[h.jsx(fp,{className:"w-4 h-4"}),h.jsx("span",{children:"Vista General"})]}),h.jsxs("button",{onClick:()=>re("songs"),className:`${O==="songs"||O==="setlists"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[h.jsx(YD,{className:"w-4 h-4"}),h.jsx("span",{children:"Canciones y Setlists"})]}),h.jsxs("button",{onClick:()=>re("analytics"),className:`${O==="analytics"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[h.jsx(Y2,{className:"w-4 h-4"}),h.jsx("span",{children:"Analytics"})]})]})}),O==="overview"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[h.jsx("div",{className:"p-4 border-b",children:h.jsx("h2",{className:"text-lg font-semibold",children:"Miembros del Grupo"})}),a.length===0?h.jsxs("div",{className:"text-center py-8",children:[h.jsx(t3,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),h.jsxs("p",{className:"text-gray-500",children:["No hay miembros aún. ",ee?'¡Haz clic en "Unirse al Grupo" para ser el primer miembro!':"Espera a que alguien se una al grupo."]})]}):h.jsxs("div",{className:"divide-y divide-gray-200",children:[fe.length>0&&Te(fe,"Miembros Principales"),xe.length>0&&Te(xe,"Miembros Sustitutos")]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[h.jsx("div",{className:"p-4 border-b",children:h.jsx("h2",{className:"text-lg font-semibold",children:"Disponibilidad"})}),h.jsx("div",{className:"p-4",children:h.jsx(A$,{members:a,onAvailableDatesChange:V,groupName:i.name})})]})]}),i&&t&&h.jsx("div",{className:"mt-6 bg-white rounded-lg shadow-md",children:h.jsx(qB,{groupId:t,canManageEvents:$==="admin"||ie,availableDates:R,members:a})})]}),(O==="songs"||O==="setlists")&&i&&t&&h.jsx(Zz,{groupId:t,canManageSongs:$==="admin"||ie,canManageSetlists:$==="admin"||ie,defaultTab:O==="setlists"?"setlists":"songs"}),O==="analytics"&&i&&t&&h.jsx(eq,{groupId:t}),i&&(ee||ie)&&(!he||$==="admin"||ie)&&h.jsx(KI,{isOpen:p,onClose:()=>m(!1),groupId:i.id,instruments:c,onMemberAdded:de,isEmptyGroup:a.length===0,userRole:$}),C&&h.jsx(JI,{isOpen:w,onClose:()=>{v(!1),_(null)},member:C,instruments:c,onMemberUpdated:de,userRole:$}),h.jsx(WB,{isOpen:N,onClose:()=>{k(!1),L(null)},onConfirm:we,title:"Eliminar Miembro",message:`¿Estás seguro de que quieres eliminar a ${S==null?void 0:S.name}? Esta acción no se puede deshacer.`}),h.jsx(HB,{isOpen:J,onClose:()=>B(!1),calendarUrl:te})]}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Grupo no encontrado"}),h.jsx("p",{className:"text-gray-500 mt-2",children:"El grupo que buscas no existe o no tienes acceso a él."})]})}function Hm({children:e}){console.log("ProtectedRoute mounted");const{user:t}=Is(),n=vo(),[r,i]=E.useState(!1);console.log("ProtectedRoute check:",{user:t,currentPath:n.pathname}),E.useEffect(()=>{const a=new URLSearchParams(n.search),l=a.get("code"),c=a.get("state"),f=a.get("error");if(console.log("🎵 ProtectedRoute: Checking Spotify params:",{spotifyCode:l?l.substring(0,10)+"...":null,spotifyState:c,spotifyError:f}),f){console.log("❌ Spotify auth error:",f),Be.error(`Error de autenticación de Spotify: ${f}`);const p=new URL(window.location.href);p.searchParams.delete("error"),window.history.replaceState({},document.title,p.toString())}else l&&c&&!r&&(console.log("✅ Processing Spotify auth in ProtectedRoute..."),i(!0),s(l,c))},[n.search,r]);const s=async(a,l)=>{try{if(console.log("🎵 ProtectedRoute: Starting Spotify auth..."),await xi.handleAuthCallback(a,l)){console.log("🎵 ProtectedRoute: Auth successful");const f=await xi.getCurrentUser();Be.success(`¡Conectado a Spotify como ${f.display_name}!`);const p=localStorage.getItem("spotify_return_url");if(console.log("🎵 ProtectedRoute: Return URL:",p),p){localStorage.removeItem("spotify_return_url"),window.location.href=p;return}}else console.log("❌ ProtectedRoute: Auth failed"),Be.error("Error al conectar con Spotify")}catch(c){console.error("❌ ProtectedRoute: Error in Spotify auth:",c),Be.error("Error al autenticar con Spotify")}finally{const c=new URL(window.location.href);c.searchParams.delete("code"),c.searchParams.delete("state"),window.history.replaceState({},document.title,c.toString()),i(!1)}};return r?h.jsx("div",{className:"flex justify-center items-center min-h-screen",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),h.jsx("p",{children:"Conectando con Spotify..."})]})}):t?h.jsx(h.Fragment,{children:e}):(console.log("No user in ProtectedRoute, redirecting to login"),h.jsx(r7,{to:"/login",state:{returnTo:n.pathname+n.search},replace:!0}))}function tq(){return h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[h.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Política de Privacidad"}),h.jsxs("div",{className:"prose prose-indigo",children:[h.jsxs("p",{className:"mb-4",children:["Última actualización: ",new Date().toLocaleDateString()]}),h.jsxs("section",{className:"mb-8",children:[h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Información que Recopilamos"}),h.jsx("p",{children:"Band Manager recopila la siguiente información personal:"}),h.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[h.jsx("li",{children:"Dirección de correo electrónico"}),h.jsx("li",{children:"Nombre"}),h.jsx("li",{children:"Información de perfil de usuario"})]})]}),h.jsxs("section",{className:"mb-8",children:[h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Uso de Permisos"}),h.jsx("p",{children:"Nuestra aplicación requiere ciertos permisos para funcionar correctamente:"}),h.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Acceso a Internet:"})," Necesario para sincronizar datos con nuestros servidores, guardar la información de tu banda y permitir la colaboración entre miembros."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Almacenamiento:"})," Utilizado para guardar archivos localmente (como partituras, letras de canciones y configuraciones de la aplicación) mejorando así el rendimiento y permitiendo el uso sin conexión."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Notificaciones:"})," Para mantenerte informado sobre actualizaciones importantes, mensajes de otros miembros de la banda y recordatorios de eventos."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Cámara (opcional):"})," Solo si decides subir fotos directamente desde la aplicación para tu perfil o contenido de la banda."]})]}),h.jsx("p",{className:"mb-4",children:"Todos estos permisos son utilizados exclusivamente para proporcionar y mejorar las funcionalidades de la aplicación. No compartimos ninguna información recopilada a través de estos permisos con terceros."}),h.jsx("p",{children:"Puedes gestionar estos permisos en cualquier momento a través de la configuración de tu dispositivo. Ten en cuenta que desactivar ciertos permisos puede limitar algunas funcionalidades de la aplicación."})]}),h.jsxs("section",{className:"mb-8",children:[h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Cómo Utilizamos su Información"}),h.jsx("p",{children:"Utilizamos la información recopilada para:"}),h.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[h.jsx("li",{children:"Proporcionar y mantener nuestro servicio"}),h.jsx("li",{children:"Gestionar su cuenta y membresía"}),h.jsx("li",{children:"Permitir la participación en funciones interactivas"}),h.jsx("li",{children:"Enviar notificaciones relacionadas con el servicio"})]})]}),h.jsxs("section",{className:"mb-8",children:[h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Seguridad de los Datos"}),h.jsx("p",{children:"La seguridad de sus datos es importante para nosotros. Utilizamos Supabase como nuestra plataforma de base de datos y autenticación, que implementa estándares de seguridad de la industria para proteger su información personal."})]}),h.jsxs("section",{className:"mb-8",children:[h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Sus Derechos"}),h.jsx("p",{children:"Usted tiene derecho a:"}),h.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[h.jsx("li",{children:"Acceder a sus datos personales"}),h.jsx("li",{children:"Corregir datos inexactos"}),h.jsx("li",{children:"Solicitar la eliminación de sus datos"}),h.jsx("li",{children:"Oponerse al procesamiento de sus datos"})]})]}),h.jsxs("section",{className:"mb-8",children:[h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Contacto"}),h.jsxs("p",{children:["Si tiene preguntas sobre esta Política de Privacidad, puede contactarnos en:",h.jsx("br",{}),h.jsx("a",{href:"mailto:privacy@bandmanager.com",className:"text-indigo-600 hover:text-indigo-800",children:"privacy@bandmanager.com"})]})]})]})]})}function nq(){console.log("AcceptInvitation component mounted");const[e]=MS(),t=e.get("token"),n=Ia(),{user:r}=Is(),[i,s]=E.useState(!0),[a,l]=E.useState(null);E.useEffect(()=>{if(console.log("AcceptInvitation useEffect triggered",{token:t,user:r,groupMemberId:e.get("group_member_id"),currentPath:window.location.pathname+window.location.search}),!t){console.log("No token found"),Be.error("Token de invitación no válido"),n("/");return}(async()=>{try{if(!r){const v=`/accept-invitation?token=${t}&group_member_id=${e.get("group_member_id")}`;console.log("No user found, redirecting to login with return URL:",v),n("/login",{state:{returnTo:v}});return}const{data:p,error:m}=await Je.rpc("get_invitation_details",{p_token:t});if(console.log("Invitation check result:",{invitationData:p,invitationError:m}),m)throw m;if(!p||p.length===0){Be.error("Invitación no encontrada o ya procesada"),n("/");return}const w=p[0];if(console.log("Invitation data:",w),r.email!==w.email){Be.error("Esta invitación es para otro correo electrónico"),n("/");return}if(!e.get("group_member_id")){const v=new URLSearchParams(e);v.set("group_member_id",w.group_member_id),n(`${location.pathname}?${v.toString()}`,{replace:!0})}l({groupName:w.group_name,role:w.role_in_group}),s(!1)}catch(p){console.error("Error checking invitation:",p),Be.error(p.message||"Error al verificar la invitación"),n("/")}})()},[t,r,n,e]);const c=async f=>{try{s(!0);const{data:p,error:m}=await Je.rpc("get_invitation_details",{p_token:t});if(m)throw m;if(!p||p.length===0)throw new Error("Invitación no encontrada");const{group_member_id:w}=p[0],{error:v}=await Je.rpc("handle_group_invitation",{p_group_member_id:w,p_accept:f});if(v)throw v;Be.success(f?"Invitación aceptada":"Invitación rechazada"),n("/")}catch(p){console.error("Error handling invitation:",p),Be.error(p.message)}finally{s(!1)}};return i?h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500 mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando invitación..."})]})}):a?h.jsx("div",{className:"max-w-lg mx-auto mt-16 p-6",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[h.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Invitación a Grupo"}),h.jsxs("div",{className:"mb-8 text-center",children:[h.jsxs("p",{className:"text-lg mb-2",children:["Has sido invitado a unirte a ",h.jsx("strong",{children:a.groupName})]}),h.jsxs("p",{className:"text-gray-600",children:["Rol: ",h.jsx("span",{className:"capitalize",children:a.role})]})]}),h.jsxs("div",{className:"flex justify-center space-x-4",children:[h.jsx(_t,{onClick:()=>c(!0),loading:i,className:"bg-green-500 hover:bg-green-600",children:"Aceptar"}),h.jsx(_t,{onClick:()=>c(!1),variant:"secondary",loading:i,className:"bg-red-500 hover:bg-red-600 text-white",children:"Rechazar"})]})]})}):null}function rq(){const[e,t]=E.useState(""),[n,r]=E.useState(""),[i,s]=E.useState(!1),a=async l=>{l.preventDefault(),s(!0),r("");const{error:c}=await Je.auth.resetPasswordForEmail(e,{redirectTo:"https://bandplan.netlify.app/reset-password"});s(!1),r(c?"Error: "+c.message:"¡Revisa tu correo para continuar el proceso!")};return h.jsx("div",{className:"max-w-md mx-auto mt-16",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[h.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"¿Olvidaste tu contraseña?"}),h.jsxs("form",{onSubmit:a,className:"space-y-6",children:[h.jsx(Vn,{label:"Email",type:"email",value:e,onChange:l=>t(l.target.value),required:!0,placeholder:"tu@email.com"}),h.jsx(_t,{type:"submit",loading:i,fullWidth:!0,children:"Enviar enlace"})]}),n&&h.jsx("div",{className:`mt-4 p-3 rounded-lg ${n.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:n}),h.jsx("p",{className:"mt-4 text-center text-sm text-gray-600",children:h.jsx(kc,{to:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"Volver al login"})})]})})}function iq(){const[e,t]=E.useState(""),[n,r]=E.useState(""),[i,s]=E.useState(!1),[a,l]=E.useState(!1),[c,f]=E.useState(!1),p=Ia(),m=vo();E.useEffect(()=>{(async()=>{var N;console.log("Verificando autenticación para reset de contraseña");try{const{data:k}=await Je.auth.getSession(),C=new URLSearchParams(m.search),_=C.get("token"),S=C.get("type"),L=(N=m.state)==null?void 0:N.resetCode,F=localStorage.getItem("recovery_token");if(console.log("Verificando tokens de recuperación:",{urlToken:(_==null?void 0:_.substring(0,10))+"..."||"No presente",stateResetCode:L?"Presente":"No presente",storedToken:F?"Presente":"No presente",type:S}),console.log("Sesión activa:",!!k.session),_&&S==="recovery")console.log("Token de recuperación válido detectado en URL"),f(!0);else if(L){console.log("Código de recuperación detectado en state"),f(!0);try{await Je.auth.verifyOtp({token_hash:L,type:"recovery"})}catch(Q){console.warn("Error al verificar OTP con resetCode:",Q)}}else if(F){console.log("Token de recuperación encontrado en localStorage"),f(!0),localStorage.removeItem("recovery_token");try{await Je.auth.verifyOtp({token_hash:F,type:"recovery"})}catch(Q){console.warn("Error al verificar OTP con storedToken:",Q)}}else k.session?(console.log("Sesión activa detectada, permitiendo reset de contraseña"),f(!0)):a||(console.log("No hay token de recuperación válido ni sesión activa"),p("/login"))}catch(k){console.error("Error al verificar autenticación:",k),p("/login")}})()},[m,p,a]);const w=async v=>{v.preventDefault(),s(!0),r("");try{const{error:N}=await Je.auth.updateUser({password:e});if(N)throw N;l(!0),r("¡Contraseña actualizada correctamente! Redirigiendo al inicio..."),setTimeout(()=>{p("/",{replace:!0})},2e3)}catch(N){r("Error: "+N.message)}finally{s(!1)}};return h.jsx("div",{className:"max-w-md mx-auto mt-16",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[h.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Restablecer contraseña"}),c?h.jsxs(h.Fragment,{children:[h.jsxs("form",{onSubmit:w,className:"space-y-6",children:[h.jsx(Vn,{label:"Nueva contraseña",type:"password",value:e,onChange:v=>t(v.target.value),required:!0,placeholder:"••••••••"}),h.jsx(_t,{type:"submit",loading:i,fullWidth:!0,children:"Actualizar contraseña"})]}),n&&h.jsx("div",{className:`mt-4 p-3 rounded-lg ${n.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:n})]}):h.jsxs("div",{className:"py-6 text-center",children:[h.jsx("div",{className:"animate-pulse inline-block p-3 mb-4 rounded-full bg-indigo-100",children:h.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),h.jsx("p",{className:"text-gray-700 mb-2",children:"Verificando token de recuperación..."}),h.jsxs("p",{className:"text-sm text-gray-500",children:["Si no eres redirigido automáticamente, solicita un",h.jsx(kc,{to:"/forgot-password",className:"text-indigo-600 hover:text-indigo-500",children:" nuevo enlace"}),"."]})]})]})})}function sq(){const{setUser:e,setSession:t}=Is();E.useEffect(()=>{const r=new URLSearchParams(window.location.search),i=r.get("token"),s=r.get("type"),a=window.location.hash,l=r.get("code"),c=r.get("state"),f=r.get("error");if(console.log("App: Verificando parámetros en URL:",{token:i?i.substring(0,10)+"...":null,type:s,hash:a.length>0?a.substring(0,20)+"...":null,spotifyCode:l?l.substring(0,10)+"...":null,spotifyState:c,spotifyError:f,fullURL:window.location.href,searchParams:window.location.search}),f){console.log("❌ Spotify auth error:",f),Be.error(`Error de autenticación de Spotify: ${f}`);const p=new URL(window.location.href);p.searchParams.delete("error"),window.history.replaceState({},document.title,p.toString())}else l&&c?(console.log("✅ Procesando autenticación de Spotify..."),console.log("🎵 Spotify Code:",l.substring(0,10)+"..."),console.log("🎵 Spotify State:",c),n(l,c)):l||c?console.log("⚠️ Spotify params parciales:",{spotifyCode:!!l,spotifyState:!!c}):i&&s==="recovery"&&window.location.pathname!=="/reset-password"?(console.log("App: Token PKCE de recuperación detectado, redirigiendo a /reset-password"),window.location.replace(`/reset-password?token=${i}&type=${s}`)):a.includes("access_token=")&&a.includes("type=recovery")&&window.location.pathname!=="/reset-password"&&(console.log("App: Token hash de recuperación detectado, redirigiendo a /reset-password"),window.location.replace("/reset-password"+a))},[]);const n=async(r,i)=>{try{if(console.log("🎵 App: Iniciando autenticación de Spotify..."),await xi.handleAuthCallback(r,i)){console.log("🎵 App: Autenticación exitosa");const a=await xi.getCurrentUser();Be.success(`¡Conectado a Spotify como ${a.display_name}!`);const l=localStorage.getItem("spotify_return_url");if(console.log("🎵 Return URL saved:",l),console.log("🎵 Current URL:",window.location.href),l){const c=new URL(l),f=new URL(window.location.href);if(c.pathname!==f.pathname){console.log("🎵 Redirecting back to:",l),localStorage.removeItem("spotify_return_url"),window.location.href=l;return}}}else console.log("❌ App: Error en autenticación"),Be.error("Error al conectar con Spotify")}catch(s){console.error("❌ App: Error en callback de Spotify:",s),Be.error("Error al autenticar con Spotify")}finally{const s=new URL(window.location.href);s.searchParams.delete("code"),s.searchParams.delete("state"),window.history.replaceState({},document.title,s.toString())}};return E.useEffect(()=>{console.log("App mounted"),Je.auth.getSession().then(({data:{session:i}})=>{console.log("Initial session:",i),t(i),e((i==null?void 0:i.user)??null)});const{data:{subscription:r}}=Je.auth.onAuthStateChange((i,s)=>{console.log("Auth state changed:",s),t(s),e((s==null?void 0:s.user)??null)});return()=>r.unsubscribe()},[e,t]),h.jsx(h7,{children:h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(eM,{}),h.jsx("main",{className:"container mx-auto px-4 py-8",children:h.jsxs(s7,{children:[h.jsx(Sa,{path:"/login",element:h.jsx(tM,{})}),h.jsx(Sa,{path:"/register",element:h.jsx(nM,{})}),h.jsx(Sa,{path:"/forgot-password",element:h.jsx(rq,{})}),h.jsx(Sa,{path:"/reset-password",element:h.jsx(iq,{})}),h.jsx(Sa,{path:"/accept-invitation",element:h.jsx(nq,{})}),h.jsx(Sa,{path:"/",element:h.jsx(Hm,{children:h.jsx(YI,{})})}),h.jsx(Sa,{path:"/group/:id",element:h.jsx(Hm,{children:h.jsx(Bv,{})})}),h.jsx(Sa,{path:"/group/:id/songs",element:h.jsx(Hm,{children:h.jsx(Bv,{defaultTab:"songs"})})}),h.jsx(Sa,{path:"/group/:id/setlists",element:h.jsx(Hm,{children:h.jsx(Bv,{defaultTab:"setlists"})})}),h.jsx(Sa,{path:"/privacy-policy",element:h.jsx(tq,{})})]})}),h.jsx(aT,{position:"top-right"})]})})}NS(document.getElementById("root")).render(h.jsx(E.StrictMode,{children:h.jsx(sq,{})}));export{Sn as _,ni as c,d_ as g};
