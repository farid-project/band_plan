function VC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function GC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var y_={exports:{}},lg={},w_={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=Symbol.for("react.element"),YC=Symbol.for("react.portal"),KC=Symbol.for("react.fragment"),JC=Symbol.for("react.strict_mode"),XC=Symbol.for("react.profiler"),QC=Symbol.for("react.provider"),ZC=Symbol.for("react.context"),eA=Symbol.for("react.forward_ref"),tA=Symbol.for("react.suspense"),nA=Symbol.for("react.memo"),rA=Symbol.for("react.lazy"),vx=Symbol.iterator;function iA(e){return e===null||typeof e!="object"?null:(e=vx&&e[vx]||e["@@iterator"],typeof e=="function"?e:null)}var x_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b_=Object.assign,__={};function Nf(e,t,n){this.props=e,this.context=t,this.refs=__,this.updater=n||x_}Nf.prototype.isReactComponent={};Nf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function S_(){}S_.prototype=Nf.prototype;function Cy(e,t,n){this.props=e,this.context=t,this.refs=__,this.updater=n||x_}var Ay=Cy.prototype=new S_;Ay.constructor=Cy;b_(Ay,Nf.prototype);Ay.isPureReactComponent=!0;var yx=Array.isArray,N_=Object.prototype.hasOwnProperty,Ly={current:null},j_={key:!0,ref:!0,__self:!0,__source:!0};function k_(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)N_.call(t,r)&&!j_.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:yp,type:e,key:s,ref:a,props:i,_owner:Ly.current}}function sA(e,t){return{$$typeof:yp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Py(e){return typeof e=="object"&&e!==null&&e.$$typeof===yp}function aA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wx=/\/+/g;function U1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?aA(""+e.key):t.toString(36)}function Gm(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case yp:case YC:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+U1(a,0):r,yx(i)?(n="",e!=null&&(n=e.replace(wx,"$&/")+"/"),Gm(i,t,n,"",function(h){return h})):i!=null&&(Py(i)&&(i=sA(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(wx,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",yx(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+U1(s,l);a+=Gm(s,t,n,c,i)}else if(c=iA(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+U1(s,l++),a+=Gm(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function gm(e,t,n){if(e==null)return e;var r=[],i=0;return Gm(e,r,"","",function(s){return t.call(n,s,i++)}),r}function oA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $i={current:null},Ym={transition:null},lA={ReactCurrentDispatcher:$i,ReactCurrentBatchConfig:Ym,ReactCurrentOwner:Ly};function E_(){throw Error("act(...) is not supported in production builds of React.")}Xt.Children={map:gm,forEach:function(e,t,n){gm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gm(e,function(){t++}),t},toArray:function(e){return gm(e,function(t){return t})||[]},only:function(e){if(!Py(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xt.Component=Nf;Xt.Fragment=KC;Xt.Profiler=XC;Xt.PureComponent=Cy;Xt.StrictMode=JC;Xt.Suspense=tA;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lA;Xt.act=E_;Xt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=b_({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Ly.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N_.call(t,c)&&!j_.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:yp,type:e.type,key:i,ref:s,props:r,_owner:a}};Xt.createContext=function(e){return e={$$typeof:ZC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:QC,_context:e},e.Consumer=e};Xt.createElement=k_;Xt.createFactory=function(e){var t=k_.bind(null,e);return t.type=e,t};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(e){return{$$typeof:eA,render:e}};Xt.isValidElement=Py;Xt.lazy=function(e){return{$$typeof:rA,_payload:{_status:-1,_result:e},_init:oA}};Xt.memo=function(e,t){return{$$typeof:nA,type:e,compare:t===void 0?null:t}};Xt.startTransition=function(e){var t=Ym.transition;Ym.transition={};try{e()}finally{Ym.transition=t}};Xt.unstable_act=E_;Xt.useCallback=function(e,t){return $i.current.useCallback(e,t)};Xt.useContext=function(e){return $i.current.useContext(e)};Xt.useDebugValue=function(){};Xt.useDeferredValue=function(e){return $i.current.useDeferredValue(e)};Xt.useEffect=function(e,t){return $i.current.useEffect(e,t)};Xt.useId=function(){return $i.current.useId()};Xt.useImperativeHandle=function(e,t,n){return $i.current.useImperativeHandle(e,t,n)};Xt.useInsertionEffect=function(e,t){return $i.current.useInsertionEffect(e,t)};Xt.useLayoutEffect=function(e,t){return $i.current.useLayoutEffect(e,t)};Xt.useMemo=function(e,t){return $i.current.useMemo(e,t)};Xt.useReducer=function(e,t,n){return $i.current.useReducer(e,t,n)};Xt.useRef=function(e){return $i.current.useRef(e)};Xt.useState=function(e){return $i.current.useState(e)};Xt.useSyncExternalStore=function(e,t,n){return $i.current.useSyncExternalStore(e,t,n)};Xt.useTransition=function(){return $i.current.useTransition()};Xt.version="18.3.1";w_.exports=Xt;var E=w_.exports;const pt=v_(E),Hv=VC({__proto__:null,default:pt},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA=E,uA=Symbol.for("react.element"),dA=Symbol.for("react.fragment"),fA=Object.prototype.hasOwnProperty,hA=cA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pA={key:!0,ref:!0,__self:!0,__source:!0};function C_(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)fA.call(t,r)&&!pA.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:uA,type:e,key:s,ref:a,props:i,_owner:hA.current}}lg.Fragment=dA;lg.jsx=C_;lg.jsxs=C_;y_.exports=lg;var d=y_.exports,A_={exports:{}},Os={},L_={exports:{}},P_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,z){var oe=$.length;$.push(z);e:for(;0<oe;){var Ae=oe-1>>>1,P=$[Ae];if(0<i(P,z))$[Ae]=z,$[oe]=P,oe=Ae;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var z=$[0],oe=$.pop();if(oe!==z){$[0]=oe;e:for(var Ae=0,P=$.length,G=P>>>1;Ae<G;){var se=2*(Ae+1)-1,ce=$[se],he=se+1,je=$[he];if(0>i(ce,oe))he<P&&0>i(je,ce)?($[Ae]=je,$[he]=oe,Ae=he):($[Ae]=ce,$[se]=oe,Ae=se);else if(he<P&&0>i(je,oe))$[Ae]=je,$[he]=oe,Ae=he;else break e}}return z}function i($,z){var oe=$.sortIndex-z.sortIndex;return oe!==0?oe:$.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],p=1,m=null,w=3,g=!1,N=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L($){for(var z=n(h);z!==null;){if(z.callback===null)r(h);else if(z.startTime<=$)r(h),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(h)}}function R($){if(j=!1,L($),!N)if(n(c)!==null)N=!0,pe(X);else{var z=n(h);z!==null&&Q(R,z.startTime-$)}}function X($,z){N=!1,j&&(j=!1,_(O),O=-1),g=!0;var oe=w;try{for(L(z),m=n(c);m!==null&&(!(m.expirationTime>z)||$&&!T());){var Ae=m.callback;if(typeof Ae=="function"){m.callback=null,w=m.priorityLevel;var P=Ae(m.expirationTime<=z);z=e.unstable_now(),typeof P=="function"?m.callback=P:m===n(c)&&r(c),L(z)}else r(c);m=n(c)}if(m!==null)var G=!0;else{var se=n(h);se!==null&&Q(R,se.startTime-z),G=!1}return G}finally{m=null,w=oe,g=!1}}var te=!1,W=null,O=-1,ee=5,ne=-1;function T(){return!(e.unstable_now()-ne<ee)}function F(){if(W!==null){var $=e.unstable_now();ne=$;var z=!0;try{z=W(!0,$)}finally{z?V():(te=!1,W=null)}}else te=!1}var V;if(typeof S=="function")V=function(){S(F)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ge=Y.port2;Y.port1.onmessage=F,V=function(){ge.postMessage(null)}}else V=function(){C(F,0)};function pe($){W=$,te||(te=!0,V())}function Q($,z){O=C(function(){$(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){N||g||(N=!0,pe(X))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function($){switch(w){case 1:case 2:case 3:var z=3;break;default:z=w}var oe=w;w=z;try{return $()}finally{w=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var oe=w;w=$;try{return z()}finally{w=oe}},e.unstable_scheduleCallback=function($,z,oe){var Ae=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ae+oe:Ae):oe=Ae,$){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=oe+P,$={id:p++,callback:z,priorityLevel:$,startTime:oe,expirationTime:P,sortIndex:-1},oe>Ae?($.sortIndex=oe,t(h,$),n(c)===null&&$===n(h)&&(j?(_(O),O=-1):j=!0,Q(R,oe-Ae))):($.sortIndex=P,t(c,$),N||g||(N=!0,pe(X))),$},e.unstable_shouldYield=T,e.unstable_wrapCallback=function($){var z=w;return function(){var oe=w;w=z;try{return $.apply(this,arguments)}finally{w=oe}}}})(P_);L_.exports=P_;var mA=L_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA=E,Ds=mA;function it(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T_=new Set,Vh={};function Uu(e,t){pf(e,t),pf(e+"Capture",t)}function pf(e,t){for(Vh[e]=t,e=0;e<t.length;e++)T_.add(t[e])}var el=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vv=Object.prototype.hasOwnProperty,vA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xx={},bx={};function yA(e){return Vv.call(bx,e)?!0:Vv.call(xx,e)?!1:vA.test(e)?bx[e]=!0:(xx[e]=!0,!1)}function wA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xA(e,t,n,r){if(t===null||typeof t>"u"||wA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bi(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var si={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){si[e]=new Bi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];si[t]=new Bi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){si[e]=new Bi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){si[e]=new Bi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){si[e]=new Bi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){si[e]=new Bi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){si[e]=new Bi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){si[e]=new Bi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){si[e]=new Bi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ty=/[\-:]([a-z])/g;function Dy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ty,Dy);si[t]=new Bi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ty,Dy);si[t]=new Bi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ty,Dy);si[t]=new Bi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){si[e]=new Bi(e,1,!1,e.toLowerCase(),null,!1,!1)});si.xlinkHref=new Bi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){si[e]=new Bi(e,1,!1,e.toLowerCase(),null,!0,!0)});function Oy(e,t,n,r){var i=si.hasOwnProperty(t)?si[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xA(t,n,i,r)&&(n=null),r||i===null?yA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var al=gA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vm=Symbol.for("react.element"),Bd=Symbol.for("react.portal"),Ud=Symbol.for("react.fragment"),My=Symbol.for("react.strict_mode"),Gv=Symbol.for("react.profiler"),D_=Symbol.for("react.provider"),O_=Symbol.for("react.context"),Iy=Symbol.for("react.forward_ref"),Yv=Symbol.for("react.suspense"),Kv=Symbol.for("react.suspense_list"),Ry=Symbol.for("react.memo"),rc=Symbol.for("react.lazy"),M_=Symbol.for("react.offscreen"),_x=Symbol.iterator;function lh(e){return e===null||typeof e!="object"?null:(e=_x&&e[_x]||e["@@iterator"],typeof e=="function"?e:null)}var cr=Object.assign,z1;function Sh(e){if(z1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z1=t&&t[1]||""}return`
`+z1+e}var q1=!1;function W1(e,t){if(!e||q1)return"";q1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{q1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Sh(e):""}function bA(e){switch(e.tag){case 5:return Sh(e.type);case 16:return Sh("Lazy");case 13:return Sh("Suspense");case 19:return Sh("SuspenseList");case 0:case 2:case 15:return e=W1(e.type,!1),e;case 11:return e=W1(e.type.render,!1),e;case 1:return e=W1(e.type,!0),e;default:return""}}function Jv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ud:return"Fragment";case Bd:return"Portal";case Gv:return"Profiler";case My:return"StrictMode";case Yv:return"Suspense";case Kv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O_:return(e.displayName||"Context")+".Consumer";case D_:return(e._context.displayName||"Context")+".Provider";case Iy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ry:return t=e.displayName||null,t!==null?t:Jv(e.type)||"Memo";case rc:t=e._payload,e=e._init;try{return Jv(e(t))}catch{}}return null}function _A(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jv(t);case 8:return t===My?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ec(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function I_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SA(e){var t=I_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ym(e){e._valueTracker||(e._valueTracker=SA(e))}function R_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=I_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function g0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xv(e,t){var n=t.checked;return cr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ec(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function F_(e,t){t=t.checked,t!=null&&Oy(e,"checked",t,!1)}function Qv(e,t){F_(e,t);var n=Ec(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zv(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zv(e,t.type,Ec(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zv(e,t,n){(t!=="number"||g0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Nh=Array.isArray;function ef(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ec(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function e2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(it(91));return cr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(it(92));if(Nh(n)){if(1<n.length)throw Error(it(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ec(n)}}function $_(e,t){var n=Ec(t.value),r=Ec(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function B_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?B_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wm,U_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wm=wm||document.createElement("div"),wm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ah={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NA=["Webkit","ms","Moz","O"];Object.keys(Ah).forEach(function(e){NA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ah[t]=Ah[e]})});function z_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ah.hasOwnProperty(e)&&Ah[e]?(""+t).trim():t+"px"}function q_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=z_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var jA=cr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n2(e,t){if(t){if(jA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(it(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(it(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(it(61))}if(t.style!=null&&typeof t.style!="object")throw Error(it(62))}}function r2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i2=null;function Fy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var s2=null,tf=null,nf=null;function Ex(e){if(e=bp(e)){if(typeof s2!="function")throw Error(it(280));var t=e.stateNode;t&&(t=hg(t),s2(e.stateNode,e.type,t))}}function W_(e){tf?nf?nf.push(e):nf=[e]:tf=e}function H_(){if(tf){var e=tf,t=nf;if(nf=tf=null,Ex(e),t)for(e=0;e<t.length;e++)Ex(t[e])}}function V_(e,t){return e(t)}function G_(){}var H1=!1;function Y_(e,t,n){if(H1)return e(t,n);H1=!0;try{return V_(e,t,n)}finally{H1=!1,(tf!==null||nf!==null)&&(G_(),H_())}}function Yh(e,t){var n=e.stateNode;if(n===null)return null;var r=hg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(it(231,t,typeof n));return n}var a2=!1;if(el)try{var ch={};Object.defineProperty(ch,"passive",{get:function(){a2=!0}}),window.addEventListener("test",ch,ch),window.removeEventListener("test",ch,ch)}catch{a2=!1}function kA(e,t,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var Lh=!1,v0=null,y0=!1,o2=null,EA={onError:function(e){Lh=!0,v0=e}};function CA(e,t,n,r,i,s,a,l,c){Lh=!1,v0=null,kA.apply(EA,arguments)}function AA(e,t,n,r,i,s,a,l,c){if(CA.apply(this,arguments),Lh){if(Lh){var h=v0;Lh=!1,v0=null}else throw Error(it(198));y0||(y0=!0,o2=h)}}function zu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function K_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cx(e){if(zu(e)!==e)throw Error(it(188))}function LA(e){var t=e.alternate;if(!t){if(t=zu(e),t===null)throw Error(it(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Cx(i),e;if(s===r)return Cx(i),t;s=s.sibling}throw Error(it(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(it(189))}}if(n.alternate!==r)throw Error(it(190))}if(n.tag!==3)throw Error(it(188));return n.stateNode.current===n?e:t}function J_(e){return e=LA(e),e!==null?X_(e):null}function X_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=X_(e);if(t!==null)return t;e=e.sibling}return null}var Q_=Ds.unstable_scheduleCallback,Ax=Ds.unstable_cancelCallback,PA=Ds.unstable_shouldYield,TA=Ds.unstable_requestPaint,br=Ds.unstable_now,DA=Ds.unstable_getCurrentPriorityLevel,$y=Ds.unstable_ImmediatePriority,Z_=Ds.unstable_UserBlockingPriority,w0=Ds.unstable_NormalPriority,OA=Ds.unstable_LowPriority,e4=Ds.unstable_IdlePriority,cg=null,ho=null;function MA(e){if(ho&&typeof ho.onCommitFiberRoot=="function")try{ho.onCommitFiberRoot(cg,e,void 0,(e.current.flags&128)===128)}catch{}}var Pa=Math.clz32?Math.clz32:FA,IA=Math.log,RA=Math.LN2;function FA(e){return e>>>=0,e===0?32:31-(IA(e)/RA|0)|0}var xm=64,bm=4194304;function jh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function x0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=jh(l):(s&=a,s!==0&&(r=jh(s)))}else a=n&~i,a!==0?r=jh(a):s!==0&&(r=jh(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pa(t),i=1<<n,r|=e[n],t&=~i;return r}function $A(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Pa(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=$A(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function l2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function t4(){var e=xm;return xm<<=1,!(xm&4194240)&&(xm=64),e}function V1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pa(t),e[t]=n}function UA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Pa(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function By(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pa(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var jn=0;function n4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var r4,Uy,i4,s4,a4,c2=!1,_m=[],vc=null,yc=null,wc=null,Kh=new Map,Jh=new Map,oc=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lx(e,t){switch(e){case"focusin":case"focusout":vc=null;break;case"dragenter":case"dragleave":yc=null;break;case"mouseover":case"mouseout":wc=null;break;case"pointerover":case"pointerout":Kh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jh.delete(t.pointerId)}}function uh(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=bp(t),t!==null&&Uy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function qA(e,t,n,r,i){switch(t){case"focusin":return vc=uh(vc,e,t,n,r,i),!0;case"dragenter":return yc=uh(yc,e,t,n,r,i),!0;case"mouseover":return wc=uh(wc,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Kh.set(s,uh(Kh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Jh.set(s,uh(Jh.get(s)||null,e,t,n,r,i)),!0}return!1}function o4(e){var t=ju(e.target);if(t!==null){var n=zu(t);if(n!==null){if(t=n.tag,t===13){if(t=K_(n),t!==null){e.blockedOn=t,a4(e.priority,function(){i4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Km(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=u2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);i2=r,n.target.dispatchEvent(r),i2=null}else return t=bp(n),t!==null&&Uy(t),e.blockedOn=n,!1;t.shift()}return!0}function Px(e,t,n){Km(e)&&n.delete(t)}function WA(){c2=!1,vc!==null&&Km(vc)&&(vc=null),yc!==null&&Km(yc)&&(yc=null),wc!==null&&Km(wc)&&(wc=null),Kh.forEach(Px),Jh.forEach(Px)}function dh(e,t){e.blockedOn===t&&(e.blockedOn=null,c2||(c2=!0,Ds.unstable_scheduleCallback(Ds.unstable_NormalPriority,WA)))}function Xh(e){function t(i){return dh(i,e)}if(0<_m.length){dh(_m[0],e);for(var n=1;n<_m.length;n++){var r=_m[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vc!==null&&dh(vc,e),yc!==null&&dh(yc,e),wc!==null&&dh(wc,e),Kh.forEach(t),Jh.forEach(t),n=0;n<oc.length;n++)r=oc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<oc.length&&(n=oc[0],n.blockedOn===null);)o4(n),n.blockedOn===null&&oc.shift()}var rf=al.ReactCurrentBatchConfig,b0=!0;function HA(e,t,n,r){var i=jn,s=rf.transition;rf.transition=null;try{jn=1,zy(e,t,n,r)}finally{jn=i,rf.transition=s}}function VA(e,t,n,r){var i=jn,s=rf.transition;rf.transition=null;try{jn=4,zy(e,t,n,r)}finally{jn=i,rf.transition=s}}function zy(e,t,n,r){if(b0){var i=u2(e,t,n,r);if(i===null)nv(e,t,r,_0,n),Lx(e,r);else if(qA(i,e,t,n,r))r.stopPropagation();else if(Lx(e,r),t&4&&-1<zA.indexOf(e)){for(;i!==null;){var s=bp(i);if(s!==null&&r4(s),s=u2(e,t,n,r),s===null&&nv(e,t,r,_0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else nv(e,t,r,null,n)}}var _0=null;function u2(e,t,n,r){if(_0=null,e=Fy(r),e=ju(e),e!==null)if(t=zu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=K_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _0=e,null}function l4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DA()){case $y:return 1;case Z_:return 4;case w0:case OA:return 16;case e4:return 536870912;default:return 16}default:return 16}}var fc=null,qy=null,Jm=null;function c4(){if(Jm)return Jm;var e,t=qy,n=t.length,r,i="value"in fc?fc.value:fc.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Jm=i.slice(e,1<r?1-r:void 0)}function Xm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sm(){return!0}function Tx(){return!1}function Ms(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sm:Tx,this.isPropagationStopped=Tx,this}return cr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sm)},persist:function(){},isPersistent:Sm}),t}var jf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wy=Ms(jf),xp=cr({},jf,{view:0,detail:0}),GA=Ms(xp),G1,Y1,fh,ug=cr({},xp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fh&&(fh&&e.type==="mousemove"?(G1=e.screenX-fh.screenX,Y1=e.screenY-fh.screenY):Y1=G1=0,fh=e),G1)},movementY:function(e){return"movementY"in e?e.movementY:Y1}}),Dx=Ms(ug),YA=cr({},ug,{dataTransfer:0}),KA=Ms(YA),JA=cr({},xp,{relatedTarget:0}),K1=Ms(JA),XA=cr({},jf,{animationName:0,elapsedTime:0,pseudoElement:0}),QA=Ms(XA),ZA=cr({},jf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eL=Ms(ZA),tL=cr({},jf,{data:0}),Ox=Ms(tL),nL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iL[e])?!!t[e]:!1}function Hy(){return sL}var aL=cr({},xp,{key:function(e){if(e.key){var t=nL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hy,charCode:function(e){return e.type==="keypress"?Xm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oL=Ms(aL),lL=cr({},ug,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mx=Ms(lL),cL=cr({},xp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hy}),uL=Ms(cL),dL=cr({},jf,{propertyName:0,elapsedTime:0,pseudoElement:0}),fL=Ms(dL),hL=cr({},ug,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pL=Ms(hL),mL=[9,13,27,32],Vy=el&&"CompositionEvent"in window,Ph=null;el&&"documentMode"in document&&(Ph=document.documentMode);var gL=el&&"TextEvent"in window&&!Ph,u4=el&&(!Vy||Ph&&8<Ph&&11>=Ph),Ix=" ",Rx=!1;function d4(e,t){switch(e){case"keyup":return mL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zd=!1;function vL(e,t){switch(e){case"compositionend":return f4(t);case"keypress":return t.which!==32?null:(Rx=!0,Ix);case"textInput":return e=t.data,e===Ix&&Rx?null:e;default:return null}}function yL(e,t){if(zd)return e==="compositionend"||!Vy&&d4(e,t)?(e=c4(),Jm=qy=fc=null,zd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return u4&&t.locale!=="ko"?null:t.data;default:return null}}var wL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wL[e.type]:t==="textarea"}function h4(e,t,n,r){W_(r),t=S0(t,"onChange"),0<t.length&&(n=new Wy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Th=null,Qh=null;function xL(e){N4(e,0)}function dg(e){var t=Hd(e);if(R_(t))return e}function bL(e,t){if(e==="change")return t}var p4=!1;if(el){var J1;if(el){var X1="oninput"in document;if(!X1){var $x=document.createElement("div");$x.setAttribute("oninput","return;"),X1=typeof $x.oninput=="function"}J1=X1}else J1=!1;p4=J1&&(!document.documentMode||9<document.documentMode)}function Bx(){Th&&(Th.detachEvent("onpropertychange",m4),Qh=Th=null)}function m4(e){if(e.propertyName==="value"&&dg(Qh)){var t=[];h4(t,Qh,e,Fy(e)),Y_(xL,t)}}function _L(e,t,n){e==="focusin"?(Bx(),Th=t,Qh=n,Th.attachEvent("onpropertychange",m4)):e==="focusout"&&Bx()}function SL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dg(Qh)}function NL(e,t){if(e==="click")return dg(t)}function jL(e,t){if(e==="input"||e==="change")return dg(t)}function kL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oa=typeof Object.is=="function"?Object.is:kL;function Zh(e,t){if(Oa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Vv.call(t,i)||!Oa(e[i],t[i]))return!1}return!0}function Ux(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zx(e,t){var n=Ux(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ux(n)}}function g4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?g4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function v4(){for(var e=window,t=g0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=g0(e.document)}return t}function Gy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function EL(e){var t=v4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&g4(n.ownerDocument.documentElement,n)){if(r!==null&&Gy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=zx(n,s);var a=zx(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CL=el&&"documentMode"in document&&11>=document.documentMode,qd=null,d2=null,Dh=null,f2=!1;function qx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;f2||qd==null||qd!==g0(r)||(r=qd,"selectionStart"in r&&Gy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dh&&Zh(Dh,r)||(Dh=r,r=S0(d2,"onSelect"),0<r.length&&(t=new Wy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qd)))}function Nm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wd={animationend:Nm("Animation","AnimationEnd"),animationiteration:Nm("Animation","AnimationIteration"),animationstart:Nm("Animation","AnimationStart"),transitionend:Nm("Transition","TransitionEnd")},Q1={},y4={};el&&(y4=document.createElement("div").style,"AnimationEvent"in window||(delete Wd.animationend.animation,delete Wd.animationiteration.animation,delete Wd.animationstart.animation),"TransitionEvent"in window||delete Wd.transitionend.transition);function fg(e){if(Q1[e])return Q1[e];if(!Wd[e])return e;var t=Wd[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in y4)return Q1[e]=t[n];return e}var w4=fg("animationend"),x4=fg("animationiteration"),b4=fg("animationstart"),_4=fg("transitionend"),S4=new Map,Wx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dc(e,t){S4.set(e,t),Uu(t,[e])}for(var Z1=0;Z1<Wx.length;Z1++){var ev=Wx[Z1],AL=ev.toLowerCase(),LL=ev[0].toUpperCase()+ev.slice(1);Dc(AL,"on"+LL)}Dc(w4,"onAnimationEnd");Dc(x4,"onAnimationIteration");Dc(b4,"onAnimationStart");Dc("dblclick","onDoubleClick");Dc("focusin","onFocus");Dc("focusout","onBlur");Dc(_4,"onTransitionEnd");pf("onMouseEnter",["mouseout","mouseover"]);pf("onMouseLeave",["mouseout","mouseover"]);pf("onPointerEnter",["pointerout","pointerover"]);pf("onPointerLeave",["pointerout","pointerover"]);Uu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PL=new Set("cancel close invalid load scroll toggle".split(" ").concat(kh));function Hx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,AA(r,t,void 0,e),e.currentTarget=null}function N4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Hx(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Hx(i,l,h),s=c}}}if(y0)throw e=o2,y0=!1,o2=null,e}function qn(e,t){var n=t[v2];n===void 0&&(n=t[v2]=new Set);var r=e+"__bubble";n.has(r)||(j4(t,e,2,!1),n.add(r))}function tv(e,t,n){var r=0;t&&(r|=4),j4(n,e,r,t)}var jm="_reactListening"+Math.random().toString(36).slice(2);function ep(e){if(!e[jm]){e[jm]=!0,T_.forEach(function(n){n!=="selectionchange"&&(PL.has(n)||tv(n,!1,e),tv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jm]||(t[jm]=!0,tv("selectionchange",!1,t))}}function j4(e,t,n,r){switch(l4(t)){case 1:var i=HA;break;case 4:i=VA;break;default:i=zy}n=i.bind(null,t,n,e),i=void 0,!a2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nv(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=ju(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}Y_(function(){var h=s,p=Fy(n),m=[];e:{var w=S4.get(e);if(w!==void 0){var g=Wy,N=e;switch(e){case"keypress":if(Xm(n)===0)break e;case"keydown":case"keyup":g=oL;break;case"focusin":N="focus",g=K1;break;case"focusout":N="blur",g=K1;break;case"beforeblur":case"afterblur":g=K1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Dx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=KA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=uL;break;case w4:case x4:case b4:g=QA;break;case _4:g=fL;break;case"scroll":g=GA;break;case"wheel":g=pL;break;case"copy":case"cut":case"paste":g=eL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Mx}var j=(t&4)!==0,C=!j&&e==="scroll",_=j?w!==null?w+"Capture":null:w;j=[];for(var S=h,L;S!==null;){L=S;var R=L.stateNode;if(L.tag===5&&R!==null&&(L=R,_!==null&&(R=Yh(S,_),R!=null&&j.push(tp(S,R,L)))),C)break;S=S.return}0<j.length&&(w=new g(w,N,null,n,p),m.push({event:w,listeners:j}))}}if(!(t&7)){e:{if(w=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",w&&n!==i2&&(N=n.relatedTarget||n.fromElement)&&(ju(N)||N[tl]))break e;if((g||w)&&(w=p.window===p?p:(w=p.ownerDocument)?w.defaultView||w.parentWindow:window,g?(N=n.relatedTarget||n.toElement,g=h,N=N?ju(N):null,N!==null&&(C=zu(N),N!==C||N.tag!==5&&N.tag!==6)&&(N=null)):(g=null,N=h),g!==N)){if(j=Dx,R="onMouseLeave",_="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(j=Mx,R="onPointerLeave",_="onPointerEnter",S="pointer"),C=g==null?w:Hd(g),L=N==null?w:Hd(N),w=new j(R,S+"leave",g,n,p),w.target=C,w.relatedTarget=L,R=null,ju(p)===h&&(j=new j(_,S+"enter",N,n,p),j.target=L,j.relatedTarget=C,R=j),C=R,g&&N)t:{for(j=g,_=N,S=0,L=j;L;L=Pd(L))S++;for(L=0,R=_;R;R=Pd(R))L++;for(;0<S-L;)j=Pd(j),S--;for(;0<L-S;)_=Pd(_),L--;for(;S--;){if(j===_||_!==null&&j===_.alternate)break t;j=Pd(j),_=Pd(_)}j=null}else j=null;g!==null&&Vx(m,w,g,j,!1),N!==null&&C!==null&&Vx(m,C,N,j,!0)}}e:{if(w=h?Hd(h):window,g=w.nodeName&&w.nodeName.toLowerCase(),g==="select"||g==="input"&&w.type==="file")var X=bL;else if(Fx(w))if(p4)X=jL;else{X=SL;var te=_L}else(g=w.nodeName)&&g.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(X=NL);if(X&&(X=X(e,h))){h4(m,X,n,p);break e}te&&te(e,w,h),e==="focusout"&&(te=w._wrapperState)&&te.controlled&&w.type==="number"&&Zv(w,"number",w.value)}switch(te=h?Hd(h):window,e){case"focusin":(Fx(te)||te.contentEditable==="true")&&(qd=te,d2=h,Dh=null);break;case"focusout":Dh=d2=qd=null;break;case"mousedown":f2=!0;break;case"contextmenu":case"mouseup":case"dragend":f2=!1,qx(m,n,p);break;case"selectionchange":if(CL)break;case"keydown":case"keyup":qx(m,n,p)}var W;if(Vy)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else zd?d4(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(u4&&n.locale!=="ko"&&(zd||O!=="onCompositionStart"?O==="onCompositionEnd"&&zd&&(W=c4()):(fc=p,qy="value"in fc?fc.value:fc.textContent,zd=!0)),te=S0(h,O),0<te.length&&(O=new Ox(O,e,null,n,p),m.push({event:O,listeners:te}),W?O.data=W:(W=f4(n),W!==null&&(O.data=W)))),(W=gL?vL(e,n):yL(e,n))&&(h=S0(h,"onBeforeInput"),0<h.length&&(p=new Ox("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:h}),p.data=W))}N4(m,t)})}function tp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function S0(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Yh(e,n),s!=null&&r.unshift(tp(e,s,i)),s=Yh(e,t),s!=null&&r.push(tp(e,s,i))),e=e.return}return r}function Pd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vx(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=Yh(n,s),c!=null&&a.unshift(tp(n,c,l))):i||(c=Yh(n,s),c!=null&&a.push(tp(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var TL=/\r\n?/g,DL=/\u0000|\uFFFD/g;function Gx(e){return(typeof e=="string"?e:""+e).replace(TL,`
`).replace(DL,"")}function km(e,t,n){if(t=Gx(t),Gx(e)!==t&&n)throw Error(it(425))}function N0(){}var h2=null,p2=null;function m2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var g2=typeof setTimeout=="function"?setTimeout:void 0,OL=typeof clearTimeout=="function"?clearTimeout:void 0,Yx=typeof Promise=="function"?Promise:void 0,ML=typeof queueMicrotask=="function"?queueMicrotask:typeof Yx<"u"?function(e){return Yx.resolve(null).then(e).catch(IL)}:g2;function IL(e){setTimeout(function(){throw e})}function rv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Xh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xh(t)}function xc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var kf=Math.random().toString(36).slice(2),oo="__reactFiber$"+kf,np="__reactProps$"+kf,tl="__reactContainer$"+kf,v2="__reactEvents$"+kf,RL="__reactListeners$"+kf,FL="__reactHandles$"+kf;function ju(e){var t=e[oo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tl]||n[oo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kx(e);e!==null;){if(n=e[oo])return n;e=Kx(e)}return t}e=n,n=e.parentNode}return null}function bp(e){return e=e[oo]||e[tl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(it(33))}function hg(e){return e[np]||null}var y2=[],Vd=-1;function Oc(e){return{current:e}}function Hn(e){0>Vd||(e.current=y2[Vd],y2[Vd]=null,Vd--)}function Bn(e,t){Vd++,y2[Vd]=e.current,e.current=t}var Cc={},Ni=Oc(Cc),os=Oc(!1),Mu=Cc;function mf(e,t){var n=e.type.contextTypes;if(!n)return Cc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ls(e){return e=e.childContextTypes,e!=null}function j0(){Hn(os),Hn(Ni)}function Jx(e,t,n){if(Ni.current!==Cc)throw Error(it(168));Bn(Ni,t),Bn(os,n)}function k4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(it(108,_A(e)||"Unknown",i));return cr({},n,r)}function k0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cc,Mu=Ni.current,Bn(Ni,e),Bn(os,os.current),!0}function Xx(e,t,n){var r=e.stateNode;if(!r)throw Error(it(169));n?(e=k4(e,t,Mu),r.__reactInternalMemoizedMergedChildContext=e,Hn(os),Hn(Ni),Bn(Ni,e)):Hn(os),Bn(os,n)}var Yo=null,pg=!1,iv=!1;function E4(e){Yo===null?Yo=[e]:Yo.push(e)}function $L(e){pg=!0,E4(e)}function Mc(){if(!iv&&Yo!==null){iv=!0;var e=0,t=jn;try{var n=Yo;for(jn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Yo=null,pg=!1}catch(i){throw Yo!==null&&(Yo=Yo.slice(e+1)),Q_($y,Mc),i}finally{jn=t,iv=!1}}return null}var Gd=[],Yd=0,E0=null,C0=0,Qs=[],Zs=0,Iu=null,Jo=1,Xo="";function gu(e,t){Gd[Yd++]=C0,Gd[Yd++]=E0,E0=e,C0=t}function C4(e,t,n){Qs[Zs++]=Jo,Qs[Zs++]=Xo,Qs[Zs++]=Iu,Iu=e;var r=Jo;e=Xo;var i=32-Pa(r)-1;r&=~(1<<i),n+=1;var s=32-Pa(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Jo=1<<32-Pa(t)+i|n<<i|r,Xo=s+e}else Jo=1<<s|n<<i|r,Xo=e}function Yy(e){e.return!==null&&(gu(e,1),C4(e,1,0))}function Ky(e){for(;e===E0;)E0=Gd[--Yd],Gd[Yd]=null,C0=Gd[--Yd],Gd[Yd]=null;for(;e===Iu;)Iu=Qs[--Zs],Qs[Zs]=null,Xo=Qs[--Zs],Qs[Zs]=null,Jo=Qs[--Zs],Qs[Zs]=null}var Ts=null,Ls=null,er=!1,Aa=null;function A4(e,t){var n=ea(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ts=e,Ls=xc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ts=e,Ls=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Iu!==null?{id:Jo,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ea(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ts=e,Ls=null,!0):!1;default:return!1}}function w2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function x2(e){if(er){var t=Ls;if(t){var n=t;if(!Qx(e,t)){if(w2(e))throw Error(it(418));t=xc(n.nextSibling);var r=Ts;t&&Qx(e,t)?A4(r,n):(e.flags=e.flags&-4097|2,er=!1,Ts=e)}}else{if(w2(e))throw Error(it(418));e.flags=e.flags&-4097|2,er=!1,Ts=e}}}function Zx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ts=e}function Em(e){if(e!==Ts)return!1;if(!er)return Zx(e),er=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!m2(e.type,e.memoizedProps)),t&&(t=Ls)){if(w2(e))throw L4(),Error(it(418));for(;t;)A4(e,t),t=xc(t.nextSibling)}if(Zx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(it(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ls=xc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ls=null}}else Ls=Ts?xc(e.stateNode.nextSibling):null;return!0}function L4(){for(var e=Ls;e;)e=xc(e.nextSibling)}function gf(){Ls=Ts=null,er=!1}function Jy(e){Aa===null?Aa=[e]:Aa.push(e)}var BL=al.ReactCurrentBatchConfig;function hh(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(it(309));var r=n.stateNode}if(!r)throw Error(it(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(it(284));if(!n._owner)throw Error(it(290,e))}return e}function Cm(e,t){throw e=Object.prototype.toString.call(t),Error(it(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function eb(e){var t=e._init;return t(e._payload)}function P4(e){function t(_,S){if(e){var L=_.deletions;L===null?(_.deletions=[S],_.flags|=16):L.push(S)}}function n(_,S){if(!e)return null;for(;S!==null;)t(_,S),S=S.sibling;return null}function r(_,S){for(_=new Map;S!==null;)S.key!==null?_.set(S.key,S):_.set(S.index,S),S=S.sibling;return _}function i(_,S){return _=Nc(_,S),_.index=0,_.sibling=null,_}function s(_,S,L){return _.index=L,e?(L=_.alternate,L!==null?(L=L.index,L<S?(_.flags|=2,S):L):(_.flags|=2,S)):(_.flags|=1048576,S)}function a(_){return e&&_.alternate===null&&(_.flags|=2),_}function l(_,S,L,R){return S===null||S.tag!==6?(S=dv(L,_.mode,R),S.return=_,S):(S=i(S,L),S.return=_,S)}function c(_,S,L,R){var X=L.type;return X===Ud?p(_,S,L.props.children,R,L.key):S!==null&&(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===rc&&eb(X)===S.type)?(R=i(S,L.props),R.ref=hh(_,S,L),R.return=_,R):(R=i0(L.type,L.key,L.props,null,_.mode,R),R.ref=hh(_,S,L),R.return=_,R)}function h(_,S,L,R){return S===null||S.tag!==4||S.stateNode.containerInfo!==L.containerInfo||S.stateNode.implementation!==L.implementation?(S=fv(L,_.mode,R),S.return=_,S):(S=i(S,L.children||[]),S.return=_,S)}function p(_,S,L,R,X){return S===null||S.tag!==7?(S=Pu(L,_.mode,R,X),S.return=_,S):(S=i(S,L),S.return=_,S)}function m(_,S,L){if(typeof S=="string"&&S!==""||typeof S=="number")return S=dv(""+S,_.mode,L),S.return=_,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case vm:return L=i0(S.type,S.key,S.props,null,_.mode,L),L.ref=hh(_,null,S),L.return=_,L;case Bd:return S=fv(S,_.mode,L),S.return=_,S;case rc:var R=S._init;return m(_,R(S._payload),L)}if(Nh(S)||lh(S))return S=Pu(S,_.mode,L,null),S.return=_,S;Cm(_,S)}return null}function w(_,S,L,R){var X=S!==null?S.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return X!==null?null:l(_,S,""+L,R);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case vm:return L.key===X?c(_,S,L,R):null;case Bd:return L.key===X?h(_,S,L,R):null;case rc:return X=L._init,w(_,S,X(L._payload),R)}if(Nh(L)||lh(L))return X!==null?null:p(_,S,L,R,null);Cm(_,L)}return null}function g(_,S,L,R,X){if(typeof R=="string"&&R!==""||typeof R=="number")return _=_.get(L)||null,l(S,_,""+R,X);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case vm:return _=_.get(R.key===null?L:R.key)||null,c(S,_,R,X);case Bd:return _=_.get(R.key===null?L:R.key)||null,h(S,_,R,X);case rc:var te=R._init;return g(_,S,L,te(R._payload),X)}if(Nh(R)||lh(R))return _=_.get(L)||null,p(S,_,R,X,null);Cm(S,R)}return null}function N(_,S,L,R){for(var X=null,te=null,W=S,O=S=0,ee=null;W!==null&&O<L.length;O++){W.index>O?(ee=W,W=null):ee=W.sibling;var ne=w(_,W,L[O],R);if(ne===null){W===null&&(W=ee);break}e&&W&&ne.alternate===null&&t(_,W),S=s(ne,S,O),te===null?X=ne:te.sibling=ne,te=ne,W=ee}if(O===L.length)return n(_,W),er&&gu(_,O),X;if(W===null){for(;O<L.length;O++)W=m(_,L[O],R),W!==null&&(S=s(W,S,O),te===null?X=W:te.sibling=W,te=W);return er&&gu(_,O),X}for(W=r(_,W);O<L.length;O++)ee=g(W,_,O,L[O],R),ee!==null&&(e&&ee.alternate!==null&&W.delete(ee.key===null?O:ee.key),S=s(ee,S,O),te===null?X=ee:te.sibling=ee,te=ee);return e&&W.forEach(function(T){return t(_,T)}),er&&gu(_,O),X}function j(_,S,L,R){var X=lh(L);if(typeof X!="function")throw Error(it(150));if(L=X.call(L),L==null)throw Error(it(151));for(var te=X=null,W=S,O=S=0,ee=null,ne=L.next();W!==null&&!ne.done;O++,ne=L.next()){W.index>O?(ee=W,W=null):ee=W.sibling;var T=w(_,W,ne.value,R);if(T===null){W===null&&(W=ee);break}e&&W&&T.alternate===null&&t(_,W),S=s(T,S,O),te===null?X=T:te.sibling=T,te=T,W=ee}if(ne.done)return n(_,W),er&&gu(_,O),X;if(W===null){for(;!ne.done;O++,ne=L.next())ne=m(_,ne.value,R),ne!==null&&(S=s(ne,S,O),te===null?X=ne:te.sibling=ne,te=ne);return er&&gu(_,O),X}for(W=r(_,W);!ne.done;O++,ne=L.next())ne=g(W,_,O,ne.value,R),ne!==null&&(e&&ne.alternate!==null&&W.delete(ne.key===null?O:ne.key),S=s(ne,S,O),te===null?X=ne:te.sibling=ne,te=ne);return e&&W.forEach(function(F){return t(_,F)}),er&&gu(_,O),X}function C(_,S,L,R){if(typeof L=="object"&&L!==null&&L.type===Ud&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case vm:e:{for(var X=L.key,te=S;te!==null;){if(te.key===X){if(X=L.type,X===Ud){if(te.tag===7){n(_,te.sibling),S=i(te,L.props.children),S.return=_,_=S;break e}}else if(te.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===rc&&eb(X)===te.type){n(_,te.sibling),S=i(te,L.props),S.ref=hh(_,te,L),S.return=_,_=S;break e}n(_,te);break}else t(_,te);te=te.sibling}L.type===Ud?(S=Pu(L.props.children,_.mode,R,L.key),S.return=_,_=S):(R=i0(L.type,L.key,L.props,null,_.mode,R),R.ref=hh(_,S,L),R.return=_,_=R)}return a(_);case Bd:e:{for(te=L.key;S!==null;){if(S.key===te)if(S.tag===4&&S.stateNode.containerInfo===L.containerInfo&&S.stateNode.implementation===L.implementation){n(_,S.sibling),S=i(S,L.children||[]),S.return=_,_=S;break e}else{n(_,S);break}else t(_,S);S=S.sibling}S=fv(L,_.mode,R),S.return=_,_=S}return a(_);case rc:return te=L._init,C(_,S,te(L._payload),R)}if(Nh(L))return N(_,S,L,R);if(lh(L))return j(_,S,L,R);Cm(_,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,S!==null&&S.tag===6?(n(_,S.sibling),S=i(S,L),S.return=_,_=S):(n(_,S),S=dv(L,_.mode,R),S.return=_,_=S),a(_)):n(_,S)}return C}var vf=P4(!0),T4=P4(!1),A0=Oc(null),L0=null,Kd=null,Xy=null;function Qy(){Xy=Kd=L0=null}function Zy(e){var t=A0.current;Hn(A0),e._currentValue=t}function b2(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sf(e,t){L0=e,Xy=Kd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(as=!0),e.firstContext=null)}function na(e){var t=e._currentValue;if(Xy!==e)if(e={context:e,memoizedValue:t,next:null},Kd===null){if(L0===null)throw Error(it(308));Kd=e,L0.dependencies={lanes:0,firstContext:e}}else Kd=Kd.next=e;return t}var ku=null;function e5(e){ku===null?ku=[e]:ku.push(e)}function D4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,e5(t)):(n.next=i.next,i.next=n),t.interleaved=n,nl(e,r)}function nl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ic=!1;function t5(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,cn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,nl(e,n)}return i=r.interleaved,i===null?(t.next=t,e5(r)):(t.next=i.next,i.next=t),r.interleaved=t,nl(e,n)}function Qm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,By(e,n)}}function tb(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function P0(e,t,n,r){var i=e.updateQueue;ic=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==a&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;a=0,p=h=c=null,l=s;do{var w=l.lane,g=l.eventTime;if((r&w)===w){p!==null&&(p=p.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var N=e,j=l;switch(w=t,g=n,j.tag){case 1:if(N=j.payload,typeof N=="function"){m=N.call(g,m,w);break e}m=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=j.payload,w=typeof N=="function"?N.call(g,m,w):N,w==null)break e;m=cr({},m,w);break e;case 2:ic=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,w=i.effects,w===null?i.effects=[l]:w.push(l))}else g={eventTime:g,lane:w,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=g,c=m):p=p.next=g,a|=w;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;w=l,l=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(p===null&&(c=m),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Fu|=a,e.lanes=a,e.memoizedState=m}}function nb(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(it(191,i));i.call(r)}}}var _p={},po=Oc(_p),rp=Oc(_p),ip=Oc(_p);function Eu(e){if(e===_p)throw Error(it(174));return e}function n5(e,t){switch(Bn(ip,t),Bn(rp,e),Bn(po,_p),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:t2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=t2(t,e)}Hn(po),Bn(po,t)}function yf(){Hn(po),Hn(rp),Hn(ip)}function M4(e){Eu(ip.current);var t=Eu(po.current),n=t2(t,e.type);t!==n&&(Bn(rp,e),Bn(po,n))}function r5(e){rp.current===e&&(Hn(po),Hn(rp))}var ar=Oc(0);function T0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sv=[];function i5(){for(var e=0;e<sv.length;e++)sv[e]._workInProgressVersionPrimary=null;sv.length=0}var Zm=al.ReactCurrentDispatcher,av=al.ReactCurrentBatchConfig,Ru=0,lr=null,Ir=null,Vr=null,D0=!1,Oh=!1,sp=0,UL=0;function mi(){throw Error(it(321))}function s5(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Oa(e[n],t[n]))return!1;return!0}function a5(e,t,n,r,i,s){if(Ru=s,lr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zm.current=e===null||e.memoizedState===null?HL:VL,e=n(r,i),Oh){s=0;do{if(Oh=!1,sp=0,25<=s)throw Error(it(301));s+=1,Vr=Ir=null,t.updateQueue=null,Zm.current=GL,e=n(r,i)}while(Oh)}if(Zm.current=O0,t=Ir!==null&&Ir.next!==null,Ru=0,Vr=Ir=lr=null,D0=!1,t)throw Error(it(300));return e}function o5(){var e=sp!==0;return sp=0,e}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?lr.memoizedState=Vr=e:Vr=Vr.next=e,Vr}function ra(){if(Ir===null){var e=lr.alternate;e=e!==null?e.memoizedState:null}else e=Ir.next;var t=Vr===null?lr.memoizedState:Vr.next;if(t!==null)Vr=t,Ir=e;else{if(e===null)throw Error(it(310));Ir=e,e={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},Vr===null?lr.memoizedState=Vr=e:Vr=Vr.next=e}return Vr}function ap(e,t){return typeof t=="function"?t(e):t}function ov(e){var t=ra(),n=t.queue;if(n===null)throw Error(it(311));n.lastRenderedReducer=e;var r=Ir,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,h=s;do{var p=h.lane;if((Ru&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var m={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=m,a=r):c=c.next=m,lr.lanes|=p,Fu|=p}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=l,Oa(r,t.memoizedState)||(as=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,lr.lanes|=s,Fu|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function lv(e){var t=ra(),n=t.queue;if(n===null)throw Error(it(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Oa(s,t.memoizedState)||(as=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function I4(){}function R4(e,t){var n=lr,r=ra(),i=t(),s=!Oa(r.memoizedState,i);if(s&&(r.memoizedState=i,as=!0),r=r.queue,l5(B4.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Vr!==null&&Vr.memoizedState.tag&1){if(n.flags|=2048,op(9,$4.bind(null,n,r,i,t),void 0,null),Kr===null)throw Error(it(349));Ru&30||F4(n,t,i)}return i}function F4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $4(e,t,n,r){t.value=n,t.getSnapshot=r,U4(t)&&z4(e)}function B4(e,t,n){return n(function(){U4(t)&&z4(e)})}function U4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Oa(e,n)}catch{return!0}}function z4(e){var t=nl(e,1);t!==null&&Ta(t,e,1,-1)}function rb(e){var t=ao();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ap,lastRenderedState:e},t.queue=e,e=e.dispatch=WL.bind(null,lr,e),[t.memoizedState,e]}function op(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function q4(){return ra().memoizedState}function e0(e,t,n,r){var i=ao();lr.flags|=e,i.memoizedState=op(1|t,n,void 0,r===void 0?null:r)}function mg(e,t,n,r){var i=ra();r=r===void 0?null:r;var s=void 0;if(Ir!==null){var a=Ir.memoizedState;if(s=a.destroy,r!==null&&s5(r,a.deps)){i.memoizedState=op(t,n,s,r);return}}lr.flags|=e,i.memoizedState=op(1|t,n,s,r)}function ib(e,t){return e0(8390656,8,e,t)}function l5(e,t){return mg(2048,8,e,t)}function W4(e,t){return mg(4,2,e,t)}function H4(e,t){return mg(4,4,e,t)}function V4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function G4(e,t,n){return n=n!=null?n.concat([e]):null,mg(4,4,V4.bind(null,t,e),n)}function c5(){}function Y4(e,t){var n=ra();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&s5(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function K4(e,t){var n=ra();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&s5(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function J4(e,t,n){return Ru&21?(Oa(n,t)||(n=t4(),lr.lanes|=n,Fu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,as=!0),e.memoizedState=n)}function zL(e,t){var n=jn;jn=n!==0&&4>n?n:4,e(!0);var r=av.transition;av.transition={};try{e(!1),t()}finally{jn=n,av.transition=r}}function X4(){return ra().memoizedState}function qL(e,t,n){var r=Sc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Q4(e))Z4(t,n);else if(n=D4(e,t,n,r),n!==null){var i=Ii();Ta(n,e,r,i),eS(n,t,r)}}function WL(e,t,n){var r=Sc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Q4(e))Z4(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Oa(l,a)){var c=t.interleaved;c===null?(i.next=i,e5(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=D4(e,t,i,r),n!==null&&(i=Ii(),Ta(n,e,r,i),eS(n,t,r))}}function Q4(e){var t=e.alternate;return e===lr||t!==null&&t===lr}function Z4(e,t){Oh=D0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,By(e,n)}}var O0={readContext:na,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},HL={readContext:na,useCallback:function(e,t){return ao().memoizedState=[e,t===void 0?null:t],e},useContext:na,useEffect:ib,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,e0(4194308,4,V4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return e0(4194308,4,e,t)},useInsertionEffect:function(e,t){return e0(4,2,e,t)},useMemo:function(e,t){var n=ao();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ao();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qL.bind(null,lr,e),[r.memoizedState,e]},useRef:function(e){var t=ao();return e={current:e},t.memoizedState=e},useState:rb,useDebugValue:c5,useDeferredValue:function(e){return ao().memoizedState=e},useTransition:function(){var e=rb(!1),t=e[0];return e=zL.bind(null,e[1]),ao().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lr,i=ao();if(er){if(n===void 0)throw Error(it(407));n=n()}else{if(n=t(),Kr===null)throw Error(it(349));Ru&30||F4(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ib(B4.bind(null,r,s,e),[e]),r.flags|=2048,op(9,$4.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ao(),t=Kr.identifierPrefix;if(er){var n=Xo,r=Jo;n=(r&~(1<<32-Pa(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=sp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=UL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},VL={readContext:na,useCallback:Y4,useContext:na,useEffect:l5,useImperativeHandle:G4,useInsertionEffect:W4,useLayoutEffect:H4,useMemo:K4,useReducer:ov,useRef:q4,useState:function(){return ov(ap)},useDebugValue:c5,useDeferredValue:function(e){var t=ra();return J4(t,Ir.memoizedState,e)},useTransition:function(){var e=ov(ap)[0],t=ra().memoizedState;return[e,t]},useMutableSource:I4,useSyncExternalStore:R4,useId:X4,unstable_isNewReconciler:!1},GL={readContext:na,useCallback:Y4,useContext:na,useEffect:l5,useImperativeHandle:G4,useInsertionEffect:W4,useLayoutEffect:H4,useMemo:K4,useReducer:lv,useRef:q4,useState:function(){return lv(ap)},useDebugValue:c5,useDeferredValue:function(e){var t=ra();return Ir===null?t.memoizedState=e:J4(t,Ir.memoizedState,e)},useTransition:function(){var e=lv(ap)[0],t=ra().memoizedState;return[e,t]},useMutableSource:I4,useSyncExternalStore:R4,useId:X4,unstable_isNewReconciler:!1};function ja(e,t){if(e&&e.defaultProps){t=cr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _2(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:cr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gg={isMounted:function(e){return(e=e._reactInternals)?zu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ii(),i=Sc(e),s=Qo(r,i);s.payload=t,n!=null&&(s.callback=n),t=bc(e,s,i),t!==null&&(Ta(t,e,i,r),Qm(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ii(),i=Sc(e),s=Qo(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=bc(e,s,i),t!==null&&(Ta(t,e,i,r),Qm(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ii(),r=Sc(e),i=Qo(n,r);i.tag=2,t!=null&&(i.callback=t),t=bc(e,i,r),t!==null&&(Ta(t,e,r,n),Qm(t,e,r))}};function sb(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Zh(n,r)||!Zh(i,s):!0}function tS(e,t,n){var r=!1,i=Cc,s=t.contextType;return typeof s=="object"&&s!==null?s=na(s):(i=ls(t)?Mu:Ni.current,r=t.contextTypes,s=(r=r!=null)?mf(e,i):Cc),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ab(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gg.enqueueReplaceState(t,t.state,null)}function S2(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},t5(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=na(s):(s=ls(t)?Mu:Ni.current,i.context=mf(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(_2(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&gg.enqueueReplaceState(i,i.state,null),P0(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function wf(e,t){try{var n="",r=t;do n+=bA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function cv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function N2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var YL=typeof WeakMap=="function"?WeakMap:Map;function nS(e,t,n){n=Qo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){I0||(I0=!0,O2=r),N2(e,t)},n}function rS(e,t,n){n=Qo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){N2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){N2(e,t),typeof r!="function"&&(_c===null?_c=new Set([this]):_c.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function ob(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new YL;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=lP.bind(null,e,t,n),t.then(e,e))}function lb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cb(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qo(-1,1),t.tag=2,bc(n,t,1))),n.lanes|=1),e)}var KL=al.ReactCurrentOwner,as=!1;function Oi(e,t,n,r){t.child=e===null?T4(t,null,n,r):vf(t,e.child,n,r)}function ub(e,t,n,r,i){n=n.render;var s=t.ref;return sf(t,i),r=a5(e,t,n,r,s,i),n=o5(),e!==null&&!as?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,rl(e,t,i)):(er&&n&&Yy(t),t.flags|=1,Oi(e,t,r,i),t.child)}function db(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!v5(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,iS(e,t,s,r,i)):(e=i0(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zh,n(a,r)&&e.ref===t.ref)return rl(e,t,i)}return t.flags|=1,e=Nc(s,r),e.ref=t.ref,e.return=t,t.child=e}function iS(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Zh(s,r)&&e.ref===t.ref)if(as=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(as=!0);else return t.lanes=e.lanes,rl(e,t,i)}return j2(e,t,n,r,i)}function sS(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bn(Xd,As),As|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Bn(Xd,As),As|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Bn(Xd,As),As|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Bn(Xd,As),As|=r;return Oi(e,t,i,n),t.child}function aS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function j2(e,t,n,r,i){var s=ls(n)?Mu:Ni.current;return s=mf(t,s),sf(t,i),n=a5(e,t,n,r,s,i),r=o5(),e!==null&&!as?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,rl(e,t,i)):(er&&r&&Yy(t),t.flags|=1,Oi(e,t,n,i),t.child)}function fb(e,t,n,r,i){if(ls(n)){var s=!0;k0(t)}else s=!1;if(sf(t,i),t.stateNode===null)t0(e,t),tS(t,n,r),S2(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=na(h):(h=ls(n)?Mu:Ni.current,h=mf(t,h));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&ab(t,a,r,h),ic=!1;var w=t.memoizedState;a.state=w,P0(t,r,a,i),c=t.memoizedState,l!==r||w!==c||os.current||ic?(typeof p=="function"&&(_2(t,n,p,r),c=t.memoizedState),(l=ic||sb(t,n,l,r,w,c,h))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,O4(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:ja(t.type,l),a.props=h,m=t.pendingProps,w=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=na(c):(c=ls(n)?Mu:Ni.current,c=mf(t,c));var g=n.getDerivedStateFromProps;(p=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||w!==c)&&ab(t,a,r,c),ic=!1,w=t.memoizedState,a.state=w,P0(t,r,a,i);var N=t.memoizedState;l!==m||w!==N||os.current||ic?(typeof g=="function"&&(_2(t,n,g,r),N=t.memoizedState),(h=ic||sb(t,n,h,r,w,N,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,N,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,N,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),a.props=r,a.state=N,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),r=!1)}return k2(e,t,n,r,s,i)}function k2(e,t,n,r,i,s){aS(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Xx(t,n,!1),rl(e,t,s);r=t.stateNode,KL.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=vf(t,e.child,null,s),t.child=vf(t,null,l,s)):Oi(e,t,l,s),t.memoizedState=r.state,i&&Xx(t,n,!0),t.child}function oS(e){var t=e.stateNode;t.pendingContext?Jx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jx(e,t.context,!1),n5(e,t.containerInfo)}function hb(e,t,n,r,i){return gf(),Jy(i),t.flags|=256,Oi(e,t,n,r),t.child}var E2={dehydrated:null,treeContext:null,retryLane:0};function C2(e){return{baseLanes:e,cachePool:null,transitions:null}}function lS(e,t,n){var r=t.pendingProps,i=ar.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Bn(ar,i&1),e===null)return x2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=wg(a,r,0,null),e=Pu(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=C2(n),t.memoizedState=E2,e):u5(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return JL(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Nc(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Nc(l,s):(s=Pu(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?C2(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=E2,r}return s=e.child,e=s.sibling,r=Nc(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function u5(e,t){return t=wg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Am(e,t,n,r){return r!==null&&Jy(r),vf(t,e.child,null,n),e=u5(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function JL(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=cv(Error(it(422))),Am(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=wg({mode:"visible",children:r.children},i,0,null),s=Pu(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&vf(t,e.child,null,a),t.child.memoizedState=C2(a),t.memoizedState=E2,s);if(!(t.mode&1))return Am(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(it(419)),r=cv(s,r,void 0),Am(e,t,a,r)}if(l=(a&e.childLanes)!==0,as||l){if(r=Kr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,nl(e,i),Ta(r,e,i,-1))}return g5(),r=cv(Error(it(421))),Am(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=cP.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ls=xc(i.nextSibling),Ts=t,er=!0,Aa=null,e!==null&&(Qs[Zs++]=Jo,Qs[Zs++]=Xo,Qs[Zs++]=Iu,Jo=e.id,Xo=e.overflow,Iu=t),t=u5(t,r.children),t.flags|=4096,t)}function pb(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),b2(e.return,t,n)}function uv(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function cS(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Oi(e,t,r.children,n),r=ar.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pb(e,n,t);else if(e.tag===19)pb(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Bn(ar,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&T0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),uv(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&T0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}uv(t,!0,n,null,s);break;case"together":uv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function t0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(it(153));if(t.child!==null){for(e=t.child,n=Nc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function XL(e,t,n){switch(t.tag){case 3:oS(t),gf();break;case 5:M4(t);break;case 1:ls(t.type)&&k0(t);break;case 4:n5(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Bn(A0,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Bn(ar,ar.current&1),t.flags|=128,null):n&t.child.childLanes?lS(e,t,n):(Bn(ar,ar.current&1),e=rl(e,t,n),e!==null?e.sibling:null);Bn(ar,ar.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return cS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bn(ar,ar.current),r)break;return null;case 22:case 23:return t.lanes=0,sS(e,t,n)}return rl(e,t,n)}var uS,A2,dS,fS;uS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};A2=function(){};dS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Eu(po.current);var s=null;switch(n){case"input":i=Xv(e,i),r=Xv(e,r),s=[];break;case"select":i=cr({},i,{value:void 0}),r=cr({},r,{value:void 0}),s=[];break;case"textarea":i=e2(e,i),r=e2(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=N0)}n2(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Vh.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Vh.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&qn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};fS=function(e,t,n,r){n!==r&&(t.flags|=4)};function ph(e,t){if(!er)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function QL(e,t,n){var r=t.pendingProps;switch(Ky(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(t),null;case 1:return ls(t.type)&&j0(),gi(t),null;case 3:return r=t.stateNode,yf(),Hn(os),Hn(Ni),i5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Em(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Aa!==null&&(R2(Aa),Aa=null))),A2(e,t),gi(t),null;case 5:r5(t);var i=Eu(ip.current);if(n=t.type,e!==null&&t.stateNode!=null)dS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(it(166));return gi(t),null}if(e=Eu(po.current),Em(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[oo]=t,r[np]=s,e=(t.mode&1)!==0,n){case"dialog":qn("cancel",r),qn("close",r);break;case"iframe":case"object":case"embed":qn("load",r);break;case"video":case"audio":for(i=0;i<kh.length;i++)qn(kh[i],r);break;case"source":qn("error",r);break;case"img":case"image":case"link":qn("error",r),qn("load",r);break;case"details":qn("toggle",r);break;case"input":Sx(r,s),qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qn("invalid",r);break;case"textarea":jx(r,s),qn("invalid",r)}n2(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&km(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&km(r.textContent,l,e),i=["children",""+l]):Vh.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&qn("scroll",r)}switch(n){case"input":ym(r),Nx(r,s,!0);break;case"textarea":ym(r),kx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=N0)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=B_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[oo]=t,e[np]=r,uS(e,t,!1,!1),t.stateNode=e;e:{switch(a=r2(n,r),n){case"dialog":qn("cancel",e),qn("close",e),i=r;break;case"iframe":case"object":case"embed":qn("load",e),i=r;break;case"video":case"audio":for(i=0;i<kh.length;i++)qn(kh[i],e);i=r;break;case"source":qn("error",e),i=r;break;case"img":case"image":case"link":qn("error",e),qn("load",e),i=r;break;case"details":qn("toggle",e),i=r;break;case"input":Sx(e,r),i=Xv(e,r),qn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=cr({},r,{value:void 0}),qn("invalid",e);break;case"textarea":jx(e,r),i=e2(e,r),qn("invalid",e);break;default:i=r}n2(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?q_(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&U_(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Gh(e,c):typeof c=="number"&&Gh(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vh.hasOwnProperty(s)?c!=null&&s==="onScroll"&&qn("scroll",e):c!=null&&Oy(e,s,c,a))}switch(n){case"input":ym(e),Nx(e,r,!1);break;case"textarea":ym(e),kx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ec(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ef(e,!!r.multiple,s,!1):r.defaultValue!=null&&ef(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=N0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gi(t),null;case 6:if(e&&t.stateNode!=null)fS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(it(166));if(n=Eu(ip.current),Eu(po.current),Em(t)){if(r=t.stateNode,n=t.memoizedProps,r[oo]=t,(s=r.nodeValue!==n)&&(e=Ts,e!==null))switch(e.tag){case 3:km(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&km(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[oo]=t,t.stateNode=r}return gi(t),null;case 13:if(Hn(ar),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(er&&Ls!==null&&t.mode&1&&!(t.flags&128))L4(),gf(),t.flags|=98560,s=!1;else if(s=Em(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(it(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(it(317));s[oo]=t}else gf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gi(t),s=!1}else Aa!==null&&(R2(Aa),Aa=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ar.current&1?Fr===0&&(Fr=3):g5())),t.updateQueue!==null&&(t.flags|=4),gi(t),null);case 4:return yf(),A2(e,t),e===null&&ep(t.stateNode.containerInfo),gi(t),null;case 10:return Zy(t.type._context),gi(t),null;case 17:return ls(t.type)&&j0(),gi(t),null;case 19:if(Hn(ar),s=t.memoizedState,s===null)return gi(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)ph(s,!1);else{if(Fr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=T0(e),a!==null){for(t.flags|=128,ph(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Bn(ar,ar.current&1|2),t.child}e=e.sibling}s.tail!==null&&br()>xf&&(t.flags|=128,r=!0,ph(s,!1),t.lanes=4194304)}else{if(!r)if(e=T0(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ph(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!er)return gi(t),null}else 2*br()-s.renderingStartTime>xf&&n!==1073741824&&(t.flags|=128,r=!0,ph(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=br(),t.sibling=null,n=ar.current,Bn(ar,r?n&1|2:n&1),t):(gi(t),null);case 22:case 23:return m5(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?As&1073741824&&(gi(t),t.subtreeFlags&6&&(t.flags|=8192)):gi(t),null;case 24:return null;case 25:return null}throw Error(it(156,t.tag))}function ZL(e,t){switch(Ky(t),t.tag){case 1:return ls(t.type)&&j0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yf(),Hn(os),Hn(Ni),i5(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return r5(t),null;case 13:if(Hn(ar),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(it(340));gf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Hn(ar),null;case 4:return yf(),null;case 10:return Zy(t.type._context),null;case 22:case 23:return m5(),null;case 24:return null;default:return null}}var Lm=!1,_i=!1,eP=typeof WeakSet=="function"?WeakSet:Set,mt=null;function Jd(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mr(e,t,r)}else n.current=null}function L2(e,t,n){try{n()}catch(r){mr(e,t,r)}}var mb=!1;function tP(e,t){if(h2=b0,e=v4(),Gy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,p=0,m=e,w=null;t:for(;;){for(var g;m!==n||i!==0&&m.nodeType!==3||(l=a+i),m!==s||r!==0&&m.nodeType!==3||(c=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(g=m.firstChild)!==null;)w=m,m=g;for(;;){if(m===e)break t;if(w===n&&++h===i&&(l=a),w===s&&++p===r&&(c=a),(g=m.nextSibling)!==null)break;m=w,w=m.parentNode}m=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(p2={focusedElem:e,selectionRange:n},b0=!1,mt=t;mt!==null;)if(t=mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,mt=e;else for(;mt!==null;){t=mt;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var j=N.memoizedProps,C=N.memoizedState,_=t.stateNode,S=_.getSnapshotBeforeUpdate(t.elementType===t.type?j:ja(t.type,j),C);_.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(it(163))}}catch(R){mr(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,mt=e;break}mt=t.return}return N=mb,mb=!1,N}function Mh(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&L2(t,n,s)}i=i.next}while(i!==r)}}function vg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function P2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hS(e){var t=e.alternate;t!==null&&(e.alternate=null,hS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[oo],delete t[np],delete t[v2],delete t[RL],delete t[FL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pS(e){return e.tag===5||e.tag===3||e.tag===4}function gb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function T2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=N0));else if(r!==4&&(e=e.child,e!==null))for(T2(e,t,n),e=e.sibling;e!==null;)T2(e,t,n),e=e.sibling}function D2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(D2(e,t,n),e=e.sibling;e!==null;)D2(e,t,n),e=e.sibling}var ni=null,Ea=!1;function Xl(e,t,n){for(n=n.child;n!==null;)mS(e,t,n),n=n.sibling}function mS(e,t,n){if(ho&&typeof ho.onCommitFiberUnmount=="function")try{ho.onCommitFiberUnmount(cg,n)}catch{}switch(n.tag){case 5:_i||Jd(n,t);case 6:var r=ni,i=Ea;ni=null,Xl(e,t,n),ni=r,Ea=i,ni!==null&&(Ea?(e=ni,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ni.removeChild(n.stateNode));break;case 18:ni!==null&&(Ea?(e=ni,n=n.stateNode,e.nodeType===8?rv(e.parentNode,n):e.nodeType===1&&rv(e,n),Xh(e)):rv(ni,n.stateNode));break;case 4:r=ni,i=Ea,ni=n.stateNode.containerInfo,Ea=!0,Xl(e,t,n),ni=r,Ea=i;break;case 0:case 11:case 14:case 15:if(!_i&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&L2(n,t,a),i=i.next}while(i!==r)}Xl(e,t,n);break;case 1:if(!_i&&(Jd(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){mr(n,t,l)}Xl(e,t,n);break;case 21:Xl(e,t,n);break;case 22:n.mode&1?(_i=(r=_i)||n.memoizedState!==null,Xl(e,t,n),_i=r):Xl(e,t,n);break;default:Xl(e,t,n)}}function vb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new eP),t.forEach(function(r){var i=uP.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ni=l.stateNode,Ea=!1;break e;case 3:ni=l.stateNode.containerInfo,Ea=!0;break e;case 4:ni=l.stateNode.containerInfo,Ea=!0;break e}l=l.return}if(ni===null)throw Error(it(160));mS(s,a,i),ni=null,Ea=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){mr(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gS(t,e),t=t.sibling}function gS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xa(t,e),io(e),r&4){try{Mh(3,e,e.return),vg(3,e)}catch(j){mr(e,e.return,j)}try{Mh(5,e,e.return)}catch(j){mr(e,e.return,j)}}break;case 1:xa(t,e),io(e),r&512&&n!==null&&Jd(n,n.return);break;case 5:if(xa(t,e),io(e),r&512&&n!==null&&Jd(n,n.return),e.flags&32){var i=e.stateNode;try{Gh(i,"")}catch(j){mr(e,e.return,j)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&F_(i,s),r2(l,a);var h=r2(l,s);for(a=0;a<c.length;a+=2){var p=c[a],m=c[a+1];p==="style"?q_(i,m):p==="dangerouslySetInnerHTML"?U_(i,m):p==="children"?Gh(i,m):Oy(i,p,m,h)}switch(l){case"input":Qv(i,s);break;case"textarea":$_(i,s);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ef(i,!!s.multiple,g,!1):w!==!!s.multiple&&(s.defaultValue!=null?ef(i,!!s.multiple,s.defaultValue,!0):ef(i,!!s.multiple,s.multiple?[]:"",!1))}i[np]=s}catch(j){mr(e,e.return,j)}}break;case 6:if(xa(t,e),io(e),r&4){if(e.stateNode===null)throw Error(it(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(j){mr(e,e.return,j)}}break;case 3:if(xa(t,e),io(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xh(t.containerInfo)}catch(j){mr(e,e.return,j)}break;case 4:xa(t,e),io(e);break;case 13:xa(t,e),io(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(h5=br())),r&4&&vb(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(_i=(h=_i)||p,xa(t,e),_i=h):xa(t,e),io(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(mt=e,p=e.child;p!==null;){for(m=mt=p;mt!==null;){switch(w=mt,g=w.child,w.tag){case 0:case 11:case 14:case 15:Mh(4,w,w.return);break;case 1:Jd(w,w.return);var N=w.stateNode;if(typeof N.componentWillUnmount=="function"){r=w,n=w.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(j){mr(r,n,j)}}break;case 5:Jd(w,w.return);break;case 22:if(w.memoizedState!==null){wb(m);continue}}g!==null?(g.return=w,mt=g):wb(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=z_("display",a))}catch(j){mr(e,e.return,j)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(j){mr(e,e.return,j)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xa(t,e),io(e),r&4&&vb(e);break;case 21:break;default:xa(t,e),io(e)}}function io(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(pS(n)){var r=n;break e}n=n.return}throw Error(it(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gh(i,""),r.flags&=-33);var s=gb(e);D2(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=gb(e);T2(e,l,a);break;default:throw Error(it(161))}}catch(c){mr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nP(e,t,n){mt=e,vS(e)}function vS(e,t,n){for(var r=(e.mode&1)!==0;mt!==null;){var i=mt,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Lm;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||_i;l=Lm;var h=_i;if(Lm=a,(_i=c)&&!h)for(mt=i;mt!==null;)a=mt,c=a.child,a.tag===22&&a.memoizedState!==null?xb(i):c!==null?(c.return=a,mt=c):xb(i);for(;s!==null;)mt=s,vS(s),s=s.sibling;mt=i,Lm=l,_i=h}yb(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,mt=s):yb(e)}}function yb(e){for(;mt!==null;){var t=mt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_i||vg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_i)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ja(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&nb(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nb(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Xh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(it(163))}_i||t.flags&512&&P2(t)}catch(w){mr(t,t.return,w)}}if(t===e){mt=null;break}if(n=t.sibling,n!==null){n.return=t.return,mt=n;break}mt=t.return}}function wb(e){for(;mt!==null;){var t=mt;if(t===e){mt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,mt=n;break}mt=t.return}}function xb(e){for(;mt!==null;){var t=mt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vg(4,t)}catch(c){mr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){mr(t,i,c)}}var s=t.return;try{P2(t)}catch(c){mr(t,s,c)}break;case 5:var a=t.return;try{P2(t)}catch(c){mr(t,a,c)}}}catch(c){mr(t,t.return,c)}if(t===e){mt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,mt=l;break}mt=t.return}}var rP=Math.ceil,M0=al.ReactCurrentDispatcher,d5=al.ReactCurrentOwner,ta=al.ReactCurrentBatchConfig,cn=0,Kr=null,Lr=null,ii=0,As=0,Xd=Oc(0),Fr=0,lp=null,Fu=0,yg=0,f5=0,Ih=null,is=null,h5=0,xf=1/0,Go=null,I0=!1,O2=null,_c=null,Pm=!1,hc=null,R0=0,Rh=0,M2=null,n0=-1,r0=0;function Ii(){return cn&6?br():n0!==-1?n0:n0=br()}function Sc(e){return e.mode&1?cn&2&&ii!==0?ii&-ii:BL.transition!==null?(r0===0&&(r0=t4()),r0):(e=jn,e!==0||(e=window.event,e=e===void 0?16:l4(e.type)),e):1}function Ta(e,t,n,r){if(50<Rh)throw Rh=0,M2=null,Error(it(185));wp(e,n,r),(!(cn&2)||e!==Kr)&&(e===Kr&&(!(cn&2)&&(yg|=n),Fr===4&&lc(e,ii)),cs(e,r),n===1&&cn===0&&!(t.mode&1)&&(xf=br()+500,pg&&Mc()))}function cs(e,t){var n=e.callbackNode;BA(e,t);var r=x0(e,e===Kr?ii:0);if(r===0)n!==null&&Ax(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ax(n),t===1)e.tag===0?$L(bb.bind(null,e)):E4(bb.bind(null,e)),ML(function(){!(cn&6)&&Mc()}),n=null;else{switch(n4(r)){case 1:n=$y;break;case 4:n=Z_;break;case 16:n=w0;break;case 536870912:n=e4;break;default:n=w0}n=jS(n,yS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yS(e,t){if(n0=-1,r0=0,cn&6)throw Error(it(327));var n=e.callbackNode;if(af()&&e.callbackNode!==n)return null;var r=x0(e,e===Kr?ii:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=F0(e,r);else{t=r;var i=cn;cn|=2;var s=xS();(Kr!==e||ii!==t)&&(Go=null,xf=br()+500,Lu(e,t));do try{aP();break}catch(l){wS(e,l)}while(!0);Qy(),M0.current=s,cn=i,Lr!==null?t=0:(Kr=null,ii=0,t=Fr)}if(t!==0){if(t===2&&(i=l2(e),i!==0&&(r=i,t=I2(e,i))),t===1)throw n=lp,Lu(e,0),lc(e,r),cs(e,br()),n;if(t===6)lc(e,r);else{if(i=e.current.alternate,!(r&30)&&!iP(i)&&(t=F0(e,r),t===2&&(s=l2(e),s!==0&&(r=s,t=I2(e,s))),t===1))throw n=lp,Lu(e,0),lc(e,r),cs(e,br()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(it(345));case 2:vu(e,is,Go);break;case 3:if(lc(e,r),(r&130023424)===r&&(t=h5+500-br(),10<t)){if(x0(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ii(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=g2(vu.bind(null,e,is,Go),t);break}vu(e,is,Go);break;case 4:if(lc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Pa(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=br()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rP(r/1960))-r,10<r){e.timeoutHandle=g2(vu.bind(null,e,is,Go),r);break}vu(e,is,Go);break;case 5:vu(e,is,Go);break;default:throw Error(it(329))}}}return cs(e,br()),e.callbackNode===n?yS.bind(null,e):null}function I2(e,t){var n=Ih;return e.current.memoizedState.isDehydrated&&(Lu(e,t).flags|=256),e=F0(e,t),e!==2&&(t=is,is=n,t!==null&&R2(t)),e}function R2(e){is===null?is=e:is.push.apply(is,e)}function iP(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Oa(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lc(e,t){for(t&=~f5,t&=~yg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pa(t),r=1<<n;e[n]=-1,t&=~r}}function bb(e){if(cn&6)throw Error(it(327));af();var t=x0(e,0);if(!(t&1))return cs(e,br()),null;var n=F0(e,t);if(e.tag!==0&&n===2){var r=l2(e);r!==0&&(t=r,n=I2(e,r))}if(n===1)throw n=lp,Lu(e,0),lc(e,t),cs(e,br()),n;if(n===6)throw Error(it(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vu(e,is,Go),cs(e,br()),null}function p5(e,t){var n=cn;cn|=1;try{return e(t)}finally{cn=n,cn===0&&(xf=br()+500,pg&&Mc())}}function $u(e){hc!==null&&hc.tag===0&&!(cn&6)&&af();var t=cn;cn|=1;var n=ta.transition,r=jn;try{if(ta.transition=null,jn=1,e)return e()}finally{jn=r,ta.transition=n,cn=t,!(cn&6)&&Mc()}}function m5(){As=Xd.current,Hn(Xd)}function Lu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,OL(n)),Lr!==null)for(n=Lr.return;n!==null;){var r=n;switch(Ky(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&j0();break;case 3:yf(),Hn(os),Hn(Ni),i5();break;case 5:r5(r);break;case 4:yf();break;case 13:Hn(ar);break;case 19:Hn(ar);break;case 10:Zy(r.type._context);break;case 22:case 23:m5()}n=n.return}if(Kr=e,Lr=e=Nc(e.current,null),ii=As=t,Fr=0,lp=null,f5=yg=Fu=0,is=Ih=null,ku!==null){for(t=0;t<ku.length;t++)if(n=ku[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ku=null}return e}function wS(e,t){do{var n=Lr;try{if(Qy(),Zm.current=O0,D0){for(var r=lr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}D0=!1}if(Ru=0,Vr=Ir=lr=null,Oh=!1,sp=0,d5.current=null,n===null||n.return===null){Fr=1,lp=t,Lr=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=ii,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=l,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var w=p.alternate;w?(p.updateQueue=w.updateQueue,p.memoizedState=w.memoizedState,p.lanes=w.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=lb(a);if(g!==null){g.flags&=-257,cb(g,a,l,s,t),g.mode&1&&ob(s,h,t),t=g,c=h;var N=t.updateQueue;if(N===null){var j=new Set;j.add(c),t.updateQueue=j}else N.add(c);break e}else{if(!(t&1)){ob(s,h,t),g5();break e}c=Error(it(426))}}else if(er&&l.mode&1){var C=lb(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),cb(C,a,l,s,t),Jy(wf(c,l));break e}}s=c=wf(c,l),Fr!==4&&(Fr=2),Ih===null?Ih=[s]:Ih.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var _=nS(s,c,t);tb(s,_);break e;case 1:l=c;var S=s.type,L=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(_c===null||!_c.has(L)))){s.flags|=65536,t&=-t,s.lanes|=t;var R=rS(s,l,t);tb(s,R);break e}}s=s.return}while(s!==null)}_S(n)}catch(X){t=X,Lr===n&&n!==null&&(Lr=n=n.return);continue}break}while(!0)}function xS(){var e=M0.current;return M0.current=O0,e===null?O0:e}function g5(){(Fr===0||Fr===3||Fr===2)&&(Fr=4),Kr===null||!(Fu&268435455)&&!(yg&268435455)||lc(Kr,ii)}function F0(e,t){var n=cn;cn|=2;var r=xS();(Kr!==e||ii!==t)&&(Go=null,Lu(e,t));do try{sP();break}catch(i){wS(e,i)}while(!0);if(Qy(),cn=n,M0.current=r,Lr!==null)throw Error(it(261));return Kr=null,ii=0,Fr}function sP(){for(;Lr!==null;)bS(Lr)}function aP(){for(;Lr!==null&&!PA();)bS(Lr)}function bS(e){var t=NS(e.alternate,e,As);e.memoizedProps=e.pendingProps,t===null?_S(e):Lr=t,d5.current=null}function _S(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ZL(n,t),n!==null){n.flags&=32767,Lr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fr=6,Lr=null;return}}else if(n=QL(n,t,As),n!==null){Lr=n;return}if(t=t.sibling,t!==null){Lr=t;return}Lr=t=e}while(t!==null);Fr===0&&(Fr=5)}function vu(e,t,n){var r=jn,i=ta.transition;try{ta.transition=null,jn=1,oP(e,t,n,r)}finally{ta.transition=i,jn=r}return null}function oP(e,t,n,r){do af();while(hc!==null);if(cn&6)throw Error(it(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(it(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(UA(e,s),e===Kr&&(Lr=Kr=null,ii=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pm||(Pm=!0,jS(w0,function(){return af(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ta.transition,ta.transition=null;var a=jn;jn=1;var l=cn;cn|=4,d5.current=null,tP(e,n),gS(n,e),EL(p2),b0=!!h2,p2=h2=null,e.current=n,nP(n),TA(),cn=l,jn=a,ta.transition=s}else e.current=n;if(Pm&&(Pm=!1,hc=e,R0=i),s=e.pendingLanes,s===0&&(_c=null),MA(n.stateNode),cs(e,br()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(I0)throw I0=!1,e=O2,O2=null,e;return R0&1&&e.tag!==0&&af(),s=e.pendingLanes,s&1?e===M2?Rh++:(Rh=0,M2=e):Rh=0,Mc(),null}function af(){if(hc!==null){var e=n4(R0),t=ta.transition,n=jn;try{if(ta.transition=null,jn=16>e?16:e,hc===null)var r=!1;else{if(e=hc,hc=null,R0=0,cn&6)throw Error(it(331));var i=cn;for(cn|=4,mt=e.current;mt!==null;){var s=mt,a=s.child;if(mt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(mt=h;mt!==null;){var p=mt;switch(p.tag){case 0:case 11:case 15:Mh(8,p,s)}var m=p.child;if(m!==null)m.return=p,mt=m;else for(;mt!==null;){p=mt;var w=p.sibling,g=p.return;if(hS(p),p===h){mt=null;break}if(w!==null){w.return=g,mt=w;break}mt=g}}}var N=s.alternate;if(N!==null){var j=N.child;if(j!==null){N.child=null;do{var C=j.sibling;j.sibling=null,j=C}while(j!==null)}}mt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,mt=a;else e:for(;mt!==null;){if(s=mt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mh(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,mt=_;break e}mt=s.return}}var S=e.current;for(mt=S;mt!==null;){a=mt;var L=a.child;if(a.subtreeFlags&2064&&L!==null)L.return=a,mt=L;else e:for(a=S;mt!==null;){if(l=mt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vg(9,l)}}catch(X){mr(l,l.return,X)}if(l===a){mt=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,mt=R;break e}mt=l.return}}if(cn=i,Mc(),ho&&typeof ho.onPostCommitFiberRoot=="function")try{ho.onPostCommitFiberRoot(cg,e)}catch{}r=!0}return r}finally{jn=n,ta.transition=t}}return!1}function _b(e,t,n){t=wf(n,t),t=nS(e,t,1),e=bc(e,t,1),t=Ii(),e!==null&&(wp(e,1,t),cs(e,t))}function mr(e,t,n){if(e.tag===3)_b(e,e,n);else for(;t!==null;){if(t.tag===3){_b(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_c===null||!_c.has(r))){e=wf(n,e),e=rS(t,e,1),t=bc(t,e,1),e=Ii(),t!==null&&(wp(t,1,e),cs(t,e));break}}t=t.return}}function lP(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ii(),e.pingedLanes|=e.suspendedLanes&n,Kr===e&&(ii&n)===n&&(Fr===4||Fr===3&&(ii&130023424)===ii&&500>br()-h5?Lu(e,0):f5|=n),cs(e,t)}function SS(e,t){t===0&&(e.mode&1?(t=bm,bm<<=1,!(bm&130023424)&&(bm=4194304)):t=1);var n=Ii();e=nl(e,t),e!==null&&(wp(e,t,n),cs(e,n))}function cP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),SS(e,n)}function uP(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(it(314))}r!==null&&r.delete(t),SS(e,n)}var NS;NS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||os.current)as=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return as=!1,XL(e,t,n);as=!!(e.flags&131072)}else as=!1,er&&t.flags&1048576&&C4(t,C0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;t0(e,t),e=t.pendingProps;var i=mf(t,Ni.current);sf(t,n),i=a5(null,t,r,e,i,n);var s=o5();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ls(r)?(s=!0,k0(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,t5(t),i.updater=gg,t.stateNode=i,i._reactInternals=t,S2(t,r,e,n),t=k2(null,t,r,!0,s,n)):(t.tag=0,er&&s&&Yy(t),Oi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(t0(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=fP(r),e=ja(r,e),i){case 0:t=j2(null,t,r,e,n);break e;case 1:t=fb(null,t,r,e,n);break e;case 11:t=ub(null,t,r,e,n);break e;case 14:t=db(null,t,r,ja(r.type,e),n);break e}throw Error(it(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ja(r,i),j2(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ja(r,i),fb(e,t,r,i,n);case 3:e:{if(oS(t),e===null)throw Error(it(387));r=t.pendingProps,s=t.memoizedState,i=s.element,O4(e,t),P0(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=wf(Error(it(423)),t),t=hb(e,t,r,n,i);break e}else if(r!==i){i=wf(Error(it(424)),t),t=hb(e,t,r,n,i);break e}else for(Ls=xc(t.stateNode.containerInfo.firstChild),Ts=t,er=!0,Aa=null,n=T4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gf(),r===i){t=rl(e,t,n);break e}Oi(e,t,r,n)}t=t.child}return t;case 5:return M4(t),e===null&&x2(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,m2(r,i)?a=null:s!==null&&m2(r,s)&&(t.flags|=32),aS(e,t),Oi(e,t,a,n),t.child;case 6:return e===null&&x2(t),null;case 13:return lS(e,t,n);case 4:return n5(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vf(t,null,r,n):Oi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ja(r,i),ub(e,t,r,i,n);case 7:return Oi(e,t,t.pendingProps,n),t.child;case 8:return Oi(e,t,t.pendingProps.children,n),t.child;case 12:return Oi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Bn(A0,r._currentValue),r._currentValue=a,s!==null)if(Oa(s.value,a)){if(s.children===i.children&&!os.current){t=rl(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Qo(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),b2(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(it(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),b2(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Oi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,sf(t,n),i=na(i),r=r(i),t.flags|=1,Oi(e,t,r,n),t.child;case 14:return r=t.type,i=ja(r,t.pendingProps),i=ja(r.type,i),db(e,t,r,i,n);case 15:return iS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ja(r,i),t0(e,t),t.tag=1,ls(r)?(e=!0,k0(t)):e=!1,sf(t,n),tS(t,r,i),S2(t,r,i,n),k2(null,t,r,!0,e,n);case 19:return cS(e,t,n);case 22:return sS(e,t,n)}throw Error(it(156,t.tag))};function jS(e,t){return Q_(e,t)}function dP(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(e,t,n,r){return new dP(e,t,n,r)}function v5(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fP(e){if(typeof e=="function")return v5(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Iy)return 11;if(e===Ry)return 14}return 2}function Nc(e,t){var n=e.alternate;return n===null?(n=ea(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function i0(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")v5(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ud:return Pu(n.children,i,s,t);case My:a=8,i|=8;break;case Gv:return e=ea(12,n,t,i|2),e.elementType=Gv,e.lanes=s,e;case Yv:return e=ea(13,n,t,i),e.elementType=Yv,e.lanes=s,e;case Kv:return e=ea(19,n,t,i),e.elementType=Kv,e.lanes=s,e;case M_:return wg(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D_:a=10;break e;case O_:a=9;break e;case Iy:a=11;break e;case Ry:a=14;break e;case rc:a=16,r=null;break e}throw Error(it(130,e==null?e:typeof e,""))}return t=ea(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Pu(e,t,n,r){return e=ea(7,e,r,t),e.lanes=n,e}function wg(e,t,n,r){return e=ea(22,e,r,t),e.elementType=M_,e.lanes=n,e.stateNode={isHidden:!1},e}function dv(e,t,n){return e=ea(6,e,null,t),e.lanes=n,e}function fv(e,t,n){return t=ea(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hP(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=V1(0),this.expirationTimes=V1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=V1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function y5(e,t,n,r,i,s,a,l,c){return e=new hP(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ea(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},t5(s),e}function pP(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bd,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kS(e){if(!e)return Cc;e=e._reactInternals;e:{if(zu(e)!==e||e.tag!==1)throw Error(it(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ls(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(it(171))}if(e.tag===1){var n=e.type;if(ls(n))return k4(e,n,t)}return t}function ES(e,t,n,r,i,s,a,l,c){return e=y5(n,r,!0,e,i,s,a,l,c),e.context=kS(null),n=e.current,r=Ii(),i=Sc(n),s=Qo(r,i),s.callback=t??null,bc(n,s,i),e.current.lanes=i,wp(e,i,r),cs(e,r),e}function xg(e,t,n,r){var i=t.current,s=Ii(),a=Sc(i);return n=kS(n),t.context===null?t.context=n:t.pendingContext=n,t=Qo(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=bc(i,t,a),e!==null&&(Ta(e,i,a,s),Qm(e,i,a)),a}function $0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function w5(e,t){Sb(e,t),(e=e.alternate)&&Sb(e,t)}function mP(){return null}var CS=typeof reportError=="function"?reportError:function(e){console.error(e)};function x5(e){this._internalRoot=e}bg.prototype.render=x5.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(it(409));xg(e,t,null,null)};bg.prototype.unmount=x5.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$u(function(){xg(null,e,null,null)}),t[tl]=null}};function bg(e){this._internalRoot=e}bg.prototype.unstable_scheduleHydration=function(e){if(e){var t=s4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oc.length&&t!==0&&t<oc[n].priority;n++);oc.splice(n,0,e),n===0&&o4(e)}};function b5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nb(){}function gP(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=$0(a);s.call(h)}}var a=ES(t,r,e,0,null,!1,!1,"",Nb);return e._reactRootContainer=a,e[tl]=a.current,ep(e.nodeType===8?e.parentNode:e),$u(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=$0(c);l.call(h)}}var c=y5(e,0,!1,null,null,!1,!1,"",Nb);return e._reactRootContainer=c,e[tl]=c.current,ep(e.nodeType===8?e.parentNode:e),$u(function(){xg(t,c,n,r)}),c}function Sg(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=$0(a);l.call(c)}}xg(t,a,e,i)}else a=gP(n,t,e,i,r);return $0(a)}r4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jh(t.pendingLanes);n!==0&&(By(t,n|1),cs(t,br()),!(cn&6)&&(xf=br()+500,Mc()))}break;case 13:$u(function(){var r=nl(e,1);if(r!==null){var i=Ii();Ta(r,e,1,i)}}),w5(e,1)}};Uy=function(e){if(e.tag===13){var t=nl(e,134217728);if(t!==null){var n=Ii();Ta(t,e,134217728,n)}w5(e,134217728)}};i4=function(e){if(e.tag===13){var t=Sc(e),n=nl(e,t);if(n!==null){var r=Ii();Ta(n,e,t,r)}w5(e,t)}};s4=function(){return jn};a4=function(e,t){var n=jn;try{return jn=e,t()}finally{jn=n}};s2=function(e,t,n){switch(t){case"input":if(Qv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=hg(r);if(!i)throw Error(it(90));R_(r),Qv(r,i)}}}break;case"textarea":$_(e,n);break;case"select":t=n.value,t!=null&&ef(e,!!n.multiple,t,!1)}};V_=p5;G_=$u;var vP={usingClientEntryPoint:!1,Events:[bp,Hd,hg,W_,H_,p5]},mh={findFiberByHostInstance:ju,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yP={bundleType:mh.bundleType,version:mh.version,rendererPackageName:mh.rendererPackageName,rendererConfig:mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:al.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=J_(e),e===null?null:e.stateNode},findFiberByHostInstance:mh.findFiberByHostInstance||mP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tm.isDisabled&&Tm.supportsFiber)try{cg=Tm.inject(yP),ho=Tm}catch{}}Os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vP;Os.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b5(t))throw Error(it(200));return pP(e,t,null,n)};Os.createRoot=function(e,t){if(!b5(e))throw Error(it(299));var n=!1,r="",i=CS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=y5(e,1,!1,null,null,n,!1,r,i),e[tl]=t.current,ep(e.nodeType===8?e.parentNode:e),new x5(t)};Os.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(it(188)):(e=Object.keys(e).join(","),Error(it(268,e)));return e=J_(t),e=e===null?null:e.stateNode,e};Os.flushSync=function(e){return $u(e)};Os.hydrate=function(e,t,n){if(!_g(t))throw Error(it(200));return Sg(null,e,t,!0,n)};Os.hydrateRoot=function(e,t,n){if(!b5(e))throw Error(it(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=CS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=ES(t,null,e,1,n??null,i,!1,s,a),e[tl]=t.current,ep(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new bg(t)};Os.render=function(e,t,n){if(!_g(t))throw Error(it(200));return Sg(null,e,t,!1,n)};Os.unmountComponentAtNode=function(e){if(!_g(e))throw Error(it(40));return e._reactRootContainer?($u(function(){Sg(null,null,e,!1,function(){e._reactRootContainer=null,e[tl]=null})}),!0):!1};Os.unstable_batchedUpdates=p5;Os.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_g(n))throw Error(it(200));if(e==null||e._reactInternals===void 0)throw Error(it(38));return Sg(e,t,n,!1,r)};Os.version="18.3.1-next-f1338f8080-20240426";function AS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AS)}catch(e){console.error(e)}}AS(),A_.exports=Os;var Cu=A_.exports,LS,jb=Cu;LS=jb.createRoot,jb.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cp.apply(this,arguments)}var pc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pc||(pc={}));const kb="popstate";function wP(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:l}=r.location;return F2("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:B0(i)}return bP(t,n,null,e)}function jr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function PS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xP(){return Math.random().toString(36).substr(2,8)}function Eb(e,t){return{usr:e.state,key:e.key,idx:t}}function F2(e,t,n,r){return n===void 0&&(n=null),cp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ef(t):t,{state:n,key:t&&t.key||r||xP()})}function B0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ef(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function bP(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=pc.Pop,c=null,h=p();h==null&&(h=0,a.replaceState(cp({},a.state,{idx:h}),""));function p(){return(a.state||{idx:null}).idx}function m(){l=pc.Pop;let C=p(),_=C==null?null:C-h;h=C,c&&c({action:l,location:j.location,delta:_})}function w(C,_){l=pc.Push;let S=F2(j.location,C,_);h=p()+1;let L=Eb(S,h),R=j.createHref(S);try{a.pushState(L,"",R)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(R)}s&&c&&c({action:l,location:j.location,delta:1})}function g(C,_){l=pc.Replace;let S=F2(j.location,C,_);h=p();let L=Eb(S,h),R=j.createHref(S);a.replaceState(L,"",R),s&&c&&c({action:l,location:j.location,delta:0})}function N(C){let _=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof C=="string"?C:B0(C);return S=S.replace(/ $/,"%20"),jr(_,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,_)}let j={get action(){return l},get location(){return e(i,a)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(kb,m),c=C,()=>{i.removeEventListener(kb,m),c=null}},createHref(C){return t(i,C)},createURL:N,encodeLocation(C){let _=N(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:w,replace:g,go(C){return a.go(C)}};return j}var Cb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cb||(Cb={}));function _P(e,t,n){return n===void 0&&(n="/"),SP(e,t,n,!1)}function SP(e,t,n,r){let i=typeof t=="string"?Ef(t):t,s=_5(i.pathname||"/",n);if(s==null)return null;let a=TS(e);NP(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let h=MP(s);l=DP(a[c],h,r)}return l}function TS(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(jr(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=jc([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(jr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),TS(s.children,t,p,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:PP(h,s.index),routesMeta:p})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of DS(s.path))i(s,a,c)}),t}function DS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=DS(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function NP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:TP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jP=/^:[\w-]+$/,kP=3,EP=2,CP=1,AP=10,LP=-2,Ab=e=>e==="*";function PP(e,t){let n=e.split("/"),r=n.length;return n.some(Ab)&&(r+=LP),t&&(r+=EP),n.filter(i=>!Ab(i)).reduce((i,s)=>i+(jP.test(s)?kP:s===""?CP:AP),r)}function TP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function DP(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",m=Lb({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),w=c.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=Lb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:jc([s,m.pathname]),pathnameBase:$P(jc([s,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(s=jc([s,m.pathnameBase]))}return a}function Lb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=OP(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,p,m)=>{let{paramName:w,isOptional:g}=p;if(w==="*"){let j=l[m]||"";a=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const N=l[m];return g&&!N?h[w]=void 0:h[w]=(N||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:e}}function OP(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),PS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function MP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return PS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _5(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function IP(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ef(e):e;return{pathname:n?n.startsWith("/")?n:RP(n,t):t,search:BP(r),hash:UP(i)}}function RP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hv(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function S5(e,t){let n=FP(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function N5(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ef(e):(i=cp({},e),jr(!i.pathname||!i.pathname.includes("?"),hv("?","pathname","search",i)),jr(!i.pathname||!i.pathname.includes("#"),hv("#","pathname","hash",i)),jr(!i.search||!i.search.includes("#"),hv("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let m=t.length-1;if(!r&&a.startsWith("..")){let w=a.split("/");for(;w[0]==="..";)w.shift(),m-=1;i.pathname=w.join("/")}l=m>=0?t[m]:"/"}let c=IP(i,l),h=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}const jc=e=>e.join("/").replace(/\/\/+/g,"/"),$P=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),BP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const OS=["post","put","patch","delete"];new Set(OS);const qP=["get",...OS];new Set(qP);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},up.apply(this,arguments)}const j5=E.createContext(null),WP=E.createContext(null),Ic=E.createContext(null),Ng=E.createContext(null),ol=E.createContext({outlet:null,matches:[],isDataRoute:!1}),MS=E.createContext(null);function HP(e,t){let{relative:n}=t===void 0?{}:t;Cf()||jr(!1);let{basename:r,navigator:i}=E.useContext(Ic),{hash:s,pathname:a,search:l}=FS(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:jc([r,a])),i.createHref({pathname:c,search:l,hash:s})}function Cf(){return E.useContext(Ng)!=null}function wo(){return Cf()||jr(!1),E.useContext(Ng).location}function IS(e){E.useContext(Ic).static||E.useLayoutEffect(e)}function Ra(){let{isDataRoute:e}=E.useContext(ol);return e?i7():VP()}function VP(){Cf()||jr(!1);let e=E.useContext(j5),{basename:t,future:n,navigator:r}=E.useContext(Ic),{matches:i}=E.useContext(ol),{pathname:s}=wo(),a=JSON.stringify(S5(i,n.v7_relativeSplatPath)),l=E.useRef(!1);return IS(()=>{l.current=!0}),E.useCallback(function(h,p){if(p===void 0&&(p={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let m=N5(h,JSON.parse(a),s,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:jc([t,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[t,r,a,s,e])}function RS(){let{matches:e}=E.useContext(ol),t=e[e.length-1];return t?t.params:{}}function FS(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(Ic),{matches:i}=E.useContext(ol),{pathname:s}=wo(),a=JSON.stringify(S5(i,r.v7_relativeSplatPath));return E.useMemo(()=>N5(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function GP(e,t){return YP(e,t)}function YP(e,t,n,r){Cf()||jr(!1);let{navigator:i}=E.useContext(Ic),{matches:s}=E.useContext(ol),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let h=wo(),p;if(t){var m;let C=typeof t=="string"?Ef(t):t;c==="/"||(m=C.pathname)!=null&&m.startsWith(c)||jr(!1),p=C}else p=h;let w=p.pathname||"/",g=w;if(c!=="/"){let C=c.replace(/^\//,"").split("/");g="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let N=_P(e,{pathname:g}),j=ZP(N&&N.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:jc([c,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:jc([c,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return t&&j?E.createElement(Ng.Provider,{value:{location:up({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:pc.Pop}},j):j}function KP(){let e=r7(),t=zP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,null)}const JP=E.createElement(KP,null);class XP extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(ol.Provider,{value:this.props.routeContext},E.createElement(MS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QP(e){let{routeContext:t,match:n,children:r}=e,i=E.useContext(j5);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(ol.Provider,{value:t},r)}function ZP(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);p>=0||jr(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:w,errors:g}=n,N=m.route.loader&&w[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||N){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((p,m,w)=>{let g,N=!1,j=null,C=null;n&&(g=l&&m.route.id?l[m.route.id]:void 0,j=m.route.errorElement||JP,c&&(h<0&&w===0?(N=!0,C=null):h===w&&(N=!0,C=m.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,w+1)),S=()=>{let L;return g?L=j:N?L=C:m.route.Component?L=E.createElement(m.route.Component,null):m.route.element?L=m.route.element:L=p,E.createElement(QP,{match:m,routeContext:{outlet:p,matches:_,isDataRoute:n!=null},children:L})};return n&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?E.createElement(XP,{location:n.location,revalidation:n.revalidation,component:j,error:g,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}var $S=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($S||{}),U0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(U0||{});function e7(e){let t=E.useContext(j5);return t||jr(!1),t}function t7(e){let t=E.useContext(WP);return t||jr(!1),t}function n7(e){let t=E.useContext(ol);return t||jr(!1),t}function BS(e){let t=n7(),n=t.matches[t.matches.length-1];return n.route.id||jr(!1),n.route.id}function r7(){var e;let t=E.useContext(MS),n=t7(U0.UseRouteError),r=BS(U0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function i7(){let{router:e}=e7($S.UseNavigateStable),t=BS(U0.UseNavigateStable),n=E.useRef(!1);return IS(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,up({fromRouteId:t},s)))},[e,t])}const Pb={};function s7(e,t){Pb[t]||(Pb[t]=!0,console.warn(t))}const Tb=(e,t,n)=>s7(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function a7(e,t){e!=null&&e.v7_startTransition||Tb("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&Tb("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function o7(e){let{to:t,replace:n,state:r,relative:i}=e;Cf()||jr(!1);let{future:s,static:a}=E.useContext(Ic),{matches:l}=E.useContext(ol),{pathname:c}=wo(),h=Ra(),p=N5(t,S5(l,s.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(p);return E.useEffect(()=>h(JSON.parse(m),{replace:n,state:r,relative:i}),[h,m,i,n,r]),null}function Sa(e){jr(!1)}function l7(e){let{basename:t="/",children:n=null,location:r,navigationType:i=pc.Pop,navigator:s,static:a=!1,future:l}=e;Cf()&&jr(!1);let c=t.replace(/^\/*/,"/"),h=E.useMemo(()=>({basename:c,navigator:s,static:a,future:up({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=Ef(r));let{pathname:p="/",search:m="",hash:w="",state:g=null,key:N="default"}=r,j=E.useMemo(()=>{let C=_5(p,c);return C==null?null:{location:{pathname:C,search:m,hash:w,state:g,key:N},navigationType:i}},[c,p,m,w,g,N,i]);return j==null?null:E.createElement(Ic.Provider,{value:h},E.createElement(Ng.Provider,{children:n,value:j}))}function c7(e){let{children:t,location:n}=e;return GP($2(t),n)}new Promise(()=>{});function $2(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;let s=[...t,i];if(r.type===E.Fragment){n.push.apply(n,$2(r.props.children,s));return}r.type!==Sa&&jr(!1),!r.props.index||!r.props.children||jr(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=$2(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function B2(){return B2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B2.apply(this,arguments)}function u7(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function d7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function f7(e,t){return e.button===0&&(!t||t==="_self")&&!d7(e)}function U2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function h7(e,t){let n=U2(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const p7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m7="6";try{window.__reactRouterVersion=m7}catch{}const g7="startTransition",Db=Hv[g7];function v7(e){let{basename:t,children:n,future:r,window:i}=e,s=E.useRef();s.current==null&&(s.current=wP({window:i,v5Compat:!0}));let a=s.current,[l,c]=E.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},p=E.useCallback(m=>{h&&Db?Db(()=>c(m)):c(m)},[c,h]);return E.useLayoutEffect(()=>a.listen(p),[a,p]),E.useEffect(()=>a7(r),[r]),E.createElement(l7,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const y7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kc=E.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:h,preventScrollReset:p,viewTransition:m}=t,w=u7(t,p7),{basename:g}=E.useContext(Ic),N,j=!1;if(typeof h=="string"&&w7.test(h)&&(N=h,y7))try{let L=new URL(window.location.href),R=h.startsWith("//")?new URL(L.protocol+h):new URL(h),X=_5(R.pathname,g);R.origin===L.origin&&X!=null?h=X+R.search+R.hash:j=!0}catch{}let C=HP(h,{relative:i}),_=x7(h,{replace:a,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:m});function S(L){r&&r(L),L.defaultPrevented||_(L)}return E.createElement("a",B2({},w,{href:N||C,onClick:j||s?r:S,ref:n,target:c}))});var Ob;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ob||(Ob={}));var Mb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Mb||(Mb={}));function x7(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:l}=t===void 0?{}:t,c=Ra(),h=wo(),p=FS(e,{relative:a});return E.useCallback(m=>{if(f7(m,n)){m.preventDefault();let w=r!==void 0?r:B0(h)===B0(p);c(e,{replace:w,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,p,r,i,n,e,s,a,l])}function US(e){let t=E.useRef(U2(e)),n=E.useRef(!1),r=wo(),i=E.useMemo(()=>h7(r.search,n.current?null:t.current),[r.search]),s=Ra(),a=E.useCallback((l,c)=>{const h=U2(typeof l=="function"?l(i):l);n.current=!0,s("?"+h,c)},[s,i]);return[i,a]}let b7={data:""},_7=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||b7,S7=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,N7=/\/\*[^]*?\*\/|  +/g,Ib=/\n+/g,cc=(e,t)=>{let n="",r="",i="";for(let s in e){let a=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+a+";":r+=s[1]=="f"?cc(a,s):s+"{"+cc(a,s[1]=="k"?"":t)+"}":typeof a=="object"?r+=cc(a,t?t.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=cc.p?cc.p(s,a):s+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Wo={},zS=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+zS(e[n]);return t}return e},j7=(e,t,n,r,i)=>{let s=zS(e),a=Wo[s]||(Wo[s]=(c=>{let h=0,p=11;for(;h<c.length;)p=101*p+c.charCodeAt(h++)>>>0;return"go"+p})(s));if(!Wo[a]){let c=s!==e?e:(h=>{let p,m,w=[{}];for(;p=S7.exec(h.replace(N7,""));)p[4]?w.shift():p[3]?(m=p[3].replace(Ib," ").trim(),w.unshift(w[0][m]=w[0][m]||{})):w[0][p[1]]=p[2].replace(Ib," ").trim();return w[0]})(e);Wo[a]=cc(i?{["@keyframes "+a]:c}:c,n?"":"."+a)}let l=n&&Wo.g?Wo.g:null;return n&&(Wo.g=Wo[a]),((c,h,p,m)=>{m?h.data=h.data.replace(m,c):h.data.indexOf(c)===-1&&(h.data=p?c+h.data:h.data+c)})(Wo[a],t,r,l),a},k7=(e,t,n)=>e.reduce((r,i,s)=>{let a=t[s];if(a&&a.call){let l=a(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":cc(l,""):l===!1?"":l}return r+i+(a??"")},"");function jg(e){let t=this||{},n=e.call?e(t.p):e;return j7(n.unshift?n.raw?k7(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,_7(t.target),t.g,t.o,t.k)}let qS,z2,q2;jg.bind({g:1});let il=jg.bind({k:1});function E7(e,t,n,r){cc.p=t,qS=e,z2=n,q2=r}function Rc(e,t){let n=this||{};return function(){let r=arguments;function i(s,a){let l=Object.assign({},s),c=l.className||i.className;n.p=Object.assign({theme:z2&&z2()},l),n.o=/ *go\d+/.test(c),l.className=jg.apply(n,r)+(c?" "+c:"");let h=e;return e[0]&&(h=l.as||e,delete l.as),q2&&h[0]&&q2(l),qS(h,l)}return i}}var C7=e=>typeof e=="function",z0=(e,t)=>C7(e)?e(t):e,A7=(()=>{let e=0;return()=>(++e).toString()})(),WS=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),L7=20,s0=new Map,P7=1e3,Rb=e=>{if(s0.has(e))return;let t=setTimeout(()=>{s0.delete(e),qu({type:4,toastId:e})},P7);s0.set(e,t)},T7=e=>{let t=s0.get(e);t&&clearTimeout(t)},W2=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,L7)};case 1:return t.toast.id&&T7(t.toast.id),{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:n}=t;return e.toasts.find(s=>s.id===n.id)?W2(e,{type:1,toast:n}):W2(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?Rb(r):e.toasts.forEach(s=>{Rb(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},a0=[],o0={toasts:[],pausedAt:void 0},qu=e=>{o0=W2(o0,e),a0.forEach(t=>{t(o0)})},D7={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},O7=(e={})=>{let[t,n]=E.useState(o0);E.useEffect(()=>(a0.push(n),()=>{let i=a0.indexOf(n);i>-1&&a0.splice(i,1)}),[t]);let r=t.toasts.map(i=>{var s,a;return{...e,...e[i.type],...i,duration:i.duration||((s=e[i.type])==null?void 0:s.duration)||(e==null?void 0:e.duration)||D7[i.type],style:{...e.style,...(a=e[i.type])==null?void 0:a.style,...i.style}}});return{...t,toasts:r}},M7=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||A7()}),Sp=e=>(t,n)=>{let r=M7(t,e,n);return qu({type:2,toast:r}),r.id},Pe=(e,t)=>Sp("blank")(e,t);Pe.error=Sp("error");Pe.success=Sp("success");Pe.loading=Sp("loading");Pe.custom=Sp("custom");Pe.dismiss=e=>{qu({type:3,toastId:e})};Pe.remove=e=>qu({type:4,toastId:e});Pe.promise=(e,t,n)=>{let r=Pe.loading(t.loading,{...n,...n==null?void 0:n.loading});return e.then(i=>(Pe.success(z0(t.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{Pe.error(z0(t.error,i),{id:r,...n,...n==null?void 0:n.error})}),e};var I7=(e,t)=>{qu({type:1,toast:{id:e,height:t}})},R7=()=>{qu({type:5,time:Date.now()})},F7=e=>{let{toasts:t,pausedAt:n}=O7(e);E.useEffect(()=>{if(n)return;let s=Date.now(),a=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&Pe.dismiss(l.id);return}return setTimeout(()=>Pe.dismiss(l.id),c)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[t,n]);let r=E.useCallback(()=>{n&&qu({type:6,time:Date.now()})},[n]),i=E.useCallback((s,a)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:h}=a||{},p=t.filter(g=>(g.position||h)===(s.position||h)&&g.height),m=p.findIndex(g=>g.id===s.id),w=p.filter((g,N)=>N<m&&g.visible).length;return p.filter(g=>g.visible).slice(...l?[w+1]:[0,w]).reduce((g,N)=>g+(N.height||0)+c,0)},[t]);return{toasts:t,handlers:{updateHeight:I7,startPause:R7,endPause:r,calculateOffset:i}}},$7=il`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,B7=il`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,U7=il`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,z7=Rc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$7} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${B7} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${U7} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,q7=il`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,W7=Rc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${q7} 1s linear infinite;
`,H7=il`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,V7=il`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,G7=Rc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${H7} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${V7} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Y7=Rc("div")`
  position: absolute;
`,K7=Rc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,J7=il`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,X7=Rc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${J7} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Q7=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?E.createElement(X7,null,t):t:n==="blank"?null:E.createElement(K7,null,E.createElement(W7,{...r}),n!=="loading"&&E.createElement(Y7,null,n==="error"?E.createElement(z7,{...r}):E.createElement(G7,{...r})))},Z7=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,eT=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,tT="0%{opacity:0;} 100%{opacity:1;}",nT="0%{opacity:1;} 100%{opacity:0;}",rT=Rc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,iT=Rc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,sT=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=WS()?[tT,nT]:[Z7(n),eT(n)];return{animation:t?`${il(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${il(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},aT=E.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?sT(e.position||t||"top-center",e.visible):{opacity:0},s=E.createElement(Q7,{toast:e}),a=E.createElement(iT,{...e.ariaProps},z0(e.message,e));return E.createElement(rT,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:s,message:a}):E.createElement(E.Fragment,null,s,a))});E7(E.createElement);var oT=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let s=E.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return E.createElement("div",{ref:s,className:t,style:n},i)},lT=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:WS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},cT=jg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Dm=16,uT=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:a})=>{let{toasts:l,handlers:c}=F7(n);return E.createElement("div",{style:{position:"fixed",zIndex:9999,top:Dm,left:Dm,right:Dm,bottom:Dm,pointerEvents:"none",...s},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(h=>{let p=h.position||t,m=c.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),w=lT(p,m);return E.createElement(oT,{id:h.id,key:h.id,onHeightUpdate:c.updateHeight,className:h.visible?cT:"",style:w},h.type==="custom"?z0(h.message,h):i?i(h):E.createElement(aT,{toast:h,position:p}))}))};const dT="modulepreload",fT=function(e){return"/"+e},Fb={},sl=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=fT(c),c in Fb)return;Fb[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":dT,h||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((w,g)=>{m.addEventListener("load",w),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},hT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Af);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class k5 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class pT extends k5{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mT extends k5{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gT extends k5{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var H2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(H2||(H2={}));var vT=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(m){a(m)}}function c(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};class yT{constructor(t,{headers:n={},customFetch:r,region:i=H2.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=hT(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return vT(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(l["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(l["Content-Type"]="application/json",h=JSON.stringify(a)));const p=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:h}).catch(N=>{throw new pT(N)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new mT(p);if(!p.ok)throw new gT(p);let w=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return w==="application/json"?g=yield p.json():w==="application/octet-stream"?g=yield p.blob():w==="text/event-stream"?g=p:w==="multipart/form-data"?g=yield p.formData():g=yield p.text(),{data:g,error:null}}catch(i){return{data:null,error:i}}})}}var ss={},E5={},kg={},Np={},Eg={},Cg={},wT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bf=wT();const xT=bf.fetch,HS=bf.fetch.bind(bf),VS=bf.Headers,bT=bf.Request,_T=bf.Response,Af=Object.freeze(Object.defineProperty({__proto__:null,Headers:VS,Request:bT,Response:_T,default:HS,fetch:xT},Symbol.toStringTag,{value:"Module"})),ST=GC(Af);var Ag={};Object.defineProperty(Ag,"__esModule",{value:!0});class NT extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}Ag.default=NT;var GS=ri&&ri.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cg,"__esModule",{value:!0});const jT=GS(ST),kT=GS(Ag);let ET=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=jT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,c;let h=null,p=null,m=null,w=s.status,g=s.statusText;if(s.ok){if(this.method!=="HEAD"){const _=await s.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=_:p=JSON.parse(_))}const j=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),C=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");j&&C&&C.length>1&&(m=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,w=406,g="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const j=await s.text();try{h=JSON.parse(j),Array.isArray(h)&&s.status===404&&(p=[],h=null,w=200,g="OK")}catch{s.status===404&&j===""?(w=204,g="No Content"):h={message:j}}if(h&&this.isMaybeSingle&&(!((c=h==null?void 0:h.details)===null||c===void 0)&&c.includes("0 rows"))&&(h=null,w=200,g="OK"),h&&this.shouldThrowOnError)throw new kT.default(h)}return{error:h,data:p,count:m,status:w,statusText:g}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,l,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}};Cg.default=ET;var CT=ri&&ri.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eg,"__esModule",{value:!0});const AT=CT(Cg);let LT=class extends AT.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),h=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${h}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Eg.default=LT;var PT=ri&&ri.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Np,"__esModule",{value:!0});const TT=PT(Eg);let DT=class extends TT.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Np.default=DT;var OT=ri&&ri.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kg,"__esModule",{value:!0});const gh=OT(Np);let MT=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new gh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new gh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(c.length>0){const h=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new gh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new gh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new gh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};kg.default=MT;var Lg={},Pg={};Object.defineProperty(Pg,"__esModule",{value:!0});Pg.version=void 0;Pg.version="0.0.0-automated";Object.defineProperty(Lg,"__esModule",{value:!0});Lg.DEFAULT_HEADERS=void 0;const IT=Pg;Lg.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${IT.version}`};var YS=ri&&ri.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(E5,"__esModule",{value:!0});const RT=YS(kg),FT=YS(Np),$T=Lg;let BT=class KS{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},$T.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new RT.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new KS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{l.searchParams.append(p,m)})):(a="POST",c=n);const h=Object.assign({},this.headers);return s&&(h.Prefer=`count=${s}`),new FT.default({method:a,url:l,headers:h,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};E5.default=BT;var Lf=ri&&ri.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ss,"__esModule",{value:!0});ss.PostgrestError=ss.PostgrestBuilder=ss.PostgrestTransformBuilder=ss.PostgrestFilterBuilder=ss.PostgrestQueryBuilder=ss.PostgrestClient=void 0;const JS=Lf(E5);ss.PostgrestClient=JS.default;const XS=Lf(kg);ss.PostgrestQueryBuilder=XS.default;const QS=Lf(Np);ss.PostgrestFilterBuilder=QS.default;const ZS=Lf(Eg);ss.PostgrestTransformBuilder=ZS.default;const eN=Lf(Cg);ss.PostgrestBuilder=eN.default;const tN=Lf(Ag);ss.PostgrestError=tN.default;var UT=ss.default={PostgrestClient:JS.default,PostgrestQueryBuilder:XS.default,PostgrestFilterBuilder:QS.default,PostgrestTransformBuilder:ZS.default,PostgrestBuilder:eN.default,PostgrestError:tN.default};const{PostgrestClient:zT,PostgrestQueryBuilder:uq,PostgrestFilterBuilder:dq,PostgrestTransformBuilder:fq,PostgrestBuilder:hq}=UT,qT="2.10.7",WT={"X-Client-Info":`realtime-js/${qT}`},HT="1.0.0",nN=1e4,VT=1e3;var of;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(of||(of={}));var Cs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Cs||(Cs={}));var Ca;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ca||(Ca={}));var V2;(function(e){e.websocket="websocket"})(V2||(V2={}));var _u;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_u||(_u={}));class GT{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+i));a=a+i;const c=r.decode(t.slice(a,a+s));a=a+s;const h=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:h}}}class rN{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Fn||(Fn={}));const $b=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,a)=>(s[a]=YT(a,e,t,i),s),{})},YT=(e,t,n,r)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=n[e];return s&&!r.includes(s)?iN(s,a):G2(a)},iN=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return QT(t,n)}switch(e){case Fn.bool:return KT(t);case Fn.float4:case Fn.float8:case Fn.int2:case Fn.int4:case Fn.int8:case Fn.numeric:case Fn.oid:return JT(t);case Fn.json:case Fn.jsonb:return XT(t);case Fn.timestamp:return ZT(t);case Fn.abstime:case Fn.date:case Fn.daterange:case Fn.int4range:case Fn.int8range:case Fn.money:case Fn.reltime:case Fn.text:case Fn.time:case Fn.timestamptz:case Fn.timetz:case Fn.tsrange:case Fn.tstzrange:return G2(t);default:return G2(t)}},G2=e=>e,KT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},JT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},XT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},QT=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>iN(t,l))}return e},ZT=e=>typeof e=="string"?e.replace(" ","T"):e,sN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class pv{constructor(t,n,r={},i=nN){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Bb||(Bb={}));class Fh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fh.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=Fh.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Fh.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(s,(h,p)=>{a[h]||(c[h]=p)}),this.map(a,(h,p)=>{const m=s[h];if(m){const w=p.map(C=>C.presence_ref),g=m.map(C=>C.presence_ref),N=p.filter(C=>g.indexOf(C.presence_ref)<0),j=m.filter(C=>w.indexOf(C.presence_ref)<0);N.length>0&&(l[h]=N),j.length>0&&(c[h]=j)}else l[h]=p}),this.syncDiff(s,{joins:l,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var h;const p=(h=t[l])!==null&&h!==void 0?h:[];if(t[l]=this.cloneDeep(c),p.length>0){const m=t[l].map(g=>g.presence_ref),w=p.filter(g=>m.indexOf(g.presence_ref)<0);t[l].unshift(...w)}r(l,p,c)}),this.map(a,(l,c)=>{let h=t[l];if(!h)return;const p=c.map(m=>m.presence_ref);h=h.filter(m=>p.indexOf(m.presence_ref)<0),t[l]=h,i(l,h,c),h.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ub;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ub||(Ub={}));var zb;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zb||(zb={}));var qb;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(qb||(qb={}));class C5{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Cs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new pv(this,Ca.join,this.params,this.timeout),this.rejoinTimer=new rN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cs.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Cs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ca.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Fh(this),this.broadcastEndpointURL=sN(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:a,private:l}}=this.params;this._onError(p=>t&&t("CHANNEL_ERROR",p)),this._onClose(()=>t&&t("CLOSED"));const c={},h={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:h},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:p})=>{var m;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),p===void 0){t&&t("SUBSCRIBED");return}else{const w=this.bindings.postgres_changes,g=(m=w==null?void 0:w.length)!==null&&m!==void 0?m:0,N=[];for(let j=0;j<g;j++){const C=w[j],{filter:{event:_,schema:S,table:L,filter:R}}=C,X=p&&p[j];if(X&&X.event===_&&X.schema===S&&X.table===L&&X.filter===R)N.push(Object.assign(Object.assign({},C),{id:X.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t("SUBSCRIBED");return}}).receive("error",p=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Cs.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ca.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new pv(this,Ca.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new pv(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:h,join:p}=Ca;if(r&&[l,c,h,p].indexOf(a)>=0&&r!==this._joinRef())return;let w=this._onMessage(a,n,r);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var N,j,C;return((N=g.filter)===null||N===void 0?void 0:N.event)==="*"||((C=(j=g.filter)===null||j===void 0?void 0:j.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===a}).map(g=>g.callback(w,r)):(s=this.bindings[a])===null||s===void 0||s.filter(g=>{var N,j,C,_,S,L;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const R=g.id,X=(N=g.filter)===null||N===void 0?void 0:N.event;return R&&((j=n.ids)===null||j===void 0?void 0:j.includes(R))&&(X==="*"||(X==null?void 0:X.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const R=(S=(_=g==null?void 0:g.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return R==="*"||R===((L=n==null?void 0:n.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof w=="object"&&"ids"in w){const N=w.data,{schema:j,table:C,commit_timestamp:_,type:S,errors:L}=N;w=Object.assign(Object.assign({},{schema:j,table:C,commit_timestamp:_,eventType:S,new:{},old:{},errors:L}),this._getPayloadRecords(N))}g.callback(w,r)})}_isClosed(){return this.state===Cs.closed}_isJoined(){return this.state===Cs.joined}_isJoining(){return this.state===Cs.joining}_isLeaving(){return this.state===Cs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&C5.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ca.close,{},t)}_onError(t){this._on(Ca.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=$b(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=$b(t.columns,t.old_record)),n}}const eD=()=>{},tD=typeof WebSocket<"u",nD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rD{constructor(t,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=WT,this.params={},this.timeout=nN,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=eD,this.conn=null,this.sendBuffer=[],this.serializer=new GT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>sl(async()=>{const{default:c}=await Promise.resolve().then(()=>Af);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${V2.websocket}`,this.httpEndpoint=sN(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,a)=>a(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new rN(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(tD){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new iD(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),sl(async()=>{const{default:t}=await import("./browser-5ZDgUrQ4.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case of.connecting:return _u.Connecting;case of.open:return _u.Open;case of.closing:return _u.Closing;default:return _u.Closed}}isConnected(){return this.connectionState()===_u.Open}channel(t,n={config:{}}){const r=new C5(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(Ca.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HT}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:a}=n;(a&&a===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ca.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(VT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([nD],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class iD{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=of.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class A5 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Hr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class sD extends A5{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Y2 extends A5{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var aD=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(m){a(m)}}function c(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};const aN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Af);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},oD=()=>aD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sl(()=>Promise.resolve().then(()=>Af),void 0)).Response:Response}),K2=e=>{if(Array.isArray(e))return e.map(n=>K2(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=K2(r)}),t};var Wu=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(m){a(m)}}function c(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};const mv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lD=(e,t,n)=>Wu(void 0,void 0,void 0,function*(){const r=yield oD();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new sD(mv(i),e.status||500))}).catch(i=>{t(new Y2(mv(i),i))}):t(new Y2(mv(e),e))}),cD=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function jp(e,t,n,r,i,s){return Wu(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,cD(t,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>lD(c,l,r))})})}function q0(e,t,n,r){return Wu(this,void 0,void 0,function*(){return jp(e,"GET",t,n,r)})}function sc(e,t,n,r,i){return Wu(this,void 0,void 0,function*(){return jp(e,"POST",t,r,i,n)})}function uD(e,t,n,r,i){return Wu(this,void 0,void 0,function*(){return jp(e,"PUT",t,r,i,n)})}function dD(e,t,n,r){return Wu(this,void 0,void 0,function*(){return jp(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function oN(e,t,n,r,i){return Wu(this,void 0,void 0,function*(){return jp(e,"DELETE",t,r,i,n)})}var rs=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(m){a(m)}}function c(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};const fD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hD{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=aN(i)}uploadOrUpdate(t,n,r,i){return rs(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Wb),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const h=this._removeEmptyFolders(n),p=this._getFinalPath(h),m=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:t,body:s,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),w=yield m.json();return m.ok?{data:{path:h,id:w.Id,fullPath:w.Key},error:null}:{data:null,error:w}}catch(s){if(Hr(s))return{data:null,error:s};throw s}})}upload(t,n,r){return rs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return rs(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const h=Object.assign({upsert:Wb.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",h.cacheControl)):(c=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const m=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:p}),w=yield m.json();return m.ok?{data:{path:s,fullPath:w.Key},error:null}:{data:null,error:w}}catch(c){if(Hr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return rs(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield sc(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new A5("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(Hr(r))return{data:null,error:r};throw r}})}update(t,n,r){return rs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return rs(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Hr(i))return{data:null,error:i};throw i}})}copy(t,n,r){return rs(this,void 0,void 0,function*(){try{return{data:{path:(yield sc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Hr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return rs(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield sc(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Hr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return rs(this,void 0,void 0,function*(){try{const i=yield sc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Hr(i))return{data:null,error:i};throw i}})}download(t,n){return rs(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield q0(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Hr(l))return{data:null,error:l};throw l}})}info(t){return rs(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield q0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:K2(r),error:null}}catch(r){if(Hr(r))return{data:null,error:r};throw r}})}exists(t){return rs(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield dD(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Hr(r)&&r instanceof Y2){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${h}`)}}}remove(t){return rs(this,void 0,void 0,function*(){try{return{data:yield oN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Hr(n))return{data:null,error:n};throw n}})}list(t,n,r){return rs(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},fD),n),{prefix:t||""});return{data:yield sc(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Hr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const pD="2.7.1",mD={"X-Client-Info":`storage-js/${pD}`};var Td=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(m){a(m)}}function c(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};class gD{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},mD),n),this.fetch=aN(r)}listBuckets(){return Td(this,void 0,void 0,function*(){try{return{data:yield q0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Hr(t))return{data:null,error:t};throw t}})}getBucket(t){return Td(this,void 0,void 0,function*(){try{return{data:yield q0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Hr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Td(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Hr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Td(this,void 0,void 0,function*(){try{return{data:yield uD(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Hr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Td(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Hr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Td(this,void 0,void 0,function*(){try{return{data:yield oN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Hr(n))return{data:null,error:n};throw n}})}}class vD extends gD{constructor(t,n={},r){super(t,n,r)}from(t){return new hD(this.url,this.headers,t,this.fetch)}}const yD="2.46.1";let Eh="";typeof Deno<"u"?Eh="deno":typeof document<"u"?Eh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Eh="react-native":Eh="node";const wD={"X-Client-Info":`supabase-js-${Eh}/${yD}`},xD={headers:wD},bD={schema:"public"},_D={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SD={};var ND=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(m){a(m)}}function c(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};const jD=e=>{let t;return e?t=e:typeof fetch>"u"?t=HS:t=fetch,(...n)=>t(...n)},kD=()=>typeof Headers>"u"?VS:Headers,ED=(e,t,n)=>{const r=jD(n),i=kD();return(s,a)=>ND(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let h=new i(a==null?void 0:a.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},a),{headers:h}))})};var CD=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(m){a(m)}}function c(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};function AD(e){return e.replace(/\/$/,"")}function LD(e,t){const{db:n,auth:r,realtime:i,global:s}=e,{db:a,auth:l,realtime:c,global:h}=t,p={db:Object.assign(Object.assign({},a),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},h),s),accessToken:()=>CD(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const lN="2.65.1",PD="http://localhost:9999",TD="supabase.auth.token",DD={"X-Client-Info":`gotrue-js/${lN}`},Hb=10,J2="X-Supabase-Api-Version",cN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function OD(e){return Math.round(Date.now()/1e3)+e}function MD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Na=()=>typeof document<"u",hu={tested:!1,writable:!1},$h=()=>{if(!Na())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hu.tested)return hu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),hu.tested=!0,hu.writable=!0}catch{hu.tested=!0,hu.writable=!1}return hu.writable};function gv(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const uN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Af);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ID=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",dN=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Om=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Mm=async(e,t)=>{await e.removeItem(t)};function RD(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,s,a,l,c,h,p=0;for(e=e.replace("-","+").replace("_","/");p<e.length;)a=t.indexOf(e.charAt(p++)),l=t.indexOf(e.charAt(p++)),c=t.indexOf(e.charAt(p++)),h=t.indexOf(e.charAt(p++)),r=a<<2|l>>4,i=(l&15)<<4|c>>2,s=(c&3)<<6|h,n=n+String.fromCharCode(r),c!=64&&i!=0&&(n=n+String.fromCharCode(i)),h!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class Tg{constructor(){this.promise=new Tg.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Tg.promiseConstructor=Promise;function Vb(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(RD(r))}async function FD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $D(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function BD(e){return("0"+e.toString(16)).substr(-2)}function UD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,BD).join("")}async function zD(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function qD(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function WD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await zD(e);return qD(n)}async function Dd(e,t,n=!1){const r=UD();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await dN(e,`${t}-code-verifier`,i);const s=await WD(r);return[s,r===s?"plain":"s256"]}const HD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VD(e){const t=e.headers.get(J2);if(!t||!t.match(HD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class L5 extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Vt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class GD extends L5{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function YD(e){return Vt(e)&&e.name==="AuthApiError"}class fN extends L5{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Hu extends L5{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class tc extends Hu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function KD(e){return Vt(e)&&e.name==="AuthSessionMissingError"}class vv extends Hu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Im extends Hu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Rm extends Hu{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gb extends Hu{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class X2 extends Hu{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function yv(e){return Vt(e)&&e.name==="AuthRetryableFetchError"}class Yb extends Hu{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var JD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const yu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XD=[502,503,504];async function Kb(e){var t;if(!ID(e))throw new X2(yu(e),0);if(XD.includes(e.status))throw new X2(yu(e),e.status);let n;try{n=await e.json()}catch(s){throw new fN(yu(s),s)}let r;const i=VD(e);if(i&&i.getTime()>=cN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Yb(yu(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new tc}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Yb(yu(n),e.status,n.weak_password.reasons);throw new GD(yu(n),e.status||500,r)}const QD=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function nn(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[J2]||(s[J2]=cN["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await ZD(e,t,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function ZD(e,t,n,r,i,s){const a=QD(t,r,i,s);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new X2(yu(c),0)}if(l.ok||await Kb(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Kb(c)}}function nc(e){var t;let n=null;rO(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=OD(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Jb(e){const t=nc(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function uc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function eO(e){return{data:e,error:null}}function tO(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=JD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function nO(e){return e}function rO(e){return e.access_token&&e.refresh_token&&e.expires_in}var iO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class sO{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=uN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await nn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await nn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:uc})}catch(r){if(Vt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=iO(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await nn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:tO,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Vt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await nn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:uc})}catch(n){if(Vt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,l,c;try{const h={nextPage:null,lastPage:0,total:0},p=await nn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:nO});if(p.error)throw p.error;const m=await p.json(),w=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(N=>{const j=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(N.split(";")[1].split("=")[1]);h[`${C}Page`]=j}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(Vt(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await nn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:uc})}catch(n){if(Vt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await nn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:uc})}catch(r){if(Vt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await nn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:uc})}catch(r){if(Vt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await nn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await nn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}}}const aO={getItem:e=>$h()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{$h()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{$h()&&globalThis.localStorage.removeItem(e)}};function Xb(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function oO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Od={debug:!!(globalThis&&$h()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lO extends hN{}async function cO(e,t,n){Od.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Od.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Od.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Od.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Od.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Od.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}oO();const uO={url:PD,storageKey:TD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},vh=30*1e3,Qb=3;async function Zb(e,t,n){return await n()}class dp{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=dp.nextInstanceID,dp.nextInstanceID+=1,this.instanceID>0&&Na()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},uO),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new sO({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=uN(i.fetch),this.lock=i.lock||Zb,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Na()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=cO:this.lock=Zb,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:$h()?this.storage=aO:(this.memoryStorage={},this.storage=Xb(this.memoryStorage)):(this.memoryStorage={},this.storage=Xb(this.memoryStorage)),Na()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=Na()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:i,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Vt(t)?{error:t}:{error:new fN("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await nn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:nc}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(s){if(Vt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:p,password:m,options:w}=t;let g=null,N=null;this.flowType==="pkce"&&([g,N]=await Dd(this.storage,this.storageKey)),s=await nn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:p,password:m,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:g,code_challenge_method:N},xform:nc})}else if("phone"in t){const{phone:p,password:m,options:w}=t;s=await nn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},channel:(i=w==null?void 0:w.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:nc})}else throw new Im("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(s){if(Vt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:l}=t;n=await nn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Jb})}else if("phone"in t){const{phone:s,password:a,options:l}=t;n=await nn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Jb})}else throw new Im("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new vv}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Vt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Om(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await nn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:nc});if(await Mm(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new vv}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Vt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,l=await nn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:nc}),{data:c,error:h}=l;return h?{data:{user:null,session:null},error:h}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new vv}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:h})}catch(n){if(Vt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:l,options:c}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Dd(this.storage,this.storageKey));const{error:m}=await nn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:l,options:c}=t,{data:h,error:p}=await nn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new Im("You must provide either an email or phone number.")}catch(l){if(Vt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await nn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:nc});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,h=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(i){if(Vt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Dd(this.storage,this.storageKey)),await nn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:eO})}catch(s){if(Vt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new tc;const{error:i}=await nn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Vt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await nn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:l}=await nn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Im("You must provide either an email or phone number and a type")}catch(n){if(Vt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Om(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,h,p)=>(!a&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,h,p))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await nn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:uc}):await this._useSession(async n=>{var r,i,s;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tc}:await nn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:uc})})}catch(n){if(Vt(n))return KD(n)&&(await this._removeSession(),await Mm(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new tc;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Dd(this.storage,this.storageKey));const{data:h,error:p}=await nn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:uc});if(p)throw p;return a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Vt(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Vb(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new tc;const n=Date.now()/1e3;let r=n,i=!0,s=null;const a=Vb(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Vt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new tc;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Vt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!Na())throw new Rm("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Rm("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Gb("Not a valid PKCE flow url.");const n=gv(window.location.href);if(t){if(!n.code)throw new Gb("No code detected.");const{data:S,error:L}=await this._exchangeCodeForSession(n.code);if(L)throw L;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:S.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Rm(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:h}=n;if(!s||!l||!a||!h)throw new Rm("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(l);let w=p+m;c&&(w=parseInt(c));const g=w-p;g*1e3<=vh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${m}s`);const N=w-m;p-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,w,p):p-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,w,p);const{data:j,error:C}=await this._getUser(s);if(C)throw C;const _={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:w,refresh_token:a,token_type:h,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:n.type},error:null}}catch(n){if(Vt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=gv(window.location.href);return!!(Na()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=gv(window.location.href),n=await Om(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(YD(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Mm(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=MD(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Dd(this.storage,this.storageKey,!0));try{return await nn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Vt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,l,c,h,p;const{data:m,error:w}=s;if(w)throw w;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await nn(this.fetch,"GET",g,{headers:this.headers,jwt:(p=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Na()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Vt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await nn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $D(async i=>(i>0&&await FD(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await nn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nc})),(i,s)=>{const a=200*Math.pow(2,i);return s&&yv(s)&&Date.now()+a-r<vh})}catch(r){if(this._debug(n,"error",r),Vt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Na()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Om(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<i+Hb;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Hb}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),yv(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new tc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Tg;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new tc;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Vt(s)){const a={session:null,error:s};return yv(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await dN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Mm(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Na()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/vh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${vh}ms, refresh threshold is ${Qb} ticks`),i<=Qb&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof hN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Na()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Dd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await nn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:h}=await nn(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:l}=await nn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(Vt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await nn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Vt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const p=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:p},error:null}}))}}dp.nextInstanceID=0;const dO=dp;class fO extends dO{constructor(t){super(t)}}var hO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(m){a(m)}}function c(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};class pO{constructor(t,n,r){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=AD(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:bD,realtime:SD,auth:Object.assign(Object.assign({},_D),{storageKey:c}),global:xD},p=LD(r??{},h);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=p.auth)!==null&&a!==void 0?a:{},this.headers,p.global.fetch),this.fetch=ED(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new zT(`${l}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new yT(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new vD(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return hO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:l,debug:c},h,p){var m;const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fO({url:this.authUrl,headers:Object.assign(Object.assign({},w),h),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:l,debug:c,fetch:p,hasCustomAuthorizationHeader:(m="Authorization"in this.headers)!==null&&m!==void 0?m:!1})}_initRealtimeClient(t){return new rD(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mO=(e,t,n)=>new pO(e,t,n),gO="https://vrzgwnchqdxwgennshmu.supabase.co",vO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZyemd3bmNocWR4d2dlbm5zaG11Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE1NTEzMzYsImV4cCI6MjA0NzEyNzMzNn0.U8KLDcO9sabudduU9xTFgmbwDBmgULvH0jKY9QN0eeE",Xe=mO(gO,vO,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce",redirectTo:"https://nimble-alfajores-99f196.netlify.app"}}),yO={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GENIUS_ACCESS_TOKEN:"your_genius_token_here",VITE_LASTFM_API_KEY:"d3640056096deab975e1baced497df72",VITE_SPOTIFY_CLIENT_ID:"2f84f95d5e0943afb6e72b6758adedd3",VITE_SPOTIFY_REDIRECT_URI:"https://bandplan.netlify.app"},e3=e=>{let t;const n=new Set,r=(p,m)=>{const w=typeof p=="function"?p(t):p;if(!Object.is(w,t)){const g=t;t=m??(typeof w!="object"||w===null)?w:Object.assign({},t,w),n.forEach(N=>N(t,g))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>h,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(yO?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=t=e(r,i,c);return c},wO=e=>e?e3(e):e3;var pN={exports:{}},mN={},gN={exports:{}},vN={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f=E;function xO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bO=typeof Object.is=="function"?Object.is:xO,_O=_f.useState,SO=_f.useEffect,NO=_f.useLayoutEffect,jO=_f.useDebugValue;function kO(e,t){var n=t(),r=_O({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return NO(function(){i.value=n,i.getSnapshot=t,wv(i)&&s({inst:i})},[e,n,t]),SO(function(){return wv(i)&&s({inst:i}),e(function(){wv(i)&&s({inst:i})})},[e]),jO(n),n}function wv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bO(e,n)}catch{return!0}}function EO(e,t){return t()}var CO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?EO:kO;vN.useSyncExternalStore=_f.useSyncExternalStore!==void 0?_f.useSyncExternalStore:CO;gN.exports=vN;var AO=gN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg=E,LO=AO;function PO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var TO=typeof Object.is=="function"?Object.is:PO,DO=LO.useSyncExternalStore,OO=Dg.useRef,MO=Dg.useEffect,IO=Dg.useMemo,RO=Dg.useDebugValue;mN.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=OO(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=IO(function(){function c(g){if(!h){if(h=!0,p=g,g=r(g),i!==void 0&&a.hasValue){var N=a.value;if(i(N,g))return m=N}return m=g}if(N=m,TO(p,g))return N;var j=r(g);return i!==void 0&&i(N,j)?N:(p=g,m=j)}var h=!1,p,m,w=n===void 0?null:n;return[function(){return c(t())},w===null?void 0:function(){return c(w())}]},[t,n,r,i]);var l=DO(e,s[0],s[1]);return MO(function(){a.hasValue=!0,a.value=l},[l]),RO(l),l};pN.exports=mN;var FO=pN.exports;const $O=v_(FO),yN={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GENIUS_ACCESS_TOKEN:"your_genius_token_here",VITE_LASTFM_API_KEY:"d3640056096deab975e1baced497df72",VITE_SPOTIFY_CLIENT_ID:"2f84f95d5e0943afb6e72b6758adedd3",VITE_SPOTIFY_REDIRECT_URI:"https://bandplan.netlify.app"},{useDebugValue:BO}=pt,{useSyncExternalStoreWithSelector:UO}=$O;let t3=!1;const zO=e=>e;function qO(e,t=zO,n){(yN?"production":void 0)!=="production"&&n&&!t3&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),t3=!0);const r=UO(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return BO(r),r}const n3=e=>{(yN?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?wO(e):e,n=(r,i)=>qO(t,r,i);return Object.assign(n,t),n},WO=e=>e?n3(e):n3,Is=WO(e=>({user:null,session:null,loading:!0,setUser:t=>{console.log("Setting user in store:",t),e({user:t})},setSession:t=>{console.log("Setting session in store:",t),e({session:t})},signOut:async()=>{try{await Xe.auth.signOut(),e({user:null,session:null})}catch(t){console.error("Error signing out:",t)}}}));class HO{constructor(){this.clientId="2f84f95d5e0943afb6e72b6758adedd3",this.redirectUri="https://bandplan.netlify.app",this.scopes=["user-read-private","user-read-email","playlist-read-private","playlist-read-collaborative","playlist-modify-public","playlist-modify-private","user-modify-playback-state","user-read-playback-state","streaming"].join(" "),this.accessToken=null,this.refreshToken=null,this.tokenExpiry=null,this.isProcessingAuth=!1,this.loadTokensFromStorage()}async getAuthUrl(){const t=this.generateRandomString(16),n=this.generateRandomString(128);localStorage.setItem("spotify_return_url",window.location.href),localStorage.setItem("spotify_auth_state",t),localStorage.setItem("spotify_code_verifier",n);const r=await this.generateCodeChallenge(n);return`https://accounts.spotify.com/authorize?${new URLSearchParams({response_type:"code",client_id:this.clientId,scope:this.scopes,redirect_uri:this.redirectUri,state:t,code_challenge_method:"S256",code_challenge:r}).toString()}`}async handleAuthCallback(t,n){if(this.isProcessingAuth)return console.log("🎵 Already processing auth, skipping..."),!1;this.isProcessingAuth=!0;try{const r=localStorage.getItem("spotify_auth_state"),i=localStorage.getItem("spotify_code_verifier");if(console.log("🎵 Spotify auth callback:",{receivedState:n,storedState:r,hasCodeVerifier:!!i,codeLength:t==null?void 0:t.length}),!r)throw console.error("❌ No stored state found"),new Error("No stored state found");if(n!==r)throw console.error("❌ State mismatch:",{received:n,stored:r}),localStorage.removeItem("spotify_auth_state"),localStorage.removeItem("spotify_code_verifier"),new Error("State mismatch");if(!i)throw console.error("❌ Code verifier not found"),new Error("Code verifier not found");const s=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:this.redirectUri,client_id:this.clientId,code_verifier:i})});if(!s.ok)throw new Error("Failed to exchange code for tokens");const a=await s.json();return this.accessToken=a.access_token,this.refreshToken=a.refresh_token,this.tokenExpiry=Date.now()+a.expires_in*1e3,this.saveTokensToStorage(),localStorage.removeItem("spotify_auth_state"),localStorage.removeItem("spotify_code_verifier"),!0}catch(r){return console.error("Error in Spotify auth callback:",r),!1}finally{this.isProcessingAuth=!1}}async refreshAccessToken(){if(!this.refreshToken)return!1;try{const t=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:this.refreshToken,client_id:this.clientId})});if(!t.ok)throw new Error("Failed to refresh access token");const n=await t.json();return this.accessToken=n.access_token,this.tokenExpiry=Date.now()+n.expires_in*1e3,n.refresh_token&&(this.refreshToken=n.refresh_token),this.saveTokensToStorage(),!0}catch(t){return console.error("Error refreshing access token:",t),this.logout(),!1}}async ensureValidToken(){return this.accessToken?this.tokenExpiry&&Date.now()>=this.tokenExpiry-6e4?await this.refreshAccessToken():!0:!1}async apiRequest(t,n={}){if(!await this.ensureValidToken())throw new Error("No valid Spotify token available");const r=await fetch(`https://api.spotify.com/v1${t}`,{...n,headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json",...n.headers}});if(!r.ok){if(r.status===401&&await this.refreshAccessToken())return this.apiRequest(t,n);throw new Error(`Spotify API error: ${r.status} ${r.statusText}`)}return r.headers.get("content-length")==="0"||r.status===204?null:r.json()}async getCurrentUser(){return this.apiRequest("/me")}async searchTracks(t,n=20){const r=new URLSearchParams({q:t,type:"track",limit:n.toString()});return(await this.apiRequest(`/search?${r}`)).tracks.items}async getTrack(t){return this.apiRequest(`/tracks/${t}`)}async getAudioFeatures(t){return this.apiRequest(`/audio-features/${t}`)}async createPlaylist(t,n,r=!1){const i=await this.getCurrentUser();return this.apiRequest(`/users/${i.id}/playlists`,{method:"POST",body:JSON.stringify({name:t,description:n,public:r})})}async addTracksToPlaylist(t,n){await this.apiRequest(`/playlists/${t}/tracks`,{method:"POST",body:JSON.stringify({uris:n})})}async playTrack(t,n){const r={uris:[t]};n&&(r.device_id=n),await this.apiRequest("/me/player/play",{method:"PUT",body:JSON.stringify(r)})}async pausePlayback(){await this.apiRequest("/me/player/pause",{method:"PUT"})}async resumePlayback(){await this.apiRequest("/me/player/play",{method:"PUT"})}async getPlaybackState(){try{return await this.apiRequest("/me/player")}catch{return null}}async getUserPlaylists(t=50){return(await this.apiRequest(`/me/playlists?limit=${t}`)).items}async getPlaylistTracks(t,n=100){return(await this.apiRequest(`/playlists/${t}/tracks?limit=${n}`)).items.map(i=>i.track)}isAuthenticated(){return!!(this.accessToken&&this.tokenExpiry&&Date.now()<this.tokenExpiry)}logout(){this.accessToken=null,this.refreshToken=null,this.tokenExpiry=null,this.isProcessingAuth=!1,this.clearTokensFromStorage(),localStorage.removeItem("spotify_auth_state"),localStorage.removeItem("spotify_code_verifier")}async generateCodeChallenge(t){const n=new TextEncoder().encode(t),r=await window.crypto.subtle.digest("SHA-256",n);return btoa(String.fromCharCode.apply(null,[...new Uint8Array(r)])).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}generateRandomString(t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return crypto.getRandomValues(new Uint8Array(t)).reduce((i,s)=>i+n[s%n.length],"")}saveTokensToStorage(){this.accessToken&&localStorage.setItem("spotify_access_token",this.accessToken),this.refreshToken&&localStorage.setItem("spotify_refresh_token",this.refreshToken),this.tokenExpiry&&localStorage.setItem("spotify_token_expiry",this.tokenExpiry.toString())}loadTokensFromStorage(){this.accessToken=localStorage.getItem("spotify_access_token"),this.refreshToken=localStorage.getItem("spotify_refresh_token");const t=localStorage.getItem("spotify_token_expiry");this.tokenExpiry=t?parseInt(t):null}clearTokensFromStorage(){localStorage.removeItem("spotify_access_token"),localStorage.removeItem("spotify_refresh_token"),localStorage.removeItem("spotify_token_expiry")}}const bi=new HO;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),On=(e,t)=>{const n=E.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:c,...h},p)=>E.createElement("svg",{ref:p,...VO,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${GO(e)}`,l].join(" "),...h},[...t.map(([m,w])=>E.createElement(m,w)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=On("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=On("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=On("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=On("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=On("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=On("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=On("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=On("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=On("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=On("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=On("ListMusic",[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=On("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=On("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=On("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=On("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=On("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=On("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=On("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=On("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=On("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=On("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=On("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=On("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=On("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=On("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=On("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=On("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function eM(){const[e,t]=E.useState([]),[n,r]=E.useState(!1),i=Ra(),{user:s}=Is(),[a,l]=E.useState(null);E.useEffect(()=>{if(s)return console.log("Inicializando NotificationBell para usuario:",s.id),c(),h(),()=>{a&&(console.log("Limpiando suscripción de notificaciones"),a.unsubscribe())}},[s]);const c=async()=>{const{data:m,error:w}=await Xe.from("notifications").select("*").eq("user_id",s==null?void 0:s.id).eq("read",!1).order("created_at",{ascending:!1});if(w){console.error("Error fetching notifications:",w);return}t(m||[])},h=async()=>{try{a&&await a.unsubscribe(),console.log("Configurando suscripción en tiempo real para:",s==null?void 0:s.id);const m=Xe.channel(`notifications:${s==null?void 0:s.id}`,{config:{broadcast:{self:!0}}});m.on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${s==null?void 0:s.id}`},w=>{console.log("Nueva notificación recibida:",w);const g=w.new;t(N=>[g,...N]),Pe.custom(N=>d.jsxs("div",{className:`${N.visible?"animate-enter":"animate-leave"} bg-white shadow-lg rounded-lg p-4 flex items-center space-x-3`,children:[d.jsx(i3,{className:"h-6 w-6 text-indigo-500"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:g.title}),d.jsx("p",{className:"text-sm text-gray-500",children:g.message})]})]}),{duration:5e3,position:"top-right"})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${s==null?void 0:s.id}`},w=>{console.log("Notificación actualizada:",w),t(g=>g.map(N=>N.id===w.new.id?w.new:N))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"notifications",filter:`user_id=eq.${s==null?void 0:s.id}`},w=>{console.log("Notificación eliminada:",w),t(g=>g.filter(N=>N.id!==w.old.id))}),console.log("Iniciando suscripción..."),await m.subscribe(w=>{console.log("Estado de suscripción:",w)}),l(m)}catch(m){console.error("Error al configurar suscripción en tiempo real:",m)}},p=async(m,w)=>{try{const{error:g}=await Xe.rpc("handle_group_invitation",{p_group_member_id:m.data.group_member_id,p_accept:w});if(g)throw g;await Xe.from("notifications").update({read:!0}).eq("id",m.id),t(N=>N.filter(j=>j.id!==m.id)),Pe.success(w?"Invitación aceptada":"Invitación rechazada"),w&&i(`/group/${m.data.group_id}`)}catch(g){Pe.error(g.message)}};return d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>r(!n),className:"relative p-2 text-white hover:text-indigo-200",children:[d.jsx(i3,{className:"w-6 h-6"}),e.length>0&&d.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:e.length})]}),n&&d.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg z-50",children:d.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:e.length===0?d.jsx("p",{className:"text-gray-500 text-center",children:"No hay notificaciones"}):e.map(m=>d.jsxs("div",{className:"mb-4 p-4 border rounded-lg",children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:m.title}),d.jsx("p",{className:"text-sm text-gray-600 mb-3",children:m.message}),m.type==="group_invitation"&&d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>p(m,!0),className:"px-3 py-1 bg-green-500 text-white rounded-md text-sm hover:bg-green-600",children:"Aceptar"}),d.jsx("button",{onClick:()=>p(m,!1),className:"px-3 py-1 bg-red-500 text-white rounded-md text-sm hover:bg-red-600",children:"Rechazar"})]})]},m.id))})})]})}function tM(){const{user:e,signOut:t}=Is(),n=Ra(),r=async()=>{try{await t(),n("/login")}catch(i){console.error("Error signing out:",i)}};return d.jsx("nav",{className:"bg-indigo-600 text-white shadow-lg",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsxs(kc,{to:"/",className:"flex items-center space-x-2",children:[d.jsx(QO,{className:"h-8 w-8"}),d.jsx("span",{className:"font-bold text-xl",children:"Band Manager"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[e&&d.jsx(eM,{}),e?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-sm",children:e.email}),d.jsxs("button",{onClick:r,className:"flex items-center space-x-1 hover:text-indigo-200 transition-colors",children:[d.jsx(ey,{className:"h-5 w-5"}),d.jsx("span",{children:"Sign Out"})]})]}):d.jsxs("div",{className:"space-x-4",children:[d.jsx(kc,{to:"/login",className:"hover:text-indigo-200 transition-colors",children:"Login"}),d.jsx(kc,{to:"/register",className:"hover:text-indigo-200 transition-colors",children:"Register"}),!1]})]})]})})})}function Vn({label:e,error:t,className:n="",...r}){return d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),d.jsx("input",{className:`
          w-full px-3 py-2 border rounded-lg shadow-sm
          focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500
          ${t?"border-red-500":"border-gray-300"}
          ${n}
        `,...r}),t&&d.jsx("p",{className:"text-sm text-red-600",children:t})]})}function yt({children:e,loading:t,variant:n="primary",fullWidth:r,className:i="",...s}){const a="flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"};return d.jsxs("button",{className:`${a} ${l[n]} ${r?"w-full":""} ${i}`,disabled:t,...s,children:[t&&d.jsx(go,{className:"w-4 h-4 mr-2 animate-spin"}),e]})}function nM(){var w;const[e,t]=E.useState(""),[n,r]=E.useState(""),[i,s]=E.useState(!1),a=Ra(),l=wo(),c=(w=l.state)==null?void 0:w.returnTo,{user:h,setUser:p}=Is();console.log("Login component state:",{returnTo:c,location:l}),E.useEffect(()=>{if(h){const g=c||"/";console.log("User authenticated, redirecting to:",g),a(g,{replace:!0})}},[h,c,a]);const m=async g=>{g.preventDefault(),s(!0);try{const{data:N,error:j}=await Xe.auth.signInWithPassword({email:e,password:n});if(j)throw j;p(N.user),Pe.success("Successfully logged in!");const C=c||"/";console.log("Login successful, redirecting to:",C),a(C,{replace:!0})}catch(N){Pe.error(N.message||"Failed to login")}finally{s(!1)}};return h?null:d.jsx("div",{className:"max-w-md mx-auto mt-16",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[d.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Welcome Back"}),d.jsxs("form",{onSubmit:m,className:"space-y-6",children:[d.jsx(Vn,{label:"Email",type:"email",value:e,onChange:g=>t(g.target.value),required:!0,placeholder:"your@email.com"}),d.jsx(Vn,{label:"Password",type:"password",value:n,onChange:g=>r(g.target.value),required:!0,placeholder:"••••••••"}),d.jsx(yt,{type:"submit",loading:i,fullWidth:!0,children:"Sign In"})]}),d.jsx("p",{className:"mt-4 text-center text-sm text-gray-600",children:d.jsx(kc,{to:"/forgot-password",className:"text-indigo-600 hover:text-indigo-500",children:"¿Olvidaste tu contraseña?"})}),d.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",d.jsx(kc,{to:"/register",className:"text-indigo-600 hover:text-indigo-500",children:"Register here"})]})]})})}function rM(){const[e]=US(),t=e.get("email");e.get("token");const[n,r]=E.useState(t||""),[i,s]=E.useState(""),[a,l]=E.useState(""),[c,h]=E.useState(!1),p=Ra(),{user:m}=Is();E.useEffect(()=>{m&&p("/")},[m,p]);const w=async g=>{g.preventDefault(),h(!0);try{const{data:N,error:j}=await Xe.auth.signUp({email:n,password:i,options:{data:{name:a,role:"user"}}});if(j)throw j;if(N.user){const{data:C,error:_}=await Xe.rpc("create_new_user",{user_id:N.user.id,user_email:n,user_name:a,user_role:"user"});if(_)throw _;Pe.success("Registration successful! Please check your email to confirm your account."),p("/login")}}catch(N){console.error("Registration error:",N),N.message.includes("User already registered")?Pe.error("This email is already registered. Please try logging in instead."):N.message.includes("rate limit")?Pe.error("Too many registration attempts. Please try again in a few minutes."):Pe.error("Registration failed. Please try again.")}finally{h(!1)}};return m?null:d.jsx("div",{className:"max-w-md mx-auto mt-16",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[d.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Create an Account"}),d.jsxs("form",{onSubmit:w,className:"space-y-6",children:[d.jsx(Vn,{label:"Name",type:"text",value:a,onChange:g=>l(g.target.value),required:!0,placeholder:"John Doe"}),d.jsx(Vn,{label:"Email",type:"email",value:n,onChange:g=>r(g.target.value),required:!0,disabled:!!t,placeholder:"tu@email.com"}),d.jsx(Vn,{label:"Password",type:"password",value:i,onChange:g=>s(g.target.value),required:!0,placeholder:"••••••••",minLength:6}),d.jsx(yt,{type:"submit",loading:c,fullWidth:!0,children:"Register"})]}),d.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Already have an account?"," ",d.jsx(kc,{to:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"Sign in here"})]})]})})}var iM=Object.defineProperty,sM=(e,t,n)=>t in e?iM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xv=(e,t,n)=>(sM(e,typeof t!="symbol"?t+"":t,n),n);let aM=class{constructor(){xv(this,"current",this.detect()),xv(this,"handoffState","pending"),xv(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Tu=new aM;function Mg(e){return Tu.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function Ig(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Fc(){let e=[],t={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),t.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Ig(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Fc();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function T5(){let[e]=E.useState(Fc);return E.useEffect(()=>()=>e.dispose(),[e]),e}let Ri=(e,t)=>{Tu.isServer?E.useEffect(e,t):E.useLayoutEffect(e,t)};function Vu(e){let t=E.useRef(e);return Ri(()=>{t.current=e},[e]),t}let or=function(e){let t=Vu(e);return pt.useCallback((...n)=>t.current(...n),[t])},oM=E.createContext(void 0);function lM(){return E.useContext(oM)}function ny(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Ac(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ac),r}var V0=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(V0||{}),mc=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(mc||{});function sa(){let e=uM();return E.useCallback(t=>cM({mergeRefs:e,...t}),[e])}function cM({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:s=!0,name:a,mergeRefs:l}){l=l??dM;let c=bN(t,e);if(s)return Fm(c,n,r,a,l);let h=i??0;if(h&2){let{static:p=!1,...m}=c;if(p)return Fm(m,n,r,a,l)}if(h&1){let{unmount:p=!0,...m}=c;return Ac(p?0:1,{0(){return null},1(){return Fm({...m,hidden:!0,style:{display:"none"}},n,r,a,l)}})}return Fm(c,n,r,a,l)}function Fm(e,t={},n,r,i){let{as:s=n,children:a,refName:l="ref",...c}=bv(e,["unmount","static"]),h=e.ref!==void 0?{[l]:e.ref}:{},p=typeof a=="function"?a(t):a;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let m={};if(t){let w=!1,g=[];for(let[N,j]of Object.entries(t))typeof j=="boolean"&&(w=!0),j===!0&&g.push(N.replace(/([A-Z])/g,C=>`-${C.toLowerCase()}`));if(w){m["data-headlessui-state"]=g.join(" ");for(let N of g)m[`data-${N}`]=""}}if(s===E.Fragment&&(Object.keys(wu(c)).length>0||Object.keys(wu(m)).length>0))if(!E.isValidElement(p)||Array.isArray(p)&&p.length>1){if(Object.keys(wu(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(wu(c)).concat(Object.keys(wu(m))).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`))}else{let w=p.props,g=w==null?void 0:w.className,N=typeof g=="function"?(..._)=>ny(g(..._),c.className):ny(g,c.className),j=N?{className:N}:{},C=bN(p.props,wu(bv(c,["ref"])));for(let _ in m)_ in C&&delete m[_];return E.cloneElement(p,Object.assign({},C,m,h,{ref:i(fM(p),h.ref)},j))}return E.createElement(s,Object.assign({},bv(c,["ref"]),s!==E.Fragment&&h,s!==E.Fragment&&m),p)}function uM(){let e=E.useRef([]),t=E.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function dM(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function bN(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...s){let a=n[r];for(let l of a){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;l(i,...s)}}});return t}function ds(e){var t;return Object.assign(E.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function wu(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function bv(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function fM(e){return pt.version.split(".")[0]>="19"?e.props.ref:e.ref}let hM="span";var G0=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(G0||{});function pM(e,t){var n;let{features:r=1,...i}=e,s={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return sa()({ourProps:s,theirProps:i,slot:{},defaultTag:hM,name:"Hidden"})}let ry=ds(pM),_N=Symbol();function mM(e,t=!0){return Object.assign(e,{[_N]:t})}function xo(...e){let t=E.useRef(e);E.useEffect(()=>{t.current=e},[e]);let n=or(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[_N]))?void 0:n}let D5=E.createContext(null);D5.displayName="DescriptionContext";function SN(){let e=E.useContext(D5);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,SN),t}return e}function gM(){let[e,t]=E.useState([]);return[e.length>0?e.join(" "):void 0,E.useMemo(()=>function(n){let r=or(s=>(t(a=>[...a,s]),()=>t(a=>{let l=a.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),i=E.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return pt.createElement(D5.Provider,{value:i},n.children)},[t])]}let vM="p";function yM(e,t){let n=E.useId(),r=lM(),{id:i=`headlessui-description-${n}`,...s}=e,a=SN(),l=xo(t);Ri(()=>a.register(i),[i,a.register]);let c=r||!1,h=E.useMemo(()=>({...a.slot,disabled:c}),[a.slot,c]),p={ref:l,...a.props,id:i};return sa()({ourProps:p,theirProps:s,slot:h,defaultTag:vM,name:a.name||"Description"})}let wM=ds(yM),xM=Object.assign(wM,{});var NN=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(NN||{});let bM=E.createContext(()=>{});function _M({value:e,children:t}){return pt.createElement(bM.Provider,{value:e},t)}let SM=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function jN(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let a=t[i].call(n,...s);a&&(n=a,r.forEach(l=>l()))}}}function kN(e){return E.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let NM=new SM(()=>jN(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function Pf(e,t){let n=NM.get(t),r=E.useId(),i=kN(n);if(Ri(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let s=i.indexOf(r),a=i.length;return s===-1&&(s=a,a+=1),s===a-1}let iy=new Map,Bh=new Map;function l3(e){var t;let n=(t=Bh.get(e))!=null?t:0;return Bh.set(e,n+1),n!==0?()=>c3(e):(iy.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>c3(e))}function c3(e){var t;let n=(t=Bh.get(e))!=null?t:1;if(n===1?Bh.delete(e):Bh.set(e,n-1),n!==1)return;let r=iy.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,iy.delete(e))}function jM(e,{allowed:t,disallowed:n}={}){let r=Pf(e,"inert-others");Ri(()=>{var i,s;if(!r)return;let a=Fc();for(let c of(i=n==null?void 0:n())!=null?i:[])c&&a.add(l3(c));let l=(s=t==null?void 0:t())!=null?s:[];for(let c of l){if(!c)continue;let h=Mg(c);if(!h)continue;let p=c.parentElement;for(;p&&p!==h.body;){for(let m of p.children)l.some(w=>m.contains(w))||a.add(l3(m));p=p.parentElement}}return a.dispose},[r,t,n])}function kM(e,t,n){let r=Vu(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});E.useEffect(()=>{if(!e)return;let i=t===null?null:t instanceof HTMLElement?t:t.current;if(!i)return;let s=Fc();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}return()=>s.dispose()},[t,r,e])}let Y0=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),EM=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ko=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Ko||{}),sy=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(sy||{}),CM=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(CM||{});function AM(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Y0)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function LM(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(EM)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var EN=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(EN||{});function PM(e,t=0){var n;return e===((n=Mg(e))==null?void 0:n.body)?!1:Ac(t,{0(){return e.matches(Y0)},1(){let r=e;for(;r!==null;){if(r.matches(Y0))return!0;r=r.parentElement}return!1}})}var TM=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(TM||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Zo(e){e==null||e.focus({preventScroll:!0})}let DM=["textarea","input"].join(",");function OM(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,DM))!=null?n:!1}function MM(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),s=t(r);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Uh(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?MM(e):e:t&64?LM(e):AM(e);i.length>0&&a.length>1&&(a=a.filter(g=>!i.some(N=>N!=null&&"current"in N?(N==null?void 0:N.current)===g:N===g))),r=r??s.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=t&32?{preventScroll:!0}:{},p=0,m=a.length,w;do{if(p>=m||p+m<=0)return 0;let g=c+p;if(t&16)g=(g+m)%m;else{if(g<0)return 3;if(g>=m)return 1}w=a[g],w==null||w.focus(h),p+=l}while(w!==s.activeElement);return t&6&&OM(w)&&w.select(),2}function CN(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function IM(){return/Android/gi.test(window.navigator.userAgent)}function RM(){return CN()||IM()}function yh(e,t,n,r){let i=Vu(n);E.useEffect(()=>{if(!e)return;function s(a){i.current(a)}return document.addEventListener(t,s,r),()=>document.removeEventListener(t,s,r)},[e,t,r])}function AN(e,t,n,r){let i=Vu(n);E.useEffect(()=>{if(!e)return;function s(a){i.current(a)}return window.addEventListener(t,s,r),()=>window.removeEventListener(t,s,r)},[e,t,r])}const u3=30;function FM(e,t,n){let r=Pf(e,"outside-click"),i=Vu(n),s=E.useCallback(function(c,h){if(c.defaultPrevented)return;let p=h(c);if(p===null||!p.getRootNode().contains(p)||!p.isConnected)return;let m=function w(g){return typeof g=="function"?w(g()):Array.isArray(g)||g instanceof Set?g:[g]}(t);for(let w of m)if(w!==null&&(w.contains(p)||c.composed&&c.composedPath().includes(w)))return;return!PM(p,EN.Loose)&&p.tabIndex!==-1&&c.preventDefault(),i.current(c,p)},[i,t]),a=E.useRef(null);yh(r,"pointerdown",c=>{var h,p;a.current=((p=(h=c.composedPath)==null?void 0:h.call(c))==null?void 0:p[0])||c.target},!0),yh(r,"mousedown",c=>{var h,p;a.current=((p=(h=c.composedPath)==null?void 0:h.call(c))==null?void 0:p[0])||c.target},!0),yh(r,"click",c=>{RM()||a.current&&(s(c,()=>a.current),a.current=null)},!0);let l=E.useRef({x:0,y:0});yh(r,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),yh(r,"touchend",c=>{let h={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(h.x-l.current.x)>=u3||Math.abs(h.y-l.current.y)>=u3))return s(c,()=>c.target instanceof HTMLElement?c.target:null)},!0),AN(r,"blur",c=>s(c,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function kp(...e){return E.useMemo(()=>Mg(...e),[...e])}function LN(e,t,n,r){let i=Vu(n);E.useEffect(()=>{e=e??window;function s(a){i.current(a)}return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},[e,t,r])}function $M(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,e-i);n.style(r,"paddingRight",`${s}px`)}}}function BM(){return CN()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Fc();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:h}=new URL(c.href),p=e.querySelector(h);p&&!r(p)&&(a=p)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement){if(l.target.tagName==="INPUT")return;if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function UM(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function zM(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Au=jN(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Fc(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:zM(n)},i=[BM(),$M(),UM()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Au.subscribe(()=>{let e=Au.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Au.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Au.dispatch("TEARDOWN",n)}});function qM(e,t,n=()=>({containers:[]})){let r=kN(Au),i=t?r.get(t):void 0,s=i?i.count>0:!1;return Ri(()=>{if(!(!t||!e))return Au.dispatch("PUSH",t,n),()=>Au.dispatch("POP",t,n)},[e,t]),s}function WM(e,t,n=()=>[document.body]){let r=Pf(e,"scroll-lock");qM(r,t,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function HM(e=0){let[t,n]=E.useState(e),r=E.useCallback(c=>n(c),[t]),i=E.useCallback(c=>n(h=>h|c),[t]),s=E.useCallback(c=>(t&c)===c,[t]),a=E.useCallback(c=>n(h=>h&~c),[n]),l=E.useCallback(c=>n(h=>h^c),[n]);return{flags:t,setFlag:r,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:l}}var VM={},d3,f3;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((d3=process==null?void 0:VM)==null?void 0:d3.NODE_ENV)==="test"&&typeof((f3=Element==null?void 0:Element.prototype)==null?void 0:f3.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var GM=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(GM||{});function YM(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function KM(e,t,n,r){let[i,s]=E.useState(n),{hasFlag:a,addFlag:l,removeFlag:c}=HM(e&&i?3:0),h=E.useRef(!1),p=E.useRef(!1),m=T5();return Ri(()=>{var w;if(e){if(n&&s(!0),!t){n&&l(3);return}return(w=r==null?void 0:r.start)==null||w.call(r,n),JM(t,{inFlight:h,prepare(){p.current?p.current=!1:p.current=h.current,h.current=!0,!p.current&&(n?(l(3),c(4)):(l(4),c(2)))},run(){p.current?n?(c(3),l(4)):(c(4),l(3)):n?c(1):l(1)},done(){var g;p.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(h.current=!1,c(7),n||s(!1),(g=r==null?void 0:r.end)==null||g.call(r,n))}})}},[e,n,t,m]),e?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function JM(e,{prepare:t,run:n,done:r,inFlight:i}){let s=Fc();return QM(e,{prepare:t,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(XM(e,r))})}),s.dispose}function XM(e,t){var n,r;let i=Fc();if(!e)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(l=>l instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),i.dispose):(Promise.allSettled(a.map(l=>l.finished)).then(()=>{s||t()}),i.dispose)}function QM(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function O5(e,t){let n=E.useRef([]),r=or(e);E.useEffect(()=>{let i=[...n.current];for(let[s,a]of t.entries())if(n.current[s]!==a){let l=r(t,i);return n.current=t,l}},[r,...t])}let Rg=E.createContext(null);Rg.displayName="OpenClosedContext";var La=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(La||{});function Fg(){return E.useContext(Rg)}function ZM({value:e,children:t}){return pt.createElement(Rg.Provider,{value:e},t)}function eI({children:e}){return pt.createElement(Rg.Provider,{value:null},e)}function tI(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let dc=[];tI(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||dc[0]===t.target)return;let n=t.target;n=n.closest(Y0),dc.unshift(n??t.target),dc=dc.filter(r=>r!=null&&r.isConnected),dc.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function PN(e){let t=or(e),n=E.useRef(!1);E.useEffect(()=>(n.current=!1,()=>{n.current=!0,Ig(()=>{n.current&&t()})}),[t])}function nI(){let e=typeof document>"u";return"useSyncExternalStore"in Hv?(t=>t.useSyncExternalStore)(Hv)(()=>()=>{},()=>!1,()=>!e):!1}function Ep(){let e=nI(),[t,n]=E.useState(Tu.isHandoffComplete);return t&&Tu.isHandoffComplete===!1&&n(!1),E.useEffect(()=>{t!==!0&&n(!0)},[t]),E.useEffect(()=>Tu.handoff(),[]),e?!1:t}let TN=E.createContext(!1);function rI(){return E.useContext(TN)}function h3(e){return pt.createElement(TN.Provider,{value:e.force},e.children)}function iI(e){let t=rI(),n=E.useContext(ON),r=kp(e),[i,s]=E.useState(()=>{var a;if(!t&&n!==null)return(a=n.current)!=null?a:null;if(Tu.isServer)return null;let l=r==null?void 0:r.getElementById("headlessui-portal-root");if(l)return l;if(r===null)return null;let c=r.createElement("div");return c.setAttribute("id","headlessui-portal-root"),r.body.appendChild(c)});return E.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),E.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),i}let DN=E.Fragment,sI=ds(function(e,t){let n=e,r=E.useRef(null),i=xo(mM(m=>{r.current=m}),t),s=kp(r),a=iI(r),[l]=E.useState(()=>{var m;return Tu.isServer?null:(m=s==null?void 0:s.createElement("div"))!=null?m:null}),c=E.useContext(ay),h=Ep();Ri(()=>{!a||!l||a.contains(l)||(l.setAttribute("data-headlessui-portal",""),a.appendChild(l))},[a,l]),Ri(()=>{if(l&&c)return c.register(l)},[c,l]),PN(()=>{var m;!a||!l||(l instanceof Node&&a.contains(l)&&a.removeChild(l),a.childNodes.length<=0&&((m=a.parentElement)==null||m.removeChild(a)))});let p=sa();return h?!a||!l?null:Cu.createPortal(p({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:DN,name:"Portal"}),l):null});function aI(e,t){let n=xo(t),{enabled:r=!0,...i}=e,s=sa();return r?pt.createElement(sI,{...i,ref:n}):s({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:DN,name:"Portal"})}let oI=E.Fragment,ON=E.createContext(null);function lI(e,t){let{target:n,...r}=e,i={ref:xo(t)},s=sa();return pt.createElement(ON.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:oI,name:"Popover.Group"}))}let ay=E.createContext(null);function cI(){let e=E.useContext(ay),t=E.useRef([]),n=or(s=>(t.current.push(s),e&&e.register(s),()=>r(s))),r=or(s=>{let a=t.current.indexOf(s);a!==-1&&t.current.splice(a,1),e&&e.unregister(s)}),i=E.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,E.useMemo(()=>function({children:s}){return pt.createElement(ay.Provider,{value:i},s)},[i])]}let uI=ds(aI),MN=ds(lI),dI=Object.assign(uI,{Group:MN});function fI(e,t=typeof document<"u"?document.defaultView:null,n){let r=Pf(e,"escape");LN(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===NN.Escape&&n(i))})}function hI(){var e;let[t]=E.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=E.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Ri(()=>{if(!t)return;function i(s){r(s.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function pI({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=kp(n),i=or(()=>{var s,a;let l=[];for(let c of e)c!==null&&(c instanceof HTMLElement?l.push(c):"current"in c&&c.current instanceof HTMLElement&&l.push(c.current));if(t!=null&&t.current)for(let c of t.current)l.push(c);for(let c of(s=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?s:[])c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((a=n==null?void 0:n.getRootNode())==null?void 0:a.host))||l.some(h=>c.contains(h))||l.push(c));return l});return{resolveContainers:i,contains:or(s=>i().some(a=>a.contains(s)))}}let IN=E.createContext(null);function p3({children:e,node:t}){let[n,r]=E.useState(null),i=RN(t??n);return pt.createElement(IN.Provider,{value:i},e,i===null&&pt.createElement(ry,{features:G0.Hidden,ref:s=>{var a,l;if(s){for(let c of(l=(a=Mg(s))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c!=null&&c.contains(s)){r(c);break}}}}))}function RN(e=null){var t;return(t=E.useContext(IN))!=null?t:e}function M5(){let e=E.useRef(!1);return Ri(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Ch=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ch||{});function mI(){let e=E.useRef(0);return AN(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function FN(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let gI="div";var Su=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Su||{});function vI(e,t){let n=E.useRef(null),r=xo(n,t),{initialFocus:i,initialFocusFallback:s,containers:a,features:l=15,...c}=e;Ep()||(l=0);let h=kp(n);bI(l,{ownerDocument:h});let p=_I(l,{ownerDocument:h,container:n,initialFocus:i,initialFocusFallback:s});SI(l,{ownerDocument:h,container:n,containers:a,previousActiveElement:p});let m=mI(),w=or(S=>{let L=n.current;L&&(R=>R())(()=>{Ac(m.current,{[Ch.Forwards]:()=>{Uh(L,Ko.First,{skipElements:[S.relatedTarget,s]})},[Ch.Backwards]:()=>{Uh(L,Ko.Last,{skipElements:[S.relatedTarget,s]})}})})}),g=Pf(!!(l&2),"focus-trap#tab-lock"),N=T5(),j=E.useRef(!1),C={ref:r,onKeyDown(S){S.key=="Tab"&&(j.current=!0,N.requestAnimationFrame(()=>{j.current=!1}))},onBlur(S){if(!(l&4))return;let L=FN(a);n.current instanceof HTMLElement&&L.add(n.current);let R=S.relatedTarget;R instanceof HTMLElement&&R.dataset.headlessuiFocusGuard!=="true"&&($N(L,R)||(j.current?Uh(n.current,Ac(m.current,{[Ch.Forwards]:()=>Ko.Next,[Ch.Backwards]:()=>Ko.Previous})|Ko.WrapAround,{relativeTo:S.target}):S.target instanceof HTMLElement&&Zo(S.target)))}},_=sa();return pt.createElement(pt.Fragment,null,g&&pt.createElement(ry,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:G0.Focusable}),_({ourProps:C,theirProps:c,defaultTag:gI,name:"FocusTrap"}),g&&pt.createElement(ry,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:G0.Focusable}))}let yI=ds(vI),wI=Object.assign(yI,{features:Su});function xI(e=!0){let t=E.useRef(dc.slice());return O5(([n],[r])=>{r===!0&&n===!1&&Ig(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=dc.slice())},[e,dc,t]),or(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function bI(e,{ownerDocument:t}){let n=!!(e&8),r=xI(n);O5(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Zo(r())},[n]),PN(()=>{n&&Zo(r())})}function _I(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let s=E.useRef(null),a=Pf(!!(e&1),"focus-trap#initial-focus"),l=M5();return O5(()=>{if(e===0)return;if(!a){i!=null&&i.current&&Zo(i.current);return}let c=n.current;c&&Ig(()=>{if(!l.current)return;let h=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===h){s.current=h;return}}else if(c.contains(h)){s.current=h;return}if(r!=null&&r.current)Zo(r.current);else{if(e&16){if(Uh(c,Ko.First|Ko.AutoFocus)!==sy.Error)return}else if(Uh(c,Ko.First)!==sy.Error)return;if(i!=null&&i.current&&(Zo(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t==null?void 0:t.activeElement})},[i,a,e]),s}function SI(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let s=M5(),a=!!(e&4);LN(t==null?void 0:t.defaultView,"focus",l=>{if(!a||!s.current)return;let c=FN(r);n.current instanceof HTMLElement&&c.add(n.current);let h=i.current;if(!h)return;let p=l.target;p&&p instanceof HTMLElement?$N(c,p)?(i.current=p,Zo(p)):(l.preventDefault(),l.stopPropagation(),Zo(h)):Zo(i.current)},!0)}function $N(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function BN(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:zN)!==E.Fragment||pt.Children.count(e.children)===1}let $g=E.createContext(null);$g.displayName="TransitionContext";var NI=(e=>(e.Visible="visible",e.Hidden="hidden",e))(NI||{});function jI(){let e=E.useContext($g);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function kI(){let e=E.useContext(Bg);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Bg=E.createContext(null);Bg.displayName="NestingContext";function Ug(e){return"children"in e?Ug(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function UN(e,t){let n=Vu(e),r=E.useRef([]),i=M5(),s=T5(),a=or((g,N=mc.Hidden)=>{let j=r.current.findIndex(({el:C})=>C===g);j!==-1&&(Ac(N,{[mc.Unmount](){r.current.splice(j,1)},[mc.Hidden](){r.current[j].state="hidden"}}),s.microTask(()=>{var C;!Ug(r)&&i.current&&((C=n.current)==null||C.call(n))}))}),l=or(g=>{let N=r.current.find(({el:j})=>j===g);return N?N.state!=="visible"&&(N.state="visible"):r.current.push({el:g,state:"visible"}),()=>a(g,mc.Unmount)}),c=E.useRef([]),h=E.useRef(Promise.resolve()),p=E.useRef({enter:[],leave:[]}),m=or((g,N,j)=>{c.current.splice(0),t&&(t.chains.current[N]=t.chains.current[N].filter(([C])=>C!==g)),t==null||t.chains.current[N].push([g,new Promise(C=>{c.current.push(C)})]),t==null||t.chains.current[N].push([g,new Promise(C=>{Promise.all(p.current[N].map(([_,S])=>S)).then(()=>C())})]),N==="enter"?h.current=h.current.then(()=>t==null?void 0:t.wait.current).then(()=>j(N)):j(N)}),w=or((g,N,j)=>{Promise.all(p.current[N].splice(0).map(([C,_])=>_)).then(()=>{var C;(C=c.current.shift())==null||C()}).then(()=>j(N))});return E.useMemo(()=>({children:r,register:l,unregister:a,onStart:m,onStop:w,wait:h,chains:p}),[l,a,r,m,w,p,h])}let zN=E.Fragment,qN=V0.RenderStrategy;function EI(e,t){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:a,beforeLeave:l,afterLeave:c,enter:h,enterFrom:p,enterTo:m,entered:w,leave:g,leaveFrom:N,leaveTo:j,...C}=e,[_,S]=E.useState(null),L=E.useRef(null),R=BN(e),X=xo(...R?[L,t,S]:t===null?[]:[t]),te=(n=C.unmount)==null||n?mc.Unmount:mc.Hidden,{show:W,appear:O,initial:ee}=jI(),[ne,T]=E.useState(W?"visible":"hidden"),F=kI(),{register:V,unregister:Y}=F;Ri(()=>V(L),[V,L]),Ri(()=>{if(te===mc.Hidden&&L.current){if(W&&ne!=="visible"){T("visible");return}return Ac(ne,{hidden:()=>Y(L),visible:()=>V(L)})}},[ne,L,V,Y,W,te]);let ge=Ep();Ri(()=>{if(R&&ge&&ne==="visible"&&L.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[L,ne,ge,R]);let pe=ee&&!O,Q=O&&W&&ee,$=E.useRef(!1),z=UN(()=>{$.current||(T("hidden"),Y(L))},F),oe=or(je=>{$.current=!0;let ke=je?"enter":"leave";z.onStart(L,ke,re=>{re==="enter"?s==null||s():re==="leave"&&(l==null||l())})}),Ae=or(je=>{let ke=je?"enter":"leave";$.current=!1,z.onStop(L,ke,re=>{re==="enter"?a==null||a():re==="leave"&&(c==null||c())}),ke==="leave"&&!Ug(z)&&(T("hidden"),Y(L))});E.useEffect(()=>{R&&i||(oe(W),Ae(W))},[W,R,i]);let P=!(!i||!R||!ge||pe),[,G]=KM(P,_,W,{start:oe,end:Ae}),se=wu({ref:X,className:((r=ny(C.className,Q&&h,Q&&p,G.enter&&h,G.enter&&G.closed&&p,G.enter&&!G.closed&&m,G.leave&&g,G.leave&&!G.closed&&N,G.leave&&G.closed&&j,!G.transition&&W&&w))==null?void 0:r.trim())||void 0,...YM(G)}),ce=0;ne==="visible"&&(ce|=La.Open),ne==="hidden"&&(ce|=La.Closed),G.enter&&(ce|=La.Opening),G.leave&&(ce|=La.Closing);let he=sa();return pt.createElement(Bg.Provider,{value:z},pt.createElement(ZM,{value:ce},he({ourProps:se,theirProps:C,defaultTag:zN,features:qN,visible:ne==="visible",name:"Transition.Child"})))}function CI(e,t){let{show:n,appear:r=!1,unmount:i=!0,...s}=e,a=E.useRef(null),l=BN(e),c=xo(...l?[a,t]:t===null?[]:[t]);Ep();let h=Fg();if(n===void 0&&h!==null&&(n=(h&La.Open)===La.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[p,m]=E.useState(n?"visible":"hidden"),w=UN(()=>{n||m("hidden")}),[g,N]=E.useState(!0),j=E.useRef([n]);Ri(()=>{g!==!1&&j.current[j.current.length-1]!==n&&(j.current.push(n),N(!1))},[j,n]);let C=E.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);Ri(()=>{n?m("visible"):!Ug(w)&&a.current!==null&&m("hidden")},[n,w]);let _={unmount:i},S=or(()=>{var X;g&&N(!1),(X=e.beforeEnter)==null||X.call(e)}),L=or(()=>{var X;g&&N(!1),(X=e.beforeLeave)==null||X.call(e)}),R=sa();return pt.createElement(Bg.Provider,{value:w},pt.createElement($g.Provider,{value:C},R({ourProps:{..._,as:E.Fragment,children:pt.createElement(WN,{ref:c,..._,...s,beforeEnter:S,beforeLeave:L})},theirProps:{},defaultTag:E.Fragment,features:qN,visible:p==="visible",name:"Transition"})))}function AI(e,t){let n=E.useContext($g)!==null,r=Fg()!==null;return pt.createElement(pt.Fragment,null,!n&&r?pt.createElement(oy,{ref:t,...e}):pt.createElement(WN,{ref:t,...e}))}let oy=ds(CI),WN=ds(EI),I5=ds(AI),LI=Object.assign(oy,{Child:I5,Root:oy});var PI=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(PI||{}),TI=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(TI||{});let DI={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},R5=E.createContext(null);R5.displayName="DialogContext";function zg(e){let t=E.useContext(R5);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,zg),n}return t}function OI(e,t){return Ac(t.type,DI,e,t)}let m3=ds(function(e,t){let n=E.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:a,role:l="dialog",autoFocus:c=!0,__demoMode:h=!1,unmount:p=!1,...m}=e,w=E.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(w.current||(w.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let g=Fg();i===void 0&&g!==null&&(i=(g&La.Open)===La.Open);let N=E.useRef(null),j=xo(N,t),C=kp(N),_=i?0:1,[S,L]=E.useReducer(OI,{titleId:null,descriptionId:null,panelRef:E.createRef()}),R=or(()=>s(!1)),X=or(Ae=>L({type:0,id:Ae})),te=Ep()?_===0:!1,[W,O]=cI(),ee={get current(){var Ae;return(Ae=S.panelRef.current)!=null?Ae:N.current}},ne=RN(),{resolveContainers:T}=pI({mainTreeNode:ne,portals:W,defaultContainers:[ee]}),F=g!==null?(g&La.Closing)===La.Closing:!1;jM(h||F?!1:te,{allowed:or(()=>{var Ae,P;return[(P=(Ae=N.current)==null?void 0:Ae.closest("[data-headlessui-portal]"))!=null?P:null]}),disallowed:or(()=>{var Ae;return[(Ae=ne==null?void 0:ne.closest("body > *:not(#headlessui-portal-root)"))!=null?Ae:null]})}),FM(te,T,Ae=>{Ae.preventDefault(),R()}),fI(te,C==null?void 0:C.defaultView,Ae=>{Ae.preventDefault(),Ae.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),R()}),WM(h||F?!1:te,C,T),kM(te,N,R);let[V,Y]=gM(),ge=E.useMemo(()=>[{dialogState:_,close:R,setTitleId:X,unmount:p},S],[_,S,R,X,p]),pe=E.useMemo(()=>({open:_===0}),[_]),Q={ref:j,id:r,role:l,tabIndex:-1,"aria-modal":h?void 0:_===0?!0:void 0,"aria-labelledby":S.titleId,"aria-describedby":V,unmount:p},$=!hI(),z=Su.None;te&&!h&&(z|=Su.RestoreFocus,z|=Su.TabLock,c&&(z|=Su.AutoFocus),$&&(z|=Su.InitialFocus));let oe=sa();return pt.createElement(eI,null,pt.createElement(h3,{force:!0},pt.createElement(dI,null,pt.createElement(R5.Provider,{value:ge},pt.createElement(MN,{target:N},pt.createElement(h3,{force:!1},pt.createElement(Y,{slot:pe},pt.createElement(O,null,pt.createElement(wI,{initialFocus:a,initialFocusFallback:N,containers:T,features:z},pt.createElement(_M,{value:R},oe({ourProps:Q,theirProps:m,slot:pe,defaultTag:MI,features:II,visible:_===0,name:"Dialog"})))))))))))}),MI="div",II=V0.RenderStrategy|V0.Static;function RI(e,t){let{transition:n=!1,open:r,...i}=e,s=Fg(),a=e.hasOwnProperty("open")||s!==null,l=e.hasOwnProperty("onClose");if(!a&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?pt.createElement(p3,null,pt.createElement(LI,{show:r,transition:n,unmount:i.unmount},pt.createElement(m3,{ref:t,...i}))):pt.createElement(p3,null,pt.createElement(m3,{ref:t,open:r,...i}))}let FI="div";function $I(e,t){let n=E.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=e,[{dialogState:a,unmount:l},c]=zg("Dialog.Panel"),h=xo(t,c.panelRef),p=E.useMemo(()=>({open:a===0}),[a]),m=or(C=>{C.stopPropagation()}),w={ref:h,id:r,onClick:m},g=i?I5:E.Fragment,N=i?{unmount:l}:{},j=sa();return pt.createElement(g,{...N},j({ourProps:w,theirProps:s,slot:p,defaultTag:FI,name:"Dialog.Panel"}))}let BI="div";function UI(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:s}]=zg("Dialog.Backdrop"),a=E.useMemo(()=>({open:i===0}),[i]),l={ref:t,"aria-hidden":!0},c=n?I5:E.Fragment,h=n?{unmount:s}:{},p=sa();return pt.createElement(c,{...h},p({ourProps:l,theirProps:r,slot:a,defaultTag:BI,name:"Dialog.Backdrop"}))}let zI="h2";function qI(e,t){let n=E.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:s,setTitleId:a}]=zg("Dialog.Title"),l=xo(t);E.useEffect(()=>(a(r),()=>a(null)),[r,a]);let c=E.useMemo(()=>({open:s===0}),[s]),h={ref:l,id:r};return sa()({ourProps:h,theirProps:i,slot:c,defaultTag:zI,name:"Dialog.Title"})}let WI=ds(RI),HI=ds($I);ds(UI);let VI=ds(qI),Du=Object.assign(WI,{Panel:HI,Title:VI,Description:xM});const GI=({isOpen:e,onClose:t,onGroupCreated:n,isAdmin:r=!1})=>{const[i,s]=E.useState(""),[a,l]=E.useState(!1);E.useState([]);const c=async h=>{if(h.preventDefault(),!!i.trim())try{l(!0);const{error:p}=await Xe.from("groups").insert([{name:i.trim()}]);if(p)throw p;Pe.success("Grupo creado exitosamente"),n(),t(),s("")}catch(p){console.error("Error:",p),Pe.error("Error al crear el grupo")}finally{l(!1)}};return d.jsx(Du,{open:e,onClose:t,className:"fixed inset-0 z-10 overflow-y-auto",children:d.jsxs("div",{className:"flex min-h-screen items-center justify-center",children:[d.jsx("div",{className:"fixed inset-0 bg-black opacity-30"}),d.jsxs("div",{className:"relative bg-white rounded-lg w-full max-w-md p-6 mx-4",children:[d.jsx("div",{className:"absolute right-4 top-4",children:d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:d.jsx(Da,{className:"w-6 h-6"})})}),d.jsx(Du.Title,{className:"text-xl font-semibold mb-4",children:"Crear Nuevo Grupo"}),d.jsxs("form",{onSubmit:c,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del grupo"}),d.jsx("input",{type:"text",id:"name",value:i,onChange:h=>s(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Ingresa el nombre del grupo",required:!0})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx(yt,{type:"button",variant:"secondary",onClick:t,disabled:a,children:"Cancelar"}),d.jsx(yt,{type:"submit",loading:a,children:"Crear Grupo"})]})]})]})]})})},YI=({isOpen:e,onClose:t,onGroupDeleted:n,group:r})=>{const[i,s]=E.useState(""),[a,l]=E.useState(!1),c=async h=>{if(h.preventDefault(),i!==r.name){Pe.error("El nombre del grupo no coincide");return}try{l(!0);const{error:p}=await Xe.from("groups").delete().eq("id",r.id);if(p)throw p;Pe.success("Grupo eliminado exitosamente"),n(),t()}catch(p){console.error("Error:",p),Pe.error("Error al eliminar el grupo")}finally{l(!1),s("")}};return d.jsx(Du,{open:e,onClose:t,className:"fixed inset-0 z-10 overflow-y-auto",children:d.jsxs("div",{className:"flex min-h-screen items-center justify-center",children:[d.jsx("div",{className:"fixed inset-0 bg-black opacity-30"}),d.jsxs("div",{className:"relative bg-white rounded-lg w-full max-w-md p-6 mx-4",children:[d.jsx("div",{className:"absolute right-4 top-4",children:d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:d.jsx(Da,{className:"w-6 h-6"})})}),d.jsx(Du.Title,{className:"text-xl font-semibold text-red-600 mb-4",children:"Eliminar Grupo"}),d.jsx("div",{className:"mb-4",children:d.jsxs("p",{className:"text-gray-700 mb-4",children:["Esta acción no se puede deshacer. Para confirmar, escribe el nombre del grupo:",d.jsxs("span",{className:"font-semibold",children:[" ",r.name]})]})}),d.jsxs("form",{onSubmit:c,children:[d.jsx("div",{className:"mb-4",children:d.jsx("input",{type:"text",value:i,onChange:h=>s(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"Escribe el nombre del grupo",required:!0})}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx(yt,{type:"button",variant:"secondary",onClick:t,disabled:a,children:"Cancelar"}),d.jsx(yt,{type:"submit",loading:a,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500",disabled:i!==r.name,children:"Eliminar Grupo"})]})]})]})]})})};function KI(){const[e,t]=E.useState([]),[n,r]=E.useState(!0),[i,s]=E.useState(!1),{user:a}=Is(),l=Ra(),[c,h]=E.useState(!1),[p,m]=E.useState(null),[w,g]=E.useState(!1),[N,j]=E.useState("");E.useEffect(()=>{(async()=>{a&&await C()})()},[a]);const C=async()=>{if(a)try{r(!0);const{data:R,error:X}=await Xe.from("users").select("role").eq("id",a.id).single();if(X)throw X;const te=(R==null?void 0:R.role)==="admin";if(h(te),te){const{data:V,error:Y}=await Xe.from("groups").select("*").order("created_at",{ascending:!1});if(Y)throw Y;const{data:ge,error:pe}=await Xe.from("group_members").select("group_id").eq("user_id",a.id);if(pe)throw pe;const Q=new Set((ge==null?void 0:ge.map(z=>z.group_id))||[]),$=await Promise.all((V||[]).map(async z=>{const{data:oe}=await Xe.from("group_members").select("id").eq("group_id",z.id).eq("role_in_group","principal"),{data:Ae}=await Xe.from("group_members").select("id").eq("group_id",z.id).eq("role_in_group","sustituto");return{...z,userRole:Q.has(z.id)?"member":"none",principal_count:(oe==null?void 0:oe.length)||0,sustituto_count:(Ae==null?void 0:Ae.length)||0}}));t($);return}const{data:W,error:O}=await Xe.from("group_members").select("group_id").eq("user_id",a.id);if(O)throw O;const ee=new Set((W==null?void 0:W.map(V=>V.group_id))||[]),{data:ne,error:T}=await Xe.from("groups").select("*").or(`created_by.eq.${a.id},id.in.(${Array.from(ee).join(",")})`).order("created_at",{ascending:!1});if(T)throw T;const F=await Promise.all((ne||[]).map(async V=>{const{data:Y}=await Xe.from("group_members").select("id").eq("group_id",V.id).eq("role_in_group","principal"),{data:ge}=await Xe.from("group_members").select("id").eq("group_id",V.id).eq("role_in_group","sustituto");return{...V,userRole:ee.has(V.id)?"member":"none",principal_count:(Y==null?void 0:Y.length)||0,sustituto_count:(ge==null?void 0:ge.length)||0}}));t(F)}catch(R){console.error("Error fetching groups:",R),Pe.error("Error al cargar los grupos"),t([])}finally{r(!1)}},_=R=>{l(`/group/${R}`)},S=(R,X)=>{R.stopPropagation(),m(X),g(!0)},L=()=>{const R=e.filter(O=>O.name.toLowerCase().includes(N.toLowerCase())),X=R.filter(O=>O.created_by===(a==null?void 0:a.id)),te=R.filter(O=>O.userRole==="member"&&O.created_by!==(a==null?void 0:a.id)),W=c?R.filter(O=>O.userRole==="none"&&O.created_by!==(a==null?void 0:a.id)&&!te.some(ee=>ee.id===O.id)):[];return{created:X,member:te,other:W}};return d.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Grupos"}),d.jsxs(yt,{onClick:()=>s(!0),className:"flex items-center space-x-2",children:[d.jsx(Og,{className:"w-5 h-5"}),d.jsx("span",{children:"Crear Grupo"})]})]}),d.jsx("div",{className:"mb-6",children:d.jsx("input",{type:"text",placeholder:"Buscar grupos...",value:N,onChange:R=>j(R.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})}),n?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando grupos..."}):e.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsx(Sf,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),d.jsx("p",{className:"text-gray-500",children:"No tienes grupos disponibles. ¡Crea uno para empezar!"})]}):d.jsxs("div",{className:"space-y-8",children:[L().created.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Grupos que administras"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L().created.map(R=>d.jsx(_v,{group:R,user:a,isAdmin:c,onDelete:S,onClick:()=>_(R.id)},R.id))})]}),L().member.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Grupos donde participas"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L().member.map(R=>d.jsx(_v,{group:R,user:a,isAdmin:c,onDelete:S,onClick:()=>_(R.id)},R.id))})]}),c&&L().other.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Otros grupos"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L().other.map(R=>d.jsx(_v,{group:R,user:a,isAdmin:c,onDelete:S,onClick:()=>_(R.id)},R.id))})]})]}),d.jsx(GI,{isOpen:i,onClose:()=>s(!1),onGroupCreated:C,isAdmin:c}),p&&d.jsx(YI,{isOpen:w,onClose:()=>{g(!1),m(null)},onGroupDeleted:C,group:p})]})}const _v=({group:e,user:t,isAdmin:n,onDelete:r,onClick:i})=>d.jsxs("div",{onClick:i,className:"bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e.name}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center text-sm text-gray-600",title:"Miembros principales",children:[d.jsx(Sf,{className:"w-5 h-5 text-indigo-600 mr-1"}),d.jsx("span",{className:"font-medium",children:e.principal_count}),d.jsx("span",{className:"text-xs ml-1",children:"prin"})]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-600",title:"Miembros sustitutos",children:[d.jsx(Sf,{className:"w-5 h-5 text-orange-600 mr-1"}),d.jsx("span",{className:"font-medium",children:e.sustituto_count}),d.jsx("span",{className:"text-xs ml-1",children:"sust"})]})]}),(n||e.created_by===(t==null?void 0:t.id))&&d.jsx("button",{onClick:s=>r(s,e),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:d.jsx(P5,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.created_by===(t==null?void 0:t.id)&&d.jsx("span",{className:"text-sm px-2 py-1 rounded-full bg-indigo-100 text-indigo-700",children:"Creador"}),e.userRole==="member"&&d.jsx("span",{className:"text-sm px-2 py-1 rounded-full bg-green-100 text-green-700",children:"Miembro"}),e.userRole==="none"&&d.jsx("span",{className:"text-sm px-2 py-1 rounded-full bg-gray-100 text-gray-700",children:"Grupo"})]})]});function JI({isOpen:e,onClose:t,groupId:n,instruments:r,onMemberAdded:i,isEmptyGroup:s,userRole:a}){const[l,c]=E.useState(""),[h,p]=E.useState(""),[m,w]=E.useState("principal"),[g,N]=E.useState([]),[j,C]=E.useState(""),[_,S]=E.useState(!1),[L,R]=E.useState(!1),[X,te]=E.useState([]),[W,O]=E.useState(!1),{user:ee}=Is(),ne=()=>{c(""),p(""),w("principal"),N([]),C(""),S(!1),te([])},T=async()=>{if(ee)try{const{data:Q,error:$}=await Xe.from("users").select("name, email").eq("id",ee.id).single();if($)throw $;Q&&(c(Q.name||""),p(Q.email||""))}catch(Q){console.error("Error fetching user info:",Q)}},F=async()=>{var Q;if(ee)try{const{data:$,error:z}=await Xe.from("group_members").select("role_in_group").eq("group_id",n).eq("user_id",ee.id);if(z)throw z;O(((Q=$==null?void 0:$[0])==null?void 0:Q.role_in_group)==="principal")}catch($){console.error("Error checking principal status:",$),O(!1)}},V=async()=>{try{const{data:Q,error:$}=await Xe.from("roles").select("*").eq("group_id",n).order("name");if($)throw $;te(Q||[])}catch(Q){console.error("Error loading roles:",Q),Pe.error("Error al cargar los roles")}};if(E.useEffect(()=>{e&&V()},[e]),E.useEffect(()=>{e||ne()},[e]),E.useEffect(()=>{ee&&(F(),a==="user"&&!W?T():(c(""),p("")))},[ee,a,W]),!e||!ee)return null;const Y=()=>{if(!j.trim()){Pe.error("Por favor ingresa un nombre para el rol");return}if(X.some(oe=>oe.name.toLowerCase()===j.trim().toLowerCase())){Pe.error("Este rol ya existe en el grupo");return}const $=`new-${Date.now()}`,z={id:$,name:j.trim(),isNew:!0,group_id:n};te([...X,z]),N([...g,$]),C(""),S(!1),Pe.success("Rol añadido y seleccionado")},ge=async Q=>{if(Q.preventDefault(),!l.trim()){Pe.error("Por favor ingresa un nombre");return}if(!h.trim()){Pe.error("Por favor ingresa un email");return}if(g.length===0){Pe.error("Por favor selecciona al menos un rol");return}R(!0);try{const $=g.filter(G=>!G.startsWith("new-")),z=X.filter(G=>"isNew"in G&&G.isNew&&g.includes(G.id)).map(G=>({name:G.name,group_id:n})),oe=z.map(G=>`(${G.name}, ${n})`),{data:Ae,error:P}=await Xe.rpc("add_group_member_with_instruments",{p_group_id:n,p_name:l,p_email:h.toLowerCase().trim(),p_role:s?"principal":m,p_user_id:a==="user"&&!W?ee.id:null,p_instruments:$,p_new_instruments:z.map(G=>G.name)});if(P)throw P;try{const{invitation:G}=Ae;if(console.log("Datos de invitación:",G),!G||!G.token)throw new Error("No se recibieron los datos de invitación correctamente");const{error:se}=await Xe.functions.invoke("send-invitation-email",{body:{email:G.email,token:G.token,userExists:G.userExists,groupName:G.groupName,groupMemberId:G.groupMemberId}});if(se)throw console.error("Error sending invitation email:",se),new Error(`Error al enviar la invitación: ${se.message}`);Pe.success("Miembro añadido e invitación enviada")}catch(G){console.error("Error sending invitation:",G),Pe.error(`Error al enviar la invitación: ${G.message||"Error desconocido"}`,{icon:"⚠️",duration:5e3})}i(),t(),ne()}catch($){console.error("Error adding member:",$),Pe.error($.message||"Error al añadir miembro")}finally{R(!1)}},pe=a==="user"&&!W;return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold",children:pe?"Join Group":"Add New Member"}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:d.jsx(Da,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:ge,className:"p-6 space-y-4",children:[d.jsx(Vn,{label:"Name",value:l,onChange:Q=>c(Q.target.value),required:!0,placeholder:"Enter member name",disabled:pe}),d.jsx(Vn,{label:"Email",type:"email",value:h,onChange:Q=>p(Q.target.value),required:!0,placeholder:"Enter member email",disabled:pe}),!s&&a==="admin"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),d.jsxs("select",{value:m,onChange:Q=>w(Q.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[d.jsx("option",{value:"principal",children:"Principal"}),d.jsx("option",{value:"sustituto",children:"Sustituto"})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Instruments"}),!_&&(a==="admin"||s||W)&&d.jsxs(yt,{type:"button",variant:"secondary",onClick:()=>S(!0),className:"text-sm py-1",children:[d.jsx(Og,{className:"w-4 h-4 mr-1"}),"Add New"]})]}),_&&d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx(Vn,{label:"",value:j,onChange:Q=>C(Q.target.value),placeholder:"Enter instrument name",className:"flex-1"}),d.jsxs("div",{className:"flex gap-2 mt-1",children:[d.jsx(yt,{type:"button",onClick:Y,className:"whitespace-nowrap",children:"Add"}),d.jsx(yt,{type:"button",variant:"secondary",onClick:()=>{S(!1),C("")},className:"whitespace-nowrap",children:"Cancel"})]})]}),d.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-3",children:X.length===0?d.jsx("p",{className:"text-sm text-gray-500",children:"No hay roles disponibles. Añade uno arriba."}):X.map(Q=>d.jsxs("label",{className:"flex items-center space-x-2 hover:bg-gray-50 p-1 rounded",children:[d.jsx("input",{type:"checkbox",checked:g.includes(Q.id),onChange:$=>{$.target.checked?N([...g,Q.id]):N(g.filter(z=>z!==Q.id))},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsxs("span",{className:"flex items-center capitalize",children:[d.jsx($r,{className:"w-3 h-3 mr-1"}),Q.name,"isNew"in Q&&d.jsx("span",{className:"ml-2 text-xs text-indigo-600",children:"(Nuevo)"})]})]},Q.id))})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx(yt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(yt,{type:"submit",loading:L,children:pe?"Join Group":"Add Member"})]})]})]})})}function XI({isOpen:e,onClose:t,member:n,instruments:r,onMemberUpdated:i,userRole:s}){const[a,l]=E.useState(n.name),[c,h]=E.useState(n.role_in_group),[p,m]=E.useState([]),[w,g]=E.useState(!1),{user:N}=Is();if(E.useEffect(()=>{n&&(l(n.name),h(n.role_in_group),m(n.instruments.map(_=>_.id)))},[n]),!e||!N)return null;const j=s==="admin"||n.user_id===N.id,C=async _=>{if(_.preventDefault(),!j){Pe.error("You do not have permission to edit this member");return}if(!a.trim()){Pe.error("Please enter a member name");return}if(p.length===0){Pe.error("Please select at least one role");return}g(!0);try{const{error:S}=await Xe.from("group_members").update({name:a.trim(),role_in_group:c}).eq("id",n.id);if(S)throw S;const{error:L}=await Xe.from("group_member_roles").delete().eq("group_member_id",n.id);if(L)throw L;const{error:R}=await Xe.from("group_member_roles").insert(p.map(X=>({group_member_id:n.id,role_id:X,created_by:N.id})));if(R)throw R;Pe.success("Member updated successfully!"),i(),t()}catch(S){console.error("Error updating member:",S),Pe.error(S.message||"Failed to update member")}finally{g(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Edit Member"}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",disabled:w,children:d.jsx(Da,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[d.jsx(Vn,{label:"Name",value:a,onChange:_=>l(_.target.value),required:!0,placeholder:"Enter member name",disabled:!j}),s==="admin"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),d.jsxs("select",{value:c,onChange:_=>h(_.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-indigo-500 focus:ring-indigo-500",disabled:!j,children:[d.jsx("option",{value:"principal",children:"Principal"}),d.jsx("option",{value:"sustituto",children:"Sustituto"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Roles"}),d.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-3",children:r.map(_=>d.jsxs("label",{className:"flex items-center space-x-2 hover:bg-gray-50 p-1 rounded",children:[d.jsx("input",{type:"checkbox",checked:p.includes(_.id),onChange:S=>{S.target.checked?m([...p,_.id]):m(p.filter(L=>L!==_.id))},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",disabled:w||!j}),d.jsxs("span",{className:"flex items-center",children:[d.jsx($r,{className:"w-3 h-3 mr-1"}),_.name]})]},_.id))})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx(yt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),j&&d.jsx(yt,{type:"submit",loading:w,children:"Save Changes"})]})]})]})})}const g3=3,QI=1e3;async function $n(e,t="An error occurred"){let n=0;for(;n<g3;)try{const{data:r,error:i}=await e();if(i)throw i;return r}catch(r){if(n++,n===g3)return console.error(t,r),Pe.error(t),null;await new Promise(i=>setTimeout(i,QI*n))}return null}function ln(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function us(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Mi(e,t){const n=ln(e);return isNaN(t)?us(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function ia(e,t){const n=ln(e);if(isNaN(t))return us(e,NaN);if(!t)return n;const r=n.getDate(),i=us(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const F5=6048e5,ZI=864e5,HN=6e4,VN=36e5;let eR={};function Cp(){return eR}function vo(e,t){var l,c,h,p;const n=Cp(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=ln(e),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Bu(e){return vo(e,{weekStartsOn:1})}function GN(e){const t=ln(e),n=t.getFullYear(),r=us(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Bu(r),s=us(e,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=Bu(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Lc(e){const t=ln(e);return t.setHours(0,0,0,0),t}function K0(e){const t=ln(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function uo(e,t){const n=Lc(e),r=Lc(t),i=+n-K0(n),s=+r-K0(r);return Math.round((i-s)/ZI)}function tR(e){const t=GN(e),n=us(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Bu(n)}function ly(e,t){const n=t*7;return Mi(e,n)}function nR(e,t){return ia(e,t*12)}function rR(e){let t;return e.forEach(function(n){const r=ln(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function iR(e){let t;return e.forEach(n=>{const r=ln(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function sR(e){return us(e,Date.now())}function gr(e,t){const n=Lc(e),r=Lc(t);return+n==+r}function $5(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function aR(e){if(!$5(e)&&typeof e!="number")return!1;const t=ln(e);return!isNaN(Number(t))}function hp(e,t){const n=ln(e),r=ln(t),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function oR(e,t,n){const r=vo(e,n),i=vo(t,n),s=+r-K0(r),a=+i-K0(i);return Math.round((s-a)/F5)}function qg(e){const t=ln(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Fi(e){const t=ln(e);return t.setDate(1),t.setHours(0,0,0,0),t}function YN(e){const t=ln(e),n=us(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function B5(e,t){var l,c,h,p;const n=Cp(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=ln(e),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function KN(e){return B5(e,{weekStartsOn:1})}const lR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cR=(e,t,n)=>{let r;const i=lR[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function lf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const uR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hR={date:lf({formats:uR,defaultWidth:"full"}),time:lf({formats:dR,defaultWidth:"full"}),dateTime:lf({formats:fR,defaultWidth:"full"})},pR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mR=(e,t,n,r)=>pR[e];function lo(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const gR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_R=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},SR={ordinalNumber:_R,era:lo({values:gR,defaultWidth:"wide"}),quarter:lo({values:vR,defaultWidth:"wide",argumentCallback:e=>e-1}),month:lo({values:yR,defaultWidth:"wide"}),day:lo({values:wR,defaultWidth:"wide"}),dayPeriod:lo({values:xR,defaultWidth:"wide",formattingValues:bR,defaultFormattingWidth:"wide"})};function co(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?jR(l,m=>m.test(a)):NR(l,m=>m.test(a));let h;h=e.valueCallback?e.valueCallback(c):c,h=n.valueCallback?n.valueCallback(h):h;const p=t.slice(a.length);return{value:h,rest:p}}}function NR(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function jR(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function JN(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(i.length);return{value:a,rest:l}}}const kR=/^(\d+)(th|st|nd|rd)?/i,ER=/\d+/i,CR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AR={any:[/^b/i,/^(a|c)/i]},LR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},PR={any:[/1/i,/2/i,/3/i,/4/i]},TR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},MR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},FR={ordinalNumber:JN({matchPattern:kR,parsePattern:ER,valueCallback:e=>parseInt(e,10)}),era:co({matchPatterns:CR,defaultMatchWidth:"wide",parsePatterns:AR,defaultParseWidth:"any"}),quarter:co({matchPatterns:LR,defaultMatchWidth:"wide",parsePatterns:PR,defaultParseWidth:"any",valueCallback:e=>e+1}),month:co({matchPatterns:TR,defaultMatchWidth:"wide",parsePatterns:DR,defaultParseWidth:"any"}),day:co({matchPatterns:OR,defaultMatchWidth:"wide",parsePatterns:MR,defaultParseWidth:"any"}),dayPeriod:co({matchPatterns:IR,defaultMatchWidth:"any",parsePatterns:RR,defaultParseWidth:"any"})},XN={code:"en-US",formatDistance:cR,formatLong:hR,formatRelative:mR,localize:SR,match:FR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $R(e){const t=ln(e);return uo(t,YN(t))+1}function QN(e){const t=ln(e),n=+Bu(t)-+tR(t);return Math.round(n/F5)+1}function ZN(e,t){var p,m,w,g;const n=ln(e),r=n.getFullYear(),i=Cp(),s=(t==null?void 0:t.firstWeekContainsDate)??((m=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(w=i.locale)==null?void 0:w.options)==null?void 0:g.firstWeekContainsDate)??1,a=us(e,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=vo(a,t),c=us(e,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const h=vo(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function BR(e,t){var l,c,h,p;const n=Cp(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=ZN(e,t),s=us(e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),vo(s,t)}function e6(e,t){const n=ln(e),r=+vo(n,t)-+BR(n,t);return Math.round(r/F5)+1}function Sn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ql={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Sn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Sn(n+1,2)},d(e,t){return Sn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Sn(e.getHours()%12||12,t.length)},H(e,t){return Sn(e.getHours(),t.length)},m(e,t){return Sn(e.getMinutes(),t.length)},s(e,t){return Sn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Sn(i,t.length)}},Md={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},v3={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ql.y(e,t)},Y:function(e,t,n,r){const i=ZN(e,r),s=i>0?i:1-i;if(t==="YY"){const a=s%100;return Sn(a,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):Sn(s,t.length)},R:function(e,t){const n=GN(e);return Sn(n,t.length)},u:function(e,t){const n=e.getFullYear();return Sn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Sn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Sn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ql.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Sn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=e6(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Sn(i,t.length)},I:function(e,t,n){const r=QN(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Sn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ql.d(e,t)},D:function(e,t,n){const r=$R(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Sn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Sn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Sn(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Sn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Md.noon:r===0?i=Md.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Md.evening:r>=12?i=Md.afternoon:r>=4?i=Md.morning:i=Md.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ql.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ql.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Sn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Sn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ql.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ql.s(e,t)},S:function(e,t){return Ql.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return w3(r);case"XXXX":case"XX":return xu(r);case"XXXXX":case"XXX":default:return xu(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return w3(r);case"xxxx":case"xx":return xu(r);case"xxxxx":case"xxx":default:return xu(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+y3(r,":");case"OOOO":default:return"GMT"+xu(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+y3(r,":");case"zzzz":default:return"GMT"+xu(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Sn(r,t.length)},T:function(e,t,n){const r=e.getTime();return Sn(r,t.length)}};function y3(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+Sn(s,2)}function w3(e,t){return e%60===0?(e>0?"-":"+")+Sn(Math.abs(e)/60,2):xu(e,t)}function xu(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Sn(Math.trunc(r/60),2),s=Sn(r%60,2);return n+i+t+s}const x3=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},t6=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},UR=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return x3(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",x3(r,t)).replace("{{time}}",t6(i,t))},zR={p:t6,P:UR},qR=/^D+$/,WR=/^Y+$/,HR=["D","DD","YY","YYYY"];function VR(e){return qR.test(e)}function GR(e){return WR.test(e)}function YR(e,t,n){const r=KR(e,t,n);if(console.warn(r),HR.includes(e))throw new RangeError(r)}function KR(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const JR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QR=/^'([^]*?)'?$/,ZR=/''/g,e9=/[a-zA-Z]/;function on(e,t,n){var p,m,w,g,N,j,C,_;const r=Cp(),i=(n==null?void 0:n.locale)??r.locale??XN,s=(n==null?void 0:n.firstWeekContainsDate)??((m=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(w=r.locale)==null?void 0:w.options)==null?void 0:g.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((j=(N=n==null?void 0:n.locale)==null?void 0:N.options)==null?void 0:j.weekStartsOn)??r.weekStartsOn??((_=(C=r.locale)==null?void 0:C.options)==null?void 0:_.weekStartsOn)??0,l=ln(e);if(!aR(l))throw new RangeError("Invalid time value");let c=t.match(XR).map(S=>{const L=S[0];if(L==="p"||L==="P"){const R=zR[L];return R(S,i.formatLong)}return S}).join("").match(JR).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const L=S[0];if(L==="'")return{isToken:!1,value:t9(S)};if(v3[L])return{isToken:!0,value:S};if(L.match(e9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return{isToken:!1,value:S}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const h={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(S=>{if(!S.isToken)return S.value;const L=S.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&GR(L)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&VR(L))&&YR(L,t,String(e));const R=v3[L[0]];return R(l,L,i.localize,h)}).join("")}function t9(e){const t=e.match(QR);return t?t[1].replace(ZR,"'"):e}function n9(e){const t=ln(e),n=t.getFullYear(),r=t.getMonth(),i=us(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function r9(e){return Math.trunc(+ln(e)/1e3)}function i9(e){const t=ln(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function s9(e,t){return oR(i9(e),Fi(e),t)+1}function cy(e,t){const n=ln(e),r=ln(t);return n.getTime()>r.getTime()}function n6(e,t){const n=ln(e),r=ln(t);return+n<+r}function b3(e){return+ln(e)>Date.now()}function U5(e,t){const n=ln(e),r=ln(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function a9(e,t){const n=ln(e),r=ln(t);return n.getFullYear()===r.getFullYear()}function _3(e){return gr(e,sR(e))}function Sv(e,t){return Mi(e,-t)}function pu(e,t){const r=u9(e);let i;if(r.date){const c=d9(r.date,2);i=f9(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,l;if(r.time&&(a=h9(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(l=p9(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(s+a),h=new Date(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return new Date(s+a+l)}const $m={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},o9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,l9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u9(e){const t={},n=e.split($m.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],$m.timeZoneDelimiter.test(t.date)&&(t.date=e.split($m.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=$m.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function d9(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function f9(e,t){if(t===null)return new Date(NaN);const n=e.match(o9);if(!n)return new Date(NaN);const r=!!n[4],i=wh(n[1]),s=wh(n[2])-1,a=wh(n[3]),l=wh(n[4]),c=wh(n[5])-1;if(r)return w9(t,l,c)?m9(t,l,c):new Date(NaN);{const h=new Date(0);return!v9(t,s,a)||!y9(t,i)?new Date(NaN):(h.setUTCFullYear(t,s,Math.max(i,a)),h)}}function wh(e){return e?parseInt(e):1}function h9(e){const t=e.match(l9);if(!t)return NaN;const n=Nv(t[1]),r=Nv(t[2]),i=Nv(t[3]);return x9(n,r,i)?n*VN+r*HN+i*1e3:NaN}function Nv(e){return e&&parseFloat(e.replace(",","."))||0}function p9(e){if(e==="Z")return 0;const t=e.match(c9);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return b9(r,i)?n*(r*VN+i*HN):NaN}function m9(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,s=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const g9=[31,null,31,30,31,30,31,31,30,31,30,31];function r6(e){return e%400===0||e%4===0&&e%100!==0}function v9(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(g9[t]||(r6(e)?29:28))}function y9(e,t){return t>=1&&t<=(r6(e)?366:365)}function w9(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function x9(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function b9(e,t){return t>=0&&t<=59}function jv(e,t){const n=ln(e),r=n.getFullYear(),i=n.getDate(),s=us(e,0);s.setFullYear(r,t,15),s.setHours(0,0,0,0);const a=n9(s);return n.setMonth(t,Math.min(i,a)),n}function S3(e,t){const n=ln(e);return isNaN(+n)?us(e,NaN):(n.setFullYear(t),n)}function xh(e,t){return ia(e,-t)}const _9={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},S9=(e,t,n)=>{let r;const i=_9[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},N9={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},j9={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},k9={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},E9={date:lf({formats:N9,defaultWidth:"full"}),time:lf({formats:j9,defaultWidth:"full"}),dateTime:lf({formats:k9,defaultWidth:"full"})},C9={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},A9={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},L9=(e,t,n,r)=>t.getHours()!==1?A9[e]:C9[e],P9={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},T9={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},D9={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},O9={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},M9={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},I9={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},R9=(e,t)=>Number(e)+"º",F9={ordinalNumber:R9,era:lo({values:P9,defaultWidth:"wide"}),quarter:lo({values:T9,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:lo({values:D9,defaultWidth:"wide"}),day:lo({values:O9,defaultWidth:"wide"}),dayPeriod:lo({values:M9,defaultWidth:"wide",formattingValues:I9,defaultFormattingWidth:"wide"})},$9=/^(\d+)(º)?/i,B9=/\d+/i,U9={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},z9={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},q9={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},W9={any:[/1/i,/2/i,/3/i,/4/i]},H9={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},V9={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},G9={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},Y9={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},K9={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},J9={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},X9={ordinalNumber:JN({matchPattern:$9,parsePattern:B9,valueCallback:function(e){return parseInt(e,10)}}),era:co({matchPatterns:U9,defaultMatchWidth:"wide",parsePatterns:z9,defaultParseWidth:"any"}),quarter:co({matchPatterns:q9,defaultMatchWidth:"wide",parsePatterns:W9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:co({matchPatterns:H9,defaultMatchWidth:"wide",parsePatterns:V9,defaultParseWidth:"any"}),day:co({matchPatterns:G9,defaultMatchWidth:"wide",parsePatterns:Y9,defaultParseWidth:"any"}),dayPeriod:co({matchPatterns:K9,defaultMatchWidth:"any",parsePatterns:J9,defaultParseWidth:"any"})},Qd={code:"es",formatDistance:S9,formatLong:E9,formatRelative:L9,localize:F9,match:X9,options:{weekStartsOn:1,firstWeekContainsDate:1}};var Tt=function(){return Tt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Tt.apply(this,arguments)};function Q9(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function i6(e,t,n){for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function Ap(e){return e.mode==="multiple"}function Lp(e){return e.mode==="range"}function Wg(e){return e.mode==="single"}var Z9={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function eF(e,t){return on(e,"LLLL y",t)}function tF(e,t){return on(e,"d",t)}function nF(e,t){return on(e,"LLLL",t)}function rF(e){return"".concat(e)}function iF(e,t){return on(e,"cccccc",t)}function sF(e,t){return on(e,"yyyy",t)}var aF=Object.freeze({__proto__:null,formatCaption:eF,formatDay:tF,formatMonthCaption:nF,formatWeekNumber:rF,formatWeekdayName:iF,formatYearCaption:sF}),oF=function(e,t,n){return on(e,"do MMMM (EEEE)",n)},lF=function(){return"Month: "},cF=function(){return"Go to next month"},uF=function(){return"Go to previous month"},dF=function(e,t){return on(e,"cccc",t)},fF=function(e){return"Week n. ".concat(e)},hF=function(){return"Year: "},pF=Object.freeze({__proto__:null,labelDay:oF,labelMonthDropdown:lF,labelNext:cF,labelPrevious:uF,labelWeekNumber:fF,labelWeekday:dF,labelYearDropdown:hF});function mF(){var e="buttons",t=Z9,n=XN,r={},i={},s=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:aF,labels:pF,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:a,today:l,mode:"default"}}function gF(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,s=e.fromDate,a=e.toDate;return r?s=Fi(r):t&&(s=new Date(t,0,1)),i?a=qg(i):n&&(a=new Date(n,11,31)),{fromDate:s?Lc(s):void 0,toDate:a?Lc(a):void 0}}var s6=E.createContext(void 0);function vF(e){var t,n=e.initialProps,r=mF(),i=gF(n),s=i.fromDate,a=i.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!s||!a)&&(l="buttons");var c;(Wg(n)||Ap(n)||Lp(n))&&(c=n.onSelect);var h=Tt(Tt(Tt({},r),n),{captionLayout:l,classNames:Tt(Tt({},r.classNames),n.classNames),components:Tt({},n.components),formatters:Tt(Tt({},r.formatters),n.formatters),fromDate:s,labels:Tt(Tt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Tt(Tt({},r.modifiers),n.modifiers),modifiersClassNames:Tt(Tt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Tt(Tt({},r.styles),n.styles),toDate:a});return d.jsx(s6.Provider,{value:h,children:e.children})}function Un(){var e=E.useContext(s6);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function a6(e){var t=Un(),n=t.locale,r=t.classNames,i=t.styles,s=t.formatters.formatCaption;return d.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:n})})}function yF(e){return d.jsx("svg",Tt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:d.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function o6(e){var t,n,r=e.onChange,i=e.value,s=e.children,a=e.caption,l=e.className,c=e.style,h=Un(),p=(n=(t=h.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:yF;return d.jsxs("div",{className:l,style:c,children:[d.jsx("span",{className:h.classNames.vhidden,children:e["aria-label"]}),d.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:i,onChange:r,children:s}),d.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[a,d.jsx(p,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function wF(e){var t,n=Un(),r=n.fromDate,i=n.toDate,s=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,h=n.components,p=n.labels.labelMonthDropdown;if(!r)return d.jsx(d.Fragment,{});if(!i)return d.jsx(d.Fragment,{});var m=[];if(a9(r,i))for(var w=Fi(r),g=r.getMonth();g<=i.getMonth();g++)m.push(jv(w,g));else for(var w=Fi(new Date),g=0;g<=11;g++)m.push(jv(w,g));var N=function(C){var _=Number(C.target.value),S=jv(Fi(e.displayMonth),_);e.onChange(S)},j=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:o6;return d.jsx(j,{name:"months","aria-label":p(),className:c.dropdown_month,style:s.dropdown_month,onChange:N,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:m.map(function(C){return d.jsx("option",{value:C.getMonth(),children:l(C,{locale:a})},C.getMonth())})})}function xF(e){var t,n=e.displayMonth,r=Un(),i=r.fromDate,s=r.toDate,a=r.locale,l=r.styles,c=r.classNames,h=r.components,p=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,w=[];if(!i)return d.jsx(d.Fragment,{});if(!s)return d.jsx(d.Fragment,{});for(var g=i.getFullYear(),N=s.getFullYear(),j=g;j<=N;j++)w.push(S3(YN(new Date),j));var C=function(S){var L=S3(Fi(n),Number(S.target.value));e.onChange(L)},_=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:o6;return d.jsx(_,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:C,value:n.getFullYear(),caption:p(n,{locale:a}),children:w.map(function(S){return d.jsx("option",{value:S.getFullYear(),children:p(S,{locale:a})},S.getFullYear())})})}function bF(e,t){var n=E.useState(e),r=n[0],i=n[1],s=t===void 0?r:t;return[s,i]}function _F(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,s=e.toDate,a=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&hp(s,i)<0){var h=-1*(c-1);i=ia(s,h)}return a&&hp(i,a)<0&&(i=a),Fi(i)}function SF(){var e=Un(),t=_F(e),n=bF(t,e.month),r=n[0],i=n[1],s=function(a){var l;if(!e.disableNavigation){var c=Fi(a);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,s]}function NF(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=Fi(e),s=Fi(ia(i,r)),a=hp(s,i),l=[],c=0;c<a;c++){var h=ia(i,c);l.push(h)}return n&&(l=l.reverse()),l}function jF(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,a=r?s:1,l=Fi(e);if(!n)return ia(l,a);var c=hp(n,e);if(!(c<s))return ia(l,a)}}function kF(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,a=r?s:1,l=Fi(e);if(!n)return ia(l,-a);var c=hp(l,n);if(!(c<=0))return ia(l,-a)}}var l6=E.createContext(void 0);function EF(e){var t=Un(),n=SF(),r=n[0],i=n[1],s=NF(r,t),a=jF(r,t),l=kF(r,t),c=function(m){return s.some(function(w){return U5(m,w)})},h=function(m,w){c(m)||(w&&n6(m,w)?i(ia(m,1+t.numberOfMonths*-1)):i(m))},p={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:h,previousMonth:l,nextMonth:a,isDateDisplayed:c};return d.jsx(l6.Provider,{value:p,children:e.children})}function Pp(){var e=E.useContext(l6);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function N3(e){var t,n=Un(),r=n.classNames,i=n.styles,s=n.components,a=Pp().goToMonth,l=function(p){a(ia(p,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:a6,h=d.jsx(c,{id:e.id,displayMonth:e.displayMonth});return d.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[d.jsx("div",{className:r.vhidden,children:h}),d.jsx(wF,{onChange:l,displayMonth:e.displayMonth}),d.jsx(xF,{onChange:l,displayMonth:e.displayMonth})]})}function CF(e){return d.jsx("svg",Tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:d.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function AF(e){return d.jsx("svg",Tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:d.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var J0=E.forwardRef(function(e,t){var n=Un(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];e.className&&s.push(e.className);var a=s.join(" "),l=Tt(Tt({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),d.jsx("button",Tt({},e,{ref:t,type:"button",className:a,style:l}))});function LF(e){var t,n,r=Un(),i=r.dir,s=r.locale,a=r.classNames,l=r.styles,c=r.labels,h=c.labelPrevious,p=c.labelNext,m=r.components;if(!e.nextMonth&&!e.previousMonth)return d.jsx(d.Fragment,{});var w=h(e.previousMonth,{locale:s}),g=[a.nav_button,a.nav_button_previous].join(" "),N=p(e.nextMonth,{locale:s}),j=[a.nav_button,a.nav_button_next].join(" "),C=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:AF,_=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:CF;return d.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&d.jsx(J0,{name:"previous-month","aria-label":w,className:g,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?d.jsx(C,{className:a.nav_icon,style:l.nav_icon}):d.jsx(_,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&d.jsx(J0,{name:"next-month","aria-label":N,className:j,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?d.jsx(_,{className:a.nav_icon,style:l.nav_icon}):d.jsx(C,{className:a.nav_icon,style:l.nav_icon})})]})}function j3(e){var t=Un().numberOfMonths,n=Pp(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(N){return U5(e.displayMonth,N)}),c=l===0,h=l===a.length-1,p=t>1&&(c||!h),m=t>1&&(h||!c),w=function(){r&&s(r)},g=function(){i&&s(i)};return d.jsx(LF,{displayMonth:e.displayMonth,hideNext:p,hidePrevious:m,nextMonth:i,previousMonth:r,onPreviousClick:w,onNextClick:g})}function PF(e){var t,n=Un(),r=n.classNames,i=n.disableNavigation,s=n.styles,a=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:a6,h;return i?h=d.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?h=d.jsx(N3,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?h=d.jsxs(d.Fragment,{children:[d.jsx(N3,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),d.jsx(j3,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):h=d.jsxs(d.Fragment,{children:[d.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),d.jsx(j3,{displayMonth:e.displayMonth,id:e.id})]}),d.jsx("div",{className:r.caption,style:s.caption,children:h})}function TF(e){var t=Un(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?d.jsx("tfoot",{className:i,style:r.tfoot,children:d.jsx("tr",{children:d.jsx("td",{colSpan:8,children:n})})}):d.jsx(d.Fragment,{})}function DF(e,t,n){for(var r=n?Bu(new Date):vo(new Date,{locale:e,weekStartsOn:t}),i=[],s=0;s<7;s++){var a=Mi(r,s);i.push(a)}return i}function OF(){var e=Un(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,s=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,h=DF(i,s,a);return d.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&d.jsx("td",{style:n.head_cell,className:t.head_cell}),h.map(function(p,m){return d.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(p,{locale:i}),children:l(p,{locale:i})},m)})]})}function MF(){var e,t=Un(),n=t.classNames,r=t.styles,i=t.components,s=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:OF;return d.jsx("thead",{style:r.head,className:n.head,children:d.jsx(s,{})})}function IF(e){var t=Un(),n=t.locale,r=t.formatters.formatDay;return d.jsx(d.Fragment,{children:r(e.date,{locale:n})})}var z5=E.createContext(void 0);function RF(e){if(!Ap(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return d.jsx(z5.Provider,{value:t,children:e.children})}return d.jsx(FF,{initialProps:e.initialProps,children:e.children})}function FF(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,s=t.max,a=function(h,p,m){var w,g;(w=t.onDayClick)===null||w===void 0||w.call(t,h,p,m);var N=!!(p.selected&&i&&(r==null?void 0:r.length)===i);if(!N){var j=!!(!p.selected&&s&&(r==null?void 0:r.length)===s);if(!j){var C=r?i6([],r):[];if(p.selected){var _=C.findIndex(function(S){return gr(h,S)});C.splice(_,1)}else C.push(h);(g=t.onSelect)===null||g===void 0||g.call(t,C,h,p,m)}}},l={disabled:[]};r&&l.disabled.push(function(h){var p=s&&r.length>s-1,m=r.some(function(w){return gr(w,h)});return!!(p&&!m)});var c={selected:r,onDayClick:a,modifiers:l};return d.jsx(z5.Provider,{value:c,children:n})}function q5(){var e=E.useContext(z5);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function $F(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?gr(i,e)&&gr(r,e)?void 0:gr(i,e)?{from:i,to:void 0}:gr(r,e)?void 0:cy(r,e)?{from:e,to:i}:{from:r,to:e}:i?cy(e,i)?{from:i,to:e}:{from:e,to:i}:r?n6(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var W5=E.createContext(void 0);function BF(e){if(!Lp(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return d.jsx(W5.Provider,{value:t,children:e.children})}return d.jsx(UF,{initialProps:e.initialProps,children:e.children})}function UF(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},s=i.from,a=i.to,l=t.min,c=t.max,h=function(g,N,j){var C,_;(C=t.onDayClick)===null||C===void 0||C.call(t,g,N,j);var S=$F(g,r);(_=t.onSelect)===null||_===void 0||_.call(t,S,g,N,j)},p={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(p.range_start=[s],a?(p.range_end=[a],gr(s,a)||(p.range_middle=[{after:s,before:a}])):p.range_end=[s]):a&&(p.range_start=[a],p.range_end=[a]),l&&(s&&!a&&p.disabled.push({after:Sv(s,l-1),before:Mi(s,l-1)}),s&&a&&p.disabled.push({after:s,before:Mi(s,l-1)}),!s&&a&&p.disabled.push({after:Sv(a,l-1),before:Mi(a,l-1)})),c){if(s&&!a&&(p.disabled.push({before:Mi(s,-c+1)}),p.disabled.push({after:Mi(s,c-1)})),s&&a){var m=uo(a,s)+1,w=c-m;p.disabled.push({before:Sv(s,w)}),p.disabled.push({after:Mi(a,w)})}!s&&a&&(p.disabled.push({before:Mi(a,-c+1)}),p.disabled.push({after:Mi(a,c-1)}))}return d.jsx(W5.Provider,{value:{selected:r,onDayClick:h,modifiers:p},children:n})}function H5(){var e=E.useContext(W5);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function c0(e){return Array.isArray(e)?i6([],e):e!==void 0?[e]:[]}function zF(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=c0(i)}),t}var Ma;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ma||(Ma={}));var qF=Ma.Selected,Ho=Ma.Disabled,WF=Ma.Hidden,HF=Ma.Today,kv=Ma.RangeEnd,Ev=Ma.RangeMiddle,Cv=Ma.RangeStart,VF=Ma.Outside;function GF(e,t,n){var r,i=(r={},r[qF]=c0(e.selected),r[Ho]=c0(e.disabled),r[WF]=c0(e.hidden),r[HF]=[e.today],r[kv]=[],r[Ev]=[],r[Cv]=[],r[VF]=[],r);return e.fromDate&&i[Ho].push({before:e.fromDate}),e.toDate&&i[Ho].push({after:e.toDate}),Ap(e)?i[Ho]=i[Ho].concat(t.modifiers[Ho]):Lp(e)&&(i[Ho]=i[Ho].concat(n.modifiers[Ho]),i[Cv]=n.modifiers[Cv],i[Ev]=n.modifiers[Ev],i[kv]=n.modifiers[kv]),i}var c6=E.createContext(void 0);function YF(e){var t=Un(),n=q5(),r=H5(),i=GF(t,n,r),s=zF(t.modifiers),a=Tt(Tt({},i),s);return d.jsx(c6.Provider,{value:a,children:e.children})}function u6(){var e=E.useContext(c6);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function KF(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function JF(e){return!!(e&&typeof e=="object"&&"from"in e)}function XF(e){return!!(e&&typeof e=="object"&&"after"in e)}function QF(e){return!!(e&&typeof e=="object"&&"before"in e)}function ZF(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function e$(e,t){var n,r=t.from,i=t.to;if(r&&i){var s=uo(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var a=uo(e,r)>=0&&uo(i,e)>=0;return a}return i?gr(i,e):r?gr(r,e):!1}function t$(e){return $5(e)}function n$(e){return Array.isArray(e)&&e.every($5)}function r$(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(t$(n))return gr(e,n);if(n$(n))return n.includes(e);if(JF(n))return e$(e,n);if(ZF(n))return n.dayOfWeek.includes(e.getDay());if(KF(n)){var r=uo(n.before,e),i=uo(n.after,e),s=r>0,a=i<0,l=cy(n.before,n.after);return l?a&&s:s||a}return XF(n)?uo(e,n.after)>0:QF(n)?uo(n.before,e)>0:typeof n=="function"?n(e):!1})}function V5(e,t,n){var r=Object.keys(t).reduce(function(s,a){var l=t[a];return r$(e,l)&&s.push(a),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!U5(e,n)&&(i.outside=!0),i}function i$(e,t){for(var n=Fi(e[0]),r=qg(e[e.length-1]),i,s,a=n;a<=r;){var l=V5(a,t),c=!l.disabled&&!l.hidden;if(!c){a=Mi(a,1);continue}if(l.selected)return a;l.today&&!s&&(s=a),i||(i=a),a=Mi(a,1)}return s||i}var s$=365;function d6(e,t){var n=t.moveBy,r=t.direction,i=t.context,s=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,c=i.weekStartsOn,h=i.fromDate,p=i.toDate,m=i.locale,w={day:Mi,week:ly,month:ia,year:nR,startOfWeek:function(C){return i.ISOWeek?Bu(C):vo(C,{locale:m,weekStartsOn:c})},endOfWeek:function(C){return i.ISOWeek?KN(C):B5(C,{locale:m,weekStartsOn:c})}},g=w[n](e,r==="after"?1:-1);r==="before"&&h?g=rR([h,g]):r==="after"&&p&&(g=iR([p,g]));var N=!0;if(s){var j=V5(g,s);N=!j.disabled&&!j.hidden}return N?g:l.count>s$?l.lastFocused:d6(g,{moveBy:n,direction:r,context:i,modifiers:s,retry:Tt(Tt({},l),{count:l.count+1})})}var f6=E.createContext(void 0);function a$(e){var t=Pp(),n=u6(),r=E.useState(),i=r[0],s=r[1],a=E.useState(),l=a[0],c=a[1],h=i$(t.displayMonths,n),p=i??(l&&t.isDateDisplayed(l))?l:h,m=function(){c(i),s(void 0)},w=function(C){s(C)},g=Un(),N=function(C,_){if(i){var S=d6(i,{moveBy:C,direction:_,context:g,modifiers:n});gr(i,S)||(t.goToDate(S,i),w(S))}},j={focusedDay:i,focusTarget:p,blur:m,focus:w,focusDayAfter:function(){return N("day","after")},focusDayBefore:function(){return N("day","before")},focusWeekAfter:function(){return N("week","after")},focusWeekBefore:function(){return N("week","before")},focusMonthBefore:function(){return N("month","before")},focusMonthAfter:function(){return N("month","after")},focusYearBefore:function(){return N("year","before")},focusYearAfter:function(){return N("year","after")},focusStartOfWeek:function(){return N("startOfWeek","before")},focusEndOfWeek:function(){return N("endOfWeek","after")}};return d.jsx(f6.Provider,{value:j,children:e.children})}function G5(){var e=E.useContext(f6);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function o$(e,t){var n=u6(),r=V5(e,n,t);return r}var Y5=E.createContext(void 0);function l$(e){if(!Wg(e.initialProps)){var t={selected:void 0};return d.jsx(Y5.Provider,{value:t,children:e.children})}return d.jsx(c$,{initialProps:e.initialProps,children:e.children})}function c$(e){var t=e.initialProps,n=e.children,r=function(s,a,l){var c,h,p;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,a,l),a.selected&&!t.required){(h=t.onSelect)===null||h===void 0||h.call(t,void 0,s,a,l);return}(p=t.onSelect)===null||p===void 0||p.call(t,s,s,a,l)},i={selected:t.selected,onDayClick:r};return d.jsx(Y5.Provider,{value:i,children:n})}function h6(){var e=E.useContext(Y5);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function u$(e,t){var n=Un(),r=h6(),i=q5(),s=H5(),a=G5(),l=a.focusDayAfter,c=a.focusDayBefore,h=a.focusWeekAfter,p=a.focusWeekBefore,m=a.blur,w=a.focus,g=a.focusMonthBefore,N=a.focusMonthAfter,j=a.focusYearBefore,C=a.focusYearAfter,_=a.focusStartOfWeek,S=a.focusEndOfWeek,L=function(Q){var $,z,oe,Ae;Wg(n)?($=r.onDayClick)===null||$===void 0||$.call(r,e,t,Q):Ap(n)?(z=i.onDayClick)===null||z===void 0||z.call(i,e,t,Q):Lp(n)?(oe=s.onDayClick)===null||oe===void 0||oe.call(s,e,t,Q):(Ae=n.onDayClick)===null||Ae===void 0||Ae.call(n,e,t,Q)},R=function(Q){var $;w(e),($=n.onDayFocus)===null||$===void 0||$.call(n,e,t,Q)},X=function(Q){var $;m(),($=n.onDayBlur)===null||$===void 0||$.call(n,e,t,Q)},te=function(Q){var $;($=n.onDayMouseEnter)===null||$===void 0||$.call(n,e,t,Q)},W=function(Q){var $;($=n.onDayMouseLeave)===null||$===void 0||$.call(n,e,t,Q)},O=function(Q){var $;($=n.onDayPointerEnter)===null||$===void 0||$.call(n,e,t,Q)},ee=function(Q){var $;($=n.onDayPointerLeave)===null||$===void 0||$.call(n,e,t,Q)},ne=function(Q){var $;($=n.onDayTouchCancel)===null||$===void 0||$.call(n,e,t,Q)},T=function(Q){var $;($=n.onDayTouchEnd)===null||$===void 0||$.call(n,e,t,Q)},F=function(Q){var $;($=n.onDayTouchMove)===null||$===void 0||$.call(n,e,t,Q)},V=function(Q){var $;($=n.onDayTouchStart)===null||$===void 0||$.call(n,e,t,Q)},Y=function(Q){var $;($=n.onDayKeyUp)===null||$===void 0||$.call(n,e,t,Q)},ge=function(Q){var $;switch(Q.key){case"ArrowLeft":Q.preventDefault(),Q.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":Q.preventDefault(),Q.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":Q.preventDefault(),Q.stopPropagation(),h();break;case"ArrowUp":Q.preventDefault(),Q.stopPropagation(),p();break;case"PageUp":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?j():g();break;case"PageDown":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?C():N();break;case"Home":Q.preventDefault(),Q.stopPropagation(),_();break;case"End":Q.preventDefault(),Q.stopPropagation(),S();break}($=n.onDayKeyDown)===null||$===void 0||$.call(n,e,t,Q)},pe={onClick:L,onFocus:R,onBlur:X,onKeyDown:ge,onKeyUp:Y,onMouseEnter:te,onMouseLeave:W,onPointerEnter:O,onPointerLeave:ee,onTouchCancel:ne,onTouchEnd:T,onTouchMove:F,onTouchStart:V};return pe}function d$(){var e=Un(),t=h6(),n=q5(),r=H5(),i=Wg(e)?t.selected:Ap(e)?n.selected:Lp(e)?r.selected:void 0;return i}function f$(e){return Object.values(Ma).includes(e)}function h$(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(f$(r)){var s=e.classNames["day_".concat(r)];s&&n.push(s)}}),n}function p$(e,t){var n=Tt({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=Tt(Tt({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function m$(e,t,n){var r,i,s,a=Un(),l=G5(),c=o$(e,t),h=u$(e,c),p=d$(),m=!!(a.onDayClick||a.mode!=="default");E.useEffect(function(){var te;c.outside||l.focusedDay&&m&&gr(l.focusedDay,e)&&((te=n.current)===null||te===void 0||te.focus())},[l.focusedDay,e,n,m,c.outside]);var w=h$(a,c).join(" "),g=p$(a,c),N=!!(c.outside&&!a.showOutsideDays||c.hidden),j=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:IF,C=d.jsx(j,{date:e,displayMonth:t,activeModifiers:c}),_={style:g,className:w,children:C,role:"gridcell"},S=l.focusTarget&&gr(l.focusTarget,e)&&!c.outside,L=l.focusedDay&&gr(l.focusedDay,e),R=Tt(Tt(Tt({},_),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=L||S?0:-1,r)),h),X={isButton:m,isHidden:N,activeModifiers:c,selectedDays:p,buttonProps:R,divProps:_};return X}function g$(e){var t=E.useRef(null),n=m$(e.date,e.displayMonth,t);return n.isHidden?d.jsx("div",{role:"gridcell"}):n.isButton?d.jsx(J0,Tt({name:"day",ref:t},n.buttonProps)):d.jsx("div",Tt({},n.divProps))}function v$(e){var t=e.number,n=e.dates,r=Un(),i=r.onWeekNumberClick,s=r.styles,a=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,h=r.formatters.formatWeekNumber,p=h(Number(t),{locale:l});if(!i)return d.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:p});var m=c(Number(t),{locale:l}),w=function(g){i(t,n,g)};return d.jsx(J0,{name:"week-number","aria-label":m,className:a.weeknumber,style:s.weeknumber,onClick:w,children:p})}function y$(e){var t,n,r=Un(),i=r.styles,s=r.classNames,a=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:g$,h=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:v$,p;return a&&(p=d.jsx("td",{className:s.cell,style:i.cell,children:d.jsx(h,{number:e.weekNumber,dates:e.dates})})),d.jsxs("tr",{className:s.row,style:i.row,children:[p,e.dates.map(function(m){return d.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:d.jsx(c,{displayMonth:e.displayMonth,date:m})},r9(m))})]})}function k3(e,t,n){for(var r=n!=null&&n.ISOWeek?KN(t):B5(t,n),i=n!=null&&n.ISOWeek?Bu(e):vo(e,n),s=uo(r,i),a=[],l=0;l<=s;l++)a.push(Mi(i,l));var c=a.reduce(function(h,p){var m=n!=null&&n.ISOWeek?QN(p):e6(p,n),w=h.find(function(g){return g.weekNumber===m});return w?(w.dates.push(p),h):(h.push({weekNumber:m,dates:[p]}),h)},[]);return c}function w$(e,t){var n=k3(Fi(e),qg(e),t);if(t!=null&&t.useFixedWeeks){var r=s9(e,t);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],a=ly(s,6-r),l=k3(ly(s,1),a,t);n.push.apply(n,l)}}return n}function x$(e){var t,n,r,i=Un(),s=i.locale,a=i.classNames,l=i.styles,c=i.hideHead,h=i.fixedWeeks,p=i.components,m=i.weekStartsOn,w=i.firstWeekContainsDate,g=i.ISOWeek,N=w$(e.displayMonth,{useFixedWeeks:!!h,ISOWeek:g,locale:s,weekStartsOn:m,firstWeekContainsDate:w}),j=(t=p==null?void 0:p.Head)!==null&&t!==void 0?t:MF,C=(n=p==null?void 0:p.Row)!==null&&n!==void 0?n:y$,_=(r=p==null?void 0:p.Footer)!==null&&r!==void 0?r:TF;return d.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&d.jsx(j,{}),d.jsx("tbody",{className:a.tbody,style:l.tbody,children:N.map(function(S){return d.jsx(C,{displayMonth:e.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),d.jsx(_,{displayMonth:e.displayMonth})]})}function b$(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var _$=b$()?E.useLayoutEffect:E.useEffect,Av=!1,S$=0;function E3(){return"react-day-picker-".concat(++S$)}function N$(e){var t,n=e??(Av?E3():null),r=E.useState(n),i=r[0],s=r[1];return _$(function(){i===null&&s(E3())},[]),E.useEffect(function(){Av===!1&&(Av=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function j$(e){var t,n,r=Un(),i=r.dir,s=r.classNames,a=r.styles,l=r.components,c=Pp().displayMonths,h=N$(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),p=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,m=[s.month],w=a.month,g=e.displayIndex===0,N=e.displayIndex===c.length-1,j=!g&&!N;i==="rtl"&&(t=[g,N],N=t[0],g=t[1]),g&&(m.push(s.caption_start),w=Tt(Tt({},w),a.caption_start)),N&&(m.push(s.caption_end),w=Tt(Tt({},w),a.caption_end)),j&&(m.push(s.caption_between),w=Tt(Tt({},w),a.caption_between));var C=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:PF;return d.jsxs("div",{className:m.join(" "),style:w,children:[d.jsx(C,{id:h,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),d.jsx(x$,{id:p,"aria-labelledby":h,displayMonth:e.displayMonth})]},e.displayIndex)}function k$(e){var t=Un(),n=t.classNames,r=t.styles;return d.jsx("div",{className:n.months,style:r.months,children:e.children})}function E$(e){var t,n,r=e.initialProps,i=Un(),s=G5(),a=Pp(),l=E.useState(!1),c=l[0],h=l[1];E.useEffect(function(){i.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),h(!0)))},[i.initialFocus,c,s.focus,s.focusTarget,s]);var p=[i.classNames.root,i.className];i.numberOfMonths>1&&p.push(i.classNames.multiple_months),i.showWeekNumber&&p.push(i.classNames.with_weeknumber);var m=Tt(Tt({},i.styles.root),i.style),w=Object.keys(r).filter(function(N){return N.startsWith("data-")}).reduce(function(N,j){var C;return Tt(Tt({},N),(C={},C[j]=r[j],C))},{}),g=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:k$;return d.jsx("div",Tt({className:p.join(" "),style:m,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},w,{children:d.jsx(g,{children:a.displayMonths.map(function(N,j){return d.jsx(j$,{displayIndex:j,displayMonth:N},j)})})}))}function C$(e){var t=e.children,n=Q9(e,["children"]);return d.jsx(vF,{initialProps:n,children:d.jsx(EF,{children:d.jsx(l$,{initialProps:n,children:d.jsx(RF,{initialProps:n,children:d.jsx(BF,{initialProps:n,children:d.jsx(YF,{children:d.jsx(a$,{children:t})})})})})})})}function A$(e){return d.jsx(C$,Tt({},e,{children:d.jsx(E$,{initialProps:e})}))}function L$({members:e,onAvailableDatesChange:t,groupName:n="Sin nombre"}){const r=`
    /* Estilos para el calendario */
    .rdp {
      transition: none !important;
    }
    
    /* Contenedor del calendario con altura fija para evitar saltos */
    .calendar-container {
      min-height: 380px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    /* Capa de carga */
    .calendar-loading-overlay {
      position: absolute;
      inset: 0;
      background-color: rgba(255, 255, 255, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      border-radius: 0.5rem;
    }
    
    /* Estilos para días seleccionados - con mayor especificidad para garantizar que se apliquen */
    .rdp-day_selected:not([disabled]), 
    .rdp-day_selected:hover:not([disabled]),
    .rdp-day_selected:focus:not([disabled]) { 
      font-weight: bold !important;
      box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.5) !important;
    }
    
    /* Separamos los estilos para que el fondo no afecte a la visualización de los puntos */
    .rdp-day_selected .day-content:not(.selected-day),
    .rdp-day_selected:hover .day-content:not(.selected-day),
    .rdp-day_selected:focus .day-content:not(.selected-day) {
      background-color: #4f46e5 !important;
    }
    
    /* Estilos para días con eventos externos */
    .has-external-events {
      position: relative;
    }
    
    .has-external-events::after {
      content: '';
      position: absolute;
      top: 1px;
      left: 1px;
      right: 1px;
      bottom: 1px;
      border: 2px dashed #f97316;
      border-radius: 4px;
      pointer-events: none;
      z-index: 1;
    }
    
    /* Aseguramos que los días seleccionados siempre tengan prioridad visual */
    .rdp-day_selected .has-external-events::after,
    .selected-day .has-external-events::after {
      border-color: white;
    }
    
    /* Mejoramos la visibilidad de los puntos de disponibilidad */
    .availability-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      margin: 1px;
    }
    
    .availability-dot.you {
      background-color: #4f46e5;
    }
    
    .availability-dot.others {
      background-color: #c7d2fe;
    }
  `,{id:i}=RS(),[s,a]=E.useState([]),[l,c]=E.useState(void 0),[h,p]=E.useState(!0),[m,w]=E.useState(!1),[g,N]=E.useState(null),[j,C]=E.useState(!1),[_,S]=E.useState([]),[L,R]=E.useState([]),[X,te]=E.useState([]),[W,O]=E.useState([]),{user:ee}=Is();E.useEffect(()=>{ee&&(ge(),z(),Q(),pe(),$())},[ee,i]);const ne=E.useMemo(()=>{console.log("🚀 SIMPLE: Calculando fechas por miembro...");const le=new Map;return s.forEach(ue=>{const me=new Set;ue.dates.forEach(Ee=>{me.add(on(Ee,"yyyy-MM-dd"))}),le.set(ue.userId,me),console.log(`${ue.memberName}: ${me.size} fechas marcadas`)}),console.log(`✅ Total miembros procesados: ${le.size}`),le},[s]),T=E.useMemo(()=>{console.log("📅 SIMPLE: Procesando eventos...");const le=new Map,ue=new Map;return L.forEach(me=>{le.has(me.user_id)||le.set(me.user_id,new Set),le.get(me.user_id).add(on(new Date(me.date),"yyyy-MM-dd"))}),W.forEach(me=>{ue.has(me.user_id)||ue.set(me.user_id,new Set),ue.get(me.user_id).add(on(new Date(me.date),"yyyy-MM-dd"))}),console.log(`✅ Eventos procesados - Grupo: ${le.size} usuarios, Externos: ${ue.size} usuarios`),{groupEvents:le,externalEvents:ue}},[L,W]),F=E.useCallback(le=>{const ue=on(le,"yyyy-MM-dd");return e.filter(me=>{var J,ze,Re;if(!me.user_id)return!1;const Ee=((J=ne.get(me.user_id))==null?void 0:J.has(ue))??!1,Me=((ze=T.groupEvents.get(me.user_id))==null?void 0:ze.has(ue))??!1,fe=((Re=T.externalEvents.get(me.user_id))==null?void 0:Re.has(ue))??!1;return Ee&&!Me&&!fe})},[e,ne,T]),V=E.useCallback(le=>{const ue=F(le),me=e.filter(fe=>fe.role_in_group==="principal"),Ee=ue.filter(fe=>fe.role_in_group==="sustituto"),Me=new Set;return me.forEach(fe=>{fe.instruments.forEach(J=>{Me.add(J.id)})}),Array.from(Me).every(fe=>ue.some(ze=>ze.role_in_group==="principal"&&ze.instruments.some(Re=>Re.id===fe))?!0:Ee.some(Re=>Re.instruments.some(Fe=>Fe.id===fe)))},[e,F]),Y=E.useMemo(()=>{if(!t)return[];console.log("🎯 SIMPLE: Calculando fechas disponibles del grupo (con sustitutos)...");const le=new Set;ne.forEach(Ee=>{Ee.forEach(Me=>le.add(Me))});const ue=e.filter(Ee=>Ee.role_in_group==="principal");if(ue.length===0)return[];const me=[];return le.forEach(Ee=>{const Me=new Date(Ee);if(V(Me)){me.push(Me);const fe=F(Me),J=fe.filter(Re=>Re.role_in_group==="principal"),ze=fe.filter(Re=>Re.role_in_group==="sustituto");console.log(`📅 ${Ee}: ✅ Disponible - Principales: ${J.length}/${ue.length}, Sustitutos: ${ze.length}`)}else{const fe=F(Me),J=fe.filter(Re=>Re.role_in_group==="principal"),ze=fe.filter(Re=>Re.role_in_group==="sustituto");console.log(`📅 ${Ee}: ❌ NO disponible - Principales: ${J.length}/${ue.length}, Sustitutos: ${ze.length} (instrumentos no cubiertos)`)}}),console.log(`✅ SIMPLE: ${me.length} fechas disponibles para el grupo (considerando sustitutos)`),me},[e,ne,F,t,V]);E.useEffect(()=>{t&&Y.length>=0&&(S(Y),t(Y))},[Y,t]),E.useEffect(()=>{t&&t(_)},[_,t]);const ge=E.useCallback(async()=>{const le=await $n(async()=>await Xe.from("users").select("role").eq("id",ee==null?void 0:ee.id).single(),"Error checking admin status");le&&C(le.role==="admin")},[ee==null?void 0:ee.id]),pe=async()=>{const le=await $n(async()=>await Xe.from("events").select(`
            id,
            date,
            name,
            group_id,
            event_members (
              user_id
            )
          `),"Error al obtener los eventos");if(le){const ue=[];le.forEach(me=>{var Ee;(Ee=me.event_members)==null||Ee.forEach(Me=>{ue.push({event_id:me.id,date:me.date,user_id:Me.user_id,name:me.name,group_id:me.group_id})})}),R(ue)}},Q=async()=>{const le=await $n(async()=>await Xe.from("events").select(`
            id,
            date,
            name,
            group_id
          `).eq("group_id",i),"Error fetching group events");if(le){const ue=le.map(me=>({event_id:me.id,date:me.date,user_id:"",name:me.name,group_id:me.group_id}));te(ue)}},$=async()=>{console.log("=== INICIO fetchMemberExternalEvents ==="),console.log("GroupId actual:",i);const le=await Xe.from("events").select(`
        id,
        date,
        group_id,
        name,
        event_members (
          user_id
        )
      `).neq("group_id",i);if(console.log("4. Query completa:",le.data),le.error){console.error("Error al obtener eventos externos:",le.error);return}const ue=le.data||[],me=[];ue.forEach(Ee=>{var Me;(Me=Ee.event_members)==null||Me.forEach(fe=>{me.push({user_id:fe.user_id,date:Ee.date})})}),O(me),console.log("Eventos externos formateados:",me),console.log("=== FIN fetchMemberExternalEvents ===")},z=async()=>{if(i){p(!0);try{const le=e.filter(me=>me.user_id!==null).map(me=>me.user_id),ue=await $n(async()=>await Xe.from("member_availability").select("user_id, date").in("user_id",le).order("date"),"Error fetching availabilities");if(ue){const me=e.filter(Ee=>Ee.user_id!==null).map(Ee=>({userId:Ee.user_id,memberName:Ee.name||"Unknown Member",dates:ue.filter(Me=>Me.user_id===Ee.user_id).map(Me=>new Date(Me.date)),instruments:Ee.instruments||[],roleInBand:Ee.role_in_group||"principal"}));a(me)}}catch(le){console.error("Error fetching availabilities:",le),Pe.error("Error al obtener las disponibilidades")}finally{p(!1)}}},oe=le=>X.filter(ue=>gr(new Date(ue.date),le)),Ae=()=>{const le=e.find(ue=>ue.user_id===(ee==null?void 0:ee.id));return j||(le==null?void 0:le.role_in_group)==="principal"},[P,G]=E.useState(!1),se=E.useRef(null),ce=async(le=!1)=>{try{const ue=window.scrollY;return le?G(!0):w(!0),await new Promise(me=>setTimeout(me,50)),await Promise.all([z(),pe(),Q(),$()]),window.scrollTo(0,ue),le||Pe.success("Calendario actualizado correctamente"),!0}catch(ue){return console.error("Error al actualizar datos del calendario:",ue),le||Pe.error("Error al actualizar el calendario"),!1}finally{setTimeout(()=>{le||w(!1),G(!1)},500)}},he=async le=>{var fe;if(console.log(`Fecha seleccionada: ${on(le,"dd/MM/yyyy")}`),!ee){Pe.error("Debes iniciar sesión para gestionar la disponibilidad");return}if(m)return;w(!0);const ue=e.find(J=>J.user_id===ee.id);if(!(j||(ue==null?void 0:ue.role_in_group)==="principal"||ee.id===(g??ee.id))){Pe.error("No tienes permisos para gestionar esta disponibilidad"),w(!1);return}const Ee=g??ee.id;if(L.some(J=>J.user_id===Ee&&gr(new Date(J.date),le))){Pe.error("No puedes cambiar tu disponibilidad en fechas con eventos programados"),w(!1);return}try{const J=e.find(Fe=>Fe.user_id===Ee);if(!J){Pe.error("Miembro no encontrado"),w(!1);return}const ze=(fe=s.find(Fe=>Fe.userId===J.user_id))==null?void 0:fe.dates.some(Fe=>gr(Fe,le)),Re=on(le,"yyyy-MM-dd");if(ze)try{const Fe=await Xe.from("member_availability").delete().eq("user_id",J.user_id).eq("date",Re);if(Fe.error){console.error("Error al eliminar disponibilidad:",Fe.error),Pe.error("Hubo un problema al guardar"),w(!1);return}c(le),Pe.success(`Fecha ${on(le,"dd/MM/yyyy")} eliminada de tu disponibilidad`),a(We=>We.map(be=>be.userId===J.user_id?{...be,dates:be.dates.filter(Ie=>!gr(Ie,le))}:be))}catch(Fe){console.error("Error inesperado al eliminar disponibilidad:",Fe),Pe.error("Ha ocurrido un error al procesar tu solicitud")}else try{const Fe=await Xe.from("member_availability").insert([{user_id:J.user_id,date:Re}]);if(Fe.error){console.error("Error al insertar disponibilidad:",Fe.error),Pe.error("Hubo un problema al guardar"),w(!1);return}c(le),Pe.success(`Fecha ${on(le,"dd/MM/yyyy")} añadida a tu disponibilidad`),a(We=>We.map(be=>be.userId===J.user_id?{...be,dates:[...be.dates,le]}:be))}catch(Fe){console.error("Error inesperado al añadir disponibilidad:",Fe),Pe.error("Ha ocurrido un error al procesar tu solicitud")}}catch(J){console.error("Error en handleDayClick:",J),Pe.error("Ha ocurrido un error al procesar tu solicitud")}finally{w(!1)}};function je(le){const ue=F(le),me=on(le,"yyyy-MM-dd"),Ee=e.filter(fe=>{var J;return fe.user_id&&((J=T.groupEvents.get(fe.user_id))==null?void 0:J.has(me))}),Me=[...ue];return Ee.forEach(fe=>{Me.find(J=>J.id===fe.id)||Me.push(fe)}),Me}const ke=le=>{var nt;const{date:ue}=le,me=on(ue,"yyyy-MM-dd"),Ee=je(ue),Me=F(ue),fe=g||(ee==null?void 0:ee.id),J=Ee.some(rt=>rt.user_id===fe),ze=fe&&((nt=T.externalEvents.get(fe))==null?void 0:nt.has(me))||!1,Re=Ee.filter(rt=>rt.user_id!==fe),Fe=Re.length,We=Re.filter(rt=>{var at;return rt.user_id&&((at=T.externalEvents.get(rt.user_id))==null?void 0:at.has(me))}).length,be=V(ue),Ie=oe(ue),Ke=Ie.length>0,Je=ze||We>0;return d.jsxs("div",{className:`day-content ${be?"group-available":""} ${Ke?"has-event":""} ${Je?"has-external-events":""} ${l&&gr(ue,l)?"selected-day":""}`,children:[d.jsx("span",{className:`${l&&gr(ue,l)?"text-indigo-900 font-bold":""}`,children:ue.getDate()}),(J||Fe>0||Ke)&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"availability-dots",children:[J&&d.jsx("div",{className:`availability-dot you ${ze?"border border-orange-500 bg-orange-200":""}`}),Re.slice(0,3).map((rt,at)=>{const St=W.some(ft=>ft.user_id===rt.user_id&&gr(new Date(ft.date),ue));return d.jsx("div",{className:`availability-dot others ${St?"border border-orange-500 bg-orange-200":""}`},at)})]}),d.jsxs("div",{className:"day-tooltip",children:[d.jsxs("div",{className:"text-sm font-medium text-gray-900 mb-2",children:[on(ue,"MMMM d, yyyy"),d.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[be&&d.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Grupo disponible"}),Ke&&d.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-0.5 rounded-full",children:Ie.length>1?`${Ie[0].name} y ${Ie.length-1} más`:Ie[0].name}),Je&&d.jsxs("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-0.5 rounded-full",children:[We+(ze?1:0)," miembro(s) con eventos externos"]})]})]}),Ee.length>0&&d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Miembros:"}),Ee.map(rt=>{var ft;const at=Me.some(Nt=>Nt.id===rt.id),St=rt.user_id&&((ft=T.externalEvents.get(rt.user_id))==null?void 0:ft.has(me))||!1;return d.jsx("div",{className:`tooltip-member ${rt.user_id===(g||(ee==null?void 0:ee.id))?"you":"other"}`,children:d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between w-full",children:[d.jsx("span",{className:"font-medium",children:rt.name}),d.jsxs("div",{className:"flex items-center gap-2",children:[rt.role_in_group==="sustituto"&&d.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-1.5 py-0.5 rounded-full",children:"Sustituto"}),at&&!St&&d.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-1.5 py-0.5 rounded-full",children:"Disponible"}),St&&d.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-1.5 py-0.5 rounded-full",children:"Con Evento"}),rt.user_id===(g||(ee==null?void 0:ee.id))&&d.jsx("span",{className:"text-xs bg-indigo-200 px-1.5 py-0.5 rounded-full",children:"Tú"})]})]}),rt.instruments.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:rt.instruments.map((Nt,et)=>d.jsxs("span",{className:"inline-flex items-center text-xs text-gray-600",children:[d.jsx($r,{className:"w-3 h-3 mr-1"}),Nt.name,et<rt.instruments.length-1&&", "]},`${rt.id}-${Nt.id}-${et}`))})]})},rt.id)})]})]})]})]})},re=()=>{const ue=Y.filter(J=>oe(J).length===0).sort((J,ze)=>J.getTime()-ze.getTime()).reduce((J,ze)=>{const Re=on(ze,"MMMM yyyy",{locale:Qd});J[Re]||(J[Re]={withPrincipals:[],withSubstitutes:[]});const Fe=je(ze);return e.filter(be=>be.role_in_group==="principal").filter(be=>!Fe.some(Ie=>Ie.user_id===be.user_id)).length===0?J[Re].withPrincipals.push(ze):J[Re].withSubstitutes.push(ze),J},{});let me=`FECHAS DISPONIBLES DEL GRUPO ${n.toUpperCase()}

`;Object.keys(ue).length===0?me+=`No hay fechas disponibles sin eventos programados.
`:Object.entries(ue).forEach(([J,ze])=>{me+=`${J.toUpperCase()}
`,ze.withPrincipals.length>0&&(me+=`Fechas con miembros principales:
`,me+=ze.withPrincipals.map(Re=>`${on(Re,"d(EEE)",{locale:Qd})}`).join(", "),me+=`

`),ze.withSubstitutes.length>0&&(me+=`Fechas con sustitutos:
`,me+=ze.withSubstitutes.map(Re=>`${on(Re,"d(EEE)",{locale:Qd})}`).join(", "),me+=`

`),me+=`
`});const Ee=new Blob([me],{type:"text/plain;charset=utf-8"}),Me=window.URL.createObjectURL(Ee),fe=document.createElement("a");fe.href=Me,fe.download=`disponibilidad_${n.toLowerCase().replace(/\s+/g,"_")}_${on(new Date,"dd-MM-yyyy")}.txt`,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),window.URL.revokeObjectURL(Me)};return h?d.jsx("div",{className:"flex justify-center items-center py-8",children:d.jsx(go,{className:"w-6 h-6 animate-spin text-indigo-600"})}):d.jsxs("div",{className:"space-y-6",children:[(j||Ae())&&e.length>0&&d.jsxs("div",{children:[d.jsx("label",{htmlFor:"member-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Gestionando disponibilidad para:"}),d.jsxs("div",{className:"relative w-full max-w-xs",children:[d.jsx("select",{id:"member-select",value:g||(ee==null?void 0:ee.id)||"",onChange:le=>N(le.target.value===(ee==null?void 0:ee.id)?null:le.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md shadow-sm",children:e.map(le=>d.jsxs("option",{value:le.user_id||"",children:[le.name," ",le.user_id===(ee==null?void 0:ee.id)?"(Tú)":""]},le.id))}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:d.jsx(KO,{className:"h-4 w-4"})})]})]}),d.jsx("style",{dangerouslySetInnerHTML:{__html:r}}),d.jsxs("div",{ref:se,className:"flex justify-center relative bg-white rounded-lg shadow-sm p-4 calendar-container",children:[d.jsxs("div",{className:`fixed top-0 left-0 w-screen h-screen flex items-center justify-center z-50 ${m||P?"opacity-100":"opacity-0 pointer-events-none"}`,style:{transition:"opacity 0.2s ease-in-out"},children:[d.jsx("div",{className:"absolute inset-0 bg-black/20"}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg z-10 flex items-center space-x-2",children:[d.jsx(go,{className:"w-6 h-6 animate-spin text-indigo-600"}),d.jsx("span",{children:"Actualizando calendario..."})]})]}),d.jsx(A$,{mode:"single",selected:l,onSelect:c,onDayClick:he,modifiersClassNames:{selected:"rdp-day_selected"},classNames:{day_selected:"font-bold hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500"},fromDate:new Date,components:{DayContent:ke},weekStartsOn:1,locale:Qd})]}),d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Calendario de Disponibilidad"}),d.jsxs("button",{onClick:le=>{le.preventDefault(),ce()},disabled:m,className:`px-3 py-1 text-sm ${m?"bg-gray-100 cursor-not-allowed":"bg-blue-100 hover:bg-blue-200"} rounded-md flex items-center`,children:[d.jsx("span",{className:"mr-1",children:m?"...":"↻"}),m?"Actualizando...":"Actualizar"]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[d.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Legend:"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full bg-indigo-600 shadow-sm"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Tu disponibilidad"})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full bg-indigo-200"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Other members"})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Grupo disponible"})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Event scheduled"})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-orange-500 bg-orange-200"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Con evento externo"})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full bg-indigo-400 text-white flex items-center justify-center text-xs font-bold",children:"✓"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Fecha seleccionada"})]})]})]}),d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("button",{onClick:re,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[d.jsx(H0,{className:"w-4 h-4 mr-2"}),"Descargar Fechas Disponibles del Grupo"]})})]})}async function p6(e,t){try{const{data:n,error:r}=await Xe.rpc("get_group_calendar",{p_group_id:e,p_member_id:t});if(r)throw r;if(!n)throw new Error("No se pudo generar el calendario");const i=n.endsWith(`\r
`)?n:n+`\r
`,s="calendar.ics",a=new Blob([i],{type:"text/calendar;charset=utf-8"}),l=new File([a],s,{type:"text/calendar;charset=utf-8"}),{error:c}=await Xe.storage.from("calendars").upload(`${e}/${t}/${s}`,l,{cacheControl:"0",upsert:!0,contentType:"text/calendar;charset=utf-8"});if(c)throw c;const{data:{publicUrl:h}}=Xe.storage.from("calendars").getPublicUrl(`${e}/${t}/${s}`),p=`${h}?v=${Date.now()}`,{error:m}=await Xe.from("group_members").update({calendar_url:p,calendar_updated_at:new Date().toISOString()}).eq("id",t);if(m)throw m}catch(n){throw console.error("Error updating calendar:",n),n}}function P$({members:e,selectedMembers:t,onMemberSelectionChange:n,validationError:r,groupId:i}){const s=t.filter(c=>{const h=e.find(p=>p.id===c.memberId);return(h==null?void 0:h.role_in_group)==="principal"}),a=t.filter(c=>{const h=e.find(p=>p.id===c.memberId);return(h==null?void 0:h.role_in_group)==="sustituto"}),l=(c,h)=>d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700",children:h}),c.map(p=>{const m=e.find(w=>w.id===p.memberId);return m?d.jsx("div",{className:`flex items-center justify-between p-2 rounded-lg transition-colors ${p.isAvailable?"bg-gray-50 hover:bg-gray-100":"bg-red-50"}`,children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"checkbox",checked:p.selected,onChange:w=>n(p.memberId,w.target.checked),className:`rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 ${!p.isAvailable&&!p.selected?"opacity-50":""}`,disabled:!p.isAvailable&&!p.selected}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-medium text-gray-900",children:m.name}),!p.isAvailable&&d.jsxs("span",{className:"inline-flex items-center text-xs text-red-700 bg-red-100 px-2 py-0.5 rounded-full",children:[d.jsx(r3,{className:"w-3 h-3 mr-1"}),"No disponible"]})]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[d.jsx($r,{className:"w-3 h-3 mr-1"}),m.instruments.map(w=>w.name).join(", ")]})]})]})},p.memberId):null})]});return d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Miembros"}),d.jsxs("div",{className:"space-y-6",children:[l(s,"Miembros Principales"),a.length>0&&l(a,"Sustitutos")]}),r&&d.jsxs("div",{className:"mt-2 text-sm text-red-600 bg-red-50 p-3 rounded-lg flex items-start",children:[d.jsx(r3,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),d.jsx("p",{children:"Por favor, asegúrate de que todos los instrumentos estén cubiertos por los miembros seleccionados. Si un miembro principal no está disponible, debes seleccionar un sustituto que cubra sus instrumentos."})]})]})}var X0={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */X0.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",m=1,w=2,g=4,N=1,j=2,C=1,_=2,S=4,L=8,R=16,X=32,te=64,W=128,O=256,ee=512,ne=30,T="...",F=800,V=16,Y=1,ge=2,pe=3,Q=1/0,$=9007199254740991,z=17976931348623157e292,oe=NaN,Ae=4294967295,P=Ae-1,G=Ae>>>1,se=[["ary",W],["bind",C],["bindKey",_],["curry",L],["curryRight",R],["flip",ee],["partial",X],["partialRight",te],["rearg",O]],ce="[object Arguments]",he="[object Array]",je="[object AsyncFunction]",ke="[object Boolean]",re="[object Date]",le="[object DOMException]",ue="[object Error]",me="[object Function]",Ee="[object GeneratorFunction]",Me="[object Map]",fe="[object Number]",J="[object Null]",ze="[object Object]",Re="[object Promise]",Fe="[object Proxy]",We="[object RegExp]",be="[object Set]",Ie="[object String]",Ke="[object Symbol]",Je="[object Undefined]",nt="[object WeakMap]",rt="[object WeakSet]",at="[object ArrayBuffer]",St="[object DataView]",ft="[object Float32Array]",Nt="[object Float64Array]",et="[object Int8Array]",bn="[object Int16Array]",Bt="[object Int32Array]",Pr="[object Uint8Array]",Qt="[object Uint8ClampedArray]",pn="[object Uint16Array]",ai="[object Uint32Array]",Zt=/\b__p \+= '';/g,aa=/\b(__p \+=) '' \+/g,Mn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oi=/&(?:amp|lt|gt|quot|#39);/g,_n=/[&<>"']/g,Gt=RegExp(oi.source),wt=RegExp(_n.source),Ut=/<%-([\s\S]+?)%>/g,ur=/<%([\s\S]+?)%>/g,rn=/<%=([\s\S]+?)%>/g,tr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tr=/^\w*$/,ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gn=/[\\^$.*+?()[\]{}|]/g,nr=RegExp(Gn.source),kn=/^\s+/,Pn=/\s/,En=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yn=/\{\n\/\* \[wrapped with (.+)\] \*/,Ui=/,? & /,ji=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ps=/[()=,{}\[\]\/\s]/,ms=/\\(\\)?/g,gs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vs=/\w*$/,zi=/^[-+]0x[0-9a-f]+$/i,Rs=/^0b[01]+$/i,So=/^\[object .+?Constructor\]$/,ll=/^0o[0-7]+$/i,cl=/^(?:0|[1-9]\d*)$/,ul=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oa=/($^)/,Yu=/['\n\r\u2028\u2029\\]/g,dl="\\ud800-\\udfff",Mf="\\u0300-\\u036f",fl="\\ufe20-\\ufe2f",Ku="\\u20d0-\\u20ff",Ju=Mf+fl+Ku,hl="\\u2700-\\u27bf",Xu="a-z\\xdf-\\xf6\\xf8-\\xff",Qu="\\xac\\xb1\\xd7\\xf7",If="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pl="\\u2000-\\u206f",Rf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kn="A-Z\\xc0-\\xd6\\xd8-\\xde",$c="\\ufe0e\\ufe0f",Bc=Qu+If+pl+Rf,ml="['’]",Uc="["+dl+"]",Zu="["+Bc+"]",li="["+Ju+"]",No="\\d+",ci="["+hl+"]",gl="["+Xu+"]",zc="[^"+dl+Bc+No+hl+Xu+Kn+"]",qc="\\ud83c[\\udffb-\\udfff]",ed="(?:"+li+"|"+qc+")",td="[^"+dl+"]",vl="(?:\\ud83c[\\udde6-\\uddff]){2}",Wc="[\\ud800-\\udbff][\\udc00-\\udfff]",Fs="["+Kn+"]",nd="\\u200d",rd="(?:"+gl+"|"+zc+")",Ff="(?:"+Fs+"|"+zc+")",$s="(?:"+ml+"(?:d|ll|m|re|s|t|ve))?",jo="(?:"+ml+"(?:D|LL|M|RE|S|T|VE))?",ko=ed+"?",Hc="["+$c+"]?",Br="(?:"+nd+"(?:"+[td,vl,Wc].join("|")+")"+Hc+ko+")*",$f="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",id="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Lt=Hc+ko+Br,Bf="(?:"+[ci,vl,Wc].join("|")+")"+Lt,Uf="(?:"+[td+li+"?",li,vl,Wc,Uc].join("|")+")",Bs=RegExp(ml,"g"),sd=RegExp(li,"g"),yl=RegExp(qc+"(?="+qc+")|"+Uf+Lt,"g"),wl=RegExp([Fs+"?"+gl+"+"+$s+"(?="+[Zu,Fs,"$"].join("|")+")",Ff+"+"+jo+"(?="+[Zu,Fs+rd,"$"].join("|")+")",Fs+"?"+rd+"+"+$s,Fs+"+"+jo,id,$f,No,Bf].join("|"),"g"),Vc=RegExp("["+nd+dl+Ju+$c+"]"),zf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wf=-1,mn={};mn[ft]=mn[Nt]=mn[et]=mn[bn]=mn[Bt]=mn[Pr]=mn[Qt]=mn[pn]=mn[ai]=!0,mn[ce]=mn[he]=mn[at]=mn[ke]=mn[St]=mn[re]=mn[ue]=mn[me]=mn[Me]=mn[fe]=mn[ze]=mn[We]=mn[be]=mn[Ie]=mn[nt]=!1;var sn={};sn[ce]=sn[he]=sn[at]=sn[St]=sn[ke]=sn[re]=sn[ft]=sn[Nt]=sn[et]=sn[bn]=sn[Bt]=sn[Me]=sn[fe]=sn[ze]=sn[We]=sn[be]=sn[Ie]=sn[Ke]=sn[Pr]=sn[Qt]=sn[pn]=sn[ai]=!0,sn[ue]=sn[me]=sn[nt]=!1;var Ba={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Hf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Eo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Gc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xl=parseFloat,ad=parseInt,Yc=typeof ri=="object"&&ri&&ri.Object===Object&&ri,od=typeof self=="object"&&self&&self.Object===Object&&self,dr=Yc||od||Function("return this")(),qi=t&&!t.nodeType&&t,Jr=qi&&!0&&e&&!e.nodeType&&e,ld=Jr&&Jr.exports===qi,Us=ld&&Yc.process,Jn=function(){try{var Se=Jr&&Jr.require&&Jr.require("util").types;return Se||Us&&Us.binding&&Us.binding("util")}catch{}}(),bl=Jn&&Jn.isArrayBuffer,Ua=Jn&&Jn.isDate,cd=Jn&&Jn.isMap,Co=Jn&&Jn.isRegExp,ud=Jn&&Jn.isSet,_l=Jn&&Jn.isTypedArray;function Dr(Se,Ue,Te){switch(Te.length){case 0:return Se.call(Ue);case 1:return Se.call(Ue,Te[0]);case 2:return Se.call(Ue,Te[0],Te[1]);case 3:return Se.call(Ue,Te[0],Te[1],Te[2])}return Se.apply(Ue,Te)}function dd(Se,Ue,Te,dt){for(var xt=-1,It=Se==null?0:Se.length;++xt<It;){var Rn=Se[xt];Ue(dt,Rn,Te(Rn),Se)}return dt}function Or(Se,Ue){for(var Te=-1,dt=Se==null?0:Se.length;++Te<dt&&Ue(Se[Te],Te,Se)!==!1;);return Se}function Kc(Se,Ue){for(var Te=Se==null?0:Se.length;Te--&&Ue(Se[Te],Te,Se)!==!1;);return Se}function Sl(Se,Ue){for(var Te=-1,dt=Se==null?0:Se.length;++Te<dt;)if(!Ue(Se[Te],Te,Se))return!1;return!0}function ys(Se,Ue){for(var Te=-1,dt=Se==null?0:Se.length,xt=0,It=[];++Te<dt;){var Rn=Se[Te];Ue(Rn,Te,Se)&&(It[xt++]=Rn)}return It}function Nl(Se,Ue){var Te=Se==null?0:Se.length;return!!Te&&Qe(Se,Ue,0)>-1}function za(Se,Ue,Te){for(var dt=-1,xt=Se==null?0:Se.length;++dt<xt;)if(Te(Ue,Se[dt]))return!0;return!1}function un(Se,Ue){for(var Te=-1,dt=Se==null?0:Se.length,xt=Array(dt);++Te<dt;)xt[Te]=Ue(Se[Te],Te,Se);return xt}function Wi(Se,Ue){for(var Te=-1,dt=Ue.length,xt=Se.length;++Te<dt;)Se[xt+Te]=Ue[Te];return Se}function zs(Se,Ue,Te,dt){var xt=-1,It=Se==null?0:Se.length;for(dt&&It&&(Te=Se[++xt]);++xt<It;)Te=Ue(Te,Se[xt],xt,Se);return Te}function Jc(Se,Ue,Te,dt){var xt=Se==null?0:Se.length;for(dt&&xt&&(Te=Se[--xt]);xt--;)Te=Ue(Te,Se[xt],xt,Se);return Te}function x(Se,Ue){for(var Te=-1,dt=Se==null?0:Se.length;++Te<dt;)if(Ue(Se[Te],Te,Se))return!0;return!1}var M=Pt("length");function ae(Se){return Se.split("")}function ve(Se){return Se.match(ji)||[]}function Le(Se,Ue,Te){var dt;return Te(Se,function(xt,It,Rn){if(Ue(xt,It,Rn))return dt=It,!1}),dt}function Be(Se,Ue,Te,dt){for(var xt=Se.length,It=Te+(dt?1:-1);dt?It--:++It<xt;)if(Ue(Se[It],It,Se))return It;return-1}function Qe(Se,Ue,Te){return Ue===Ue?Gi(Se,Ue,Te):Be(Se,_t,Te)}function ut(Se,Ue,Te,dt){for(var xt=Te-1,It=Se.length;++xt<It;)if(dt(Se[xt],Ue))return xt;return-1}function _t(Se){return Se!==Se}function Ot(Se,Ue){var Te=Se==null?0:Se.length;return Te?Qn(Se,Ue)/Te:oe}function Pt(Se){return function(Ue){return Ue==null?n:Ue[Se]}}function Yt(Se){return function(Ue){return Se==null?n:Se[Ue]}}function In(Se,Ue,Te,dt,xt){return xt(Se,function(It,Rn,dn){Te=dt?(dt=!1,It):Ue(Te,It,Rn,dn)}),Te}function Xn(Se,Ue){var Te=Se.length;for(Se.sort(Ue);Te--;)Se[Te]=Se[Te].value;return Se}function Qn(Se,Ue){for(var Te,dt=-1,xt=Se.length;++dt<xt;){var It=Ue(Se[dt]);It!==n&&(Te=Te===n?It:Te+It)}return Te}function kr(Se,Ue){for(var Te=-1,dt=Array(Se);++Te<Se;)dt[Te]=Ue(Te);return dt}function Er(Se,Ue){return un(Ue,function(Te){return[Te,Se[Te]]})}function Hi(Se){return Se&&Se.slice(0,ca(Se)+1).replace(kn,"")}function Tn(Se){return function(Ue){return Se(Ue)}}function Vi(Se,Ue){return un(Ue,function(Te){return Se[Te]})}function qa(Se,Ue){return Se.has(Ue)}function jl(Se,Ue){for(var Te=-1,dt=Se.length;++Te<dt&&Qe(Ue,Se[Te],0)>-1;);return Te}function kl(Se,Ue){for(var Te=Se.length;Te--&&Qe(Ue,Se[Te],0)>-1;);return Te}function El(Se,Ue){for(var Te=Se.length,dt=0;Te--;)Se[Te]===Ue&&++dt;return dt}var Xc=Yt(Ba),Qc=Yt(Hf);function Cl(Se){return"\\"+Gc[Se]}function Mr(Se,Ue){return Se==null?n:Se[Ue]}function ws(Se){return Vc.test(Se)}function Al(Se){return zf.test(Se)}function Ll(Se){for(var Ue,Te=[];!(Ue=Se.next()).done;)Te.push(Ue.value);return Te}function Ao(Se){var Ue=-1,Te=Array(Se.size);return Se.forEach(function(dt,xt){Te[++Ue]=[xt,dt]}),Te}function Xr(Se,Ue){return function(Te){return Se(Ue(Te))}}function qs(Se,Ue){for(var Te=-1,dt=Se.length,xt=0,It=[];++Te<dt;){var Rn=Se[Te];(Rn===Ue||Rn===p)&&(Se[Te]=p,It[xt++]=Te)}return It}function Wa(Se){var Ue=-1,Te=Array(Se.size);return Se.forEach(function(dt){Te[++Ue]=dt}),Te}function fd(Se){var Ue=-1,Te=Array(Se.size);return Se.forEach(function(dt){Te[++Ue]=[dt,dt]}),Te}function Gi(Se,Ue,Te){for(var dt=Te-1,xt=Se.length;++dt<xt;)if(Se[dt]===Ue)return dt;return-1}function Pl(Se,Ue,Te){for(var dt=Te+1;dt--;)if(Se[dt]===Ue)return dt;return dt}function la(Se){return ws(Se)?di(Se):M(Se)}function ui(Se){return ws(Se)?Qr(Se):ae(Se)}function ca(Se){for(var Ue=Se.length;Ue--&&Pn.test(Se.charAt(Ue)););return Ue}var Lo=Yt(Eo);function di(Se){for(var Ue=yl.lastIndex=0;yl.test(Se);)++Ue;return Ue}function Qr(Se){return Se.match(yl)||[]}function Ha(Se){return Se.match(wl)||[]}var ua=function Se(Ue){Ue=Ue==null?dr:fi.defaults(dr.Object(),Ue,fi.pick(dr,qf));var Te=Ue.Array,dt=Ue.Date,xt=Ue.Error,It=Ue.Function,Rn=Ue.Math,dn=Ue.Object,Po=Ue.RegExp,To=Ue.String,Cr=Ue.TypeError,xs=Te.prototype,Do=It.prototype,bs=dn.prototype,Ws=Ue["__core-js_shared__"],_s=Do.toString,en=bs.hasOwnProperty,Yi=0,ki=function(){var o=/[^.]+$/.exec(Ws&&Ws.keys&&Ws.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),gn=bs.toString,Cn=_s.call(dn),rr=dr._,vr=Po("^"+_s.call(en).replace(Gn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ki=ld?Ue.Buffer:n,Ji=Ue.Symbol,da=Ue.Uint8Array,Zc=Ki?Ki.allocUnsafe:n,Tl=Xr(dn.getPrototypeOf,dn),eu=dn.create,hi=bs.propertyIsEnumerable,Zr=xs.splice,tu=Ji?Ji.isConcatSpreadable:n,Va=Ji?Ji.iterator:n,Ga=Ji?Ji.toStringTag:n,Oo=function(){try{var o=uu(dn,"defineProperty");return o({},"",{}),o}catch{}}(),hd=Ue.clearTimeout!==dr.clearTimeout&&Ue.clearTimeout,Vf=dt&&dt.now!==dr.Date.now&&dt.now,Ip=Ue.setTimeout!==dr.setTimeout&&Ue.setTimeout,Dl=Rn.ceil,Ol=Rn.floor,Ml=dn.getOwnPropertySymbols,Gf=Ki?Ki.isBuffer:n,Rp=Ue.isFinite,Xg=xs.join,Fp=Xr(dn.keys,dn),yr=Rn.max,Ur=Rn.min,Qg=dt.now,Zg=Ue.parseInt,$p=Rn.random,Yf=xs.reverse,nu=uu(Ue,"DataView"),fa=uu(Ue,"Map"),Kf=uu(Ue,"Promise"),Il=uu(Ue,"Set"),Rl=uu(Ue,"WeakMap"),ru=uu(dn,"create"),pd=Rl&&new Rl,Fl={},e1=du(nu),Ya=du(fa),Ss=du(Kf),ha=du(Il),t1=du(Rl),iu=Ji?Ji.prototype:n,Xi=iu?iu.valueOf:n,Ei=iu?iu.toString:n;function H(o){if(hr(o)&&!Ft(o)&&!(o instanceof Wt)){if(o instanceof Ci)return o;if(en.call(o,"__wrapped__"))return Iw(o)}return new Ci(o)}var $l=function(){function o(){}return function(u){if(!sr(u))return{};if(eu)return eu(u);o.prototype=u;var y=new o;return o.prototype=n,y}}();function su(){}function Ci(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}H.templateSettings={escape:Ut,evaluate:ur,interpolate:rn,variable:"",imports:{_:H}},H.prototype=su.prototype,H.prototype.constructor=H,Ci.prototype=$l(su.prototype),Ci.prototype.constructor=Ci;function Wt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ae,this.__views__=[]}function Bp(){var o=new Wt(this.__wrapped__);return o.__actions__=Zi(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Zi(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Zi(this.__views__),o}function n1(){if(this.__filtered__){var o=new Wt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function md(){var o=this.__wrapped__.value(),u=this.__dir__,y=Ft(o),k=u<0,I=y?o.length:0,Z=wj(0,I,this.__views__),de=Z.start,ye=Z.end,Ce=ye-de,Ge=k?ye:de-1,Ye=this.__iteratees__,tt=Ye.length,lt=0,bt=Ur(Ce,this.__takeCount__);if(!y||!k&&I==Ce&&bt==Ce)return cu(o,this.__actions__);var kt=[];e:for(;Ce--&&lt<bt;){Ge+=u;for(var qt=-1,Et=o[Ge];++qt<tt;){var Jt=Ye[qt],tn=Jt.iteratee,ks=Jt.type,Di=tn(Et);if(ks==ge)Et=Di;else if(!Di){if(ks==Y)continue e;break e}}kt[lt++]=Et}return kt}Wt.prototype=$l(su.prototype),Wt.prototype.constructor=Wt;function Hs(o){var u=-1,y=o==null?0:o.length;for(this.clear();++u<y;){var k=o[u];this.set(k[0],k[1])}}function au(){this.__data__=ru?ru(null):{},this.size=0}function Jf(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u}function Up(o){var u=this.__data__;if(ru){var y=u[o];return y===c?n:y}return en.call(u,o)?u[o]:n}function r1(o){var u=this.__data__;return ru?u[o]!==n:en.call(u,o)}function zp(o,u){var y=this.__data__;return this.size+=this.has(o)?0:1,y[o]=ru&&u===n?c:u,this}Hs.prototype.clear=au,Hs.prototype.delete=Jf,Hs.prototype.get=Up,Hs.prototype.has=r1,Hs.prototype.set=zp;function pa(o){var u=-1,y=o==null?0:o.length;for(this.clear();++u<y;){var k=o[u];this.set(k[0],k[1])}}function i1(){this.__data__=[],this.size=0}function s1(o){var u=this.__data__,y=we(u,o);if(y<0)return!1;var k=u.length-1;return y==k?u.pop():Zr.call(u,y,1),--this.size,!0}function a1(o){var u=this.__data__,y=we(u,o);return y<0?n:u[y][1]}function o1(o){return we(this.__data__,o)>-1}function l1(o,u){var y=this.__data__,k=we(y,o);return k<0?(++this.size,y.push([o,u])):y[k][1]=u,this}pa.prototype.clear=i1,pa.prototype.delete=s1,pa.prototype.get=a1,pa.prototype.has=o1,pa.prototype.set=l1;function Vs(o){var u=-1,y=o==null?0:o.length;for(this.clear();++u<y;){var k=o[u];this.set(k[0],k[1])}}function gd(){this.size=0,this.__data__={hash:new Hs,map:new(fa||pa),string:new Hs}}function c1(o){var u=am(this,o).delete(o);return this.size-=u?1:0,u}function u1(o){return am(this,o).get(o)}function qp(o){return am(this,o).has(o)}function f(o,u){var y=am(this,o),k=y.size;return y.set(o,u),this.size+=y.size==k?0:1,this}Vs.prototype.clear=gd,Vs.prototype.delete=c1,Vs.prototype.get=u1,Vs.prototype.has=qp,Vs.prototype.set=f;function v(o){var u=-1,y=o==null?0:o.length;for(this.__data__=new Vs;++u<y;)this.add(o[u])}function b(o){return this.__data__.set(o,c),this}function A(o){return this.__data__.has(o)}v.prototype.add=v.prototype.push=b,v.prototype.has=A;function D(o){var u=this.__data__=new pa(o);this.size=u.size}function B(){this.__data__=new pa,this.size=0}function U(o){var u=this.__data__,y=u.delete(o);return this.size=u.size,y}function q(o){return this.__data__.get(o)}function K(o){return this.__data__.has(o)}function ie(o,u){var y=this.__data__;if(y instanceof pa){var k=y.__data__;if(!fa||k.length<i-1)return k.push([o,u]),this.size=++y.size,this;y=this.__data__=new Vs(k)}return y.set(o,u),this.size=y.size,this}D.prototype.clear=B,D.prototype.delete=U,D.prototype.get=q,D.prototype.has=K,D.prototype.set=ie;function xe(o,u){var y=Ft(o),k=!y&&fu(o),I=!y&&!k&&Jl(o),Z=!y&&!k&&!I&&Ad(o),de=y||k||I||Z,ye=de?kr(o.length,To):[],Ce=ye.length;for(var Ge in o)(u||en.call(o,Ge))&&!(de&&(Ge=="length"||I&&(Ge=="offset"||Ge=="parent")||Z&&(Ge=="buffer"||Ge=="byteLength"||Ge=="byteOffset")||Bo(Ge,Ce)))&&ye.push(Ge);return ye}function De(o){var u=o.length;return u?o[Hl(0,u-1)]:n}function Oe(o,u){return om(Zi(o),st(u,0,o.length))}function Ne(o){return om(Zi(o))}function Ve(o,u,y){(y!==n&&!ya(o[u],y)||y===n&&!(u in o))&&qe(o,u,y)}function $e(o,u,y){var k=o[u];(!(en.call(o,u)&&ya(k,y))||y===n&&!(u in o))&&qe(o,u,y)}function we(o,u){for(var y=o.length;y--;)if(ya(o[y][0],u))return y;return-1}function _e(o,u,y,k){return Mt(o,function(I,Z,de){u(k,I,y(I),de)}),k}function He(o,u){return o&&no(u,Wr(u),o)}function Ze(o,u){return o&&no(u,ts(u),o)}function qe(o,u,y){u=="__proto__"&&Oo?Oo(o,u,{configurable:!0,enumerable:!0,value:y,writable:!0}):o[u]=y}function ct(o,u){for(var y=-1,k=u.length,I=Te(k),Z=o==null;++y<k;)I[y]=Z?n:T1(o,u[y]);return I}function st(o,u,y){return o===o&&(y!==n&&(o=o<=y?o:y),u!==n&&(o=o>=u?o:u)),o}function gt(o,u,y,k,I,Z){var de,ye=u&m,Ce=u&w,Ge=u&g;if(y&&(de=I?y(o,k,I,Z):y(o)),de!==n)return de;if(!sr(o))return o;var Ye=Ft(o);if(Ye){if(de=bj(o),!ye)return Zi(o,de)}else{var tt=pi(o),lt=tt==me||tt==Ee;if(Jl(o))return jd(o,ye);if(tt==ze||tt==ce||lt&&!I){if(de=Ce||lt?{}:Ew(o),!ye)return Ce?uj(o,Ze(de,o)):cj(o,He(de,o))}else{if(!sn[tt])return I?o:{};de=_j(o,tt,ye)}}Z||(Z=new D);var bt=Z.get(o);if(bt)return bt;Z.set(o,de),nx(o)?o.forEach(function(Et){de.add(gt(Et,u,y,Et,o,Z))}):ex(o)&&o.forEach(function(Et,Jt){de.set(Jt,gt(Et,u,y,Jt,o,Z))});var kt=Ge?Ce?y1:v1:Ce?ts:Wr,qt=Ye?n:kt(o);return Or(qt||o,function(Et,Jt){qt&&(Jt=Et,Et=o[Jt]),$e(de,Jt,gt(Et,u,y,Jt,o,Z))}),de}function ot(o){var u=Wr(o);return function(y){return an(y,o,u)}}function an(o,u,y){var k=y.length;if(o==null)return!k;for(o=dn(o);k--;){var I=y[k],Z=u[I],de=o[I];if(de===n&&!(I in o)||!Z(de))return!1}return!0}function fn(o,u,y){if(typeof o!="function")throw new Cr(a);return ah(function(){o.apply(n,y)},u)}function Ht(o,u,y,k){var I=-1,Z=Nl,de=!0,ye=o.length,Ce=[],Ge=u.length;if(!ye)return Ce;y&&(u=un(u,Tn(y))),k?(Z=za,de=!1):u.length>=i&&(Z=qa,de=!1,u=new v(u));e:for(;++I<ye;){var Ye=o[I],tt=y==null?Ye:y(Ye);if(Ye=k||Ye!==0?Ye:0,de&&tt===tt){for(var lt=Ge;lt--;)if(u[lt]===tt)continue e;Ce.push(Ye)}else Z(u,tt,k)||Ce.push(Ye)}return Ce}var Mt=hw(Zn),yn=hw(ti,!0);function wn(o,u){var y=!0;return Mt(o,function(k,I,Z){return y=!!u(k,I,Z),y}),y}function Dt(o,u,y){for(var k=-1,I=o.length;++k<I;){var Z=o[k],de=u(Z);if(de!=null&&(ye===n?de===de&&!js(de):y(de,ye)))var ye=de,Ce=Z}return Ce}function fr(o,u,y,k){var I=o.length;for(y=zt(y),y<0&&(y=-y>I?0:I+y),k=k===n||k>I?I:zt(k),k<0&&(k+=I),k=y>k?0:ix(k);y<k;)o[y++]=u;return o}function ei(o,u){var y=[];return Mt(o,function(k,I,Z){u(k,I,Z)&&y.push(k)}),y}function Kt(o,u,y,k,I){var Z=-1,de=o.length;for(y||(y=Nj),I||(I=[]);++Z<de;){var ye=o[Z];u>0&&y(ye)?u>1?Kt(ye,u-1,y,k,I):Wi(I,ye):k||(I[I.length]=ye)}return I}var zr=pw(),hn=pw(!0);function Zn(o,u){return o&&zr(o,u,Wr)}function ti(o,u){return o&&hn(o,u,Wr)}function ir(o,u){return ys(u,function(y){return Uo(o[y])})}function zn(o,u){u=Ys(u,o);for(var y=0,k=u.length;o!=null&&y<k;)o=o[ro(u[y++])];return y&&y==k?o:n}function qr(o,u,y){var k=u(o);return Ft(o)?k:Wi(k,y(o))}function An(o){return o==null?o===n?Je:J:Ga&&Ga in dn(o)?yj(o):Pj(o)}function Qi(o,u){return o>u}function Ar(o,u){return o!=null&&en.call(o,u)}function ma(o,u){return o!=null&&u in dn(o)}function Mo(o,u,y){return o>=Ur(u,y)&&o<yr(u,y)}function Ka(o,u,y){for(var k=y?za:Nl,I=o[0].length,Z=o.length,de=Z,ye=Te(Z),Ce=1/0,Ge=[];de--;){var Ye=o[de];de&&u&&(Ye=un(Ye,Tn(u))),Ce=Ur(Ye.length,Ce),ye[de]=!y&&(u||I>=120&&Ye.length>=120)?new v(de&&Ye):n}Ye=o[0];var tt=-1,lt=ye[0];e:for(;++tt<I&&Ge.length<Ce;){var bt=Ye[tt],kt=u?u(bt):bt;if(bt=y||bt!==0?bt:0,!(lt?qa(lt,kt):k(Ge,kt,y))){for(de=Z;--de;){var qt=ye[de];if(!(qt?qa(qt,kt):k(o[de],kt,y)))continue e}lt&&lt.push(kt),Ge.push(bt)}}return Ge}function Ja(o,u,y,k){return Zn(o,function(I,Z,de){u(k,y(I),Z,de)}),k}function Ln(o,u,y){u=Ys(u,o),o=Pw(o,u);var k=o==null?o:o[ro(Ks(u))];return k==null?n:Dr(k,o,y)}function vd(o){return hr(o)&&An(o)==ce}function Wp(o){return hr(o)&&An(o)==at}function Hp(o){return hr(o)&&An(o)==re}function Xa(o,u,y,k,I){return o===u?!0:o==null||u==null||!hr(o)&&!hr(u)?o!==o&&u!==u:ou(o,u,y,k,Xa,I)}function ou(o,u,y,k,I,Z){var de=Ft(o),ye=Ft(u),Ce=de?he:pi(o),Ge=ye?he:pi(u);Ce=Ce==ce?ze:Ce,Ge=Ge==ce?ze:Ge;var Ye=Ce==ze,tt=Ge==ze,lt=Ce==Ge;if(lt&&Jl(o)){if(!Jl(u))return!1;de=!0,Ye=!1}if(lt&&!Ye)return Z||(Z=new D),de||Ad(o)?Nw(o,u,y,k,I,Z):gj(o,u,Ce,y,k,I,Z);if(!(y&N)){var bt=Ye&&en.call(o,"__wrapped__"),kt=tt&&en.call(u,"__wrapped__");if(bt||kt){var qt=bt?o.value():o,Et=kt?u.value():u;return Z||(Z=new D),I(qt,Et,y,k,Z)}}return lt?(Z||(Z=new D),vj(o,u,y,k,I,Z)):!1}function yd(o){return hr(o)&&pi(o)==Me}function Ai(o,u,y,k){var I=y.length,Z=I,de=!k;if(o==null)return!Z;for(o=dn(o);I--;){var ye=y[I];if(de&&ye[2]?ye[1]!==o[ye[0]]:!(ye[0]in o))return!1}for(;++I<Z;){ye=y[I];var Ce=ye[0],Ge=o[Ce],Ye=ye[1];if(de&&ye[2]){if(Ge===n&&!(Ce in o))return!1}else{var tt=new D;if(k)var lt=k(Ge,Ye,Ce,o,u,tt);if(!(lt===n?Xa(Ye,Ge,N|j,k,tt):lt))return!1}}return!0}function Io(o){if(!sr(o)||kj(o))return!1;var u=Uo(o)?vr:So;return u.test(du(o))}function Bl(o){return hr(o)&&An(o)==We}function Vp(o){return hr(o)&&pi(o)==be}function wd(o){return hr(o)&&hm(o.length)&&!!mn[An(o)]}function Xf(o){return typeof o=="function"?o:o==null?ns:typeof o=="object"?Ft(o)?Yp(o[0],o[1]):Gp(o):mx(o)}function Ul(o){if(!sh(o))return Fp(o);var u=[];for(var y in dn(o))en.call(o,y)&&y!="constructor"&&u.push(y);return u}function Qf(o){if(!sr(o))return Lj(o);var u=sh(o),y=[];for(var k in o)k=="constructor"&&(u||!en.call(o,k))||y.push(k);return y}function zl(o,u){return o<u}function ql(o,u){var y=-1,k=es(o)?Te(o.length):[];return Mt(o,function(I,Z,de){k[++y]=u(I,Z,de)}),k}function Gp(o){var u=x1(o);return u.length==1&&u[0][2]?Aw(u[0][0],u[0][1]):function(y){return y===o||Ai(y,o,u)}}function Yp(o,u){return _1(o)&&Cw(u)?Aw(ro(o),u):function(y){var k=T1(y,o);return k===n&&k===u?D1(y,o):Xa(u,k,N|j)}}function Wl(o,u,y,k,I){o!==u&&zr(u,function(Z,de){if(I||(I=new D),sr(Z))Qa(o,u,de,y,Wl,k,I);else{var ye=k?k(N1(o,de),Z,de+"",o,u,I):n;ye===n&&(ye=Z),Ve(o,de,ye)}},ts)}function Qa(o,u,y,k,I,Z,de){var ye=N1(o,y),Ce=N1(u,y),Ge=de.get(Ce);if(Ge){Ve(o,y,Ge);return}var Ye=Z?Z(ye,Ce,y+"",o,u,de):n,tt=Ye===n;if(tt){var lt=Ft(Ce),bt=!lt&&Jl(Ce),kt=!lt&&!bt&&Ad(Ce);Ye=Ce,lt||bt||kt?Ft(ye)?Ye=ye:wr(ye)?Ye=Zi(ye):bt?(tt=!1,Ye=jd(Ce,!0)):kt?(tt=!1,Ye=cw(Ce,!0)):Ye=[]:oh(Ce)||fu(Ce)?(Ye=ye,fu(ye)?Ye=sx(ye):(!sr(ye)||Uo(ye))&&(Ye=Ew(Ce))):tt=!1}tt&&(de.set(Ce,Ye),I(Ye,Ce,k,Z,de),de.delete(Ce)),Ve(o,y,Ye)}function Kp(o,u){var y=o.length;if(y)return u+=u<0?y:0,Bo(u,y)?o[u]:n}function Jp(o,u,y){u.length?u=un(u,function(Z){return Ft(Z)?function(de){return zn(de,Z.length===1?Z[0]:Z)}:Z}):u=[ns];var k=-1;u=un(u,Tn(jt()));var I=ql(o,function(Z,de,ye){var Ce=un(u,function(Ge){return Ge(Z)});return{criteria:Ce,index:++k,value:Z}});return Xn(I,function(Z,de){return lj(Z,de,y)})}function d1(o,u){return Zf(o,u,function(y,k){return D1(o,k)})}function Zf(o,u,y){for(var k=-1,I=u.length,Z={};++k<I;){var de=u[k],ye=zn(o,de);y(ye,de)&&Vl(Z,Ys(de,o),ye)}return Z}function xd(o){return function(u){return zn(u,o)}}function bd(o,u,y,k){var I=k?ut:Qe,Z=-1,de=u.length,ye=o;for(o===u&&(u=Zi(u)),y&&(ye=un(o,Tn(y)));++Z<de;)for(var Ce=0,Ge=u[Z],Ye=y?y(Ge):Ge;(Ce=I(ye,Ye,Ce,k))>-1;)ye!==o&&Zr.call(ye,Ce,1),Zr.call(o,Ce,1);return o}function eh(o,u){for(var y=o?u.length:0,k=y-1;y--;){var I=u[y];if(y==k||I!==Z){var Z=I;Bo(I)?Zr.call(o,I,1):rh(o,I)}}return o}function Hl(o,u){return o+Ol($p()*(u-o+1))}function th(o,u,y,k){for(var I=-1,Z=yr(Dl((u-o)/(y||1)),0),de=Te(Z);Z--;)de[k?Z:++I]=o,o+=y;return de}function Ro(o,u){var y="";if(!o||u<1||u>$)return y;do u%2&&(y+=o),u=Ol(u/2),u&&(o+=o);while(u);return y}function $t(o,u){return j1(Lw(o,u,ns),o+"")}function f1(o){return De(Ld(o))}function _d(o,u){var y=Ld(o);return om(y,st(u,0,y.length))}function Vl(o,u,y,k){if(!sr(o))return o;u=Ys(u,o);for(var I=-1,Z=u.length,de=Z-1,ye=o;ye!=null&&++I<Z;){var Ce=ro(u[I]),Ge=y;if(Ce==="__proto__"||Ce==="constructor"||Ce==="prototype")return o;if(I!=de){var Ye=ye[Ce];Ge=k?k(Ye,Ce,ye):n,Ge===n&&(Ge=sr(Ye)?Ye:Bo(u[I+1])?[]:{})}$e(ye,Ce,Ge),ye=ye[Ce]}return o}var Sd=pd?function(o,u){return pd.set(o,u),o}:ns,Za=Oo?function(o,u){return Oo(o,"toString",{configurable:!0,enumerable:!1,value:M1(u),writable:!0})}:ns;function Xp(o){return om(Ld(o))}function Li(o,u,y){var k=-1,I=o.length;u<0&&(u=-u>I?0:I+u),y=y>I?I:y,y<0&&(y+=I),I=u>y?0:y-u>>>0,u>>>=0;for(var Z=Te(I);++k<I;)Z[k]=o[k+u];return Z}function h1(o,u){var y;return Mt(o,function(k,I,Z){return y=u(k,I,Z),!y}),!!y}function lu(o,u,y){var k=0,I=o==null?k:o.length;if(typeof u=="number"&&u===u&&I<=G){for(;k<I;){var Z=k+I>>>1,de=o[Z];de!==null&&!js(de)&&(y?de<=u:de<u)?k=Z+1:I=Z}return I}return eo(o,u,ns,y)}function eo(o,u,y,k){var I=0,Z=o==null?0:o.length;if(Z===0)return 0;u=y(u);for(var de=u!==u,ye=u===null,Ce=js(u),Ge=u===n;I<Z;){var Ye=Ol((I+Z)/2),tt=y(o[Ye]),lt=tt!==n,bt=tt===null,kt=tt===tt,qt=js(tt);if(de)var Et=k||kt;else Ge?Et=kt&&(k||lt):ye?Et=kt&&lt&&(k||!bt):Ce?Et=kt&&lt&&!bt&&(k||!qt):bt||qt?Et=!1:Et=k?tt<=u:tt<u;Et?I=Ye+1:Z=Ye}return Ur(Z,P)}function Qp(o,u){for(var y=-1,k=o.length,I=0,Z=[];++y<k;){var de=o[y],ye=u?u(de):de;if(!y||!ya(ye,Ce)){var Ce=ye;Z[I++]=de===0?0:de}}return Z}function nh(o){return typeof o=="number"?o:js(o)?oe:+o}function Pi(o){if(typeof o=="string")return o;if(Ft(o))return un(o,Pi)+"";if(js(o))return Ei?Ei.call(o):"";var u=o+"";return u=="0"&&1/o==-Q?"-0":u}function ga(o,u,y){var k=-1,I=Nl,Z=o.length,de=!0,ye=[],Ce=ye;if(y)de=!1,I=za;else if(Z>=i){var Ge=u?null:pj(o);if(Ge)return Wa(Ge);de=!1,I=qa,Ce=new v}else Ce=u?[]:ye;e:for(;++k<Z;){var Ye=o[k],tt=u?u(Ye):Ye;if(Ye=y||Ye!==0?Ye:0,de&&tt===tt){for(var lt=Ce.length;lt--;)if(Ce[lt]===tt)continue e;u&&Ce.push(tt),ye.push(Ye)}else I(Ce,tt,y)||(Ce!==ye&&Ce.push(tt),ye.push(Ye))}return ye}function rh(o,u){return u=Ys(u,o),o=Pw(o,u),o==null||delete o[ro(Ks(u))]}function Gl(o,u,y,k){return Vl(o,u,y(zn(o,u)),k)}function Yl(o,u,y,k){for(var I=o.length,Z=k?I:-1;(k?Z--:++Z<I)&&u(o[Z],Z,o););return y?Li(o,k?0:Z,k?Z+1:I):Li(o,k?Z+1:0,k?I:Z)}function cu(o,u){var y=o;return y instanceof Wt&&(y=y.value()),zs(u,function(k,I){return I.func.apply(I.thisArg,Wi([k],I.args))},y)}function Ns(o,u,y){var k=o.length;if(k<2)return k?ga(o[0]):[];for(var I=-1,Z=Te(k);++I<k;)for(var de=o[I],ye=-1;++ye<k;)ye!=I&&(Z[I]=Ht(Z[I]||de,o[ye],u,y));return ga(Kt(Z,1),u,y)}function va(o,u,y){for(var k=-1,I=o.length,Z=u.length,de={};++k<I;){var ye=k<Z?u[k]:n;y(de,o[k],ye)}return de}function Gs(o){return wr(o)?o:[]}function Kl(o){return typeof o=="function"?o:ns}function Ys(o,u){return Ft(o)?o:_1(o,u)?[o]:Mw(xn(o))}var Zp=$t;function to(o,u,y){var k=o.length;return y=y===n?k:y,!u&&y>=k?o:Li(o,u,y)}var Nd=hd||function(o){return dr.clearTimeout(o)};function jd(o,u){if(u)return o.slice();var y=o.length,k=Zc?Zc(y):new o.constructor(y);return o.copy(k),k}function p1(o){var u=new o.constructor(o.byteLength);return new da(u).set(new da(o)),u}function sj(o,u){var y=u?p1(o.buffer):o.buffer;return new o.constructor(y,o.byteOffset,o.byteLength)}function aj(o){var u=new o.constructor(o.source,vs.exec(o));return u.lastIndex=o.lastIndex,u}function oj(o){return Xi?dn(Xi.call(o)):{}}function cw(o,u){var y=u?p1(o.buffer):o.buffer;return new o.constructor(y,o.byteOffset,o.length)}function uw(o,u){if(o!==u){var y=o!==n,k=o===null,I=o===o,Z=js(o),de=u!==n,ye=u===null,Ce=u===u,Ge=js(u);if(!ye&&!Ge&&!Z&&o>u||Z&&de&&Ce&&!ye&&!Ge||k&&de&&Ce||!y&&Ce||!I)return 1;if(!k&&!Z&&!Ge&&o<u||Ge&&y&&I&&!k&&!Z||ye&&y&&I||!de&&I||!Ce)return-1}return 0}function lj(o,u,y){for(var k=-1,I=o.criteria,Z=u.criteria,de=I.length,ye=y.length;++k<de;){var Ce=uw(I[k],Z[k]);if(Ce){if(k>=ye)return Ce;var Ge=y[k];return Ce*(Ge=="desc"?-1:1)}}return o.index-u.index}function dw(o,u,y,k){for(var I=-1,Z=o.length,de=y.length,ye=-1,Ce=u.length,Ge=yr(Z-de,0),Ye=Te(Ce+Ge),tt=!k;++ye<Ce;)Ye[ye]=u[ye];for(;++I<de;)(tt||I<Z)&&(Ye[y[I]]=o[I]);for(;Ge--;)Ye[ye++]=o[I++];return Ye}function fw(o,u,y,k){for(var I=-1,Z=o.length,de=-1,ye=y.length,Ce=-1,Ge=u.length,Ye=yr(Z-ye,0),tt=Te(Ye+Ge),lt=!k;++I<Ye;)tt[I]=o[I];for(var bt=I;++Ce<Ge;)tt[bt+Ce]=u[Ce];for(;++de<ye;)(lt||I<Z)&&(tt[bt+y[de]]=o[I++]);return tt}function Zi(o,u){var y=-1,k=o.length;for(u||(u=Te(k));++y<k;)u[y]=o[y];return u}function no(o,u,y,k){var I=!y;y||(y={});for(var Z=-1,de=u.length;++Z<de;){var ye=u[Z],Ce=k?k(y[ye],o[ye],ye,y,o):n;Ce===n&&(Ce=o[ye]),I?qe(y,ye,Ce):$e(y,ye,Ce)}return y}function cj(o,u){return no(o,b1(o),u)}function uj(o,u){return no(o,jw(o),u)}function em(o,u){return function(y,k){var I=Ft(y)?dd:_e,Z=u?u():{};return I(y,o,jt(k,2),Z)}}function kd(o){return $t(function(u,y){var k=-1,I=y.length,Z=I>1?y[I-1]:n,de=I>2?y[2]:n;for(Z=o.length>3&&typeof Z=="function"?(I--,Z):n,de&&Ti(y[0],y[1],de)&&(Z=I<3?n:Z,I=1),u=dn(u);++k<I;){var ye=y[k];ye&&o(u,ye,k,Z)}return u})}function hw(o,u){return function(y,k){if(y==null)return y;if(!es(y))return o(y,k);for(var I=y.length,Z=u?I:-1,de=dn(y);(u?Z--:++Z<I)&&k(de[Z],Z,de)!==!1;);return y}}function pw(o){return function(u,y,k){for(var I=-1,Z=dn(u),de=k(u),ye=de.length;ye--;){var Ce=de[o?ye:++I];if(y(Z[Ce],Ce,Z)===!1)break}return u}}function dj(o,u,y){var k=u&C,I=ih(o);function Z(){var de=this&&this!==dr&&this instanceof Z?I:o;return de.apply(k?y:this,arguments)}return Z}function mw(o){return function(u){u=xn(u);var y=ws(u)?ui(u):n,k=y?y[0]:u.charAt(0),I=y?to(y,1).join(""):u.slice(1);return k[o]()+I}}function Ed(o){return function(u){return zs(hx(fx(u).replace(Bs,"")),o,"")}}function ih(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var y=$l(o.prototype),k=o.apply(y,u);return sr(k)?k:y}}function fj(o,u,y){var k=ih(o);function I(){for(var Z=arguments.length,de=Te(Z),ye=Z,Ce=Cd(I);ye--;)de[ye]=arguments[ye];var Ge=Z<3&&de[0]!==Ce&&de[Z-1]!==Ce?[]:qs(de,Ce);if(Z-=Ge.length,Z<y)return xw(o,u,tm,I.placeholder,n,de,Ge,n,n,y-Z);var Ye=this&&this!==dr&&this instanceof I?k:o;return Dr(Ye,this,de)}return I}function gw(o){return function(u,y,k){var I=dn(u);if(!es(u)){var Z=jt(y,3);u=Wr(u),y=function(ye){return Z(I[ye],ye,I)}}var de=o(u,y,k);return de>-1?I[Z?u[de]:de]:n}}function vw(o){return $o(function(u){var y=u.length,k=y,I=Ci.prototype.thru;for(o&&u.reverse();k--;){var Z=u[k];if(typeof Z!="function")throw new Cr(a);if(I&&!de&&sm(Z)=="wrapper")var de=new Ci([],!0)}for(k=de?k:y;++k<y;){Z=u[k];var ye=sm(Z),Ce=ye=="wrapper"?w1(Z):n;Ce&&S1(Ce[0])&&Ce[1]==(W|L|X|O)&&!Ce[4].length&&Ce[9]==1?de=de[sm(Ce[0])].apply(de,Ce[3]):de=Z.length==1&&S1(Z)?de[ye]():de.thru(Z)}return function(){var Ge=arguments,Ye=Ge[0];if(de&&Ge.length==1&&Ft(Ye))return de.plant(Ye).value();for(var tt=0,lt=y?u[tt].apply(this,Ge):Ye;++tt<y;)lt=u[tt].call(this,lt);return lt}})}function tm(o,u,y,k,I,Z,de,ye,Ce,Ge){var Ye=u&W,tt=u&C,lt=u&_,bt=u&(L|R),kt=u&ee,qt=lt?n:ih(o);function Et(){for(var Jt=arguments.length,tn=Te(Jt),ks=Jt;ks--;)tn[ks]=arguments[ks];if(bt)var Di=Cd(Et),Es=El(tn,Di);if(k&&(tn=dw(tn,k,I,bt)),Z&&(tn=fw(tn,Z,de,bt)),Jt-=Es,bt&&Jt<Ge){var xr=qs(tn,Di);return xw(o,u,tm,Et.placeholder,y,tn,xr,ye,Ce,Ge-Jt)}var wa=tt?y:this,qo=lt?wa[o]:o;return Jt=tn.length,ye?tn=Tj(tn,ye):kt&&Jt>1&&tn.reverse(),Ye&&Ce<Jt&&(tn.length=Ce),this&&this!==dr&&this instanceof Et&&(qo=qt||ih(qo)),qo.apply(wa,tn)}return Et}function yw(o,u){return function(y,k){return Ja(y,o,u(k),{})}}function nm(o,u){return function(y,k){var I;if(y===n&&k===n)return u;if(y!==n&&(I=y),k!==n){if(I===n)return k;typeof y=="string"||typeof k=="string"?(y=Pi(y),k=Pi(k)):(y=nh(y),k=nh(k)),I=o(y,k)}return I}}function m1(o){return $o(function(u){return u=un(u,Tn(jt())),$t(function(y){var k=this;return o(u,function(I){return Dr(I,k,y)})})})}function rm(o,u){u=u===n?" ":Pi(u);var y=u.length;if(y<2)return y?Ro(u,o):u;var k=Ro(u,Dl(o/la(u)));return ws(u)?to(ui(k),0,o).join(""):k.slice(0,o)}function hj(o,u,y,k){var I=u&C,Z=ih(o);function de(){for(var ye=-1,Ce=arguments.length,Ge=-1,Ye=k.length,tt=Te(Ye+Ce),lt=this&&this!==dr&&this instanceof de?Z:o;++Ge<Ye;)tt[Ge]=k[Ge];for(;Ce--;)tt[Ge++]=arguments[++ye];return Dr(lt,I?y:this,tt)}return de}function ww(o){return function(u,y,k){return k&&typeof k!="number"&&Ti(u,y,k)&&(y=k=n),u=zo(u),y===n?(y=u,u=0):y=zo(y),k=k===n?u<y?1:-1:zo(k),th(u,y,k,o)}}function im(o){return function(u,y){return typeof u=="string"&&typeof y=="string"||(u=Js(u),y=Js(y)),o(u,y)}}function xw(o,u,y,k,I,Z,de,ye,Ce,Ge){var Ye=u&L,tt=Ye?de:n,lt=Ye?n:de,bt=Ye?Z:n,kt=Ye?n:Z;u|=Ye?X:te,u&=~(Ye?te:X),u&S||(u&=~(C|_));var qt=[o,u,I,bt,tt,kt,lt,ye,Ce,Ge],Et=y.apply(n,qt);return S1(o)&&Tw(Et,qt),Et.placeholder=k,Dw(Et,o,u)}function g1(o){var u=Rn[o];return function(y,k){if(y=Js(y),k=k==null?0:Ur(zt(k),292),k&&Rp(y)){var I=(xn(y)+"e").split("e"),Z=u(I[0]+"e"+(+I[1]+k));return I=(xn(Z)+"e").split("e"),+(I[0]+"e"+(+I[1]-k))}return u(y)}}var pj=Il&&1/Wa(new Il([,-0]))[1]==Q?function(o){return new Il(o)}:F1;function bw(o){return function(u){var y=pi(u);return y==Me?Ao(u):y==be?fd(u):Er(u,o(u))}}function Fo(o,u,y,k,I,Z,de,ye){var Ce=u&_;if(!Ce&&typeof o!="function")throw new Cr(a);var Ge=k?k.length:0;if(Ge||(u&=~(X|te),k=I=n),de=de===n?de:yr(zt(de),0),ye=ye===n?ye:zt(ye),Ge-=I?I.length:0,u&te){var Ye=k,tt=I;k=I=n}var lt=Ce?n:w1(o),bt=[o,u,y,k,I,Ye,tt,Z,de,ye];if(lt&&Aj(bt,lt),o=bt[0],u=bt[1],y=bt[2],k=bt[3],I=bt[4],ye=bt[9]=bt[9]===n?Ce?0:o.length:yr(bt[9]-Ge,0),!ye&&u&(L|R)&&(u&=~(L|R)),!u||u==C)var kt=dj(o,u,y);else u==L||u==R?kt=fj(o,u,ye):(u==X||u==(C|X))&&!I.length?kt=hj(o,u,y,k):kt=tm.apply(n,bt);var qt=lt?Sd:Tw;return Dw(qt(kt,bt),o,u)}function _w(o,u,y,k){return o===n||ya(o,bs[y])&&!en.call(k,y)?u:o}function Sw(o,u,y,k,I,Z){return sr(o)&&sr(u)&&(Z.set(u,o),Wl(o,u,n,Sw,Z),Z.delete(u)),o}function mj(o){return oh(o)?n:o}function Nw(o,u,y,k,I,Z){var de=y&N,ye=o.length,Ce=u.length;if(ye!=Ce&&!(de&&Ce>ye))return!1;var Ge=Z.get(o),Ye=Z.get(u);if(Ge&&Ye)return Ge==u&&Ye==o;var tt=-1,lt=!0,bt=y&j?new v:n;for(Z.set(o,u),Z.set(u,o);++tt<ye;){var kt=o[tt],qt=u[tt];if(k)var Et=de?k(qt,kt,tt,u,o,Z):k(kt,qt,tt,o,u,Z);if(Et!==n){if(Et)continue;lt=!1;break}if(bt){if(!x(u,function(Jt,tn){if(!qa(bt,tn)&&(kt===Jt||I(kt,Jt,y,k,Z)))return bt.push(tn)})){lt=!1;break}}else if(!(kt===qt||I(kt,qt,y,k,Z))){lt=!1;break}}return Z.delete(o),Z.delete(u),lt}function gj(o,u,y,k,I,Z,de){switch(y){case St:if(o.byteLength!=u.byteLength||o.byteOffset!=u.byteOffset)return!1;o=o.buffer,u=u.buffer;case at:return!(o.byteLength!=u.byteLength||!Z(new da(o),new da(u)));case ke:case re:case fe:return ya(+o,+u);case ue:return o.name==u.name&&o.message==u.message;case We:case Ie:return o==u+"";case Me:var ye=Ao;case be:var Ce=k&N;if(ye||(ye=Wa),o.size!=u.size&&!Ce)return!1;var Ge=de.get(o);if(Ge)return Ge==u;k|=j,de.set(o,u);var Ye=Nw(ye(o),ye(u),k,I,Z,de);return de.delete(o),Ye;case Ke:if(Xi)return Xi.call(o)==Xi.call(u)}return!1}function vj(o,u,y,k,I,Z){var de=y&N,ye=v1(o),Ce=ye.length,Ge=v1(u),Ye=Ge.length;if(Ce!=Ye&&!de)return!1;for(var tt=Ce;tt--;){var lt=ye[tt];if(!(de?lt in u:en.call(u,lt)))return!1}var bt=Z.get(o),kt=Z.get(u);if(bt&&kt)return bt==u&&kt==o;var qt=!0;Z.set(o,u),Z.set(u,o);for(var Et=de;++tt<Ce;){lt=ye[tt];var Jt=o[lt],tn=u[lt];if(k)var ks=de?k(tn,Jt,lt,u,o,Z):k(Jt,tn,lt,o,u,Z);if(!(ks===n?Jt===tn||I(Jt,tn,y,k,Z):ks)){qt=!1;break}Et||(Et=lt=="constructor")}if(qt&&!Et){var Di=o.constructor,Es=u.constructor;Di!=Es&&"constructor"in o&&"constructor"in u&&!(typeof Di=="function"&&Di instanceof Di&&typeof Es=="function"&&Es instanceof Es)&&(qt=!1)}return Z.delete(o),Z.delete(u),qt}function $o(o){return j1(Lw(o,n,$w),o+"")}function v1(o){return qr(o,Wr,b1)}function y1(o){return qr(o,ts,jw)}var w1=pd?function(o){return pd.get(o)}:F1;function sm(o){for(var u=o.name+"",y=Fl[u],k=en.call(Fl,u)?y.length:0;k--;){var I=y[k],Z=I.func;if(Z==null||Z==o)return I.name}return u}function Cd(o){var u=en.call(H,"placeholder")?H:o;return u.placeholder}function jt(){var o=H.iteratee||I1;return o=o===I1?Xf:o,arguments.length?o(arguments[0],arguments[1]):o}function am(o,u){var y=o.__data__;return jj(u)?y[typeof u=="string"?"string":"hash"]:y.map}function x1(o){for(var u=Wr(o),y=u.length;y--;){var k=u[y],I=o[k];u[y]=[k,I,Cw(I)]}return u}function uu(o,u){var y=Mr(o,u);return Io(y)?y:n}function yj(o){var u=en.call(o,Ga),y=o[Ga];try{o[Ga]=n;var k=!0}catch{}var I=gn.call(o);return k&&(u?o[Ga]=y:delete o[Ga]),I}var b1=Ml?function(o){return o==null?[]:(o=dn(o),ys(Ml(o),function(u){return hi.call(o,u)}))}:$1,jw=Ml?function(o){for(var u=[];o;)Wi(u,b1(o)),o=Tl(o);return u}:$1,pi=An;(nu&&pi(new nu(new ArrayBuffer(1)))!=St||fa&&pi(new fa)!=Me||Kf&&pi(Kf.resolve())!=Re||Il&&pi(new Il)!=be||Rl&&pi(new Rl)!=nt)&&(pi=function(o){var u=An(o),y=u==ze?o.constructor:n,k=y?du(y):"";if(k)switch(k){case e1:return St;case Ya:return Me;case Ss:return Re;case ha:return be;case t1:return nt}return u});function wj(o,u,y){for(var k=-1,I=y.length;++k<I;){var Z=y[k],de=Z.size;switch(Z.type){case"drop":o+=de;break;case"dropRight":u-=de;break;case"take":u=Ur(u,o+de);break;case"takeRight":o=yr(o,u-de);break}}return{start:o,end:u}}function xj(o){var u=o.match(Yn);return u?u[1].split(Ui):[]}function kw(o,u,y){u=Ys(u,o);for(var k=-1,I=u.length,Z=!1;++k<I;){var de=ro(u[k]);if(!(Z=o!=null&&y(o,de)))break;o=o[de]}return Z||++k!=I?Z:(I=o==null?0:o.length,!!I&&hm(I)&&Bo(de,I)&&(Ft(o)||fu(o)))}function bj(o){var u=o.length,y=new o.constructor(u);return u&&typeof o[0]=="string"&&en.call(o,"index")&&(y.index=o.index,y.input=o.input),y}function Ew(o){return typeof o.constructor=="function"&&!sh(o)?$l(Tl(o)):{}}function _j(o,u,y){var k=o.constructor;switch(u){case at:return p1(o);case ke:case re:return new k(+o);case St:return sj(o,y);case ft:case Nt:case et:case bn:case Bt:case Pr:case Qt:case pn:case ai:return cw(o,y);case Me:return new k;case fe:case Ie:return new k(o);case We:return aj(o);case be:return new k;case Ke:return oj(o)}}function Sj(o,u){var y=u.length;if(!y)return o;var k=y-1;return u[k]=(y>1?"& ":"")+u[k],u=u.join(y>2?", ":" "),o.replace(En,`{
/* [wrapped with `+u+`] */
`)}function Nj(o){return Ft(o)||fu(o)||!!(tu&&o&&o[tu])}function Bo(o,u){var y=typeof o;return u=u??$,!!u&&(y=="number"||y!="symbol"&&cl.test(o))&&o>-1&&o%1==0&&o<u}function Ti(o,u,y){if(!sr(y))return!1;var k=typeof u;return(k=="number"?es(y)&&Bo(u,y.length):k=="string"&&u in y)?ya(y[u],o):!1}function _1(o,u){if(Ft(o))return!1;var y=typeof o;return y=="number"||y=="symbol"||y=="boolean"||o==null||js(o)?!0:Tr.test(o)||!tr.test(o)||u!=null&&o in dn(u)}function jj(o){var u=typeof o;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null}function S1(o){var u=sm(o),y=H[u];if(typeof y!="function"||!(u in Wt.prototype))return!1;if(o===y)return!0;var k=w1(y);return!!k&&o===k[0]}function kj(o){return!!ki&&ki in o}var Ej=Ws?Uo:B1;function sh(o){var u=o&&o.constructor,y=typeof u=="function"&&u.prototype||bs;return o===y}function Cw(o){return o===o&&!sr(o)}function Aw(o,u){return function(y){return y==null?!1:y[o]===u&&(u!==n||o in dn(y))}}function Cj(o){var u=dm(o,function(k){return y.size===h&&y.clear(),k}),y=u.cache;return u}function Aj(o,u){var y=o[1],k=u[1],I=y|k,Z=I<(C|_|W),de=k==W&&y==L||k==W&&y==O&&o[7].length<=u[8]||k==(W|O)&&u[7].length<=u[8]&&y==L;if(!(Z||de))return o;k&C&&(o[2]=u[2],I|=y&C?0:S);var ye=u[3];if(ye){var Ce=o[3];o[3]=Ce?dw(Ce,ye,u[4]):ye,o[4]=Ce?qs(o[3],p):u[4]}return ye=u[5],ye&&(Ce=o[5],o[5]=Ce?fw(Ce,ye,u[6]):ye,o[6]=Ce?qs(o[5],p):u[6]),ye=u[7],ye&&(o[7]=ye),k&W&&(o[8]=o[8]==null?u[8]:Ur(o[8],u[8])),o[9]==null&&(o[9]=u[9]),o[0]=u[0],o[1]=I,o}function Lj(o){var u=[];if(o!=null)for(var y in dn(o))u.push(y);return u}function Pj(o){return gn.call(o)}function Lw(o,u,y){return u=yr(u===n?o.length-1:u,0),function(){for(var k=arguments,I=-1,Z=yr(k.length-u,0),de=Te(Z);++I<Z;)de[I]=k[u+I];I=-1;for(var ye=Te(u+1);++I<u;)ye[I]=k[I];return ye[u]=y(de),Dr(o,this,ye)}}function Pw(o,u){return u.length<2?o:zn(o,Li(u,0,-1))}function Tj(o,u){for(var y=o.length,k=Ur(u.length,y),I=Zi(o);k--;){var Z=u[k];o[k]=Bo(Z,y)?I[Z]:n}return o}function N1(o,u){if(!(u==="constructor"&&typeof o[u]=="function")&&u!="__proto__")return o[u]}var Tw=Ow(Sd),ah=Ip||function(o,u){return dr.setTimeout(o,u)},j1=Ow(Za);function Dw(o,u,y){var k=u+"";return j1(o,Sj(k,Dj(xj(k),y)))}function Ow(o){var u=0,y=0;return function(){var k=Qg(),I=V-(k-y);if(y=k,I>0){if(++u>=F)return arguments[0]}else u=0;return o.apply(n,arguments)}}function om(o,u){var y=-1,k=o.length,I=k-1;for(u=u===n?k:u;++y<u;){var Z=Hl(y,I),de=o[Z];o[Z]=o[y],o[y]=de}return o.length=u,o}var Mw=Cj(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(ht,function(y,k,I,Z){u.push(I?Z.replace(ms,"$1"):k||y)}),u});function ro(o){if(typeof o=="string"||js(o))return o;var u=o+"";return u=="0"&&1/o==-Q?"-0":u}function du(o){if(o!=null){try{return _s.call(o)}catch{}try{return o+""}catch{}}return""}function Dj(o,u){return Or(se,function(y){var k="_."+y[0];u&y[1]&&!Nl(o,k)&&o.push(k)}),o.sort()}function Iw(o){if(o instanceof Wt)return o.clone();var u=new Ci(o.__wrapped__,o.__chain__);return u.__actions__=Zi(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}function Oj(o,u,y){(y?Ti(o,u,y):u===n)?u=1:u=yr(zt(u),0);var k=o==null?0:o.length;if(!k||u<1)return[];for(var I=0,Z=0,de=Te(Dl(k/u));I<k;)de[Z++]=Li(o,I,I+=u);return de}function Mj(o){for(var u=-1,y=o==null?0:o.length,k=0,I=[];++u<y;){var Z=o[u];Z&&(I[k++]=Z)}return I}function Ij(){var o=arguments.length;if(!o)return[];for(var u=Te(o-1),y=arguments[0],k=o;k--;)u[k-1]=arguments[k];return Wi(Ft(y)?Zi(y):[y],Kt(u,1))}var Rj=$t(function(o,u){return wr(o)?Ht(o,Kt(u,1,wr,!0)):[]}),Fj=$t(function(o,u){var y=Ks(u);return wr(y)&&(y=n),wr(o)?Ht(o,Kt(u,1,wr,!0),jt(y,2)):[]}),$j=$t(function(o,u){var y=Ks(u);return wr(y)&&(y=n),wr(o)?Ht(o,Kt(u,1,wr,!0),n,y):[]});function Bj(o,u,y){var k=o==null?0:o.length;return k?(u=y||u===n?1:zt(u),Li(o,u<0?0:u,k)):[]}function Uj(o,u,y){var k=o==null?0:o.length;return k?(u=y||u===n?1:zt(u),u=k-u,Li(o,0,u<0?0:u)):[]}function zj(o,u){return o&&o.length?Yl(o,jt(u,3),!0,!0):[]}function qj(o,u){return o&&o.length?Yl(o,jt(u,3),!0):[]}function Wj(o,u,y,k){var I=o==null?0:o.length;return I?(y&&typeof y!="number"&&Ti(o,u,y)&&(y=0,k=I),fr(o,u,y,k)):[]}function Rw(o,u,y){var k=o==null?0:o.length;if(!k)return-1;var I=y==null?0:zt(y);return I<0&&(I=yr(k+I,0)),Be(o,jt(u,3),I)}function Fw(o,u,y){var k=o==null?0:o.length;if(!k)return-1;var I=k-1;return y!==n&&(I=zt(y),I=y<0?yr(k+I,0):Ur(I,k-1)),Be(o,jt(u,3),I,!0)}function $w(o){var u=o==null?0:o.length;return u?Kt(o,1):[]}function Hj(o){var u=o==null?0:o.length;return u?Kt(o,Q):[]}function Vj(o,u){var y=o==null?0:o.length;return y?(u=u===n?1:zt(u),Kt(o,u)):[]}function Gj(o){for(var u=-1,y=o==null?0:o.length,k={};++u<y;){var I=o[u];k[I[0]]=I[1]}return k}function Bw(o){return o&&o.length?o[0]:n}function Yj(o,u,y){var k=o==null?0:o.length;if(!k)return-1;var I=y==null?0:zt(y);return I<0&&(I=yr(k+I,0)),Qe(o,u,I)}function Kj(o){var u=o==null?0:o.length;return u?Li(o,0,-1):[]}var Jj=$t(function(o){var u=un(o,Gs);return u.length&&u[0]===o[0]?Ka(u):[]}),Xj=$t(function(o){var u=Ks(o),y=un(o,Gs);return u===Ks(y)?u=n:y.pop(),y.length&&y[0]===o[0]?Ka(y,jt(u,2)):[]}),Qj=$t(function(o){var u=Ks(o),y=un(o,Gs);return u=typeof u=="function"?u:n,u&&y.pop(),y.length&&y[0]===o[0]?Ka(y,n,u):[]});function Zj(o,u){return o==null?"":Xg.call(o,u)}function Ks(o){var u=o==null?0:o.length;return u?o[u-1]:n}function ek(o,u,y){var k=o==null?0:o.length;if(!k)return-1;var I=k;return y!==n&&(I=zt(y),I=I<0?yr(k+I,0):Ur(I,k-1)),u===u?Pl(o,u,I):Be(o,_t,I,!0)}function tk(o,u){return o&&o.length?Kp(o,zt(u)):n}var nk=$t(Uw);function Uw(o,u){return o&&o.length&&u&&u.length?bd(o,u):o}function rk(o,u,y){return o&&o.length&&u&&u.length?bd(o,u,jt(y,2)):o}function ik(o,u,y){return o&&o.length&&u&&u.length?bd(o,u,n,y):o}var sk=$o(function(o,u){var y=o==null?0:o.length,k=ct(o,u);return eh(o,un(u,function(I){return Bo(I,y)?+I:I}).sort(uw)),k});function ak(o,u){var y=[];if(!(o&&o.length))return y;var k=-1,I=[],Z=o.length;for(u=jt(u,3);++k<Z;){var de=o[k];u(de,k,o)&&(y.push(de),I.push(k))}return eh(o,I),y}function k1(o){return o==null?o:Yf.call(o)}function ok(o,u,y){var k=o==null?0:o.length;return k?(y&&typeof y!="number"&&Ti(o,u,y)?(u=0,y=k):(u=u==null?0:zt(u),y=y===n?k:zt(y)),Li(o,u,y)):[]}function lk(o,u){return lu(o,u)}function ck(o,u,y){return eo(o,u,jt(y,2))}function uk(o,u){var y=o==null?0:o.length;if(y){var k=lu(o,u);if(k<y&&ya(o[k],u))return k}return-1}function dk(o,u){return lu(o,u,!0)}function fk(o,u,y){return eo(o,u,jt(y,2),!0)}function hk(o,u){var y=o==null?0:o.length;if(y){var k=lu(o,u,!0)-1;if(ya(o[k],u))return k}return-1}function pk(o){return o&&o.length?Qp(o):[]}function mk(o,u){return o&&o.length?Qp(o,jt(u,2)):[]}function gk(o){var u=o==null?0:o.length;return u?Li(o,1,u):[]}function vk(o,u,y){return o&&o.length?(u=y||u===n?1:zt(u),Li(o,0,u<0?0:u)):[]}function yk(o,u,y){var k=o==null?0:o.length;return k?(u=y||u===n?1:zt(u),u=k-u,Li(o,u<0?0:u,k)):[]}function wk(o,u){return o&&o.length?Yl(o,jt(u,3),!1,!0):[]}function xk(o,u){return o&&o.length?Yl(o,jt(u,3)):[]}var bk=$t(function(o){return ga(Kt(o,1,wr,!0))}),_k=$t(function(o){var u=Ks(o);return wr(u)&&(u=n),ga(Kt(o,1,wr,!0),jt(u,2))}),Sk=$t(function(o){var u=Ks(o);return u=typeof u=="function"?u:n,ga(Kt(o,1,wr,!0),n,u)});function Nk(o){return o&&o.length?ga(o):[]}function jk(o,u){return o&&o.length?ga(o,jt(u,2)):[]}function kk(o,u){return u=typeof u=="function"?u:n,o&&o.length?ga(o,n,u):[]}function E1(o){if(!(o&&o.length))return[];var u=0;return o=ys(o,function(y){if(wr(y))return u=yr(y.length,u),!0}),kr(u,function(y){return un(o,Pt(y))})}function zw(o,u){if(!(o&&o.length))return[];var y=E1(o);return u==null?y:un(y,function(k){return Dr(u,n,k)})}var Ek=$t(function(o,u){return wr(o)?Ht(o,u):[]}),Ck=$t(function(o){return Ns(ys(o,wr))}),Ak=$t(function(o){var u=Ks(o);return wr(u)&&(u=n),Ns(ys(o,wr),jt(u,2))}),Lk=$t(function(o){var u=Ks(o);return u=typeof u=="function"?u:n,Ns(ys(o,wr),n,u)}),Pk=$t(E1);function Tk(o,u){return va(o||[],u||[],$e)}function Dk(o,u){return va(o||[],u||[],Vl)}var Ok=$t(function(o){var u=o.length,y=u>1?o[u-1]:n;return y=typeof y=="function"?(o.pop(),y):n,zw(o,y)});function qw(o){var u=H(o);return u.__chain__=!0,u}function Mk(o,u){return u(o),o}function lm(o,u){return u(o)}var Ik=$o(function(o){var u=o.length,y=u?o[0]:0,k=this.__wrapped__,I=function(Z){return ct(Z,o)};return u>1||this.__actions__.length||!(k instanceof Wt)||!Bo(y)?this.thru(I):(k=k.slice(y,+y+(u?1:0)),k.__actions__.push({func:lm,args:[I],thisArg:n}),new Ci(k,this.__chain__).thru(function(Z){return u&&!Z.length&&Z.push(n),Z}))});function Rk(){return qw(this)}function Fk(){return new Ci(this.value(),this.__chain__)}function $k(){this.__values__===n&&(this.__values__=rx(this.value()));var o=this.__index__>=this.__values__.length,u=o?n:this.__values__[this.__index__++];return{done:o,value:u}}function Bk(){return this}function Uk(o){for(var u,y=this;y instanceof su;){var k=Iw(y);k.__index__=0,k.__values__=n,u?I.__wrapped__=k:u=k;var I=k;y=y.__wrapped__}return I.__wrapped__=o,u}function zk(){var o=this.__wrapped__;if(o instanceof Wt){var u=o;return this.__actions__.length&&(u=new Wt(this)),u=u.reverse(),u.__actions__.push({func:lm,args:[k1],thisArg:n}),new Ci(u,this.__chain__)}return this.thru(k1)}function qk(){return cu(this.__wrapped__,this.__actions__)}var Wk=em(function(o,u,y){en.call(o,y)?++o[y]:qe(o,y,1)});function Hk(o,u,y){var k=Ft(o)?Sl:wn;return y&&Ti(o,u,y)&&(u=n),k(o,jt(u,3))}function Vk(o,u){var y=Ft(o)?ys:ei;return y(o,jt(u,3))}var Gk=gw(Rw),Yk=gw(Fw);function Kk(o,u){return Kt(cm(o,u),1)}function Jk(o,u){return Kt(cm(o,u),Q)}function Xk(o,u,y){return y=y===n?1:zt(y),Kt(cm(o,u),y)}function Ww(o,u){var y=Ft(o)?Or:Mt;return y(o,jt(u,3))}function Hw(o,u){var y=Ft(o)?Kc:yn;return y(o,jt(u,3))}var Qk=em(function(o,u,y){en.call(o,y)?o[y].push(u):qe(o,y,[u])});function Zk(o,u,y,k){o=es(o)?o:Ld(o),y=y&&!k?zt(y):0;var I=o.length;return y<0&&(y=yr(I+y,0)),pm(o)?y<=I&&o.indexOf(u,y)>-1:!!I&&Qe(o,u,y)>-1}var eE=$t(function(o,u,y){var k=-1,I=typeof u=="function",Z=es(o)?Te(o.length):[];return Mt(o,function(de){Z[++k]=I?Dr(u,de,y):Ln(de,u,y)}),Z}),tE=em(function(o,u,y){qe(o,y,u)});function cm(o,u){var y=Ft(o)?un:ql;return y(o,jt(u,3))}function nE(o,u,y,k){return o==null?[]:(Ft(u)||(u=u==null?[]:[u]),y=k?n:y,Ft(y)||(y=y==null?[]:[y]),Jp(o,u,y))}var rE=em(function(o,u,y){o[y?0:1].push(u)},function(){return[[],[]]});function iE(o,u,y){var k=Ft(o)?zs:In,I=arguments.length<3;return k(o,jt(u,4),y,I,Mt)}function sE(o,u,y){var k=Ft(o)?Jc:In,I=arguments.length<3;return k(o,jt(u,4),y,I,yn)}function aE(o,u){var y=Ft(o)?ys:ei;return y(o,fm(jt(u,3)))}function oE(o){var u=Ft(o)?De:f1;return u(o)}function lE(o,u,y){(y?Ti(o,u,y):u===n)?u=1:u=zt(u);var k=Ft(o)?Oe:_d;return k(o,u)}function cE(o){var u=Ft(o)?Ne:Xp;return u(o)}function uE(o){if(o==null)return 0;if(es(o))return pm(o)?la(o):o.length;var u=pi(o);return u==Me||u==be?o.size:Ul(o).length}function dE(o,u,y){var k=Ft(o)?x:h1;return y&&Ti(o,u,y)&&(u=n),k(o,jt(u,3))}var fE=$t(function(o,u){if(o==null)return[];var y=u.length;return y>1&&Ti(o,u[0],u[1])?u=[]:y>2&&Ti(u[0],u[1],u[2])&&(u=[u[0]]),Jp(o,Kt(u,1),[])}),um=Vf||function(){return dr.Date.now()};function hE(o,u){if(typeof u!="function")throw new Cr(a);return o=zt(o),function(){if(--o<1)return u.apply(this,arguments)}}function Vw(o,u,y){return u=y?n:u,u=o&&u==null?o.length:u,Fo(o,W,n,n,n,n,u)}function Gw(o,u){var y;if(typeof u!="function")throw new Cr(a);return o=zt(o),function(){return--o>0&&(y=u.apply(this,arguments)),o<=1&&(u=n),y}}var C1=$t(function(o,u,y){var k=C;if(y.length){var I=qs(y,Cd(C1));k|=X}return Fo(o,k,u,y,I)}),Yw=$t(function(o,u,y){var k=C|_;if(y.length){var I=qs(y,Cd(Yw));k|=X}return Fo(u,k,o,y,I)});function Kw(o,u,y){u=y?n:u;var k=Fo(o,L,n,n,n,n,n,u);return k.placeholder=Kw.placeholder,k}function Jw(o,u,y){u=y?n:u;var k=Fo(o,R,n,n,n,n,n,u);return k.placeholder=Jw.placeholder,k}function Xw(o,u,y){var k,I,Z,de,ye,Ce,Ge=0,Ye=!1,tt=!1,lt=!0;if(typeof o!="function")throw new Cr(a);u=Js(u)||0,sr(y)&&(Ye=!!y.leading,tt="maxWait"in y,Z=tt?yr(Js(y.maxWait)||0,u):Z,lt="trailing"in y?!!y.trailing:lt);function bt(xr){var wa=k,qo=I;return k=I=n,Ge=xr,de=o.apply(qo,wa),de}function kt(xr){return Ge=xr,ye=ah(Jt,u),Ye?bt(xr):de}function qt(xr){var wa=xr-Ce,qo=xr-Ge,gx=u-wa;return tt?Ur(gx,Z-qo):gx}function Et(xr){var wa=xr-Ce,qo=xr-Ge;return Ce===n||wa>=u||wa<0||tt&&qo>=Z}function Jt(){var xr=um();if(Et(xr))return tn(xr);ye=ah(Jt,qt(xr))}function tn(xr){return ye=n,lt&&k?bt(xr):(k=I=n,de)}function ks(){ye!==n&&Nd(ye),Ge=0,k=Ce=I=ye=n}function Di(){return ye===n?de:tn(um())}function Es(){var xr=um(),wa=Et(xr);if(k=arguments,I=this,Ce=xr,wa){if(ye===n)return kt(Ce);if(tt)return Nd(ye),ye=ah(Jt,u),bt(Ce)}return ye===n&&(ye=ah(Jt,u)),de}return Es.cancel=ks,Es.flush=Di,Es}var pE=$t(function(o,u){return fn(o,1,u)}),mE=$t(function(o,u,y){return fn(o,Js(u)||0,y)});function gE(o){return Fo(o,ee)}function dm(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new Cr(a);var y=function(){var k=arguments,I=u?u.apply(this,k):k[0],Z=y.cache;if(Z.has(I))return Z.get(I);var de=o.apply(this,k);return y.cache=Z.set(I,de)||Z,de};return y.cache=new(dm.Cache||Vs),y}dm.Cache=Vs;function fm(o){if(typeof o!="function")throw new Cr(a);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}function vE(o){return Gw(2,o)}var yE=Zp(function(o,u){u=u.length==1&&Ft(u[0])?un(u[0],Tn(jt())):un(Kt(u,1),Tn(jt()));var y=u.length;return $t(function(k){for(var I=-1,Z=Ur(k.length,y);++I<Z;)k[I]=u[I].call(this,k[I]);return Dr(o,this,k)})}),A1=$t(function(o,u){var y=qs(u,Cd(A1));return Fo(o,X,n,u,y)}),Qw=$t(function(o,u){var y=qs(u,Cd(Qw));return Fo(o,te,n,u,y)}),wE=$o(function(o,u){return Fo(o,O,n,n,n,u)});function xE(o,u){if(typeof o!="function")throw new Cr(a);return u=u===n?u:zt(u),$t(o,u)}function bE(o,u){if(typeof o!="function")throw new Cr(a);return u=u==null?0:yr(zt(u),0),$t(function(y){var k=y[u],I=to(y,0,u);return k&&Wi(I,k),Dr(o,this,I)})}function _E(o,u,y){var k=!0,I=!0;if(typeof o!="function")throw new Cr(a);return sr(y)&&(k="leading"in y?!!y.leading:k,I="trailing"in y?!!y.trailing:I),Xw(o,u,{leading:k,maxWait:u,trailing:I})}function SE(o){return Vw(o,1)}function NE(o,u){return A1(Kl(u),o)}function jE(){if(!arguments.length)return[];var o=arguments[0];return Ft(o)?o:[o]}function kE(o){return gt(o,g)}function EE(o,u){return u=typeof u=="function"?u:n,gt(o,g,u)}function CE(o){return gt(o,m|g)}function AE(o,u){return u=typeof u=="function"?u:n,gt(o,m|g,u)}function LE(o,u){return u==null||an(o,u,Wr(u))}function ya(o,u){return o===u||o!==o&&u!==u}var PE=im(Qi),TE=im(function(o,u){return o>=u}),fu=vd(function(){return arguments}())?vd:function(o){return hr(o)&&en.call(o,"callee")&&!hi.call(o,"callee")},Ft=Te.isArray,DE=bl?Tn(bl):Wp;function es(o){return o!=null&&hm(o.length)&&!Uo(o)}function wr(o){return hr(o)&&es(o)}function OE(o){return o===!0||o===!1||hr(o)&&An(o)==ke}var Jl=Gf||B1,ME=Ua?Tn(Ua):Hp;function IE(o){return hr(o)&&o.nodeType===1&&!oh(o)}function RE(o){if(o==null)return!0;if(es(o)&&(Ft(o)||typeof o=="string"||typeof o.splice=="function"||Jl(o)||Ad(o)||fu(o)))return!o.length;var u=pi(o);if(u==Me||u==be)return!o.size;if(sh(o))return!Ul(o).length;for(var y in o)if(en.call(o,y))return!1;return!0}function FE(o,u){return Xa(o,u)}function $E(o,u,y){y=typeof y=="function"?y:n;var k=y?y(o,u):n;return k===n?Xa(o,u,n,y):!!k}function L1(o){if(!hr(o))return!1;var u=An(o);return u==ue||u==le||typeof o.message=="string"&&typeof o.name=="string"&&!oh(o)}function BE(o){return typeof o=="number"&&Rp(o)}function Uo(o){if(!sr(o))return!1;var u=An(o);return u==me||u==Ee||u==je||u==Fe}function Zw(o){return typeof o=="number"&&o==zt(o)}function hm(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=$}function sr(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function hr(o){return o!=null&&typeof o=="object"}var ex=cd?Tn(cd):yd;function UE(o,u){return o===u||Ai(o,u,x1(u))}function zE(o,u,y){return y=typeof y=="function"?y:n,Ai(o,u,x1(u),y)}function qE(o){return tx(o)&&o!=+o}function WE(o){if(Ej(o))throw new xt(s);return Io(o)}function HE(o){return o===null}function VE(o){return o==null}function tx(o){return typeof o=="number"||hr(o)&&An(o)==fe}function oh(o){if(!hr(o)||An(o)!=ze)return!1;var u=Tl(o);if(u===null)return!0;var y=en.call(u,"constructor")&&u.constructor;return typeof y=="function"&&y instanceof y&&_s.call(y)==Cn}var P1=Co?Tn(Co):Bl;function GE(o){return Zw(o)&&o>=-$&&o<=$}var nx=ud?Tn(ud):Vp;function pm(o){return typeof o=="string"||!Ft(o)&&hr(o)&&An(o)==Ie}function js(o){return typeof o=="symbol"||hr(o)&&An(o)==Ke}var Ad=_l?Tn(_l):wd;function YE(o){return o===n}function KE(o){return hr(o)&&pi(o)==nt}function JE(o){return hr(o)&&An(o)==rt}var XE=im(zl),QE=im(function(o,u){return o<=u});function rx(o){if(!o)return[];if(es(o))return pm(o)?ui(o):Zi(o);if(Va&&o[Va])return Ll(o[Va]());var u=pi(o),y=u==Me?Ao:u==be?Wa:Ld;return y(o)}function zo(o){if(!o)return o===0?o:0;if(o=Js(o),o===Q||o===-Q){var u=o<0?-1:1;return u*z}return o===o?o:0}function zt(o){var u=zo(o),y=u%1;return u===u?y?u-y:u:0}function ix(o){return o?st(zt(o),0,Ae):0}function Js(o){if(typeof o=="number")return o;if(js(o))return oe;if(sr(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=sr(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=Hi(o);var y=Rs.test(o);return y||ll.test(o)?ad(o.slice(2),y?2:8):zi.test(o)?oe:+o}function sx(o){return no(o,ts(o))}function ZE(o){return o?st(zt(o),-$,$):o===0?o:0}function xn(o){return o==null?"":Pi(o)}var e8=kd(function(o,u){if(sh(u)||es(u)){no(u,Wr(u),o);return}for(var y in u)en.call(u,y)&&$e(o,y,u[y])}),ax=kd(function(o,u){no(u,ts(u),o)}),mm=kd(function(o,u,y,k){no(u,ts(u),o,k)}),t8=kd(function(o,u,y,k){no(u,Wr(u),o,k)}),n8=$o(ct);function r8(o,u){var y=$l(o);return u==null?y:He(y,u)}var i8=$t(function(o,u){o=dn(o);var y=-1,k=u.length,I=k>2?u[2]:n;for(I&&Ti(u[0],u[1],I)&&(k=1);++y<k;)for(var Z=u[y],de=ts(Z),ye=-1,Ce=de.length;++ye<Ce;){var Ge=de[ye],Ye=o[Ge];(Ye===n||ya(Ye,bs[Ge])&&!en.call(o,Ge))&&(o[Ge]=Z[Ge])}return o}),s8=$t(function(o){return o.push(n,Sw),Dr(ox,n,o)});function a8(o,u){return Le(o,jt(u,3),Zn)}function o8(o,u){return Le(o,jt(u,3),ti)}function l8(o,u){return o==null?o:zr(o,jt(u,3),ts)}function c8(o,u){return o==null?o:hn(o,jt(u,3),ts)}function u8(o,u){return o&&Zn(o,jt(u,3))}function d8(o,u){return o&&ti(o,jt(u,3))}function f8(o){return o==null?[]:ir(o,Wr(o))}function h8(o){return o==null?[]:ir(o,ts(o))}function T1(o,u,y){var k=o==null?n:zn(o,u);return k===n?y:k}function p8(o,u){return o!=null&&kw(o,u,Ar)}function D1(o,u){return o!=null&&kw(o,u,ma)}var m8=yw(function(o,u,y){u!=null&&typeof u.toString!="function"&&(u=gn.call(u)),o[u]=y},M1(ns)),g8=yw(function(o,u,y){u!=null&&typeof u.toString!="function"&&(u=gn.call(u)),en.call(o,u)?o[u].push(y):o[u]=[y]},jt),v8=$t(Ln);function Wr(o){return es(o)?xe(o):Ul(o)}function ts(o){return es(o)?xe(o,!0):Qf(o)}function y8(o,u){var y={};return u=jt(u,3),Zn(o,function(k,I,Z){qe(y,u(k,I,Z),k)}),y}function w8(o,u){var y={};return u=jt(u,3),Zn(o,function(k,I,Z){qe(y,I,u(k,I,Z))}),y}var x8=kd(function(o,u,y){Wl(o,u,y)}),ox=kd(function(o,u,y,k){Wl(o,u,y,k)}),b8=$o(function(o,u){var y={};if(o==null)return y;var k=!1;u=un(u,function(Z){return Z=Ys(Z,o),k||(k=Z.length>1),Z}),no(o,y1(o),y),k&&(y=gt(y,m|w|g,mj));for(var I=u.length;I--;)rh(y,u[I]);return y});function _8(o,u){return lx(o,fm(jt(u)))}var S8=$o(function(o,u){return o==null?{}:d1(o,u)});function lx(o,u){if(o==null)return{};var y=un(y1(o),function(k){return[k]});return u=jt(u),Zf(o,y,function(k,I){return u(k,I[0])})}function N8(o,u,y){u=Ys(u,o);var k=-1,I=u.length;for(I||(I=1,o=n);++k<I;){var Z=o==null?n:o[ro(u[k])];Z===n&&(k=I,Z=y),o=Uo(Z)?Z.call(o):Z}return o}function j8(o,u,y){return o==null?o:Vl(o,u,y)}function k8(o,u,y,k){return k=typeof k=="function"?k:n,o==null?o:Vl(o,u,y,k)}var cx=bw(Wr),ux=bw(ts);function E8(o,u,y){var k=Ft(o),I=k||Jl(o)||Ad(o);if(u=jt(u,4),y==null){var Z=o&&o.constructor;I?y=k?new Z:[]:sr(o)?y=Uo(Z)?$l(Tl(o)):{}:y={}}return(I?Or:Zn)(o,function(de,ye,Ce){return u(y,de,ye,Ce)}),y}function C8(o,u){return o==null?!0:rh(o,u)}function A8(o,u,y){return o==null?o:Gl(o,u,Kl(y))}function L8(o,u,y,k){return k=typeof k=="function"?k:n,o==null?o:Gl(o,u,Kl(y),k)}function Ld(o){return o==null?[]:Vi(o,Wr(o))}function P8(o){return o==null?[]:Vi(o,ts(o))}function T8(o,u,y){return y===n&&(y=u,u=n),y!==n&&(y=Js(y),y=y===y?y:0),u!==n&&(u=Js(u),u=u===u?u:0),st(Js(o),u,y)}function D8(o,u,y){return u=zo(u),y===n?(y=u,u=0):y=zo(y),o=Js(o),Mo(o,u,y)}function O8(o,u,y){if(y&&typeof y!="boolean"&&Ti(o,u,y)&&(u=y=n),y===n&&(typeof u=="boolean"?(y=u,u=n):typeof o=="boolean"&&(y=o,o=n)),o===n&&u===n?(o=0,u=1):(o=zo(o),u===n?(u=o,o=0):u=zo(u)),o>u){var k=o;o=u,u=k}if(y||o%1||u%1){var I=$p();return Ur(o+I*(u-o+xl("1e-"+((I+"").length-1))),u)}return Hl(o,u)}var M8=Ed(function(o,u,y){return u=u.toLowerCase(),o+(y?dx(u):u)});function dx(o){return O1(xn(o).toLowerCase())}function fx(o){return o=xn(o),o&&o.replace(ul,Xc).replace(sd,"")}function I8(o,u,y){o=xn(o),u=Pi(u);var k=o.length;y=y===n?k:st(zt(y),0,k);var I=y;return y-=u.length,y>=0&&o.slice(y,I)==u}function R8(o){return o=xn(o),o&&wt.test(o)?o.replace(_n,Qc):o}function F8(o){return o=xn(o),o&&nr.test(o)?o.replace(Gn,"\\$&"):o}var $8=Ed(function(o,u,y){return o+(y?"-":"")+u.toLowerCase()}),B8=Ed(function(o,u,y){return o+(y?" ":"")+u.toLowerCase()}),U8=mw("toLowerCase");function z8(o,u,y){o=xn(o),u=zt(u);var k=u?la(o):0;if(!u||k>=u)return o;var I=(u-k)/2;return rm(Ol(I),y)+o+rm(Dl(I),y)}function q8(o,u,y){o=xn(o),u=zt(u);var k=u?la(o):0;return u&&k<u?o+rm(u-k,y):o}function W8(o,u,y){o=xn(o),u=zt(u);var k=u?la(o):0;return u&&k<u?rm(u-k,y)+o:o}function H8(o,u,y){return y||u==null?u=0:u&&(u=+u),Zg(xn(o).replace(kn,""),u||0)}function V8(o,u,y){return(y?Ti(o,u,y):u===n)?u=1:u=zt(u),Ro(xn(o),u)}function G8(){var o=arguments,u=xn(o[0]);return o.length<3?u:u.replace(o[1],o[2])}var Y8=Ed(function(o,u,y){return o+(y?"_":"")+u.toLowerCase()});function K8(o,u,y){return y&&typeof y!="number"&&Ti(o,u,y)&&(u=y=n),y=y===n?Ae:y>>>0,y?(o=xn(o),o&&(typeof u=="string"||u!=null&&!P1(u))&&(u=Pi(u),!u&&ws(o))?to(ui(o),0,y):o.split(u,y)):[]}var J8=Ed(function(o,u,y){return o+(y?" ":"")+O1(u)});function X8(o,u,y){return o=xn(o),y=y==null?0:st(zt(y),0,o.length),u=Pi(u),o.slice(y,y+u.length)==u}function Q8(o,u,y){var k=H.templateSettings;y&&Ti(o,u,y)&&(u=n),o=xn(o),u=mm({},u,k,_w);var I=mm({},u.imports,k.imports,_w),Z=Wr(I),de=Vi(I,Z),ye,Ce,Ge=0,Ye=u.interpolate||oa,tt="__p += '",lt=Po((u.escape||oa).source+"|"+Ye.source+"|"+(Ye===rn?gs:oa).source+"|"+(u.evaluate||oa).source+"|$","g"),bt="//# sourceURL="+(en.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Wf+"]")+`
`;o.replace(lt,function(Et,Jt,tn,ks,Di,Es){return tn||(tn=ks),tt+=o.slice(Ge,Es).replace(Yu,Cl),Jt&&(ye=!0,tt+=`' +
__e(`+Jt+`) +
'`),Di&&(Ce=!0,tt+=`';
`+Di+`;
__p += '`),tn&&(tt+=`' +
((__t = (`+tn+`)) == null ? '' : __t) +
'`),Ge=Es+Et.length,Et}),tt+=`';
`;var kt=en.call(u,"variable")&&u.variable;if(!kt)tt=`with (obj) {
`+tt+`
}
`;else if(ps.test(kt))throw new xt(l);tt=(Ce?tt.replace(Zt,""):tt).replace(aa,"$1").replace(Mn,"$1;"),tt="function("+(kt||"obj")+`) {
`+(kt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ye?", __e = _.escape":"")+(Ce?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+tt+`return __p
}`;var qt=px(function(){return It(Z,bt+"return "+tt).apply(n,de)});if(qt.source=tt,L1(qt))throw qt;return qt}function Z8(o){return xn(o).toLowerCase()}function eC(o){return xn(o).toUpperCase()}function tC(o,u,y){if(o=xn(o),o&&(y||u===n))return Hi(o);if(!o||!(u=Pi(u)))return o;var k=ui(o),I=ui(u),Z=jl(k,I),de=kl(k,I)+1;return to(k,Z,de).join("")}function nC(o,u,y){if(o=xn(o),o&&(y||u===n))return o.slice(0,ca(o)+1);if(!o||!(u=Pi(u)))return o;var k=ui(o),I=kl(k,ui(u))+1;return to(k,0,I).join("")}function rC(o,u,y){if(o=xn(o),o&&(y||u===n))return o.replace(kn,"");if(!o||!(u=Pi(u)))return o;var k=ui(o),I=jl(k,ui(u));return to(k,I).join("")}function iC(o,u){var y=ne,k=T;if(sr(u)){var I="separator"in u?u.separator:I;y="length"in u?zt(u.length):y,k="omission"in u?Pi(u.omission):k}o=xn(o);var Z=o.length;if(ws(o)){var de=ui(o);Z=de.length}if(y>=Z)return o;var ye=y-la(k);if(ye<1)return k;var Ce=de?to(de,0,ye).join(""):o.slice(0,ye);if(I===n)return Ce+k;if(de&&(ye+=Ce.length-ye),P1(I)){if(o.slice(ye).search(I)){var Ge,Ye=Ce;for(I.global||(I=Po(I.source,xn(vs.exec(I))+"g")),I.lastIndex=0;Ge=I.exec(Ye);)var tt=Ge.index;Ce=Ce.slice(0,tt===n?ye:tt)}}else if(o.indexOf(Pi(I),ye)!=ye){var lt=Ce.lastIndexOf(I);lt>-1&&(Ce=Ce.slice(0,lt))}return Ce+k}function sC(o){return o=xn(o),o&&Gt.test(o)?o.replace(oi,Lo):o}var aC=Ed(function(o,u,y){return o+(y?" ":"")+u.toUpperCase()}),O1=mw("toUpperCase");function hx(o,u,y){return o=xn(o),u=y?n:u,u===n?Al(o)?Ha(o):ve(o):o.match(u)||[]}var px=$t(function(o,u){try{return Dr(o,n,u)}catch(y){return L1(y)?y:new xt(y)}}),oC=$o(function(o,u){return Or(u,function(y){y=ro(y),qe(o,y,C1(o[y],o))}),o});function lC(o){var u=o==null?0:o.length,y=jt();return o=u?un(o,function(k){if(typeof k[1]!="function")throw new Cr(a);return[y(k[0]),k[1]]}):[],$t(function(k){for(var I=-1;++I<u;){var Z=o[I];if(Dr(Z[0],this,k))return Dr(Z[1],this,k)}})}function cC(o){return ot(gt(o,m))}function M1(o){return function(){return o}}function uC(o,u){return o==null||o!==o?u:o}var dC=vw(),fC=vw(!0);function ns(o){return o}function I1(o){return Xf(typeof o=="function"?o:gt(o,m))}function hC(o){return Gp(gt(o,m))}function pC(o,u){return Yp(o,gt(u,m))}var mC=$t(function(o,u){return function(y){return Ln(y,o,u)}}),gC=$t(function(o,u){return function(y){return Ln(o,y,u)}});function R1(o,u,y){var k=Wr(u),I=ir(u,k);y==null&&!(sr(u)&&(I.length||!k.length))&&(y=u,u=o,o=this,I=ir(u,Wr(u)));var Z=!(sr(y)&&"chain"in y)||!!y.chain,de=Uo(o);return Or(I,function(ye){var Ce=u[ye];o[ye]=Ce,de&&(o.prototype[ye]=function(){var Ge=this.__chain__;if(Z||Ge){var Ye=o(this.__wrapped__),tt=Ye.__actions__=Zi(this.__actions__);return tt.push({func:Ce,args:arguments,thisArg:o}),Ye.__chain__=Ge,Ye}return Ce.apply(o,Wi([this.value()],arguments))})}),o}function vC(){return dr._===this&&(dr._=rr),this}function F1(){}function yC(o){return o=zt(o),$t(function(u){return Kp(u,o)})}var wC=m1(un),xC=m1(Sl),bC=m1(x);function mx(o){return _1(o)?Pt(ro(o)):xd(o)}function _C(o){return function(u){return o==null?n:zn(o,u)}}var SC=ww(),NC=ww(!0);function $1(){return[]}function B1(){return!1}function jC(){return{}}function kC(){return""}function EC(){return!0}function CC(o,u){if(o=zt(o),o<1||o>$)return[];var y=Ae,k=Ur(o,Ae);u=jt(u),o-=Ae;for(var I=kr(k,u);++y<o;)u(y);return I}function AC(o){return Ft(o)?un(o,ro):js(o)?[o]:Zi(Mw(xn(o)))}function LC(o){var u=++Yi;return xn(o)+u}var PC=nm(function(o,u){return o+u},0),TC=g1("ceil"),DC=nm(function(o,u){return o/u},1),OC=g1("floor");function MC(o){return o&&o.length?Dt(o,ns,Qi):n}function IC(o,u){return o&&o.length?Dt(o,jt(u,2),Qi):n}function RC(o){return Ot(o,ns)}function FC(o,u){return Ot(o,jt(u,2))}function $C(o){return o&&o.length?Dt(o,ns,zl):n}function BC(o,u){return o&&o.length?Dt(o,jt(u,2),zl):n}var UC=nm(function(o,u){return o*u},1),zC=g1("round"),qC=nm(function(o,u){return o-u},0);function WC(o){return o&&o.length?Qn(o,ns):0}function HC(o,u){return o&&o.length?Qn(o,jt(u,2)):0}return H.after=hE,H.ary=Vw,H.assign=e8,H.assignIn=ax,H.assignInWith=mm,H.assignWith=t8,H.at=n8,H.before=Gw,H.bind=C1,H.bindAll=oC,H.bindKey=Yw,H.castArray=jE,H.chain=qw,H.chunk=Oj,H.compact=Mj,H.concat=Ij,H.cond=lC,H.conforms=cC,H.constant=M1,H.countBy=Wk,H.create=r8,H.curry=Kw,H.curryRight=Jw,H.debounce=Xw,H.defaults=i8,H.defaultsDeep=s8,H.defer=pE,H.delay=mE,H.difference=Rj,H.differenceBy=Fj,H.differenceWith=$j,H.drop=Bj,H.dropRight=Uj,H.dropRightWhile=zj,H.dropWhile=qj,H.fill=Wj,H.filter=Vk,H.flatMap=Kk,H.flatMapDeep=Jk,H.flatMapDepth=Xk,H.flatten=$w,H.flattenDeep=Hj,H.flattenDepth=Vj,H.flip=gE,H.flow=dC,H.flowRight=fC,H.fromPairs=Gj,H.functions=f8,H.functionsIn=h8,H.groupBy=Qk,H.initial=Kj,H.intersection=Jj,H.intersectionBy=Xj,H.intersectionWith=Qj,H.invert=m8,H.invertBy=g8,H.invokeMap=eE,H.iteratee=I1,H.keyBy=tE,H.keys=Wr,H.keysIn=ts,H.map=cm,H.mapKeys=y8,H.mapValues=w8,H.matches=hC,H.matchesProperty=pC,H.memoize=dm,H.merge=x8,H.mergeWith=ox,H.method=mC,H.methodOf=gC,H.mixin=R1,H.negate=fm,H.nthArg=yC,H.omit=b8,H.omitBy=_8,H.once=vE,H.orderBy=nE,H.over=wC,H.overArgs=yE,H.overEvery=xC,H.overSome=bC,H.partial=A1,H.partialRight=Qw,H.partition=rE,H.pick=S8,H.pickBy=lx,H.property=mx,H.propertyOf=_C,H.pull=nk,H.pullAll=Uw,H.pullAllBy=rk,H.pullAllWith=ik,H.pullAt=sk,H.range=SC,H.rangeRight=NC,H.rearg=wE,H.reject=aE,H.remove=ak,H.rest=xE,H.reverse=k1,H.sampleSize=lE,H.set=j8,H.setWith=k8,H.shuffle=cE,H.slice=ok,H.sortBy=fE,H.sortedUniq=pk,H.sortedUniqBy=mk,H.split=K8,H.spread=bE,H.tail=gk,H.take=vk,H.takeRight=yk,H.takeRightWhile=wk,H.takeWhile=xk,H.tap=Mk,H.throttle=_E,H.thru=lm,H.toArray=rx,H.toPairs=cx,H.toPairsIn=ux,H.toPath=AC,H.toPlainObject=sx,H.transform=E8,H.unary=SE,H.union=bk,H.unionBy=_k,H.unionWith=Sk,H.uniq=Nk,H.uniqBy=jk,H.uniqWith=kk,H.unset=C8,H.unzip=E1,H.unzipWith=zw,H.update=A8,H.updateWith=L8,H.values=Ld,H.valuesIn=P8,H.without=Ek,H.words=hx,H.wrap=NE,H.xor=Ck,H.xorBy=Ak,H.xorWith=Lk,H.zip=Pk,H.zipObject=Tk,H.zipObjectDeep=Dk,H.zipWith=Ok,H.entries=cx,H.entriesIn=ux,H.extend=ax,H.extendWith=mm,R1(H,H),H.add=PC,H.attempt=px,H.camelCase=M8,H.capitalize=dx,H.ceil=TC,H.clamp=T8,H.clone=kE,H.cloneDeep=CE,H.cloneDeepWith=AE,H.cloneWith=EE,H.conformsTo=LE,H.deburr=fx,H.defaultTo=uC,H.divide=DC,H.endsWith=I8,H.eq=ya,H.escape=R8,H.escapeRegExp=F8,H.every=Hk,H.find=Gk,H.findIndex=Rw,H.findKey=a8,H.findLast=Yk,H.findLastIndex=Fw,H.findLastKey=o8,H.floor=OC,H.forEach=Ww,H.forEachRight=Hw,H.forIn=l8,H.forInRight=c8,H.forOwn=u8,H.forOwnRight=d8,H.get=T1,H.gt=PE,H.gte=TE,H.has=p8,H.hasIn=D1,H.head=Bw,H.identity=ns,H.includes=Zk,H.indexOf=Yj,H.inRange=D8,H.invoke=v8,H.isArguments=fu,H.isArray=Ft,H.isArrayBuffer=DE,H.isArrayLike=es,H.isArrayLikeObject=wr,H.isBoolean=OE,H.isBuffer=Jl,H.isDate=ME,H.isElement=IE,H.isEmpty=RE,H.isEqual=FE,H.isEqualWith=$E,H.isError=L1,H.isFinite=BE,H.isFunction=Uo,H.isInteger=Zw,H.isLength=hm,H.isMap=ex,H.isMatch=UE,H.isMatchWith=zE,H.isNaN=qE,H.isNative=WE,H.isNil=VE,H.isNull=HE,H.isNumber=tx,H.isObject=sr,H.isObjectLike=hr,H.isPlainObject=oh,H.isRegExp=P1,H.isSafeInteger=GE,H.isSet=nx,H.isString=pm,H.isSymbol=js,H.isTypedArray=Ad,H.isUndefined=YE,H.isWeakMap=KE,H.isWeakSet=JE,H.join=Zj,H.kebabCase=$8,H.last=Ks,H.lastIndexOf=ek,H.lowerCase=B8,H.lowerFirst=U8,H.lt=XE,H.lte=QE,H.max=MC,H.maxBy=IC,H.mean=RC,H.meanBy=FC,H.min=$C,H.minBy=BC,H.stubArray=$1,H.stubFalse=B1,H.stubObject=jC,H.stubString=kC,H.stubTrue=EC,H.multiply=UC,H.nth=tk,H.noConflict=vC,H.noop=F1,H.now=um,H.pad=z8,H.padEnd=q8,H.padStart=W8,H.parseInt=H8,H.random=O8,H.reduce=iE,H.reduceRight=sE,H.repeat=V8,H.replace=G8,H.result=N8,H.round=zC,H.runInContext=Se,H.sample=oE,H.size=uE,H.snakeCase=Y8,H.some=dE,H.sortedIndex=lk,H.sortedIndexBy=ck,H.sortedIndexOf=uk,H.sortedLastIndex=dk,H.sortedLastIndexBy=fk,H.sortedLastIndexOf=hk,H.startCase=J8,H.startsWith=X8,H.subtract=qC,H.sum=WC,H.sumBy=HC,H.template=Q8,H.times=CC,H.toFinite=zo,H.toInteger=zt,H.toLength=ix,H.toLower=Z8,H.toNumber=Js,H.toSafeInteger=ZE,H.toString=xn,H.toUpper=eC,H.trim=tC,H.trimEnd=nC,H.trimStart=rC,H.truncate=iC,H.unescape=sC,H.uniqueId=LC,H.upperCase=aC,H.upperFirst=O1,H.each=Ww,H.eachRight=Hw,H.first=Bw,R1(H,function(){var o={};return Zn(H,function(u,y){en.call(H.prototype,y)||(o[y]=u)}),o}(),{chain:!1}),H.VERSION=r,Or(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){H[o].placeholder=H}),Or(["drop","take"],function(o,u){Wt.prototype[o]=function(y){y=y===n?1:yr(zt(y),0);var k=this.__filtered__&&!u?new Wt(this):this.clone();return k.__filtered__?k.__takeCount__=Ur(y,k.__takeCount__):k.__views__.push({size:Ur(y,Ae),type:o+(k.__dir__<0?"Right":"")}),k},Wt.prototype[o+"Right"]=function(y){return this.reverse()[o](y).reverse()}}),Or(["filter","map","takeWhile"],function(o,u){var y=u+1,k=y==Y||y==pe;Wt.prototype[o]=function(I){var Z=this.clone();return Z.__iteratees__.push({iteratee:jt(I,3),type:y}),Z.__filtered__=Z.__filtered__||k,Z}}),Or(["head","last"],function(o,u){var y="take"+(u?"Right":"");Wt.prototype[o]=function(){return this[y](1).value()[0]}}),Or(["initial","tail"],function(o,u){var y="drop"+(u?"":"Right");Wt.prototype[o]=function(){return this.__filtered__?new Wt(this):this[y](1)}}),Wt.prototype.compact=function(){return this.filter(ns)},Wt.prototype.find=function(o){return this.filter(o).head()},Wt.prototype.findLast=function(o){return this.reverse().find(o)},Wt.prototype.invokeMap=$t(function(o,u){return typeof o=="function"?new Wt(this):this.map(function(y){return Ln(y,o,u)})}),Wt.prototype.reject=function(o){return this.filter(fm(jt(o)))},Wt.prototype.slice=function(o,u){o=zt(o);var y=this;return y.__filtered__&&(o>0||u<0)?new Wt(y):(o<0?y=y.takeRight(-o):o&&(y=y.drop(o)),u!==n&&(u=zt(u),y=u<0?y.dropRight(-u):y.take(u-o)),y)},Wt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Wt.prototype.toArray=function(){return this.take(Ae)},Zn(Wt.prototype,function(o,u){var y=/^(?:filter|find|map|reject)|While$/.test(u),k=/^(?:head|last)$/.test(u),I=H[k?"take"+(u=="last"?"Right":""):u],Z=k||/^find/.test(u);I&&(H.prototype[u]=function(){var de=this.__wrapped__,ye=k?[1]:arguments,Ce=de instanceof Wt,Ge=ye[0],Ye=Ce||Ft(de),tt=function(Jt){var tn=I.apply(H,Wi([Jt],ye));return k&&lt?tn[0]:tn};Ye&&y&&typeof Ge=="function"&&Ge.length!=1&&(Ce=Ye=!1);var lt=this.__chain__,bt=!!this.__actions__.length,kt=Z&&!lt,qt=Ce&&!bt;if(!Z&&Ye){de=qt?de:new Wt(this);var Et=o.apply(de,ye);return Et.__actions__.push({func:lm,args:[tt],thisArg:n}),new Ci(Et,lt)}return kt&&qt?o.apply(this,ye):(Et=this.thru(tt),kt?k?Et.value()[0]:Et.value():Et)})}),Or(["pop","push","shift","sort","splice","unshift"],function(o){var u=xs[o],y=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",k=/^(?:pop|shift)$/.test(o);H.prototype[o]=function(){var I=arguments;if(k&&!this.__chain__){var Z=this.value();return u.apply(Ft(Z)?Z:[],I)}return this[y](function(de){return u.apply(Ft(de)?de:[],I)})}}),Zn(Wt.prototype,function(o,u){var y=H[u];if(y){var k=y.name+"";en.call(Fl,k)||(Fl[k]=[]),Fl[k].push({name:u,func:y})}}),Fl[tm(n,_).name]=[{name:"wrapper",func:n}],Wt.prototype.clone=Bp,Wt.prototype.reverse=n1,Wt.prototype.value=md,H.prototype.at=Ik,H.prototype.chain=Rk,H.prototype.commit=Fk,H.prototype.next=$k,H.prototype.plant=Uk,H.prototype.reverse=zk,H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=qk,H.prototype.first=H.prototype.head,Va&&(H.prototype[Va]=Bk),H},fi=ua();Jr?((Jr.exports=fi)._=fi,qi._=fi):dr._=fi}).call(ri)})(X0,X0.exports);var T$=X0.exports;async function Q0(e){return $n(async()=>{const{data:t,error:n}=await Xe.from("songs").select("*").eq("group_id",e).order("title");return{data:t,error:n}},"Error al cargar las canciones")}async function u0(e){const t={...e,type:e.type||"song"};return $n(async()=>{const{data:n,error:r}=await Xe.from("songs").insert(t).select().single();return{data:n,error:r}},"Error al crear la canción")}async function D$(e,t,n){const{data:{user:r}}=await Xe.auth.getUser();if(!r)return Pe.error("No se pudo obtener la información del usuario"),null;const i={group_id:e,title:t,type:"medley",medley_song_ids:n,created_by:r.id};return $n(async()=>{const{data:s,error:a}=await Xe.from("songs").insert(i).select().single();return{data:s,error:a}},"Error al crear el medley")}async function C3(e,t){return $n(async()=>{const{data:n,error:r}=await Xe.from("songs").update(t).eq("id",e).select().single();return{data:n,error:r}},"Error al actualizar la canción")}async function O$(e){try{const{error:t}=await Xe.from("songs").delete().eq("id",e);return t?(console.error("Error al eliminar la canción:",t),Pe.error("Error al eliminar la canción"),!1):!0}catch(t){return console.error("Error al eliminar la canción:",t),Pe.error("Error al eliminar la canción"),!1}}async function uy(e){return $n(async()=>{const{data:t,error:n}=await Xe.from("setlists").select(`
          *,
          songs:setlist_songs(
            *,
            song:songs(*)
          )
        `).eq("group_id",e).order("name");return{data:t,error:n}},"Error al cargar los setlists")}async function A3(e){return $n(async()=>{const{data:t,error:n}=await Xe.from("setlists").select(`
          *,
          songs:setlist_songs(
            *,
            song:songs(*)
          )
        `).eq("id",e).single();return{data:t,error:n}},"Error al cargar el setlist")}async function K5(e){return $n(async()=>{const{data:t,error:n}=await Xe.from("setlists").insert(e).select().single();return{data:t,error:n}},"Error al crear el setlist")}async function M$(e,t){return $n(async()=>{const{data:n,error:r}=await Xe.from("setlists").update(t).eq("id",e).select().single();return{data:n,error:r}},"Error al actualizar el setlist")}async function I$(e){try{const{error:t}=await Xe.from("setlists").delete().eq("id",e);return t?(console.error("Error al eliminar el setlist:",t),Pe.error("Error al eliminar el setlist"),!1):!0}catch(t){return console.error("Error al eliminar el setlist:",t),Pe.error("Error al eliminar el setlist"),!1}}async function Z0(e,t,n){try{console.log("Iniciando addSongToSetlist con:",{setlistId:e,songId:t,position:n});const{data:{user:r}}=await Xe.auth.getUser();if(!r)return console.error("No se pudo obtener la información del usuario"),Pe.error("No se pudo obtener la información del usuario"),null;console.log("Usuario autenticado:",r.id);const i={setlist_id:e,song_id:t,position:n,created_by:r.id};console.log("Datos a insertar:",i);const{data:s,error:a}=await Xe.from("setlist_songs").insert(i).select().single();return a?(console.error("Error de Supabase al añadir la canción al setlist:",a),console.error("Código de error:",a.code),console.error("Mensaje de error:",a.message),console.error("Detalles:",a.details),Pe.error(`Error al añadir la canción al setlist: ${a.message}`),null):(console.log("Canción añadida exitosamente:",s),s)}catch(r){return console.error("Error general al añadir la canción al setlist:",r),Pe.error("Error al añadir la canción al setlist"),null}}async function R$(e,t){try{const{error:n,count:r}=await Xe.from("setlist_songs").delete().eq("setlist_id",e).eq("song_id",t);return console.log("Resultado de Supabase al eliminar:",{error:n,count:r}),n?(console.error("Error al eliminar la canción del setlist:",n),Pe.error("Error al eliminar la canción del setlist"),!1):!0}catch(n){return console.error("Error al eliminar la canción del setlist:",n),Pe.error("Error al eliminar la canción del setlist"),!1}}async function F$(e,t){try{const{error:n}=await Xe.rpc("reorder_setlist_songs",{p_setlist_id:e,p_song_positions:t});return n?(console.error("Error al reordenar las canciones del setlist:",n),Pe.error("Error al reordenar las canciones del setlist"),!1):!0}catch(n){return console.error("Error al reordenar las canciones del setlist:",n),Pe.error("Error al reordenar las canciones del setlist"),!1}}async function L3(e,t){return await $n(async()=>{const{data:r,error:i}=await Xe.from("events").update({setlist_id:t}).eq("id",e);return{data:r,error:i}},"Error al asignar el setlist al evento")!==null}async function $$(e,t){return $n(async()=>{const{data:n,error:r}=await Xe.from("songs").update(t).eq("id",e).eq("type","medley").select().single();return{data:n,error:r}},"Error al actualizar el medley")}async function B$(e,t){try{const{data:n,error:r}=await Xe.from("songs").select("medley_song_ids").eq("id",e).eq("type","medley").single();if(r)return console.error("Error al obtener el medley:",r),Pe.error("Error al obtener el medley"),null;const s=[...n.medley_song_ids||[],t],{data:a,error:l}=await Xe.from("songs").update({medley_song_ids:s}).eq("id",e).select().single();return l?(console.error("Error al añadir la canción al medley:",l),Pe.error("Error al añadir la canción al medley"),null):a}catch(n){return console.error("Error al añadir la canción al medley:",n),Pe.error("Error al añadir la canción al medley"),null}}async function U$(e,t){try{const{data:n,error:r}=await Xe.from("songs").select("medley_song_ids").eq("id",e).eq("type","medley").single();if(r)return console.error("Error al obtener el medley:",r),Pe.error("Error al obtener el medley"),!1;const s=(n.medley_song_ids||[]).filter(l=>l!==t),{error:a}=await Xe.from("songs").update({medley_song_ids:s}).eq("id",e);return a?(console.error("Error al eliminar la canción del medley:",a),Pe.error("Error al eliminar la canción del medley"),!1):!0}catch(n){return console.error("Error al eliminar la canción del medley:",n),Pe.error("Error al eliminar la canción del medley"),!1}}async function z$(e){try{const{error:t}=await Xe.from("songs").delete().eq("id",e).eq("type","medley");return t?(console.error("Error al eliminar el medley:",t),Pe.error("Error al eliminar el medley"),!1):!0}catch(t){return console.error("Error al eliminar el medley:",t),Pe.error("Error al eliminar el medley"),!1}}async function q$(e,t){try{const n=await A3(e);if(!n)return Pe.error("No se pudo encontrar el setlist original"),null;const{data:{user:r}}=await Xe.auth.getUser();if(!r)return Pe.error("No se pudo obtener la información del usuario"),null;const i={name:t||`${n.name} (copia)`,description:n.description,group_id:n.group_id,estimated_duration_minutes:n.estimated_duration_minutes,created_by:r.id},s=await K5(i);if(!s)return Pe.error("Error al crear el nuevo setlist"),null;if(n.songs&&n.songs.length>0){const a=n.songs.map(l=>Z0(s.id,l.song_id,l.position));await Promise.all(a)}return await A3(s.id)}catch(n){return console.error("Error al duplicar el setlist:",n),Pe.error("Error al duplicar el setlist"),null}}let mu=null;function P3({isOpen:e,onClose:t,groupId:n,selectedDate:r,event:i,onEventSaved:s,availableDates:a,members:l}){var le;const[c,h]=E.useState(""),[p,m]=E.useState(""),[w,g]=E.useState(""),[N,j]=E.useState(""),[C,_]=E.useState(!1),[S,L]=E.useState([]),[R,X]=E.useState(!1),{user:te}=Is(),[W,O]=E.useState(""),[ee,ne]=E.useState([]),[T,F]=E.useState(null),[V,Y]=E.useState(!1),[ge,pe]=E.useState([]),[Q,$]=E.useState([]),[z,oe]=E.useState("");E.useEffect(()=>{if(i)h(i.name),m(i.date),g(i.time),j(i.notes||""),O(i.location||""),oe(i.setlist_id||""),i.location&&F({display_name:i.location,lat:"",lon:"",type:"",class:""}),Ae();else if(r){const ue=on(r,"yyyy-MM-dd");m(ue),g("20:00"),oe(""),P(ue)}},[i,r]),E.useEffect(()=>{e&&(async()=>{const[me,Ee]=await Promise.all([Xe.from("events").select("*").eq("group_id",n),uy(n)]);pe(me.data||[]),$(Ee||[])})()},[e,n]);const Ae=async()=>{if(i)try{const ue=await $n(()=>Xe.from("event_members").select("group_member_id, user_id").eq("event_id",i.id),"Error loading event members"),me=await $n(()=>Xe.from("member_availability").select("user_id").eq("date",i.date),"Error loading member availability"),Ee=await $n(()=>Xe.from("events").select(`
            date,
            event_members (
              user_id
            )
          `).neq("group_id",n).eq("date",i.date),"Error loading external events");if(ue){const Me=new Set((me==null?void 0:me.map(Re=>Re.user_id))||[]),fe=new Set;Ee==null||Ee.forEach(Re=>{var Fe;(Fe=Re.event_members)==null||Fe.forEach(We=>{fe.add(We.user_id)})});const J=new Set(ue.map(Re=>Re.group_member_id)),ze=l.map(Re=>({memberId:Re.id,userId:Re.user_id,selected:J.has(Re.id),isAvailable:J.has(Re.id)||(Re.user_id?Me.has(Re.user_id)&&!fe.has(Re.user_id):!0),sync_calendar:Re.sync_calendar}));L(ze)}}catch(ue){console.error("Error loading event members:",ue)}},P=async(ue,me)=>{try{const Ee=await $n(()=>Xe.from("events").select(`
            date,
            event_members (
              user_id
            )
          `).neq("group_id",n).eq("date",ue),"Error loading external events"),Me=new Set;Ee==null||Ee.forEach(Re=>{var Fe;(Fe=Re.event_members)==null||Fe.forEach(We=>{Me.add(We.user_id)})});const fe=await $n(()=>Xe.from("member_availability").select("user_id").eq("date",ue),"Error loading member availability"),J=new Set((fe==null?void 0:fe.map(Re=>Re.user_id))||[]),ze=l.map(Re=>{const Fe=Re.user_id?J.has(Re.user_id)&&!Me.has(Re.user_id):!0;return{memberId:Re.id,userId:Re.user_id,selected:me?me.includes(Re.id):Re.role_in_group==="principal"&&Fe,isAvailable:Fe,sync_calendar:Re.sync_calendar}});L(ze)}catch(Ee){console.error("Error loading available members:",Ee)}};E.useEffect(()=>{G()},[S]);const G=()=>{const ue=l.filter(Me=>Me.role_in_group==="principal"),me=S.filter(Me=>Me.selected).map(Me=>Me.memberId),Ee=new Set;return ue.forEach(Me=>{me.includes(Me.id)||Me.instruments.forEach(fe=>{S.filter(ze=>ze.selected).some(ze=>{const Re=l.find(Fe=>Fe.id===ze.memberId);return Re==null?void 0:Re.instruments.some(Fe=>Fe.id===fe.id)})||Ee.add(fe.name)})}),X(Ee.size>0),Ee},se=(ue,me)=>{L(Ee=>Ee.map(Me=>Me.memberId===ue?{...Me,selected:me}:Me))},ce=async ue=>{if(!ue.trim()){ne([]);return}mu&&mu.abort(),mu=new AbortController,Y(!0);try{const Me=(await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(ue)}&countrycodes=es&bounded=1&viewbox=-9.38,43.45,3.35,36.00&limit=5`,{signal:mu.signal})).json()).sort((fe,J)=>{const ze=fe.display_name.toLowerCase().includes("madrid")||fe.display_name.toLowerCase().includes("españa"),Re=J.display_name.toLowerCase().includes("madrid")||J.display_name.toLowerCase().includes("españa");return ze&&!Re?-1:!ze&&Re?1:0});ne(Me)}catch(me){me.name!=="AbortError"&&(console.error("Error searching locations:",me),Pe.error("Error al buscar ubicaciones"))}finally{Y(!1),mu=null}};E.useEffect(()=>()=>{mu&&mu.abort()},[]);const he=pt.useCallback(T$.debounce(ue=>{ce(ue)},300),[]),je=ue=>{const me=ue.target.value;if(O(me),ne([]),!me.trim()){ne([]);return}he(me)},ke=async()=>{try{if(!c||!p){Pe.error("Por favor completa los campos requeridos");return}_(!0);const ue={group_id:n,name:c.trim(),date:p,time:w,datetime:(()=>{const Ee=new Date(`${p}T${w}`),Me=-Ee.getTimezoneOffset(),fe=new Date(Ee.getTime()-Me*60*1e3).toISOString().replace("Z",W$(Me));return console.log("Zona horaria local:",Intl.DateTimeFormat().resolvedOptions().timeZone),console.log("Fecha local:",Ee.toString()),console.log("Fecha con offset local:",fe),fe})(),notes:N.trim()||null,created_by:te.id,location:T?T.display_name:W};let me;if(i){const{data:Ee,error:Me}=await Xe.from("events").update(ue).eq("id",i.id).select().single();if(Me)throw Me;me=i.id}else{const{data:Ee,error:Me}=await Xe.from("events").insert([ue]).select().single();if(Me)throw Me;me=Ee.id}if(me){i&&await Xe.from("event_members").delete().eq("event_id",me);const Ee=S.filter(Me=>Me.selected).map(Me=>({event_id:me,group_member_id:Me.memberId,user_id:Me.userId,created_by:te.id}));if(Ee.length>0){const{error:Me}=await Xe.from("event_members").insert(Ee);if(Me)throw Me}console.log("Actualizando calendarios para miembros:",S),await Promise.all(S.filter(Me=>Me.selected&&Me.sync_calendar).map(Me=>(console.log("Actualizando calendario para miembro:",Me),p6(n,Me.memberId)))),z?await L3(me,z):i!=null&&i.setlist_id&&await L3(me,null)}_(!1),s&&s(),t(),Pe.success(i?"Evento actualizado":"Evento creado")}catch(ue){_(!1),console.error("Error saving event:",ue),Pe.error("Error al guardar el evento")}},re=ue=>{const me=new Date;me.setHours(0,0,0,0);const Ee=new Set(a.map(fe=>on(fe,"yyyy-MM-dd"))),Me=new Set(ge.map(fe=>on(new Date(fe.date),"yyyy-MM-dd")));return ue.filter(fe=>{const J=on(fe,"yyyy-MM-dd"),ze=fe>=me;return Ee.has(J)&&!Me.has(J)&&ze}).sort((fe,J)=>fe.getTime()-J.getTime())};return e?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-white flex justify-between items-center p-4 border-b z-10",children:[d.jsx("h2",{className:"text-xl font-semibold",children:i?"Edit Event":"Create Event"}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:d.jsx(Da,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:ke,className:"p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsx(Vn,{label:"Event Name",value:c,onChange:ue=>h(ue.target.value),required:!0,placeholder:"Enter event name"}),d.jsx(Vn,{label:"Time",type:"time",value:w,onChange:ue=>g(ue.target.value),required:!0})]}),!i&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Date"}),d.jsxs("select",{value:p,onChange:ue=>{m(ue.target.value),P(ue.target.value)},className:"w-full border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 p-2",children:[d.jsx("option",{value:"",disabled:!0,children:"Select a date"}),re(a).map((ue,me)=>{const Ee=on(ue,"yyyy-MM-dd");return d.jsx("option",{value:Ee,children:on(ue,"EEEE, d MMMM yyyy",{locale:Qd})},me)})]})]}),i&&d.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:d.jsxs("span",{className:"text-sm text-gray-600",children:["Event date: ",on(new Date(i.date),"EEEE, d MMMM yyyy",{locale:Qd})]})}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Setlist (opcional)"}),d.jsxs("select",{value:z,onChange:ue=>oe(ue.target.value),className:"w-full border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 p-2",children:[d.jsx("option",{value:"",children:"Sin setlist"}),Q.map(ue=>{var me;return d.jsxs("option",{value:ue.id,children:[ue.name," (",((me=ue.songs)==null?void 0:me.length)||0," canciones)"]},ue.id)})]}),z&&d.jsx("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-800",children:["Setlist seleccionado: ",(le=Q.find(ue=>ue.id===z))==null?void 0:le.name]})})]}),p&&d.jsx(P$,{members:l,selectedMembers:S,onMemberSelectionChange:se,validationError:R}),d.jsxs("div",{className:"relative space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ubicación"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(l0,{className:"h-5 w-5 text-gray-400"})}),d.jsx(Vn,{value:W,onChange:je,className:"pl-10 pr-10",placeholder:"Buscar ubicación..."}),W&&d.jsx("button",{type:"button",onClick:()=>{O(""),F(null),ne([])},className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d.jsx(Da,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),V&&d.jsx("div",{className:"flex items-center justify-center p-4",children:d.jsx(go,{className:"h-6 w-6 animate-spin text-primary"})}),ee.length>0&&d.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:ee.map((ue,me)=>d.jsxs("button",{type:"button",className:"w-full text-left px-4 py-3 hover:bg-gray-50 focus:bg-gray-50 focus:outline-none transition-colors duration-150 flex items-start gap-3 border-b border-gray-100 last:border-0",onClick:()=>{F(ue),O(ue.display_name),ne([])},children:[d.jsx(l0,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-900",children:ue.display_name.split(",")[0]}),d.jsx("span",{className:"block text-xs text-gray-500 mt-0.5",children:ue.display_name.split(",").slice(1).join(",").trim()})]})]},me))}),T&&d.jsx("div",{className:"mt-3 p-4 bg-primary/5 rounded-lg border border-primary/10",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(l0,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"block text-sm font-medium text-gray-900",children:typeof T.display_name=="string"&&T.display_name.includes(",")?T.display_name.split(",")[0]:T.display_name}),d.jsx("span",{className:"block text-sm text-gray-500 mt-1",children:typeof T.display_name=="string"&&T.display_name.includes(",")?T.display_name.split(",").slice(1).join(",").trim():""})]}),d.jsx("button",{type:"button",onClick:()=>{F(null),O("")},className:"flex-shrink-0 text-gray-400 hover:text-gray-600",children:d.jsx(Da,{className:"h-5 w-5"})})]})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),d.jsx("textarea",{value:N,onChange:ue=>j(ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",rows:2,placeholder:"Add additional notes..."})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx(yt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(yt,{onClick:ke,disabled:C,className:"w-full",children:C?d.jsxs(d.Fragment,{children:[d.jsx(go,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):"Guardar"})]})]})]})}):null}function W$(e){const t=e>0?"+":"-",n=Math.floor(Math.abs(e)/60);return`${t}${n.toString().padStart(2,"0")}`}function Nn(e){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(e)}var Si=Uint8Array,Ps=Uint16Array,J5=Int32Array,Hg=new Si([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vg=new Si([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),dy=new Si([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),m6=function(e,t){for(var n=new Ps(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new J5(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},g6=m6(Hg,2),v6=g6.b,fy=g6.r;v6[28]=258,fy[258]=28;var y6=m6(Vg,0),H$=y6.b,T3=y6.r,hy=new Ps(32768);for(var Wn=0;Wn<32768;++Wn){var Zl=(Wn&43690)>>1|(Wn&21845)<<1;Zl=(Zl&52428)>>2|(Zl&13107)<<2,Zl=(Zl&61680)>>4|(Zl&3855)<<4,hy[Wn]=((Zl&65280)>>8|(Zl&255)<<8)>>1}var mo=function(e,t,n){for(var r=e.length,i=0,s=new Ps(t);i<r;++i)e[i]&&++s[e[i]-1];var a=new Ps(t);for(i=1;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;var l;if(n){l=new Ps(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var h=i<<4|e[i],p=t-e[i],m=a[e[i]-1]++<<p,w=m|(1<<p)-1;m<=w;++m)l[hy[m]>>c]=h}else for(l=new Ps(r),i=0;i<r;++i)e[i]&&(l[i]=hy[a[e[i]-1]++]>>15-e[i]);return l},Pc=new Si(288);for(var Wn=0;Wn<144;++Wn)Pc[Wn]=8;for(var Wn=144;Wn<256;++Wn)Pc[Wn]=9;for(var Wn=256;Wn<280;++Wn)Pc[Wn]=7;for(var Wn=280;Wn<288;++Wn)Pc[Wn]=8;var pp=new Si(32);for(var Wn=0;Wn<32;++Wn)pp[Wn]=5;var V$=mo(Pc,9,0),G$=mo(Pc,9,1),Y$=mo(pp,5,0),K$=mo(pp,5,1),Lv=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},ba=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Pv=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},X5=function(e){return(e+7)/8|0},w6=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Si(e.subarray(t,n))},J$=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ka=function(e,t,n){var r=new Error(t||J$[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,ka),!n)throw r;return r},X$=function(e,t,n,r){var i=e.length,s=0;if(!i||t.f&&!t.l)return n||new Si(0);var a=!n,l=a||t.i!=2,c=t.i;a&&(n=new Si(i*3));var h=function(ue){var me=n.length;if(ue>me){var Ee=new Si(Math.max(me*2,ue));Ee.set(n),n=Ee}},p=t.f||0,m=t.p||0,w=t.b||0,g=t.l,N=t.d,j=t.m,C=t.n,_=i*8;do{if(!g){p=ba(e,m,1);var S=ba(e,m+1,3);if(m+=3,S)if(S==1)g=G$,N=K$,j=9,C=5;else if(S==2){var te=ba(e,m,31)+257,W=ba(e,m+10,15)+4,O=te+ba(e,m+5,31)+1;m+=14;for(var ee=new Si(O),ne=new Si(19),T=0;T<W;++T)ne[dy[T]]=ba(e,m+T*3,7);m+=W*3;for(var F=Lv(ne),V=(1<<F)-1,Y=mo(ne,F,1),T=0;T<O;){var ge=Y[ba(e,m,V)];m+=ge&15;var L=ge>>4;if(L<16)ee[T++]=L;else{var pe=0,Q=0;for(L==16?(Q=3+ba(e,m,3),m+=2,pe=ee[T-1]):L==17?(Q=3+ba(e,m,7),m+=3):L==18&&(Q=11+ba(e,m,127),m+=7);Q--;)ee[T++]=pe}}var $=ee.subarray(0,te),z=ee.subarray(te);j=Lv($),C=Lv(z),g=mo($,j,1),N=mo(z,C,1)}else ka(1);else{var L=X5(m)+4,R=e[L-4]|e[L-3]<<8,X=L+R;if(X>i){c&&ka(0);break}l&&h(w+R),n.set(e.subarray(L,X),w),t.b=w+=R,t.p=m=X*8,t.f=p;continue}if(m>_){c&&ka(0);break}}l&&h(w+131072);for(var oe=(1<<j)-1,Ae=(1<<C)-1,P=m;;P=m){var pe=g[Pv(e,m)&oe],G=pe>>4;if(m+=pe&15,m>_){c&&ka(0);break}if(pe||ka(2),G<256)n[w++]=G;else if(G==256){P=m,g=null;break}else{var se=G-254;if(G>264){var T=G-257,ce=Hg[T];se=ba(e,m,(1<<ce)-1)+v6[T],m+=ce}var he=N[Pv(e,m)&Ae],je=he>>4;he||ka(3),m+=he&15;var z=H$[je];if(je>3){var ce=Vg[je];z+=Pv(e,m)&(1<<ce)-1,m+=ce}if(m>_){c&&ka(0);break}l&&h(w+131072);var ke=w+se;if(w<z){var re=s-z,le=Math.min(z,ke);for(re+w<0&&ka(3);w<le;++w)n[w]=r[re+w]}for(;w<ke;++w)n[w]=n[w-z]}}t.l=g,t.p=P,t.b=w,t.f=p,g&&(p=1,t.m=j,t.d=N,t.n=C)}while(!p);return w!=n.length&&a?w6(n,0,w):n.subarray(0,w)},Vo=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},bh=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Tv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:b6,l:0};if(i==1){var a=new Si(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(X,te){return X.f-te.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],h=0,p=1,m=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};p!=i-1;)l=n[n[h].f<n[m].f?h++:m++],c=n[h!=p&&n[h].f<n[m].f?h++:m++],n[p++]={s:-1,f:l.f+c.f,l,r:c};for(var w=s[0].s,r=1;r<i;++r)s[r].s>w&&(w=s[r].s);var g=new Ps(w+1),N=py(n[p-1],g,0);if(N>t){var r=0,j=0,C=N-t,_=1<<C;for(s.sort(function(te,W){return g[W.s]-g[te.s]||te.f-W.f});r<i;++r){var S=s[r].s;if(g[S]>t)j+=_-(1<<N-g[S]),g[S]=t;else break}for(j>>=C;j>0;){var L=s[r].s;g[L]<t?j-=1<<t-g[L]++-1:++r}for(;r>=0&&j;--r){var R=s[r].s;g[R]==t&&(--g[R],++j)}N=t}return{t:new Si(g),l:N}},py=function(e,t,n){return e.s==-1?Math.max(py(e.l,t,n+1),py(e.r,t,n+1)):t[e.s]=n},D3=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ps(++t),r=0,i=e[0],s=1,a=function(c){n[r++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[l]}return{c:n.subarray(0,r),n:t}},_h=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},x6=function(e,t,n){var r=n.length,i=X5(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},O3=function(e,t,n,r,i,s,a,l,c,h,p){Vo(t,p++,n),++i[256];for(var m=Tv(i,15),w=m.t,g=m.l,N=Tv(s,15),j=N.t,C=N.l,_=D3(w),S=_.c,L=_.n,R=D3(j),X=R.c,te=R.n,W=new Ps(19),O=0;O<S.length;++O)++W[S[O]&31];for(var O=0;O<X.length;++O)++W[X[O]&31];for(var ee=Tv(W,7),ne=ee.t,T=ee.l,F=19;F>4&&!ne[dy[F-1]];--F);var V=h+5<<3,Y=_h(i,Pc)+_h(s,pp)+a,ge=_h(i,w)+_h(s,j)+a+14+3*F+_h(W,ne)+2*W[16]+3*W[17]+7*W[18];if(c>=0&&V<=Y&&V<=ge)return x6(t,p,e.subarray(c,c+h));var pe,Q,$,z;if(Vo(t,p,1+(ge<Y)),p+=2,ge<Y){pe=mo(w,g,0),Q=w,$=mo(j,C,0),z=j;var oe=mo(ne,T,0);Vo(t,p,L-257),Vo(t,p+5,te-1),Vo(t,p+10,F-4),p+=14;for(var O=0;O<F;++O)Vo(t,p+3*O,ne[dy[O]]);p+=3*F;for(var Ae=[S,X],P=0;P<2;++P)for(var G=Ae[P],O=0;O<G.length;++O){var se=G[O]&31;Vo(t,p,oe[se]),p+=ne[se],se>15&&(Vo(t,p,G[O]>>5&127),p+=G[O]>>12)}}else pe=V$,Q=Pc,$=Y$,z=pp;for(var O=0;O<l;++O){var ce=r[O];if(ce>255){var se=ce>>18&31;bh(t,p,pe[se+257]),p+=Q[se+257],se>7&&(Vo(t,p,ce>>23&31),p+=Hg[se]);var he=ce&31;bh(t,p,$[he]),p+=z[he],he>3&&(bh(t,p,ce>>5&8191),p+=Vg[he])}else bh(t,p,pe[ce]),p+=Q[ce]}return bh(t,p,pe[256]),p+Q[256]},Q$=new J5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),b6=new Si(0),Z$=function(e,t,n,r,i,s){var a=s.z||e.length,l=new Si(r+a+5*(1+Math.ceil(a/7e3))+i),c=l.subarray(r,l.length-i),h=s.l,p=(s.r||0)&7;if(t){p&&(c[0]=s.r>>3);for(var m=Q$[t-1],w=m>>13,g=m&8191,N=(1<<n)-1,j=s.p||new Ps(32768),C=s.h||new Ps(N+1),_=Math.ceil(n/3),S=2*_,L=function(Me){return(e[Me]^e[Me+1]<<_^e[Me+2]<<S)&N},R=new J5(25e3),X=new Ps(288),te=new Ps(32),W=0,O=0,ee=s.i||0,ne=0,T=s.w||0,F=0;ee+2<a;++ee){var V=L(ee),Y=ee&32767,ge=C[V];if(j[Y]=ge,C[V]=Y,T<=ee){var pe=a-ee;if((W>7e3||ne>24576)&&(pe>423||!h)){p=O3(e,c,0,R,X,te,O,ne,F,ee-F,p),ne=W=O=0,F=ee;for(var Q=0;Q<286;++Q)X[Q]=0;for(var Q=0;Q<30;++Q)te[Q]=0}var $=2,z=0,oe=g,Ae=Y-ge&32767;if(pe>2&&V==L(ee-Ae))for(var P=Math.min(w,pe)-1,G=Math.min(32767,ee),se=Math.min(258,pe);Ae<=G&&--oe&&Y!=ge;){if(e[ee+$]==e[ee+$-Ae]){for(var ce=0;ce<se&&e[ee+ce]==e[ee+ce-Ae];++ce);if(ce>$){if($=ce,z=Ae,ce>P)break;for(var he=Math.min(Ae,ce-2),je=0,Q=0;Q<he;++Q){var ke=ee-Ae+Q&32767,re=j[ke],le=ke-re&32767;le>je&&(je=le,ge=ke)}}}Y=ge,ge=j[Y],Ae+=Y-ge&32767}if(z){R[ne++]=268435456|fy[$]<<18|T3[z];var ue=fy[$]&31,me=T3[z]&31;O+=Hg[ue]+Vg[me],++X[257+ue],++te[me],T=ee+$,++W}else R[ne++]=e[ee],++X[e[ee]]}}for(ee=Math.max(ee,T);ee<a;++ee)R[ne++]=e[ee],++X[e[ee]];p=O3(e,c,h,R,X,te,O,ne,F,ee-F,p),h||(s.r=p&7|c[p/8|0]<<3,p-=7,s.h=C,s.p=j,s.i=ee,s.w=T)}else{for(var ee=s.w||0;ee<a+h;ee+=65535){var Ee=ee+65535;Ee>=a&&(c[p/8|0]=h,Ee=a),p=x6(c,p+1,e.subarray(ee,Ee))}s.i=a}return w6(l,0,r+X5(p)+i)},_6=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,a=0;a!=s;){for(var l=Math.min(a+2655,s);a<l;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},eB=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new Si(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return Z$(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},S6=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},tB=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=_6();i.p(t.dictionary),S6(e,2,i.d())}},nB=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ka(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&ka(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function my(e,t){t||(t={});var n=_6();n.p(e);var r=eB(e,t,t.dictionary?6:2,4);return tB(r,t),S6(r,r.length-4,n.d()),r}function rB(e,t){return X$(e.subarray(nB(e,t),-4),{i:2},t,t)}var iB=typeof TextDecoder<"u"&&new TextDecoder,sB=0;try{iB.decode(b6,{stream:!0}),sB=1}catch{}var At=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Dv(){At.console&&typeof At.console.log=="function"&&At.console.log.apply(At.console,arguments)}var Dn={log:Dv,warn:function(e){At.console&&(typeof At.console.warn=="function"?At.console.warn.apply(At.console,arguments):Dv.call(null,arguments))},error:function(e){At.console&&(typeof At.console.error=="function"?At.console.error.apply(At.console,arguments):Dv(e))}};function Ov(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){bu(r.response,t,n)},r.onerror=function(){Dn.error("could not download file")},r.send()}function M3(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Bm(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var zh,gy,bu=At.saveAs||((typeof window>"u"?"undefined":Nn(window))!=="object"||window!==At?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=At.URL||At.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?M3(i.href)?Ov(e,t,n):Bm(i,i.target="_blank"):Bm(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Bm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(M3(e))Ov(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Bm(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Nn(s)!=="object"&&(Dn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Ov(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(At.HTMLElement)||At.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Nn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=a?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},l.readAsDataURL(e)}else{var c=At.URL||At.webkitURL,h=c.createObjectURL(e);r?r.location=h:location.href=h,r=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function N6(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+l+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Mv(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=vi(n,r,i,s,t[0],7,-680876936),s=vi(s,n,r,i,t[1],12,-389564586),i=vi(i,s,n,r,t[2],17,606105819),r=vi(r,i,s,n,t[3],22,-1044525330),n=vi(n,r,i,s,t[4],7,-176418897),s=vi(s,n,r,i,t[5],12,1200080426),i=vi(i,s,n,r,t[6],17,-1473231341),r=vi(r,i,s,n,t[7],22,-45705983),n=vi(n,r,i,s,t[8],7,1770035416),s=vi(s,n,r,i,t[9],12,-1958414417),i=vi(i,s,n,r,t[10],17,-42063),r=vi(r,i,s,n,t[11],22,-1990404162),n=vi(n,r,i,s,t[12],7,1804603682),s=vi(s,n,r,i,t[13],12,-40341101),i=vi(i,s,n,r,t[14],17,-1502002290),n=yi(n,r=vi(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=yi(s,n,r,i,t[6],9,-1069501632),i=yi(i,s,n,r,t[11],14,643717713),r=yi(r,i,s,n,t[0],20,-373897302),n=yi(n,r,i,s,t[5],5,-701558691),s=yi(s,n,r,i,t[10],9,38016083),i=yi(i,s,n,r,t[15],14,-660478335),r=yi(r,i,s,n,t[4],20,-405537848),n=yi(n,r,i,s,t[9],5,568446438),s=yi(s,n,r,i,t[14],9,-1019803690),i=yi(i,s,n,r,t[3],14,-187363961),r=yi(r,i,s,n,t[8],20,1163531501),n=yi(n,r,i,s,t[13],5,-1444681467),s=yi(s,n,r,i,t[2],9,-51403784),i=yi(i,s,n,r,t[7],14,1735328473),n=wi(n,r=yi(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=wi(s,n,r,i,t[8],11,-2022574463),i=wi(i,s,n,r,t[11],16,1839030562),r=wi(r,i,s,n,t[14],23,-35309556),n=wi(n,r,i,s,t[1],4,-1530992060),s=wi(s,n,r,i,t[4],11,1272893353),i=wi(i,s,n,r,t[7],16,-155497632),r=wi(r,i,s,n,t[10],23,-1094730640),n=wi(n,r,i,s,t[13],4,681279174),s=wi(s,n,r,i,t[0],11,-358537222),i=wi(i,s,n,r,t[3],16,-722521979),r=wi(r,i,s,n,t[6],23,76029189),n=wi(n,r,i,s,t[9],4,-640364487),s=wi(s,n,r,i,t[12],11,-421815835),i=wi(i,s,n,r,t[15],16,530742520),n=xi(n,r=wi(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=xi(s,n,r,i,t[7],10,1126891415),i=xi(i,s,n,r,t[14],15,-1416354905),r=xi(r,i,s,n,t[5],21,-57434055),n=xi(n,r,i,s,t[12],6,1700485571),s=xi(s,n,r,i,t[3],10,-1894986606),i=xi(i,s,n,r,t[10],15,-1051523),r=xi(r,i,s,n,t[1],21,-2054922799),n=xi(n,r,i,s,t[8],6,1873313359),s=xi(s,n,r,i,t[15],10,-30611744),i=xi(i,s,n,r,t[6],15,-1560198380),r=xi(r,i,s,n,t[13],21,1309151649),n=xi(n,r,i,s,t[4],6,-145523070),s=xi(s,n,r,i,t[11],10,-1120210379),i=xi(i,s,n,r,t[2],15,718787259),r=xi(r,i,s,n,t[9],21,-343485551),e[0]=gc(n,e[0]),e[1]=gc(r,e[1]),e[2]=gc(i,e[2]),e[3]=gc(s,e[3])}function Gg(e,t,n,r,i,s){return t=gc(gc(t,e),gc(r,s)),gc(t<<i|t>>>32-i,n)}function vi(e,t,n,r,i,s,a){return Gg(t&n|~t&r,e,t,i,s,a)}function yi(e,t,n,r,i,s,a){return Gg(t&r|n&~r,e,t,i,s,a)}function wi(e,t,n,r,i,s,a){return Gg(t^n^r,e,t,i,s,a)}function xi(e,t,n,r,i,s,a){return Gg(n^(t|~r),e,t,i,s,a)}function j6(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Mv(r,aB(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Mv(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Mv(r,i),r}function aB(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}zh=At.atob.bind(At),gy=At.btoa.bind(At);var I3="0123456789abcdef".split("");function oB(e){for(var t="",n=0;n<4;n++)t+=I3[e>>8*n+4&15]+I3[e>>8*n&15];return t}function lB(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function vy(e){return j6(e).map(lB).join("")}var cB=function(e){for(var t=0;t<e.length;t++)e[t]=oB(e[t]);return e.join("")}(j6("hello"))!="5d41402abc4b2a76b9719d911017c592";function gc(e,t){if(cB){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function yy(e,t){var n,r,i,s;if(e!==n){for(var a=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var h=0;for(c=0;c<256;c++){var p=l[c];h=(h+p+a.charCodeAt(c))%256,l[c]=l[h],l[h]=p}n=e,r=l}else l=r;var m=t.length,w=0,g=0,N="";for(c=0;c<m;c++)g=(g+(p=l[w=(w+1)%256]))%256,l[w]=l[g],l[g]=p,a=l[(l[w]+l[g])%256],N+=String.fromCharCode(t.charCodeAt(c)^a);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var R3={print:4,modify:8,copy:16,"annot-forms":32};function Fd(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(R3.perm!==void 0)throw new Error("Invalid permission: "+l);i+=R3[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=vy(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=yy(this.encryptionKey,this.padding)}function $d(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function F3(e){if(Nn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var a=t[n][s];try{a[0].apply(e,r)}catch(l){At.console&&Dn.error("jsPDF PubSub Error",l.message,l)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function eg(e){if(!(this instanceof eg))return new eg(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function k6(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Nu(e,t,n,r,i){if(!(this instanceof Nu))return new Nu(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,k6.call(this,r,i)}function Zd(e,t,n,r,i){if(!(this instanceof Zd))return new Zd(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,k6.call(this,r,i)}function Ct(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],l=1,c=16,h="S",p=null;Nn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),h=e.defaultPathOperation||"S"),a=e.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,w={},g={internal:{},__private__:{}};g.__private__.PubSub=F3;var N="1.3",j=g.__private__.getPdfVersion=function(){return N};g.__private__.setPdfVersion=function(x){N=x};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return C};var _=g.__private__.getPageFormat=function(x){return C[x]};i=i||"a4";var S={COMPAT:"compat",ADVANCED:"advanced"},L=S.COMPAT;function R(){this.saveGraphicsState(),J(new ht(et,0,0,-et,0,zs()*et).toString()+" cm"),this.setFontSize(this.getFontSize()/et),h="n",L=S.ADVANCED}function X(){this.restoreGraphicsState(),h="S",L=S.COMPAT}var te=g.__private__.combineFontStyleAndFontWeight=function(x,M){if(x=="bold"&&M=="normal"||x=="bold"&&M==400||x=="normal"&&M=="italic"||x=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(x=M==400||M==="normal"?x==="italic"?"italic":"normal":M!=700&&M!=="bold"||x!=="normal"?(M==700?"bold":M)+""+x:"bold"),x};g.advancedAPI=function(x){var M=L===S.COMPAT;return M&&R.call(this),typeof x!="function"||(x(this),M&&X.call(this)),this},g.compatAPI=function(x){var M=L===S.ADVANCED;return M&&X.call(this),typeof x!="function"||(x(this),M&&R.call(this)),this},g.isAdvancedAPI=function(){return L===S.ADVANCED};var W,O=function(x){if(L!==S.ADVANCED)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ee=g.roundToPrecision=g.__private__.roundToPrecision=function(x,M){var ae=t||M;if(isNaN(x)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ae).replace(/0+$/,"")};W=g.hpf=g.__private__.hpf=typeof c=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(x,c)}:c==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(x,16)};var ne=g.f2=g.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return ee(x,2)},T=g.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return ee(x,3)},F=g.scale=g.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return L===S.COMPAT?x*et:L===S.ADVANCED?x:void 0},V=function(x){return L===S.COMPAT?zs()-x:L===S.ADVANCED?x:void 0},Y=function(x){return F(V(x))};g.__private__.setPrecision=g.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(t=parseInt(x,10))};var ge,pe="00000000000000000000000000000000",Q=g.__private__.getFileId=function(){return pe},$=g.__private__.setFileId=function(x){return pe=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():pe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Br=new Fd(p.userPermissions,p.userPassword,p.ownerPassword,pe)),pe};g.setFileId=function(x){return $(x),this},g.getFileId=function(){return Q()};var z=g.__private__.convertDateToPDFDate=function(x){var M=x.getTimezoneOffset(),ae=M<0?"+":"-",ve=Math.floor(Math.abs(M/60)),Le=Math.abs(M%60),Be=[ae,se(ve),"'",se(Le),"'"].join("");return["D:",x.getFullYear(),se(x.getMonth()+1),se(x.getDate()),se(x.getHours()),se(x.getMinutes()),se(x.getSeconds()),Be].join("")},oe=g.__private__.convertPDFDateToDate=function(x){var M=parseInt(x.substr(2,4),10),ae=parseInt(x.substr(6,2),10)-1,ve=parseInt(x.substr(8,2),10),Le=parseInt(x.substr(10,2),10),Be=parseInt(x.substr(12,2),10),Qe=parseInt(x.substr(14,2),10);return new Date(M,ae,ve,Le,Be,Qe,0)},Ae=g.__private__.setCreationDate=function(x){var M;if(x===void 0&&(x=new Date),x instanceof Date)M=z(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=x}return ge=M},P=g.__private__.getCreationDate=function(x){var M=ge;return x==="jsDate"&&(M=oe(ge)),M};g.setCreationDate=function(x){return Ae(x),this},g.getCreationDate=function(x){return P(x)};var G,se=g.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},ce=g.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},he=0,je=[],ke=[],re=0,le=[],ue=[],me=!1,Ee=ke,Me=function(){he=0,re=0,ke=[],je=[],le=[],ji=En(),ps=En()};g.__private__.setCustomOutputDestination=function(x){me=!0,Ee=x};var fe=function(x){me||(Ee=x)};g.__private__.resetCustomOutputDestination=function(){me=!1,Ee=ke};var J=g.__private__.out=function(x){return x=x.toString(),re+=x.length+1,Ee.push(x),Ee},ze=g.__private__.write=function(x){return J(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},Re=g.__private__.getArrayBuffer=function(x){for(var M=x.length,ae=new ArrayBuffer(M),ve=new Uint8Array(ae);M--;)ve[M]=x.charCodeAt(M);return ae},Fe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Fe};var We=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(x){return We=L===S.ADVANCED?x/et:x,this};var be,Ie=g.__private__.getFontSize=g.getFontSize=function(){return L===S.COMPAT?We:We*et},Ke=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(x){return Ke=x,this},g.__private__.getR2L=g.getR2L=function(){return Ke};var Je,nt=g.__private__.setZoomMode=function(x){var M=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))be=x;else if(isNaN(x)){if(M.indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');be=x}else be=parseInt(x,10)};g.__private__.getZoomMode=function(){return be};var rt,at=g.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');Je=x};g.__private__.getPageMode=function(){return Je};var St=g.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');rt=x};g.__private__.getLayoutMode=function(){return rt},g.__private__.setDisplayMode=g.setDisplayMode=function(x,M,ae){return nt(x),St(M),at(ae),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(x){if(Object.keys(ft).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[x]},g.__private__.getDocumentProperties=function(){return ft},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(x){for(var M in ft)ft.hasOwnProperty(M)&&x[M]&&(ft[M]=x[M]);return this},g.__private__.setDocumentProperty=function(x,M){if(Object.keys(ft).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[x]=M};var Nt,et,bn,Bt,Pr,Qt={},pn={},ai=[],Zt={},aa={},Mn={},oi={},_n=null,Gt=0,wt=[],Ut=new F3(g),ur=e.hotfixes||[],rn={},tr={},Tr=[],ht=function x(M,ae,ve,Le,Be,Qe){if(!(this instanceof x))return new x(M,ae,ve,Le,Be,Qe);isNaN(M)&&(M=1),isNaN(ae)&&(ae=0),isNaN(ve)&&(ve=0),isNaN(Le)&&(Le=1),isNaN(Be)&&(Be=0),isNaN(Qe)&&(Qe=0),this._matrix=[M,ae,ve,Le,Be,Qe]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(W).join(x)},ht.prototype.multiply=function(x){var M=x.sx*this.sx+x.shy*this.shx,ae=x.sx*this.shy+x.shy*this.sy,ve=x.shx*this.sx+x.sy*this.shx,Le=x.shx*this.shy+x.sy*this.sy,Be=x.tx*this.sx+x.ty*this.shx+this.tx,Qe=x.tx*this.shy+x.ty*this.sy+this.ty;return new ht(M,ae,ve,Le,Be,Qe)},ht.prototype.decompose=function(){var x=this.sx,M=this.shy,ae=this.shx,ve=this.sy,Le=this.tx,Be=this.ty,Qe=Math.sqrt(x*x+M*M),ut=(x/=Qe)*ae+(M/=Qe)*ve;ae-=x*ut,ve-=M*ut;var _t=Math.sqrt(ae*ae+ve*ve);return ut/=_t,x*(ve/=_t)<M*(ae/=_t)&&(x=-x,M=-M,ut=-ut,Qe=-Qe),{scale:new ht(Qe,0,0,_t,0,0),translate:new ht(1,0,0,1,Le,Be),rotate:new ht(x,M,-M,x,0,0),skew:new ht(1,0,ut,1,0,0)}},ht.prototype.toString=function(x){return this.join(" ")},ht.prototype.inversed=function(){var x=this.sx,M=this.shy,ae=this.shx,ve=this.sy,Le=this.tx,Be=this.ty,Qe=1/(x*ve-M*ae),ut=ve*Qe,_t=-M*Qe,Ot=-ae*Qe,Pt=x*Qe;return new ht(ut,_t,Ot,Pt,-ut*Le-Ot*Be,-_t*Le-Pt*Be)},ht.prototype.applyToPoint=function(x){var M=x.x*this.sx+x.y*this.shx+this.tx,ae=x.x*this.shy+x.y*this.sy+this.ty;return new Or(M,ae)},ht.prototype.applyToRectangle=function(x){var M=this.applyToPoint(x),ae=this.applyToPoint(new Or(x.x+x.w,x.y+x.h));return new Kc(M.x,M.y,ae.x-M.x,ae.y-M.y)},ht.prototype.clone=function(){var x=this.sx,M=this.shy,ae=this.shx,ve=this.sy,Le=this.tx,Be=this.ty;return new ht(x,M,ae,ve,Le,Be)},g.Matrix=ht;var Gn=g.matrixMult=function(x,M){return M.multiply(x)},nr=new ht(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=nr;var kn=function(x,M){if(!aa[x]){var ae=(M instanceof Nu?"Sh":"P")+(Object.keys(Zt).length+1).toString(10);M.id=ae,aa[x]=ae,Zt[ae]=M,Ut.publish("addPattern",M)}};g.ShadingPattern=Nu,g.TilingPattern=Zd,g.addShadingPattern=function(x,M){return O("addShadingPattern()"),kn(x,M),this},g.beginTilingPattern=function(x){O("beginTilingPattern()"),ys(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},g.endTilingPattern=function(x,M){O("endTilingPattern()"),M.stream=ue[G].join(`
`),kn(x,M),Ut.publish("endTilingPattern",M),Tr.pop().restore()};var Pn=g.__private__.newObject=function(){var x=En();return Yn(x,!0),x},En=g.__private__.newObjectDeferred=function(){return he++,je[he]=function(){return re},he},Yn=function(x,M){return M=typeof M=="boolean"&&M,je[x]=re,M&&J(x+" 0 obj"),x},Ui=g.__private__.newAdditionalObject=function(){var x={objId:En(),content:""};return le.push(x),x},ji=En(),ps=En(),ms=g.__private__.decodeColorString=function(x){var M=x.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length===5&&(M[4]==="k"||M[4]==="K")&&(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var ae=parseFloat(M[0]);M=[ae,ae,ae,"r"]}for(var ve="#",Le=0;Le<3;Le++)ve+=("0"+Math.floor(255*parseFloat(M[Le])).toString(16)).slice(-2);return ve},gs=g.__private__.encodeColorString=function(x){var M;typeof x=="string"&&(x={ch1:x});var ae=x.ch1,ve=x.ch2,Le=x.ch3,Be=x.ch4,Qe=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var ut=new N6(ae);if(ut.ok)ae=ut.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var _t=parseInt(ae.substr(1),16);ae=_t>>16&255,ve=_t>>8&255,Le=255&_t}if(ve===void 0||Be===void 0&&ae===ve&&ve===Le)if(typeof ae=="string")M=ae+" "+Qe[0];else switch(x.precision){case 2:M=ne(ae/255)+" "+Qe[0];break;case 3:default:M=T(ae/255)+" "+Qe[0]}else if(Be===void 0||Nn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return M=["1.","1.","1.",Qe[1]].join(" ");if(typeof ae=="string")M=[ae,ve,Le,Qe[1]].join(" ");else switch(x.precision){case 2:M=[ne(ae/255),ne(ve/255),ne(Le/255),Qe[1]].join(" ");break;default:case 3:M=[T(ae/255),T(ve/255),T(Le/255),Qe[1]].join(" ")}}else if(typeof ae=="string")M=[ae,ve,Le,Be,Qe[2]].join(" ");else switch(x.precision){case 2:M=[ne(ae),ne(ve),ne(Le),ne(Be),Qe[2]].join(" ");break;case 3:default:M=[T(ae),T(ve),T(Le),T(Be),Qe[2]].join(" ")}return M},vs=g.__private__.getFilters=function(){return a},zi=g.__private__.putStream=function(x){var M=(x=x||{}).data||"",ae=x.filters||vs(),ve=x.alreadyAppliedFilters||[],Le=x.addLength1||!1,Be=M.length,Qe=x.objectId,ut=function(kr){return kr};if(p!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ut=Br.encryptor(Qe,0));var _t={};ae===!0&&(ae=["FlateEncode"]);var Ot=x.additionalKeyValues||[],Pt=(_t=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(M,ae):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(_t.data.length!==0&&(Ot.push({key:"Length",value:_t.data.length}),Le===!0&&Ot.push({key:"Length1",value:Be})),Pt.length!=0)if(Pt.split("/").length-1==1)Ot.push({key:"Filter",value:Pt});else{Ot.push({key:"Filter",value:"["+Pt+"]"});for(var Yt=0;Yt<Ot.length;Yt+=1)if(Ot[Yt].key==="DecodeParms"){for(var In=[],Xn=0;Xn<_t.reverseChain.split("/").length-1;Xn+=1)In.push("null");In.push(Ot[Yt].value),Ot[Yt].value="["+In.join(" ")+"]"}}J("<<");for(var Qn=0;Qn<Ot.length;Qn++)J("/"+Ot[Qn].key+" "+Ot[Qn].value);J(">>"),_t.data.length!==0&&(J("stream"),J(ut(_t.data)),J("endstream"))},Rs=g.__private__.putPage=function(x){var M=x.number,ae=x.data,ve=x.objId,Le=x.contentsObjId;Yn(ve,!0),J("<</Type /Page"),J("/Parent "+x.rootDictionaryObjId+" 0 R"),J("/Resources "+x.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(W(x.mediaBox.bottomLeftX))+" "+parseFloat(W(x.mediaBox.bottomLeftY))+" "+W(x.mediaBox.topRightX)+" "+W(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&J("/CropBox ["+W(x.cropBox.bottomLeftX)+" "+W(x.cropBox.bottomLeftY)+" "+W(x.cropBox.topRightX)+" "+W(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&J("/BleedBox ["+W(x.bleedBox.bottomLeftX)+" "+W(x.bleedBox.bottomLeftY)+" "+W(x.bleedBox.topRightX)+" "+W(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&J("/TrimBox ["+W(x.trimBox.bottomLeftX)+" "+W(x.trimBox.bottomLeftY)+" "+W(x.trimBox.topRightX)+" "+W(x.trimBox.topRightY)+"]"),x.artBox!==null&&J("/ArtBox ["+W(x.artBox.bottomLeftX)+" "+W(x.artBox.bottomLeftY)+" "+W(x.artBox.topRightX)+" "+W(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&J("/UserUnit "+x.userUnit),Ut.publish("putPage",{objId:ve,pageContext:wt[M],pageNumber:M,page:ae}),J("/Contents "+Le+" 0 R"),J(">>"),J("endobj");var Be=ae.join(`
`);return L===S.ADVANCED&&(Be+=`
Q`),Yn(Le,!0),zi({data:Be,filters:vs(),objectId:Le}),J("endobj"),ve},So=g.__private__.putPages=function(){var x,M,ae=[];for(x=1;x<=Gt;x++)wt[x].objId=En(),wt[x].contentsObjId=En();for(x=1;x<=Gt;x++)ae.push(Rs({number:x,data:ue[x],objId:wt[x].objId,contentsObjId:wt[x].contentsObjId,mediaBox:wt[x].mediaBox,cropBox:wt[x].cropBox,bleedBox:wt[x].bleedBox,trimBox:wt[x].trimBox,artBox:wt[x].artBox,userUnit:wt[x].userUnit,rootDictionaryObjId:ji,resourceDictionaryObjId:ps}));Yn(ji,!0),J("<</Type /Pages");var ve="/Kids [";for(M=0;M<Gt;M++)ve+=ae[M]+" 0 R ";J(ve+"]"),J("/Count "+Gt),J(">>"),J("endobj"),Ut.publish("postPutPages")},ll=function(x){Ut.publish("putFont",{font:x,out:J,newObject:Pn,putStream:zi}),x.isAlreadyPutted!==!0&&(x.objectNumber=Pn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+$d(x.postScriptName)),J("/Subtype /Type1"),typeof x.encoding=="string"&&J("/Encoding /"+x.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},cl=function(){for(var x in Qt)Qt.hasOwnProperty(x)&&(m===!1||m===!0&&w.hasOwnProperty(x))&&ll(Qt[x])},ul=function(x){x.objectNumber=Pn();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[W(x.x),W(x.y),W(x.x+x.width),W(x.y+x.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ae=x.pages[1].join(`
`);zi({data:ae,additionalKeyValues:M,objectId:x.objectNumber}),J("endobj")},oa=function(){for(var x in rn)rn.hasOwnProperty(x)&&ul(rn[x])},Yu=function(x,M){var ae,ve=[],Le=1/(M-1);for(ae=0;ae<1;ae+=Le)ve.push(ae);if(ve.push(1),x[0].offset!=0){var Be={offset:0,color:x[0].color};x.unshift(Be)}if(x[x.length-1].offset!=1){var Qe={offset:1,color:x[x.length-1].color};x.push(Qe)}for(var ut="",_t=0,Ot=0;Ot<ve.length;Ot++){for(ae=ve[Ot];ae>x[_t+1].offset;)_t++;var Pt=x[_t].offset,Yt=(ae-Pt)/(x[_t+1].offset-Pt),In=x[_t].color,Xn=x[_t+1].color;ut+=ce(Math.round((1-Yt)*In[0]+Yt*Xn[0]).toString(16))+ce(Math.round((1-Yt)*In[1]+Yt*Xn[1]).toString(16))+ce(Math.round((1-Yt)*In[2]+Yt*Xn[2]).toString(16))}return ut.trim()},dl=function(x,M){M||(M=21);var ae=Pn(),ve=Yu(x.colors,M),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+M+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zi({data:ve,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),J("endobj"),x.objectNumber=Pn(),J("<< /ShadingType "+x.type),J("/ColorSpace /DeviceRGB");var Be="/Coords ["+W(parseFloat(x.coords[0]))+" "+W(parseFloat(x.coords[1]))+" ";x.type===2?Be+=W(parseFloat(x.coords[2]))+" "+W(parseFloat(x.coords[3])):Be+=W(parseFloat(x.coords[2]))+" "+W(parseFloat(x.coords[3]))+" "+W(parseFloat(x.coords[4]))+" "+W(parseFloat(x.coords[5])),J(Be+="]"),x.matrix&&J("/Matrix ["+x.matrix.toString()+"]"),J("/Function "+ae+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Mf=function(x,M){var ae=En(),ve=Pn();M.push({resourcesOid:ae,objectOid:ve}),x.objectNumber=ve;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+x.boundingBox.map(W).join(" ")+"]"}),Le.push({key:"XStep",value:W(x.xStep)}),Le.push({key:"YStep",value:W(x.yStep)}),Le.push({key:"Resources",value:ae+" 0 R"}),x.matrix&&Le.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),zi({data:x.stream,additionalKeyValues:Le,objectId:x.objectNumber}),J("endobj")},fl=function(x){var M;for(M in Zt)Zt.hasOwnProperty(M)&&(Zt[M]instanceof Nu?dl(Zt[M]):Zt[M]instanceof Zd&&Mf(Zt[M],x))},Ku=function(x){for(var M in x.objectNumber=Pn(),J("<<"),x)switch(M){case"opacity":J("/ca "+ne(x[M]));break;case"stroke-opacity":J("/CA "+ne(x[M]))}J(">>"),J("endobj")},Ju=function(){var x;for(x in Mn)Mn.hasOwnProperty(x)&&Ku(Mn[x])},hl=function(){for(var x in J("/XObject <<"),rn)rn.hasOwnProperty(x)&&rn[x].objectNumber>=0&&J("/"+x+" "+rn[x].objectNumber+" 0 R");Ut.publish("putXobjectDict"),J(">>")},Xu=function(){Br.oid=Pn(),J("<<"),J("/Filter /Standard"),J("/V "+Br.v),J("/R "+Br.r),J("/U <"+Br.toHexString(Br.U)+">"),J("/O <"+Br.toHexString(Br.O)+">"),J("/P "+Br.P),J(">>"),J("endobj")},Qu=function(){for(var x in J("/Font <<"),Qt)Qt.hasOwnProperty(x)&&(m===!1||m===!0&&w.hasOwnProperty(x))&&J("/"+x+" "+Qt[x].objectNumber+" 0 R");J(">>")},If=function(){if(Object.keys(Zt).length>0){for(var x in J("/Shading <<"),Zt)Zt.hasOwnProperty(x)&&Zt[x]instanceof Nu&&Zt[x].objectNumber>=0&&J("/"+x+" "+Zt[x].objectNumber+" 0 R");Ut.publish("putShadingPatternDict"),J(">>")}},pl=function(x){if(Object.keys(Zt).length>0){for(var M in J("/Pattern <<"),Zt)Zt.hasOwnProperty(M)&&Zt[M]instanceof g.TilingPattern&&Zt[M].objectNumber>=0&&Zt[M].objectNumber<x&&J("/"+M+" "+Zt[M].objectNumber+" 0 R");Ut.publish("putTilingPatternDict"),J(">>")}},Rf=function(){if(Object.keys(Mn).length>0){var x;for(x in J("/ExtGState <<"),Mn)Mn.hasOwnProperty(x)&&Mn[x].objectNumber>=0&&J("/"+x+" "+Mn[x].objectNumber+" 0 R");Ut.publish("putGStateDict"),J(">>")}},Kn=function(x){Yn(x.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Qu(),If(),pl(x.objectOid),Rf(),hl(),J(">>"),J("endobj")},$c=function(){var x=[];cl(),Ju(),oa(),fl(x),Ut.publish("putResources"),x.forEach(Kn),Kn({resourcesOid:ps,objectOid:Number.MAX_SAFE_INTEGER}),Ut.publish("postPutResources")},Bc=function(){Ut.publish("putAdditionalObjects");for(var x=0;x<le.length;x++){var M=le[x];Yn(M.objId,!0),J(M.content),J("endobj")}Ut.publish("postPutAdditionalObjects")},ml=function(x){pn[x.fontName]=pn[x.fontName]||{},pn[x.fontName][x.fontStyle]=x.id},Uc=function(x,M,ae,ve,Le){var Be={id:"F"+(Object.keys(Qt).length+1).toString(10),postScriptName:x,fontName:M,fontStyle:ae,encoding:ve,isStandardFont:Le||!1,metadata:{}};return Ut.publish("addFont",{font:Be,instance:this}),Qt[Be.id]=Be,ml(Be),Be.id},Zu=function(x){for(var M=0,ae=Fe.length;M<ae;M++){var ve=Uc.call(this,x[M][0],x[M][1],x[M][2],Fe[M][3],!0);m===!1&&(w[ve]=!0);var Le=x[M][0].split("-");ml({id:ve,fontName:Le[0],fontStyle:Le[1]||""})}Ut.publish("addFonts",{fonts:Qt,dictionary:pn})},li=function(x){return x.foo=function(){try{return x.apply(this,arguments)}catch(ve){var M=ve.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var ae="Error in function "+M.split(`
`)[0].split("<")[0]+": "+ve.message;if(!At.console)throw new Error(ae);At.console.error(ae,ve),At.alert&&alert(ae)}},x.foo.bar=x,x.foo},No=function(x,M){var ae,ve,Le,Be,Qe,ut,_t,Ot,Pt;if(Le=(M=M||{}).sourceEncoding||"Unicode",Qe=M.outputEncoding,(M.autoencode||Qe)&&Qt[Nt].metadata&&Qt[Nt].metadata[Le]&&Qt[Nt].metadata[Le].encoding&&(Be=Qt[Nt].metadata[Le].encoding,!Qe&&Qt[Nt].encoding&&(Qe=Qt[Nt].encoding),!Qe&&Be.codePages&&(Qe=Be.codePages[0]),typeof Qe=="string"&&(Qe=Be[Qe]),Qe)){for(_t=!1,ut=[],ae=0,ve=x.length;ae<ve;ae++)(Ot=Qe[x.charCodeAt(ae)])?ut.push(String.fromCharCode(Ot)):ut.push(x[ae]),ut[ae].charCodeAt(0)>>8&&(_t=!0);x=ut.join("")}for(ae=x.length;_t===void 0&&ae!==0;)x.charCodeAt(ae-1)>>8&&(_t=!0),ae--;if(!_t)return x;for(ut=M.noBOM?[]:[254,255],ae=0,ve=x.length;ae<ve;ae++){if((Pt=(Ot=x.charCodeAt(ae))>>8)>>8)throw new Error("Character at position "+ae+" of string '"+x+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ut.push(Pt),ut.push(Ot-(Pt<<8))}return String.fromCharCode.apply(void 0,ut)},ci=g.__private__.pdfEscape=g.pdfEscape=function(x,M){return No(x,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gl=g.__private__.beginPage=function(x){ue[++Gt]=[],wt[Gt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},ed(Gt),fe(ue[G])},zc=function(x,M){var ae,ve,Le;switch(n=M||n,typeof x=="string"&&(ae=_(x.toLowerCase()),Array.isArray(ae)&&(ve=ae[0],Le=ae[1])),Array.isArray(x)&&(ve=x[0]*et,Le=x[1]*et),isNaN(ve)&&(ve=i[0],Le=i[1]),(ve>14400||Le>14400)&&(Dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Le=Math.min(14400,Le)),i=[ve,Le],n.substr(0,1)){case"l":Le>ve&&(i=[Le,ve]);break;case"p":ve>Le&&(i=[Le,ve])}gl(i),ad(Gc),J(Jn),_l!==0&&J(_l+" J"),Dr!==0&&J(Dr+" j"),Ut.publish("addPage",{pageNumber:Gt})},qc=function(x){x>0&&x<=Gt&&(ue.splice(x,1),wt.splice(x,1),Gt--,G>Gt&&(G=Gt),this.setPage(G))},ed=function(x){x>0&&x<=Gt&&(G=x)},td=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ue.length-1},vl=function(x,M,ae){var ve,Le=void 0;return ae=ae||{},x=x!==void 0?x:Qt[Nt].fontName,M=M!==void 0?M:Qt[Nt].fontStyle,ve=x.toLowerCase(),pn[ve]!==void 0&&pn[ve][M]!==void 0?Le=pn[ve][M]:pn[x]!==void 0&&pn[x][M]!==void 0?Le=pn[x][M]:ae.disableWarning===!1&&Dn.warn("Unable to look up font label for font '"+x+"', '"+M+"'. Refer to getFontList() for available fonts."),Le||ae.noFallback||(Le=pn.times[M])==null&&(Le=pn.times.normal),Le},Wc=g.__private__.putInfo=function(){var x=Pn(),M=function(ve){return ve};for(var ae in p!==null&&(M=Br.encryptor(x,0)),J("<<"),J("/Producer ("+ci(M("jsPDF "+Ct.version))+")"),ft)ft.hasOwnProperty(ae)&&ft[ae]&&J("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+ci(M(ft[ae]))+")");J("/CreationDate ("+ci(M(ge))+")"),J(">>"),J("endobj")},Fs=g.__private__.putCatalog=function(x){var M=(x=x||{}).rootDictionaryObjId||ji;switch(Pn(),J("<<"),J("/Type /Catalog"),J("/Pages "+M+" 0 R"),be||(be="fullwidth"),be){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+be;ae.substr(ae.length-1)==="%"&&(be=parseInt(be)/100),typeof be=="number"&&J("/OpenAction [3 0 R /XYZ null null "+ne(be)+"]")}switch(rt||(rt="continuous"),rt){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Je&&J("/PageMode /"+Je),Ut.publish("putCatalog"),J(">>"),J("endobj")},nd=g.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(he+1)),J("/Root "+he+" 0 R"),J("/Info "+(he-1)+" 0 R"),p!==null&&J("/Encrypt "+Br.oid+" 0 R"),J("/ID [ <"+pe+"> <"+pe+"> ]"),J(">>")},rd=g.__private__.putHeader=function(){J("%PDF-"+N),J("%ºß¬à")},Ff=g.__private__.putXRef=function(){var x="0000000000";J("xref"),J("0 "+(he+1)),J("0000000000 65535 f ");for(var M=1;M<=he;M++)typeof je[M]=="function"?J((x+je[M]()).slice(-10)+" 00000 n "):je[M]!==void 0?J((x+je[M]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},$s=g.__private__.buildDocument=function(){Me(),fe(ke),Ut.publish("buildDocument"),rd(),So(),Bc(),$c(),p!==null&&Xu(),Wc(),Fs();var x=re;return Ff(),nd(),J("startxref"),J(""+x),J("%%EOF"),fe(ue[G]),ke.join(`
`)},jo=g.__private__.getBlob=function(x){return new Blob([Re(x)],{type:"application/pdf"})},ko=g.output=g.__private__.output=li(function(x,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",x){case void 0:return $s();case"save":g.save(M.filename);break;case"arraybuffer":return Re($s());case"blob":return jo($s());case"bloburi":case"bloburl":if(At.URL!==void 0&&typeof At.URL.createObjectURL=="function")return At.URL&&At.URL.createObjectURL(jo($s()))||void 0;Dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",ve=$s();try{ae=gy(ve)}catch{ae=gy(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+M.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(Le=M.pdfObjectUrl,Be="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",ut=At.open();return ut!==null&&ut.document.write(Qe),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',Ot=At.open();if(Ot!==null){Ot.document.write(_t);var Pt=this;Ot.document.documentElement.querySelector("#pdfViewer").onload=function(){Ot.document.title=M.filename,Ot.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return Ot}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(At)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',In=At.open();if(In!==null&&(In.document.write(Yt),In.document.title=M.filename),In||typeof safari>"u")return In;break;case"datauri":case"dataurl":return At.document.location.href=this.output("datauristring",M);default:return null}}),Hc=function(x){return Array.isArray(ur)===!0&&ur.indexOf(x)>-1};switch(r){case"pt":et=1;break;case"mm":et=72/25.4;break;case"cm":et=72/2.54;break;case"in":et=72;break;case"px":et=Hc("px_scaling")==1?.75:96/72;break;case"pc":case"em":et=12;break;case"ex":et=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);et=r}var Br=null;Ae(),$();var $f=function(x){return p!==null?Br.encryptor(x,0):function(M){return M}},id=g.__private__.getPageInfo=g.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:wt[x].objId,pageNumber:x,pageContext:wt[x]}},Lt=g.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in wt)if(wt[M].objId===x)break;return id(M)},Bf=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:wt[G].objId,pageNumber:G,pageContext:wt[G]}};g.addPage=function(){return zc.apply(this,arguments),this},g.setPage=function(){return ed.apply(this,arguments),fe.call(this,ue[G]),this},g.insertPage=function(x){return this.addPage(),this.movePage(G,x),this},g.movePage=function(x,M){var ae,ve;if(x>M){ae=ue[x],ve=wt[x];for(var Le=x;Le>M;Le--)ue[Le]=ue[Le-1],wt[Le]=wt[Le-1];ue[M]=ae,wt[M]=ve,this.setPage(M)}else if(x<M){ae=ue[x],ve=wt[x];for(var Be=x;Be<M;Be++)ue[Be]=ue[Be+1],wt[Be]=wt[Be+1];ue[M]=ae,wt[M]=ve,this.setPage(M)}return this},g.deletePage=function(){return qc.apply(this,arguments),this},g.__private__.text=g.text=function(x,M,ae,ve,Le){var Be,Qe,ut,_t,Ot,Pt,Yt,In,Xn,Qn=(ve=ve||{}).scope||this;if(typeof x=="number"&&typeof M=="number"&&(typeof ae=="string"||Array.isArray(ae))){var kr=ae;ae=M,M=x,x=kr}if(arguments[3]instanceof ht?(O("The transform parameter of text() with a Matrix value"),Xn=Le):(ut=arguments[4],_t=arguments[5],Nn(Yt=arguments[3])==="object"&&Yt!==null||(typeof ut=="string"&&(_t=ut,ut=null),typeof Yt=="string"&&(_t=Yt,Yt=null),typeof Yt=="number"&&(ut=Yt,Yt=null),ve={flags:Yt,angle:ut,align:_t})),isNaN(M)||isNaN(ae)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return Qn;var Er="",Hi=!1,Tn=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:Eo,Vi=Qn.internal.scaleFactor;function qa(gn){return gn=gn.split("	").join(Array(ve.TabLen||9).join(" ")),ci(gn,Yt)}function jl(gn){for(var Cn,rr=gn.concat(),vr=[],Ki=rr.length;Ki--;)typeof(Cn=rr.shift())=="string"?vr.push(Cn):Array.isArray(gn)&&(Cn.length===1||Cn[1]===void 0&&Cn[2]===void 0)?vr.push(Cn[0]):vr.push([Cn[0],Cn[1],Cn[2]]);return vr}function kl(gn,Cn){var rr;if(typeof gn=="string")rr=Cn(gn)[0];else if(Array.isArray(gn)){for(var vr,Ki,Ji=gn.concat(),da=[],Zc=Ji.length;Zc--;)typeof(vr=Ji.shift())=="string"?da.push(Cn(vr)[0]):Array.isArray(vr)&&typeof vr[0]=="string"&&(Ki=Cn(vr[0],vr[1],vr[2]),da.push([Ki[0],Ki[1],Ki[2]]));rr=da}return rr}var El=!1,Xc=!0;if(typeof x=="string")El=!0;else if(Array.isArray(x)){var Qc=x.concat();Qe=[];for(var Cl,Mr=Qc.length;Mr--;)(typeof(Cl=Qc.shift())!="string"||Array.isArray(Cl)&&typeof Cl[0]!="string")&&(Xc=!1);El=Xc}if(El===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var ws=We/Qn.internal.scaleFactor,Al=ws*(Tn-1);switch(ve.baseline){case"bottom":ae-=Al;break;case"top":ae+=ws-Al;break;case"hanging":ae+=ws-2*Al;break;case"middle":ae+=ws/2-Al}if((Pt=ve.maxWidth||0)>0&&(typeof x=="string"?x=Qn.splitTextToSize(x,Pt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(gn,Cn){return gn.concat(Qn.splitTextToSize(Cn,Pt))},[]))),Be={text:x,x:M,y:ae,options:ve,mutex:{pdfEscape:ci,activeFontKey:Nt,fonts:Qt,activeFontSize:We}},Ut.publish("preProcessText",Be),x=Be.text,ut=(ve=Be.options).angle,!(Xn instanceof ht)&&ut&&typeof ut=="number"){ut*=Math.PI/180,ve.rotationDirection===0&&(ut=-ut),L===S.ADVANCED&&(ut=-ut);var Ll=Math.cos(ut),Ao=Math.sin(ut);Xn=new ht(Ll,Ao,-Ao,Ll,0,0)}else ut&&ut instanceof ht&&(Xn=ut);L!==S.ADVANCED||Xn||(Xn=nr),(Ot=ve.charSpace||Co)!==void 0&&(Er+=W(F(Ot))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(In=ve.horizontalScale)!==void 0&&(Er+=W(100*In)+` Tz
`),ve.lang;var Xr=-1,qs=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Wa=Qn.internal.getCurrentPageInfo().pageContext;switch(qs){case 0:case!1:case"fill":Xr=0;break;case 1:case!0:case"stroke":Xr=1;break;case 2:case"fillThenStroke":Xr=2;break;case 3:case"invisible":Xr=3;break;case 4:case"fillAndAddForClipping":Xr=4;break;case 5:case"strokeAndAddPathForClipping":Xr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xr=6;break;case 7:case"addToPathForClipping":Xr=7}var fd=Wa.usedRenderingMode!==void 0?Wa.usedRenderingMode:-1;Xr!==-1?Er+=Xr+` Tr
`:fd!==-1&&(Er+=`0 Tr
`),Xr!==-1&&(Wa.usedRenderingMode=Xr),_t=ve.align||"left";var Gi,Pl=We*Tn,la=Qn.internal.pageSize.getWidth(),ui=Qt[Nt];Ot=ve.charSpace||Co,Pt=ve.maxWidth||0,Yt=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var ca=[],Lo=function(gn){return Qn.getStringUnitWidth(gn,{font:ui,charSpace:Ot,fontSize:We,doKerning:!1})*We/Vi};if(Object.prototype.toString.call(x)==="[object Array]"){var di;Qe=jl(x),_t!=="left"&&(Gi=Qe.map(Lo));var Qr,Ha=0;if(_t==="right"){M-=Gi[0],x=[],Mr=Qe.length;for(var ua=0;ua<Mr;ua++)ua===0?(Qr=qi(M),di=Jr(ae)):(Qr=F(Ha-Gi[ua]),di=-Pl),x.push([Qe[ua],Qr,di]),Ha=Gi[ua]}else if(_t==="center"){M-=Gi[0]/2,x=[],Mr=Qe.length;for(var fi=0;fi<Mr;fi++)fi===0?(Qr=qi(M),di=Jr(ae)):(Qr=F((Ha-Gi[fi])/2),di=-Pl),x.push([Qe[fi],Qr,di]),Ha=Gi[fi]}else if(_t==="left"){x=[],Mr=Qe.length;for(var Se=0;Se<Mr;Se++)x.push(Qe[Se])}else if(_t==="justify"&&ui.encoding==="Identity-H"){x=[],Mr=Qe.length,Pt=Pt!==0?Pt:la;for(var Ue=0,Te=0;Te<Mr;Te++)if(di=Te===0?Jr(ae):-Pl,Qr=Te===0?qi(M):Ue,Te<Mr-1){var dt=F((Pt-Gi[Te])/(Qe[Te].split(" ").length-1)),xt=Qe[Te].split(" ");x.push([xt[0]+" ",Qr,di]),Ue=0;for(var It=1;It<xt.length;It++){var Rn=(Lo(xt[It-1]+" "+xt[It])-Lo(xt[It]))*Vi+dt;It==xt.length-1?x.push([xt[It],Rn,0]):x.push([xt[It]+" ",Rn,0]),Ue-=Rn}}else x.push([Qe[Te],Qr,di]);x.push(["",Ue,0])}else{if(_t!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Mr=Qe.length,Pt=Pt!==0?Pt:la,Te=0;Te<Mr;Te++)di=Te===0?Jr(ae):-Pl,Qr=Te===0?qi(M):0,Te<Mr-1?ca.push(W(F((Pt-Gi[Te])/(Qe[Te].split(" ").length-1)))):ca.push(0),x.push([Qe[Te],Qr,di])}}var dn=typeof ve.R2L=="boolean"?ve.R2L:Ke;dn===!0&&(x=kl(x,function(gn,Cn,rr){return[gn.split("").reverse().join(""),Cn,rr]})),Be={text:x,x:M,y:ae,options:ve,mutex:{pdfEscape:ci,activeFontKey:Nt,fonts:Qt,activeFontSize:We}},Ut.publish("postProcessText",Be),x=Be.text,Hi=Be.mutex.isHex||!1;var Po=Qt[Nt].encoding;Po!=="WinAnsiEncoding"&&Po!=="StandardEncoding"||(x=kl(x,function(gn,Cn,rr){return[qa(gn),Cn,rr]})),Qe=jl(x),x=[];for(var To,Cr,xs,Do=0,bs=1,Ws=Array.isArray(Qe[0])?bs:Do,_s="",en=function(gn,Cn,rr){var vr="";return rr instanceof ht?(rr=typeof ve.angle=="number"?Gn(rr,new ht(1,0,0,1,gn,Cn)):Gn(new ht(1,0,0,1,gn,Cn),rr),L===S.ADVANCED&&(rr=Gn(new ht(1,0,0,-1,0,0),rr)),vr=rr.join(" ")+` Tm
`):vr=W(gn)+" "+W(Cn)+` Td
`,vr},Yi=0;Yi<Qe.length;Yi++){switch(_s="",Ws){case bs:xs=(Hi?"<":"(")+Qe[Yi][0]+(Hi?">":")"),To=parseFloat(Qe[Yi][1]),Cr=parseFloat(Qe[Yi][2]);break;case Do:xs=(Hi?"<":"(")+Qe[Yi]+(Hi?">":")"),To=qi(M),Cr=Jr(ae)}ca!==void 0&&ca[Yi]!==void 0&&(_s=ca[Yi]+` Tw
`),Yi===0?x.push(_s+en(To,Cr,Xn)+xs):Ws===Do?x.push(_s+xs):Ws===bs&&x.push(_s+en(To,Cr,Xn)+xs)}x=Ws===Do?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var ki=`BT
/`;return ki+=Nt+" "+We+` Tf
`,ki+=W(We*Tn)+` TL
`,ki+=Ua+`
`,ki+=Er,ki+=x,J(ki+="ET"),w[Nt]=!0,Qn};var Uf=g.__private__.clip=g.clip=function(x){return J(x==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Uf("evenodd")},g.__private__.discardPath=g.discardPath=function(){return J("n"),this};var Bs=g.__private__.isValidStyle=function(x){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(M=!0),M};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(x){return Bs(x)&&(h=x),this};var sd=g.__private__.getStyle=g.getStyle=function(x){var M=h;switch(x){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=x}return M},yl=g.close=function(){return J("h"),this};g.stroke=function(){return J("S"),this},g.fill=function(x){return wl("f",x),this},g.fillEvenOdd=function(x){return wl("f*",x),this},g.fillStroke=function(x){return wl("B",x),this},g.fillStrokeEvenOdd=function(x){return wl("B*",x),this};var wl=function(x,M){Nn(M)==="object"?qf(M,x):J(x)},Vc=function(x){x===null||L===S.ADVANCED&&x===void 0||(x=sd(x),J(x))};function zf(x,M,ae,ve,Le){var Be=new Zd(M||this.boundingBox,ae||this.xStep,ve||this.yStep,this.gState,Le||this.matrix);Be.stream=this.stream;var Qe=x+"$$"+this.cloneIndex+++"$$";return kn(Qe,Be),Be}var qf=function(x,M){var ae=aa[x.key],ve=Zt[ae];if(ve instanceof Nu)J("q"),J(Wf(M)),ve.gState&&g.setGState(ve.gState),J(x.matrix.toString()+" cm"),J("/"+ae+" sh"),J("Q");else if(ve instanceof Zd){var Le=new ht(1,0,0,-1,0,zs());x.matrix&&(Le=Le.multiply(x.matrix||nr),ae=zf.call(ve,x.key,x.boundingBox,x.xStep,x.yStep,Le).id),J("q"),J("/Pattern cs"),J("/"+ae+" scn"),ve.gState&&g.setGState(ve.gState),J(M),J("Q")}},Wf=function(x){switch(x){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},mn=g.moveTo=function(x,M){return J(W(F(x))+" "+W(Y(M))+" m"),this},sn=g.lineTo=function(x,M){return J(W(F(x))+" "+W(Y(M))+" l"),this},Ba=g.curveTo=function(x,M,ae,ve,Le,Be){return J([W(F(x)),W(Y(M)),W(F(ae)),W(Y(ve)),W(F(Le)),W(Y(Be)),"c"].join(" ")),this};g.__private__.line=g.line=function(x,M,ae,ve,Le){if(isNaN(x)||isNaN(M)||isNaN(ae)||isNaN(ve)||!Bs(Le))throw new Error("Invalid arguments passed to jsPDF.line");return L===S.COMPAT?this.lines([[ae-x,ve-M]],x,M,[1,1],Le||"S"):this.lines([[ae-x,ve-M]],x,M,[1,1]).stroke()},g.__private__.lines=g.lines=function(x,M,ae,ve,Le,Be){var Qe,ut,_t,Ot,Pt,Yt,In,Xn,Qn,kr,Er,Hi;if(typeof x=="number"&&(Hi=ae,ae=M,M=x,x=Hi),ve=ve||[1,1],Be=Be||!1,isNaN(M)||isNaN(ae)||!Array.isArray(x)||!Array.isArray(ve)||!Bs(Le)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(mn(M,ae),Qe=ve[0],ut=ve[1],Ot=x.length,kr=M,Er=ae,_t=0;_t<Ot;_t++)(Pt=x[_t]).length===2?(kr=Pt[0]*Qe+kr,Er=Pt[1]*ut+Er,sn(kr,Er)):(Yt=Pt[0]*Qe+kr,In=Pt[1]*ut+Er,Xn=Pt[2]*Qe+kr,Qn=Pt[3]*ut+Er,kr=Pt[4]*Qe+kr,Er=Pt[5]*ut+Er,Ba(Yt,In,Xn,Qn,kr,Er));return Be&&yl(),Vc(Le),this},g.path=function(x){for(var M=0;M<x.length;M++){var ae=x[M],ve=ae.c;switch(ae.op){case"m":mn(ve[0],ve[1]);break;case"l":sn(ve[0],ve[1]);break;case"c":Ba.apply(this,ve);break;case"h":yl()}}return this},g.__private__.rect=g.rect=function(x,M,ae,ve,Le){if(isNaN(x)||isNaN(M)||isNaN(ae)||isNaN(ve)||!Bs(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return L===S.COMPAT&&(ve=-ve),J([W(F(x)),W(Y(M)),W(F(ae)),W(F(ve)),"re"].join(" ")),Vc(Le),this},g.__private__.triangle=g.triangle=function(x,M,ae,ve,Le,Be,Qe){if(isNaN(x)||isNaN(M)||isNaN(ae)||isNaN(ve)||isNaN(Le)||isNaN(Be)||!Bs(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-x,ve-M],[Le-ae,Be-ve],[x-Le,M-Be]],x,M,[1,1],Qe,!0),this},g.__private__.roundedRect=g.roundedRect=function(x,M,ae,ve,Le,Be,Qe){if(isNaN(x)||isNaN(M)||isNaN(ae)||isNaN(ve)||isNaN(Le)||isNaN(Be)||!Bs(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*ae),Be=Math.min(Be,.5*ve),this.lines([[ae-2*Le,0],[Le*ut,0,Le,Be-Be*ut,Le,Be],[0,ve-2*Be],[0,Be*ut,-Le*ut,Be,-Le,Be],[2*Le-ae,0],[-Le*ut,0,-Le,-Be*ut,-Le,-Be],[0,2*Be-ve],[0,-Be*ut,Le*ut,-Be,Le,-Be]],x+Le,M,[1,1],Qe,!0),this},g.__private__.ellipse=g.ellipse=function(x,M,ae,ve,Le){if(isNaN(x)||isNaN(M)||isNaN(ae)||isNaN(ve)||!Bs(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*ae,Qe=4/3*(Math.SQRT2-1)*ve;return mn(x+ae,M),Ba(x+ae,M-Qe,x+Be,M-ve,x,M-ve),Ba(x-Be,M-ve,x-ae,M-Qe,x-ae,M),Ba(x-ae,M+Qe,x-Be,M+ve,x,M+ve),Ba(x+Be,M+ve,x+ae,M+Qe,x+ae,M),Vc(Le),this},g.__private__.circle=g.circle=function(x,M,ae,ve){if(isNaN(x)||isNaN(M)||isNaN(ae)||!Bs(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,M,ae,ae,ve)},g.setFont=function(x,M,ae){return ae&&(M=te(M,ae)),Nt=vl(x,M,{disableWarning:!1}),this};var Hf=g.__private__.getFont=g.getFont=function(){return Qt[vl.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var x,M,ae={};for(x in pn)if(pn.hasOwnProperty(x))for(M in ae[x]=[],pn[x])pn[x].hasOwnProperty(M)&&ae[x].push(M);return ae},g.addFont=function(x,M,ae,ve,Le){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(ae=te(ae,ve)),Le=Le||"Identity-H",Uc.call(this,x,M,ae,Le)};var Eo,Gc=e.lineWidth||.200025,xl=g.__private__.getLineWidth=g.getLineWidth=function(){return Gc},ad=g.__private__.setLineWidth=g.setLineWidth=function(x){return Gc=x,J(W(F(x))+" w"),this};g.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(x,M){if(x=x||[],M=M||0,isNaN(M)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ae){return W(F(ae))}).join(" "),M=W(F(M)),J("["+x+"] "+M+" d"),this};var Yc=g.__private__.getLineHeight=g.getLineHeight=function(){return We*Eo};g.__private__.getLineHeight=g.getLineHeight=function(){return We*Eo};var od=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Eo=x),this},dr=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Eo};od(e.lineHeight);var qi=g.__private__.getHorizontalCoordinate=function(x){return F(x)},Jr=g.__private__.getVerticalCoordinate=function(x){return L===S.ADVANCED?x:wt[G].mediaBox.topRightY-wt[G].mediaBox.bottomLeftY-F(x)},ld=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(x){return W(qi(x))},Us=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(x){return W(Jr(x))},Jn=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ms(Jn)},g.__private__.setStrokeColor=g.setDrawColor=function(x,M,ae,ve){return Jn=gs({ch1:x,ch2:M,ch3:ae,ch4:ve,pdfColorType:"draw",precision:2}),J(Jn),this};var bl=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ms(bl)},g.__private__.setFillColor=g.setFillColor=function(x,M,ae,ve){return bl=gs({ch1:x,ch2:M,ch3:ae,ch4:ve,pdfColorType:"fill",precision:2}),J(bl),this};var Ua=e.textColor||"0 g",cd=g.__private__.getTextColor=g.getTextColor=function(){return ms(Ua)};g.__private__.setTextColor=g.setTextColor=function(x,M,ae,ve){return Ua=gs({ch1:x,ch2:M,ch3:ae,ch4:ve,pdfColorType:"text",precision:3}),this};var Co=e.charSpace,ud=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Co||0)};g.__private__.setCharSpace=g.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Co=x,this};var _l=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(x){var M=g.CapJoinStyles[x];if(M===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _l=M,J(M+" J"),this};var Dr=0;g.__private__.setLineJoin=g.setLineJoin=function(x){var M=g.CapJoinStyles[x];if(M===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dr=M,J(M+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(W(F(x))+" M"),this},g.GState=eg,g.setGState=function(x){(x=typeof x=="string"?Mn[oi[x]]:dd(null,x)).equals(_n)||(J("/"+x.id+" gs"),_n=x)};var dd=function(x,M){if(!x||!oi[x]){var ae=!1;for(var ve in Mn)if(Mn.hasOwnProperty(ve)&&Mn[ve].equals(M)){ae=!0;break}if(ae)M=Mn[ve];else{var Le="GS"+(Object.keys(Mn).length+1).toString(10);Mn[Le]=M,M.id=Le}return x&&(oi[x]=M.id),Ut.publish("addGState",M),M}};g.addGState=function(x,M){return dd(x,M),this},g.saveGraphicsState=function(){return J("q"),ai.push({key:Nt,size:We,color:Ua}),this},g.restoreGraphicsState=function(){J("Q");var x=ai.pop();return Nt=x.key,We=x.size,Ua=x.color,_n=null,this},g.setCurrentTransformationMatrix=function(x){return J(x.toString()+" cm"),this},g.comment=function(x){return J("#"+x),this};var Or=function(x,M){var ae=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(Be){isNaN(Be)||(ae=parseFloat(Be))}});var ve=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Be){isNaN(Be)||(ve=parseFloat(Be))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(Be){Le=Be.toString()}}),this},Kc=function(x,M,ae,ve){Or.call(this,x,M),this.type="rect";var Le=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(Qe){isNaN(Qe)||(Le=parseFloat(Qe))}});var Be=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Qe){isNaN(Qe)||(Be=parseFloat(Qe))}}),this},Sl=function(){this.page=Gt,this.currentPage=G,this.pages=ue.slice(0),this.pagesContext=wt.slice(0),this.x=bn,this.y=Bt,this.matrix=Pr,this.width=un(G),this.height=zs(G),this.outputDestination=Ee,this.id="",this.objectNumber=-1};Sl.prototype.restore=function(){Gt=this.page,G=this.currentPage,wt=this.pagesContext,ue=this.pages,bn=this.x,Bt=this.y,Pr=this.matrix,Wi(G,this.width),Jc(G,this.height),Ee=this.outputDestination};var ys=function(x,M,ae,ve,Le){Tr.push(new Sl),Gt=G=0,ue=[],bn=x,Bt=M,Pr=Le,gl([ae,ve])},Nl=function(x){if(tr[x])Tr.pop().restore();else{var M=new Sl,ae="Xo"+(Object.keys(rn).length+1).toString(10);M.id=ae,tr[x]=ae,rn[ae]=M,Ut.publish("addFormObject",M),Tr.pop().restore()}};for(var za in g.beginFormObject=function(x,M,ae,ve,Le){return ys(x,M,ae,ve,Le),this},g.endFormObject=function(x){return Nl(x),this},g.doFormObject=function(x,M){var ae=rn[tr[x]];return J("q"),J(M.toString()+" cm"),J("/"+ae.id+" Do"),J("Q"),this},g.getFormObject=function(x){var M=rn[tr[x]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},g.save=function(x,M){return x=x||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(bu(jo($s()),x),typeof bu.unload=="function"&&At.setTimeout&&setTimeout(bu.unload,911),this):new Promise(function(ae,ve){try{var Le=bu(jo($s()),x);typeof bu.unload=="function"&&At.setTimeout&&setTimeout(bu.unload,911),ae(Le)}catch(Be){ve(Be.message)}})},Ct.API)Ct.API.hasOwnProperty(za)&&(za==="events"&&Ct.API.events.length?function(x,M){var ae,ve,Le;for(Le=M.length-1;Le!==-1;Le--)ae=M[Le][0],ve=M[Le][1],x.subscribe.apply(x,[ae].concat(typeof ve=="function"?[ve]:ve))}(Ut,Ct.API.events):g[za]=Ct.API[za]);var un=g.getPageWidth=function(x){return(wt[x=x||G].mediaBox.topRightX-wt[x].mediaBox.bottomLeftX)/et},Wi=g.setPageWidth=function(x,M){wt[x].mediaBox.topRightX=M*et+wt[x].mediaBox.bottomLeftX},zs=g.getPageHeight=function(x){return(wt[x=x||G].mediaBox.topRightY-wt[x].mediaBox.bottomLeftY)/et},Jc=g.setPageHeight=function(x,M){wt[x].mediaBox.topRightY=M*et+wt[x].mediaBox.bottomLeftY};return g.internal={pdfEscape:ci,getStyle:sd,getFont:Hf,getFontSize:Ie,getCharSpace:ud,getTextColor:cd,getLineHeight:Yc,getLineHeightFactor:dr,getLineWidth:xl,write:ze,getHorizontalCoordinate:qi,getVerticalCoordinate:Jr,getCoordinateString:ld,getVerticalCoordinateString:Us,collections:{},newObject:Pn,newAdditionalObject:Ui,newObjectDeferred:En,newObjectDeferredBegin:Yn,getFilters:vs,putStream:zi,events:Ut,scaleFactor:et,pageSize:{getWidth:function(){return un(G)},setWidth:function(x){Wi(G,x)},getHeight:function(){return zs(G)},setHeight:function(x){Jc(G,x)}},encryptionOptions:p,encryption:Br,getEncryptor:$f,output:ko,getNumberOfPages:td,pages:ue,out:J,f2:ne,f3:T,getPageInfo:id,getPageInfoByObjId:Lt,getCurrentPageInfo:Bf,getPDFVersion:j,Point:Or,Rectangle:Kc,Matrix:ht,hasHotfix:Hc},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return un(G)},set:function(x){Wi(G,x)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return zs(G)},set:function(x){Jc(G,x)},enumerable:!0,configurable:!0}),Zu.call(g,Fe),Nt="F1",zc(i,n),Ut.publish("initialized"),g}Fd.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Fd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Fd.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Fd.prototype.processOwnerPassword=function(e,t){return yy(vy(t).substr(0,5),e)},Fd.prototype.encryptor=function(e,t){var n=vy(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return yy(n,r)}},eg.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Nn(e)!==Nn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Ct.API={events:[]},Ct.version="3.0.1";var pr=Ct.API,Q5=1,Gu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Id=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rt=function(e){return e.toFixed(2)},ec=function(e){return e.toFixed(5)};pr.__acroform__={};var fs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},$3=function(e){return e*Q5},so=function(e){var t=new C6,n=vt.internal.getHeight(e)||0,r=vt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Rt(r)),Number(Rt(n))],t},uB=pr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},dB=pr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},fB=pr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},_r=pr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fB(e,t-1)},Sr=pr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return uB(e,t-1)},Nr=pr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dB(e,t-1)},hB=pr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],a=e[2],l=e[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+l)||0,c.upperRight_X=n(i+a)||0,c.upperRight_Y=r(s)||0,[Number(Rt(c.lowerLeft_X)),Number(Rt(c.lowerLeft_Y)),Number(Rt(c.upperRight_X)),Number(Rt(c.upperRight_Y))]},pB=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=wy(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Rt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=so(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},wy=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=n,a=vt.internal.getHeight(e)||0;a=a<0?-a:a;var l=vt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(T,F,V){if(T+1<i.length){var Y=F+" "+i[T+1][0];return Um(Y,e,V).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var h,p,m=Um("3",e,s).height,w=e.multiline?a-s:(a-m)/2,g=w+=2,N=0,j=0,C=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Um(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var _="",S=0,L=0;L<i.length;L++)if(i.hasOwnProperty(L)){var R=!1;if(i[L].length!==1&&C!==i[L].length-1){if((m+2)*(S+2)+2>a)continue e;_+=i[L][C],R=!0,j=L,L--}else{_=(_+=i[L][C]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var X=parseInt(L),te=c(X,_,s),W=L>=i.length-1;if(te&&!W){_+=" ",C=0;continue}if(te||W){if(W)j=X;else if(e.multiline&&(m+2)*(S+2)+2>a)continue e}else{if(!e.multiline||(m+2)*(S+2)+2>a)continue e;j=X}}for(var O="",ee=N;ee<=j;ee++){var ne=i[ee];if(e.multiline){if(ee===j){O+=ne[C]+" ",C=(C+1)%ne.length;continue}if(ee===N){O+=ne[ne.length-1]+" ";continue}}O+=ne[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,p=Um(O,e,s).width,e.textAlign){case"right":h=l-p-2;break;case"center":h=(l-p)/2;break;case"left":default:h=2}t+=Rt(h)+" "+Rt(g)+` Td
`,t+="("+Gu(O)+`) Tj
`,t+=-Rt(h)+` 0 Td
`,g=-(s+2),p=0,N=R?j:j+1,S++,_=""}break}return r.text=t,r.fontSize=s,r},Um=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},mB={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gB=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},vB=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Nn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},yB=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Fa.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(mB)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Q5=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new A6,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&gB(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var l=r[a],c=[],h=l.Rect;if(l.Rect&&(l.Rect=hB(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=vt.createDefaultAppearanceStream(l),Nn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=h,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=pB(l);c.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var m="";for(var w in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(w)){var g=l.appearanceStreamContent[w];if(m+="/"+w+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var a in g)if(g.hasOwnProperty(a)){var N=g[a];typeof N=="function"&&(N=N.call(i,l)),m+="/"+a+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=g)=="function"&&(N=N.call(i,l)),m+="/"+a+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&vB(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},E6=pr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(a){return a};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Nn(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Gu(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Iv=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Gu(r(e))+")"},fo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};fo.prototype.toString=function(){return this.objId+" 0 R"},fo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},fo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:E6(i,this.objId,this.scope)}):i instanceof fo?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var C6=function(){fo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};fs(C6,fo);var A6=function(){fo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Gu(n(e))+")"}},set:function(n){e=n}})};fs(A6,fo);var Fa=function e(){fo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_r(t,3)},set:function(_){_?this.F=Sr(t,3):this.F=Nr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof tg)return;s="FieldObject"+e.FieldNum++}var _=function(S){return S};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Gu(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/Q5:h},set:function(_){h=_}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(_){p=_}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof tg||this instanceof Ou))return Iv(m,this.objId,this.scope)},set:function(_){_=_.toString(),m=_}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Gr?w:Iv(w,this.objId,this.scope)},set:function(_){_=_.toString(),w=this instanceof Gr?_:_.substr(0,1)==="("?Id(_.substr(1,_.length-2)):Id(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gr?Id(w.substr(1,w.length-1)):w},set:function(_){_=_.toString(),w=this instanceof Gr?"/"+_:_}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Gr?g:Iv(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=this instanceof Gr?_:_.substr(0,1)==="("?Id(_.substr(1,_.length-2)):Id(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gr?Id(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof Gr?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(_){_=!!_,j=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(_){N=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,1)},set:function(_){_?this.Ff=Sr(this.Ff,1):this.Ff=Nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,2)},set:function(_){_?this.Ff=Sr(this.Ff,2):this.Ff=Nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,3)},set:function(_){_?this.Ff=Sr(this.Ff,3):this.Ff=Nr(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');C=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(C){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};fs(Fa,fo);var cf=function(){Fa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return E6(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,l){l||(l=1);for(var c,h=[];c=a.exec(s);)h.push(c[l]);return h}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,18)},set:function(n){n?this.Ff=Sr(this.Ff,18):this.Ff=Nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Sr(this.Ff,19):this.Ff=Nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,20)},set:function(n){n?(this.Ff=Sr(this.Ff,20),t.sort()):this.Ff=Nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,22)},set:function(n){n?this.Ff=Sr(this.Ff,22):this.Ff=Nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,23)},set:function(n){n?this.Ff=Sr(this.Ff,23):this.Ff=Nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,27)},set:function(n){n?this.Ff=Sr(this.Ff,27):this.Ff=Nr(this.Ff,27)}}),this.hasAppearanceStream=!1};fs(cf,Fa);var uf=function(){cf.call(this),this.fontName="helvetica",this.combo=!1};fs(uf,cf);var df=function(){uf.call(this),this.combo=!0};fs(df,uf);var d0=function(){df.call(this),this.edit=!0};fs(d0,df);var Gr=function(){Fa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,15)},set:function(n){n?this.Ff=Sr(this.Ff,15):this.Ff=Nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,16)},set:function(n){n?this.Ff=Sr(this.Ff,16):this.Ff=Nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,17)},set:function(n){n?this.Ff=Sr(this.Ff,17):this.Ff=Nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,26)},set:function(n){n?this.Ff=Sr(this.Ff,26):this.Ff=Nr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Gu(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Nn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};fs(Gr,Fa);var f0=function(){Gr.call(this),this.pushButton=!0};fs(f0,Gr);var ff=function(){Gr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};fs(ff,Gr);var tg=function(){var e,t;Fa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Gu(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Nn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fs(tg,Fa),ff.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ff.prototype.createOption=function(e){var t=new tg;return t.Parent=this,t.optionName=e,this.Kids.push(t),wB.call(this.scope,t),t};var h0=function(){Gr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vt.CheckBox.createAppearanceStream()};fs(h0,Gr);var Ou=function(){Fa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,13)},set:function(t){t?this.Ff=Sr(this.Ff,13):this.Ff=Nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,21)},set:function(t){t?this.Ff=Sr(this.Ff,21):this.Ff=Nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,23)},set:function(t){t?this.Ff=Sr(this.Ff,23):this.Ff=Nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,24)},set:function(t){t?this.Ff=Sr(this.Ff,24):this.Ff=Nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,25)},set:function(t){t?this.Ff=Sr(this.Ff,25):this.Ff=Nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,26)},set:function(t){t?this.Ff=Sr(this.Ff,26):this.Ff=Nr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fs(Ou,Fa);var p0=function(){Ou.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,14)},set:function(e){e?this.Ff=Sr(this.Ff,14):this.Ff=Nr(this.Ff,14)}}),this.password=!0};fs(p0,Ou);var vt={CheckBox:{createAppearanceStream:function(){return{N:{On:vt.CheckBox.YesNormal},D:{On:vt.CheckBox.YesPushDown,Off:vt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=so(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=wy(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Rt(vt.internal.getWidth(e))+" "+Rt(vt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Rt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=so(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=vt.internal.getHeight(e),a=vt.internal.getWidth(e),l=wy(e,e.caption);return i.push("1 g"),i.push("0 0 "+Rt(a)+" "+Rt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Rt(a-1)+" "+Rt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Rt(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=so(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(vt.internal.getWidth(e))+" "+Rt(vt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:vt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=vt.RadioButton.Circle.YesNormal,t.D[e]=vt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=so(e);t.scope=e.scope;var n=[],r=vt.internal.getWidth(e)<=vt.internal.getHeight(e)?vt.internal.getWidth(e)/4:vt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=vt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ec(vt.internal.getWidth(e)/2)+" "+ec(vt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=so(e);t.scope=e.scope;var n=[],r=vt.internal.getWidth(e)<=vt.internal.getHeight(e)?vt.internal.getWidth(e)/4:vt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*vt.internal.Bezier_C).toFixed(5)),a=Number((r*vt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ec(vt.internal.getWidth(e)/2)+" "+ec(vt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ec(vt.internal.getWidth(e)/2)+" "+ec(vt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=so(e);t.scope=e.scope;var n=[],r=vt.internal.getWidth(e)<=vt.internal.getHeight(e)?vt.internal.getWidth(e)/4:vt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*vt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ec(vt.internal.getWidth(e)/2)+" "+ec(vt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:vt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=vt.RadioButton.Cross.YesNormal,t.D[e]=vt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=so(e);t.scope=e.scope;var n=[],r=vt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Rt(vt.internal.getWidth(e)-2)+" "+Rt(vt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Rt(r.x1.x)+" "+Rt(r.x1.y)+" m"),n.push(Rt(r.x2.x)+" "+Rt(r.x2.y)+" l"),n.push(Rt(r.x4.x)+" "+Rt(r.x4.y)+" m"),n.push(Rt(r.x3.x)+" "+Rt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=so(e);t.scope=e.scope;var n=vt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Rt(vt.internal.getWidth(e))+" "+Rt(vt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Rt(vt.internal.getWidth(e)-2)+" "+Rt(vt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Rt(n.x1.x)+" "+Rt(n.x1.y)+" m"),r.push(Rt(n.x2.x)+" "+Rt(n.x2.y)+" l"),r.push(Rt(n.x4.x)+" "+Rt(n.x4.y)+" m"),r.push(Rt(n.x3.x)+" "+Rt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=so(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(vt.internal.getWidth(e))+" "+Rt(vt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};vt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=vt.internal.getWidth(e),n=vt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},vt.internal.getWidth=function(e){var t=0;return Nn(e)==="object"&&(t=$3(e.Rect[2])),t},vt.internal.getHeight=function(e){var t=0;return Nn(e)==="object"&&(t=$3(e.Rect[3])),t};var wB=pr.addField=function(e){if(yB(this,e),!(e instanceof Fa))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};pr.AcroFormChoiceField=cf,pr.AcroFormListBox=uf,pr.AcroFormComboBox=df,pr.AcroFormEditBox=d0,pr.AcroFormButton=Gr,pr.AcroFormPushButton=f0,pr.AcroFormRadioButton=ff,pr.AcroFormCheckBox=h0,pr.AcroFormTextField=Ou,pr.AcroFormPasswordField=p0,pr.AcroFormAppearance=vt,pr.AcroForm={ChoiceField:cf,ListBox:uf,ComboBox:df,EditBox:d0,Button:Gr,PushButton:f0,RadioButton:ff,CheckBox:h0,TextField:Ou,PasswordField:p0,Appearance:vt},Ct.AcroForm={ChoiceField:cf,ListBox:uf,ComboBox:df,EditBox:d0,Button:Gr,PushButton:f0,RadioButton:ff,CheckBox:h0,TextField:Ou,PasswordField:p0,Appearance:vt};function L6(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(T,F){var V,Y,ge,pe,Q,$=t;if((F=F||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(te(T))for(Q in n)for(ge=n[Q],V=0;V<ge.length;V+=1){for(pe=!0,Y=0;Y<ge[V].length;Y+=1)if(ge[V][Y]!==void 0&&ge[V][Y]!==T[Y]){pe=!1;break}if(pe===!0){$=Q;break}}else for(Q in n)for(ge=n[Q],V=0;V<ge.length;V+=1){for(pe=!0,Y=0;Y<ge[V].length;Y+=1)if(ge[V][Y]!==void 0&&ge[V][Y]!==T.charCodeAt(Y)){pe=!1;break}if(pe===!0){$=Q;break}}return $===t&&F!==t&&($=F),$},i=function T(F){for(var V=this.internal.write,Y=this.internal.putStream,ge=(0,this.internal.getFilters)();ge.indexOf("FlateEncode")!==-1;)ge.splice(ge.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var pe=[];if(pe.push({key:"Type",value:"/XObject"}),pe.push({key:"Subtype",value:"/Image"}),pe.push({key:"Width",value:F.width}),pe.push({key:"Height",value:F.height}),F.colorSpace===C.INDEXED?pe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(pe.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===C.DEVICE_CMYK&&pe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),pe.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&pe.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var Q="",$=0,z=F.transparency.length;$<z;$++)Q+=F.transparency[$]+" "+F.transparency[$]+" ";pe.push({key:"Mask",value:"["+Q+"]"})}F.sMask!==void 0&&pe.push({key:"SMask",value:F.objectId+1+" 0 R"});var oe=F.filter!==void 0?["/"+F.filter]:void 0;if(Y({data:F.data,additionalKeyValues:pe,alreadyAppliedFilters:oe,objectId:F.objectId}),V("endobj"),"sMask"in F&&F.sMask!==void 0){var Ae="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,P={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:Ae,data:F.sMask};"filter"in F&&(P.filter=F.filter),T.call(this,P)}if(F.colorSpace===C.INDEXED){var G=this.internal.newObject();Y({data:O(new Uint8Array(F.palette)),objectId:G}),V("endobj")}},s=function(){var T=this.internal.collections.addImage_images;for(var F in T)i.call(this,T[F])},a=function(){var T,F=this.internal.collections.addImage_images,V=this.internal.write;for(var Y in F)V("/I"+(T=F[Y]).index,T.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var T=this.internal.collections.addImage_images;return l.call(this),T},h=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(T){return typeof e["process"+T.toUpperCase()]=="function"},m=function(T){return Nn(T)==="object"&&T.nodeType===1},w=function(T,F){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var V=""+T.getAttribute("src");if(V.indexOf("data:image/")===0)return zh(unescape(V).split("base64,").pop());var Y=e.loadFile(V,!0);if(Y!==void 0)return Y}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ge;switch(F){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;case"JPEG":case"JPG":default:ge="image/jpeg"}return zh(T.toDataURL(ge,1).split("base64,").pop())}},g=function(T){var F=this.internal.collections.addImage_images;if(F){for(var V in F)if(T===F[V].alias)return F[V]}},N=function(T,F,V){return T||F||(T=-96,F=-96),T<0&&(T=-1*V.width*72/T/this.internal.scaleFactor),F<0&&(F=-1*V.height*72/F/this.internal.scaleFactor),T===0&&(T=F*V.width/V.height),F===0&&(F=T*V.height/V.width),[T,F]},j=function(T,F,V,Y,ge,pe){var Q=N.call(this,V,Y,ge),$=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,oe=c.call(this);if(V=Q[0],Y=Q[1],oe[ge.index]=ge,pe){pe*=Math.PI/180;var Ae=Math.cos(pe),P=Math.sin(pe),G=function(ce){return ce.toFixed(4)},se=[G(Ae),G(P),G(-1*P),G(Ae),0,0,"cm"]}this.internal.write("q"),pe?(this.internal.write([1,"0","0",1,$(T),z(F+Y),"cm"].join(" ")),this.internal.write(se.join(" ")),this.internal.write([$(V),"0","0",$(Y),"0","0","cm"].join(" "))):this.internal.write([$(V),"0","0",$(Y),$(T),z(F+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},C=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(T){var F,V,Y=0;if(typeof T=="string")for(V=T.length,F=0;F<V;F++)Y=(Y<<5)-Y+T.charCodeAt(F),Y|=0;else if(te(T))for(V=T.byteLength/2,F=0;F<V;F++)Y=(Y<<5)-Y+T[F],Y|=0;return Y},L=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var F=!0;return T.length===0&&(F=!1),T.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(F=!1),F},R=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var F=T.indexOf(",");return F<0?null:T.substring(0,F).trim().endsWith("base64")?T.substring(F+1):null},X=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return X()&&T instanceof ArrayBuffer};var te=e.__addimage__.isArrayBufferView=function(T){return X()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},W=e.__addimage__.binaryStringToUint8Array=function(T){for(var F=T.length,V=new Uint8Array(F),Y=0;Y<F;Y++)V[Y]=T.charCodeAt(Y);return V},O=e.__addimage__.arrayBufferToBinaryString=function(T){for(var F="",V=te(T)?T:new Uint8Array(T),Y=0;Y<V.length;Y+=8192)F+=String.fromCharCode.apply(null,V.subarray(Y,Y+8192));return F};e.addImage=function(){var T,F,V,Y,ge,pe,Q,$,z;if(typeof arguments[1]=="number"?(F=t,V=arguments[1],Y=arguments[2],ge=arguments[3],pe=arguments[4],Q=arguments[5],$=arguments[6],z=arguments[7]):(F=arguments[1],V=arguments[2],Y=arguments[3],ge=arguments[4],pe=arguments[5],Q=arguments[6],$=arguments[7],z=arguments[8]),Nn(T=arguments[0])==="object"&&!m(T)&&"imageData"in T){var oe=T;T=oe.imageData,F=oe.format||F||t,V=oe.x||V||0,Y=oe.y||Y||0,ge=oe.w||oe.width||ge,pe=oe.h||oe.height||pe,Q=oe.alias||Q,$=oe.compression||$,z=oe.rotation||oe.angle||z}var Ae=this.internal.getFilters();if($===void 0&&Ae.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(V)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var P=ee.call(this,T,F,Q,$);return j.call(this,V,Y,ge,pe,P,z),this};var ee=function(T,F,V,Y){var ge,pe,Q;if(typeof T=="string"&&r(T)===t){T=unescape(T);var $=ne(T,!1);($!==""||($=e.loadFile(T,!0))!==void 0)&&(T=$)}if(m(T)&&(T=w(T,F)),F=r(T,F),!p(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((Q=V)==null||Q.length===0)&&(V=function(z){return typeof z=="string"||te(z)?S(z):te(z.data)?S(z.data):null}(T)),(ge=g.call(this,V))||(X()&&(T instanceof Uint8Array||F==="RGBA"||(pe=T,T=W(T))),ge=this["process"+F.toUpperCase()](T,h.call(this),V,function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in e.image_compression?z:_.NONE}(Y),pe)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},ne=e.__addimage__.convertBase64ToBinaryString=function(T,F){F=typeof F!="boolean"||F;var V,Y="";if(typeof T=="string"){var ge;V=(ge=R(T))!==null&&ge!==void 0?ge:T;try{Y=zh(V)}catch(pe){if(F)throw L(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+pe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};e.getImageProperties=function(T){var F,V,Y="";if(m(T)&&(T=w(T)),typeof T=="string"&&r(T)===t&&((Y=ne(T,!1))===""&&(Y=e.loadFile(T)||""),T=Y),V=r(T),!p(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!X()||T instanceof Uint8Array||(T=W(T)),!(F=this["process"+V.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=V,F}})(Ct.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Ct.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,p=!1,m=0;m<h.length&&!p;m++)switch((r=h[m]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var w=0;w<h.length;w++){r=h[w];var g=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(j.objId),S=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+g(_(r.contents))+")",s+=" /Popup "+C.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+g(_(S))+") >>",j.content=s;var L=j.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+L,r.open&&(s+=" /Open true"),s+=" >>",C.content=s,this.internal.write(j.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(N(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var X=this.annotations._nameMap[r.options.name];r.options.pageNumber=X.page,r.options.top=X.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var te=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+te+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:h(r),w:c(n+i),h:h(r+s)},options:a,type:"link"})},e.textWithLink=function(n,r,i,s){var a,l,c=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var p=this.splitTextToSize(n,l).length;a=Math.ceil(h*p)}else l=c,a=h;return this.text(n,r,i,s),i+=.2*h,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-h,l,a,s),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Ct.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(j){return t[j.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},l=e.__arabicParser__.isArabicEndLetter=function(j){return a(j)&&s(j)&&t[j.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(j){return a(j)&&i.indexOf(j.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return a(j)&&s(j)&&t[j.charCodeAt(0)].length>=1};var h=e.__arabicParser__.arabicLetterHasFinalForm=function(j){return a(j)&&s(j)&&t[j.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(j){return a(j)&&s(j)&&t[j.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(j){return a(j)&&s(j)&&t[j.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(j){var C=0,_=n,S="",L=0;for(C=0;C<j.length;C+=1)_[j.charCodeAt(C)]!==void 0?(L++,typeof(_=_[j.charCodeAt(C)])=="number"&&(S+=String.fromCharCode(_),_=n,L=0),C===j.length-1&&(_=n,S+=j.charAt(C-(L-1)),C-=L-1,L=0)):(_=n,S+=j.charAt(C-L),C-=L,L=0);return S};e.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&r[j.charCodeAt(0)]!==void 0};var w=e.__arabicParser__.getCorrectForm=function(j,C,_){return a(j)?s(j)===!1?-1:!h(j)||!a(C)&&!a(_)||!a(_)&&l(C)||l(j)&&!a(C)||l(j)&&c(C)||l(j)&&l(C)?0:p(j)&&a(C)&&!l(C)&&a(_)&&h(_)?3:l(j)||!a(_)?1:2:-1},g=function(j){var C=0,_=0,S=0,L="",R="",X="",te=(j=j||"").split("\\s+"),W=[];for(C=0;C<te.length;C+=1){for(W.push(""),_=0;_<te[C].length;_+=1)L=te[C][_],R=te[C][_-1],X=te[C][_+1],a(L)?(S=w(L,R,X),W[C]+=S!==-1?String.fromCharCode(t[L.charCodeAt(0)][S]):L):W[C]+=L;W[C]=m(W[C])}return W.join(" ")},N=e.__arabicParser__.processArabic=e.processArabic=function(){var j,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(C)){var S=0;for(_=[],S=0;S<C.length;S+=1)Array.isArray(C[S])?_.push([g(C[S][0]),C[S][1],C[S][2]]):_.push([g(C[S])]);j=_}else j=g(C);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};e.events.push(["preProcessText",N])}(Ct.API),Ct.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ct.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(j){c=j}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(j){h=j}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(j){p=j}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(j){m=j}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(j){w=j}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(j){g=j}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(j){N=j}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,h){r.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),m=h.font||this.getFont(),w=h.scaleFactor||this.internal.scaleFactor,g=0,N=0,j=0,C=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var _=h.maxWidth;_>0?typeof c=="string"?c=this.splitTextToSize(c,_):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(L,R){return L.concat(C.splitTextToSize(R,_))},[])):c=Array.isArray(c)?c:[c];for(var S=0;S<c.length;S++)g<(j=this.getStringUnitWidth(c[S],{font:m})*p)&&(g=j);return g!==0&&(N=c.length),{w:g/=w,h:Math.max((N*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/w,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,g&&w&&(this.printHeaderRow(c.lineNumber,!0),c.y+=w[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};e.table=function(c,h,p,m,w){if(r.call(this),!p)throw new Error("No data for PDF table.");var g,N,j,C,_=[],S=[],L=[],R={},X={},te=[],W=[],O=(w=w||{}).autoSize||!1,ee=w.printHeaders!==!1,ne=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,T=w.margins||Object.assign({width:this.getPageWidth()},t),F=typeof w.padding=="number"?w.padding:3,V=w.headerBackgroundColor||"#c8c8c8",Y=w.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=ee,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=ne,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=Y,this.setFontSize(ne),m==null)S=_=Object.keys(p[0]),L=_.map(function(){return"left"});else if(Array.isArray(m)&&Nn(m[0])==="object")for(_=m.map(function(oe){return oe.name}),S=m.map(function(oe){return oe.prompt||oe.name||""}),L=m.map(function(oe){return oe.align||"left"}),g=0;g<m.length;g+=1)X[m[g].name]=m[g].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(S=_=m,L=_.map(function(){return"left"}));if(O||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<_.length;g+=1){for(R[C=_[g]]=p.map(function(oe){return oe[C]}),this.setFont(void 0,"bold"),te.push(this.getTextDimensions(S[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=R[C],this.setFont(void 0,"normal"),j=0;j<N.length;j+=1)te.push(this.getTextDimensions(N[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[C]=Math.max.apply(null,te)+F+F,te=[]}if(ee){var ge={};for(g=0;g<_.length;g+=1)ge[_[g]]={},ge[_[g]].text=S[g],ge[_[g]].align=L[g];var pe=l.call(this,ge,X);W=_.map(function(oe){return new s(c,h,X[oe],pe,ge[oe].text,void 0,ge[oe].align)}),this.setTableHeaderRow(W),this.printHeaderRow(1,!1)}var Q=m.reduce(function(oe,Ae){return oe[Ae.name]=Ae.align,oe},{});for(g=0;g<p.length;g+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:g,data:p[g]},this);var $=l.call(this,p[g],X);for(j=0;j<_.length;j+=1){var z=p[g][_[j]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:g,col:j,data:z},this),a.call(this,new s(c,h,X[_[j]],$,z,g+2,Q[_[j]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var l=function(c,h){var p=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(c).map(function(g){var N=c[g];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,h[g]-p-p)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/w+p+p},this).reduce(function(g,N){return Math.max(g,N)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){p=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,w.push(p)),p.lineNumber=c;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,p),this.setTextColor(N)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),n=!1}}(Ct.API);var P6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},T6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],xy=L6(T6),D6=[100,200,300,400,500,600,700,800,900],xB=L6(D6);function by(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return P6[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof xy[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function B3(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var bB={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},U3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function z3(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function _B(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},bB,n.genericFontFamilies||{}),s=null,a=null,l=0;l<t.length;++l)if(i[(s=by(t[l])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){a=e[s.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+z3(s)+"' and default family '"+r+"'.");if(a=function(c,h){if(h[c])return h[c];var p=xy[c],m=p<=xy.normal?-1:1,w=B3(h,T6,p,m);if(!w)throw new Error("Could not find a matching font-stretch value for "+c);return w}(s.stretch,a),a=function(c,h){if(h[c])return h[c];for(var p=P6[c],m=0;m<p.length;++m)if(h[p[m]])return h[p[m]];throw new Error("Could not find a matching font-style for "+c)}(s.style,a),!(a=function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var p=xB[c],m=B3(h,D6,p,c<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+c);return m}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+z3(s)+"'.");return a}function q3(e){return e.trimLeft()}function SB(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function NB(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var zm,W3,H3,Rv=["times"];(function(e){var t,n,r,i,s,a,l,c,h,p=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new c,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new a,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new a,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,h=new p}]);var m=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=P;Object.defineProperty(this,"pdf",{get:function(){return G}});var se=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return se},set:function(fe){se=!!fe}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(fe){ce=!!fe}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(fe){isNaN(fe)||(he=fe)}});var je=0;Object.defineProperty(this,"posY",{get:function(){return je},set:function(fe){isNaN(fe)||(je=fe)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(fe){var J;typeof fe=="number"?J=[fe,fe,fe,fe]:((J=new Array(4))[0]=fe[0],J[1]=fe.length>=2?fe[1]:J[0],J[2]=fe.length>=3?fe[2]:J[0],J[3]=fe.length>=4?fe[3]:J[1]),h.margin=J}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(fe){ke=fe}});var re=0;Object.defineProperty(this,"lastBreak",{get:function(){return re},set:function(fe){re=fe}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(fe){le=fe}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(fe){fe instanceof p&&(h=fe)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(fe){h.path=fe}});var ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return ue},set:function(fe){ue=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var J;J=w(fe),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var J=w(fe);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var me=null;function Ee(fe,J){if(me===null){var ze=function(Re){var Fe=[];return Object.keys(Re).forEach(function(We){Re[We].forEach(function(be){var Ie=null;switch(be){case"bold":Ie={family:We,weight:"bold"};break;case"italic":Ie={family:We,style:"italic"};break;case"bolditalic":Ie={family:We,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:We}}Ie!==null&&(Ie.ref={name:We,style:be},Fe.push(Ie))})}),Fe}(fe.getFontList());me=function(Re){for(var Fe={},We=0;We<Re.length;++We){var be=by(Re[We]),Ie=be.family,Ke=be.stretch,Je=be.style,nt=be.weight;Fe[Ie]=Fe[Ie]||{},Fe[Ie][Ke]=Fe[Ie][Ke]||{},Fe[Ie][Ke][Je]=Fe[Ie][Ke][Je]||{},Fe[Ie][Ke][Je][nt]=be}return Fe}(ze.concat(J))}return me}var Me=null;Object.defineProperty(this,"fontFaces",{get:function(){return Me},set:function(fe){me=null,Me=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var J;if(this.ctx.font=fe,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(fe))!==null){var ze=J[1];J[2];var Re=J[3],Fe=J[4];J[5];var We=J[6],be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Fe)[2];Fe=Math.floor(be==="px"?parseFloat(Fe)*this.pdf.internal.scaleFactor:be==="em"?parseFloat(Fe)*this.pdf.getFontSize():parseFloat(Fe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Fe);var Ie=function(ft){var Nt,et,bn=[],Bt=ft.trim();if(Bt==="")return Rv;if(Bt in U3)return[U3[Bt]];for(;Bt!=="";){switch(et=null,Nt=(Bt=q3(Bt)).charAt(0)){case'"':case"'":et=SB(Bt.substring(1),Nt);break;default:et=NB(Bt)}if(et===null||(bn.push(et[0]),(Bt=q3(et[1]))!==""&&Bt.charAt(0)!==","))return Rv;Bt=Bt.replace(/^,/,"")}return bn}(We);if(this.fontFaces){var Ke=_B(Ee(this.pdf,this.fontFaces),Ie.map(function(ft){return{family:ft,stretch:"normal",weight:Re,style:ze}}));this.pdf.setFont(Ke.ref.name,Ke.ref.style)}else{var Je="";(Re==="bold"||parseInt(Re,10)>=700||ze==="bold")&&(Je="bold"),ze==="italic"&&(Je+="italic"),Je.length===0&&(Je="normal");for(var nt="",rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<Ie.length;at++){if(this.pdf.internal.getFont(Ie[at],Je,{noFallback:!0,disableWarning:!0})!==void 0){nt=Ie[at];break}if(Je==="bolditalic"&&this.pdf.internal.getFont(Ie[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)nt=Ie[at],Je="bold";else if(this.pdf.internal.getFont(Ie[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){nt=Ie[at],Je="normal";break}}if(nt===""){for(var St=0;St<Ie.length;St++)if(rt[Ie[St]]){nt=rt[Ie[St]];break}}nt=nt===""?"Times":nt,this.pdf.setFont(nt,Je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,Ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,Ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};m.prototype.setLineDash=function(P){this.lineDash=P},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){R.call(this,"fill",!1)},m.prototype.stroke=function(){R.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(P,G){if(isNaN(P)||isNaN(G))throw Dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var se=this.ctx.transform.applyToPoint(new a(P,G));this.path.push({type:"mt",x:se.x,y:se.y}),this.ctx.lastPoint=new a(P,G)},m.prototype.closePath=function(){var P=new a(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Nn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){P=new a(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(P.x,P.y)},m.prototype.lineTo=function(P,G){if(isNaN(P)||isNaN(G))throw Dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var se=this.ctx.transform.applyToPoint(new a(P,G));this.path.push({type:"lt",x:se.x,y:se.y}),this.ctx.lastPoint=new a(se.x,se.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},m.prototype.quadraticCurveTo=function(P,G,se,ce){if(isNaN(se)||isNaN(ce)||isNaN(P)||isNaN(G))throw Dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new a(se,ce)),je=this.ctx.transform.applyToPoint(new a(P,G));this.path.push({type:"qct",x1:je.x,y1:je.y,x:he.x,y:he.y}),this.ctx.lastPoint=new a(he.x,he.y)},m.prototype.bezierCurveTo=function(P,G,se,ce,he,je){if(isNaN(he)||isNaN(je)||isNaN(P)||isNaN(G)||isNaN(se)||isNaN(ce))throw Dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new a(he,je)),re=this.ctx.transform.applyToPoint(new a(P,G)),le=this.ctx.transform.applyToPoint(new a(se,ce));this.path.push({type:"bct",x1:re.x,y1:re.y,x2:le.x,y2:le.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new a(ke.x,ke.y)},m.prototype.arc=function(P,G,se,ce,he,je){if(isNaN(P)||isNaN(G)||isNaN(se)||isNaN(ce)||isNaN(he))throw Dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(je=!!je,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new a(P,G));P=ke.x,G=ke.y;var re=this.ctx.transform.applyToPoint(new a(0,se)),le=this.ctx.transform.applyToPoint(new a(0,0));se=Math.sqrt(Math.pow(re.x-le.x,2)+Math.pow(re.y-le.y,2))}Math.abs(he-ce)>=2*Math.PI&&(ce=0,he=2*Math.PI),this.path.push({type:"arc",x:P,y:G,radius:se,startAngle:ce,endAngle:he,counterclockwise:je})},m.prototype.arcTo=function(P,G,se,ce,he){throw new Error("arcTo not implemented.")},m.prototype.rect=function(P,G,se,ce){if(isNaN(P)||isNaN(G)||isNaN(se)||isNaN(ce))throw Dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,G),this.lineTo(P+se,G),this.lineTo(P+se,G+ce),this.lineTo(P,G+ce),this.lineTo(P,G),this.lineTo(P+se,G),this.lineTo(P,G)},m.prototype.fillRect=function(P,G,se,ce){if(isNaN(P)||isNaN(G)||isNaN(se)||isNaN(ce))throw Dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,G,se,ce),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},m.prototype.strokeRect=function(P,G,se,ce){if(isNaN(P)||isNaN(G)||isNaN(se)||isNaN(ce))throw Dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(P,G,se,ce),this.stroke())},m.prototype.clearRect=function(P,G,se,ce){if(isNaN(P)||isNaN(G)||isNaN(se)||isNaN(ce))throw Dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,G,se,ce))},m.prototype.save=function(P){P=typeof P!="boolean"||P;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},m.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("Q");this.pdf.setPage(G),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(P){var G,se,ce,he;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))G=0,se=0,ce=0,he=0;else{var je=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(je!==null)G=parseInt(je[1]),se=parseInt(je[2]),ce=parseInt(je[3]),he=1;else if((je=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)G=parseInt(je[1]),se=parseInt(je[2]),ce=parseInt(je[3]),he=parseFloat(je[4]);else{if(he=1,typeof P=="string"&&P.charAt(0)!=="#"){var ke=new N6(P);P=ke.ok?ke.toHex():"#000000"}P.length===4?(G=P.substring(1,2),G+=G,se=P.substring(2,3),se+=se,ce=P.substring(3,4),ce+=ce):(G=P.substring(1,3),se=P.substring(3,5),ce=P.substring(5,7)),G=parseInt(G,16),se=parseInt(se,16),ce=parseInt(ce,16)}}return{r:G,g:se,b:ce,a:he,style:P}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(P,G,se,ce){if(isNaN(G)||isNaN(se)||typeof P!="string")throw Dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!g.call(this)){var he=$(this.ctx.transform.rotation),je=this.ctx.transform.scaleX;F.call(this,{text:P,x:G,y:se,scale:je,angle:he,align:this.textAlign,maxWidth:ce})}},m.prototype.strokeText=function(P,G,se,ce){if(isNaN(G)||isNaN(se)||typeof P!="string")throw Dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){ce=isNaN(ce)?void 0:ce;var he=$(this.ctx.transform.rotation),je=this.ctx.transform.scaleX;F.call(this,{text:P,x:G,y:se,scale:je,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:ce})}},m.prototype.measureText=function(P){if(typeof P!="string")throw Dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,se=this.pdf.internal.scaleFactor,ce=G.internal.getFontSize(),he=G.getStringUnitWidth(P)*ce/G.internal.scaleFactor,je=function(ke){var re=(ke=ke||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return re}}),this};return new je({width:he*=Math.round(96*se/72*1e4)/1e4})},m.prototype.scale=function(P,G){if(isNaN(P)||isNaN(G))throw Dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var se=new c(P,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(se)},m.prototype.rotate=function(P){if(isNaN(P))throw Dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.translate=function(P,G){if(isNaN(P)||isNaN(G))throw Dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var se=new c(1,0,0,1,P,G);this.ctx.transform=this.ctx.transform.multiply(se)},m.prototype.transform=function(P,G,se,ce,he,je){if(isNaN(P)||isNaN(G)||isNaN(se)||isNaN(ce)||isNaN(he)||isNaN(je))throw Dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new c(P,G,se,ce,he,je);this.ctx.transform=this.ctx.transform.multiply(ke)},m.prototype.setTransform=function(P,G,se,ce,he,je){P=isNaN(P)?1:P,G=isNaN(G)?0:G,se=isNaN(se)?0:se,ce=isNaN(ce)?1:ce,he=isNaN(he)?0:he,je=isNaN(je)?0:je,this.ctx.transform=new c(P,G,se,ce,he,je)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(P,G,se,ce,he,je,ke,re,le){var ue=this.pdf.getImageProperties(P),me=1,Ee=1,Me=1,fe=1;ce!==void 0&&re!==void 0&&(Me=re/ce,fe=le/he,me=ue.width/ce*re/ce,Ee=ue.height/he*le/he),je===void 0&&(je=G,ke=se,G=0,se=0),ce!==void 0&&re===void 0&&(re=ce,le=he),ce===void 0&&re===void 0&&(re=ue.width,le=ue.height);for(var J,ze=this.ctx.transform.decompose(),Re=$(ze.rotate.shx),Fe=new c,We=(Fe=(Fe=(Fe=Fe.multiply(ze.translate)).multiply(ze.skew)).multiply(ze.scale)).applyToRectangle(new l(je-G*Me,ke-se*fe,ce*me,he*Ee)),be=C.call(this,We),Ie=[],Ke=0;Ke<be.length;Ke+=1)Ie.indexOf(be[Ke])===-1&&Ie.push(be[Ke]);if(L(Ie),this.autoPaging)for(var Je=Ie[0],nt=Ie[Ie.length-1],rt=Je;rt<nt+1;rt++){this.pdf.setPage(rt);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=rt===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=rt===1?0:ft+(rt-2)*Nt;if(this.ctx.clip_path.length!==0){var bn=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(J,this.posX+this.margin[3],-et+St+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=bn}var Bt=JSON.parse(JSON.stringify(We));Bt=S([Bt],this.posX+this.margin[3],-et+St+this.ctx.prevPageLastElemOffset)[0];var Pr=(rt>Je||rt<nt)&&j.call(this);Pr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Nt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Bt.x,Bt.y,Bt.w,Bt.h,null,null,Re),Pr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",We.x,We.y,We.w,We.h,null,null,Re)};var C=function(P,G,se){var ce=[];G=G||this.pdf.internal.pageSize.width,se=se||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":ce.push(Math.floor((P.y+he)/se)+1);break;case"arc":ce.push(Math.floor((P.y+he-P.radius)/se)+1),ce.push(Math.floor((P.y+he+P.radius)/se)+1);break;case"qct":var je=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);ce.push(Math.floor((je.y+he)/se)+1),ce.push(Math.floor((je.y+je.h+he)/se)+1);break;case"bct":var ke=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);ce.push(Math.floor((ke.y+he)/se)+1),ce.push(Math.floor((ke.y+ke.h+he)/se)+1);break;case"rect":ce.push(Math.floor((P.y+he)/se)+1),ce.push(Math.floor((P.y+P.h+he)/se)+1)}for(var re=0;re<ce.length;re+=1)for(;this.pdf.internal.getNumberOfPages()<ce[re];)_.call(this);return ce},_=function(){var P=this.fillStyle,G=this.strokeStyle,se=this.font,ce=this.lineCap,he=this.lineWidth,je=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=G,this.font=se,this.lineCap=ce,this.lineWidth=he,this.lineJoin=je},S=function(P,G,se){for(var ce=0;ce<P.length;ce++)switch(P[ce].type){case"bct":P[ce].x2+=G,P[ce].y2+=se;case"qct":P[ce].x1+=G,P[ce].y1+=se;case"mt":case"lt":case"arc":default:P[ce].x+=G,P[ce].y+=se}return P},L=function(P){return P.sort(function(G,se){return G-se})},R=function(P,G){for(var se,ce,he=this.fillStyle,je=this.strokeStyle,ke=this.lineCap,re=this.lineWidth,le=Math.abs(re*this.ctx.transform.scaleX),ue=this.lineJoin,me=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),Me=[],fe=0;fe<Ee.length;fe++)if(Ee[fe].x!==void 0)for(var J=C.call(this,Ee[fe]),ze=0;ze<J.length;ze+=1)Me.indexOf(J[ze])===-1&&Me.push(J[ze]);for(var Re=0;Re<Me.length;Re++)for(;this.pdf.internal.getNumberOfPages()<Me[Re];)_.call(this);if(L(Me),this.autoPaging)for(var Fe=Me[0],We=Me[Me.length-1],be=Fe;be<We+1;be++){this.pdf.setPage(be),this.fillStyle=he,this.strokeStyle=je,this.lineCap=ke,this.lineWidth=le,this.lineJoin=ue;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=be===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=be===1?0:Je+(be-2)*nt;if(this.ctx.clip_path.length!==0){var at=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(se,this.posX+this.margin[3],-rt+Ke+this.ctx.prevPageLastElemOffset),X.call(this,P,!0),this.path=at}if(ce=JSON.parse(JSON.stringify(me)),this.path=S(ce,this.posX+this.margin[3],-rt+Ke+this.ctx.prevPageLastElemOffset),G===!1||be===0){var St=(be>Fe||be<We)&&j.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,nt,null).clip().discardPath()),X.call(this,P,G),St&&this.pdf.restoreGraphicsState()}this.lineWidth=re}else this.lineWidth=le,X.call(this,P,G),this.lineWidth=re;this.path=me},X=function(P,G){if((P!=="stroke"||G||!N.call(this))&&(P==="stroke"||G||!g.call(this))){for(var se,ce,he=[],je=this.path,ke=0;ke<je.length;ke++){var re=je[ke];switch(re.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:re,deltas:[],abs:[]});break;case"lt":var le=he.length;if(je[ke-1]&&!isNaN(je[ke-1].x)&&(se=[re.x-je[ke-1].x,re.y-je[ke-1].y],le>0)){for(;le>=0;le--)if(he[le-1].close!==!0&&he[le-1].begin!==!0){he[le-1].deltas.push(se),he[le-1].abs.push(re);break}}break;case"bct":se=[re.x1-je[ke-1].x,re.y1-je[ke-1].y,re.x2-je[ke-1].x,re.y2-je[ke-1].y,re.x-je[ke-1].x,re.y-je[ke-1].y],he[he.length-1].deltas.push(se);break;case"qct":var ue=je[ke-1].x+2/3*(re.x1-je[ke-1].x),me=je[ke-1].y+2/3*(re.y1-je[ke-1].y),Ee=re.x+2/3*(re.x1-re.x),Me=re.y+2/3*(re.y1-re.y),fe=re.x,J=re.y;se=[ue-je[ke-1].x,me-je[ke-1].y,Ee-je[ke-1].x,Me-je[ke-1].y,fe-je[ke-1].x,J-je[ke-1].y],he[he.length-1].deltas.push(se);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(re)}}ce=G?null:P==="stroke"?"stroke":"fill";for(var ze=!1,Re=0;Re<he.length;Re++)if(he[Re].arc)for(var Fe=he[Re].abs,We=0;We<Fe.length;We++){var be=Fe[We];be.type==="arc"?O.call(this,be.x,be.y,be.radius,be.startAngle,be.endAngle,be.counterclockwise,void 0,G,!ze):V.call(this,be.x,be.y),ze=!0}else if(he[Re].close===!0)this.pdf.internal.out("h"),ze=!1;else if(he[Re].begin!==!0){var Ie=he[Re].start.x,Ke=he[Re].start.y;Y.call(this,he[Re].deltas,Ie,Ke),ze=!0}ce&&ee.call(this,ce),G&&ne.call(this)}},te=function(P){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,se=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-se;case"top":return P+G-se;case"hanging":return P+G-2*se;case"middle":return P+G/2-se;case"ideographic":return P;case"alphabetic":default:return P}},W=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(G,se){this.colorStops.push([G,se])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(P,G,se,ce,he,je,ke,re,le){for(var ue=pe.call(this,se,ce,he,je),me=0;me<ue.length;me++){var Ee=ue[me];me===0&&(le?T.call(this,Ee.x1+P,Ee.y1+G):V.call(this,Ee.x1+P,Ee.y1+G)),ge.call(this,P,G,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}re?ne.call(this):ee.call(this,ke)},ee=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ne=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(P,G){this.pdf.internal.out(n(P)+" "+r(G)+" m")},F=function(P){var G;switch(P.align){case"right":case"end":G="right";break;case"center":G="center";break;case"left":case"start":default:G="left"}var se=this.pdf.getTextDimensions(P.text),ce=te.call(this,P.y),he=W.call(this,ce)-se.h,je=this.ctx.transform.applyToPoint(new a(P.x,ce)),ke=this.ctx.transform.decompose(),re=new c;re=(re=(re=re.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var le,ue,me,Ee=this.ctx.transform.applyToRectangle(new l(P.x,ce,se.w,se.h)),Me=re.applyToRectangle(new l(P.x,he,se.w,se.h)),fe=C.call(this,Me),J=[],ze=0;ze<fe.length;ze+=1)J.indexOf(fe[ze])===-1&&J.push(fe[ze]);if(L(J),this.autoPaging)for(var Re=J[0],Fe=J[J.length-1],We=Re;We<Fe+1;We++){this.pdf.setPage(We);var be=We===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[2],Je=Ke-this.margin[0],nt=this.pdf.internal.pageSize.width-this.margin[1],rt=nt-this.margin[3],at=We===1?0:Ie+(We-2)*Je;if(this.ctx.clip_path.length!==0){var St=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(le,this.posX+this.margin[3],-1*at+be),X.call(this,"fill",!0),this.path=St}var ft=S([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-at+be+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*P.scale),me=this.lineWidth,this.lineWidth=me*P.scale);var Nt=this.autoPaging!=="text";if(Nt||ft.y+ft.h<=Ke){if(Nt||ft.y>=be&&ft.x<=nt){var et=Nt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||nt-ft.x)[0],bn=S([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-at+be+this.ctx.prevPageLastElemOffset)[0],Bt=Nt&&(We>Re||We<Fe)&&j.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Je,null).clip().discardPath()),this.pdf.text(et,bn.x,bn.y,{angle:P.angle,align:G,renderingMode:P.renderingMode}),Bt&&this.pdf.restoreGraphicsState()}}else ft.y<Ke&&(this.ctx.prevPageLastElemOffset+=Ke-ft.y);P.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=me)}else P.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*P.scale),me=this.lineWidth,this.lineWidth=me*P.scale),this.pdf.text(P.text,je.x+this.posX,je.y+this.posY,{angle:P.angle,align:G,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=me)},V=function(P,G,se,ce){se=se||0,ce=ce||0,this.pdf.internal.out(n(P+se)+" "+r(G+ce)+" l")},Y=function(P,G,se){return this.pdf.lines(P,G,se,null,null)},ge=function(P,G,se,ce,he,je,ke,re){this.pdf.internal.out([t(i(se+P)),t(s(ce+G)),t(i(he+P)),t(s(je+G)),t(i(ke+P)),t(s(re+G)),"c"].join(" "))},pe=function(P,G,se,ce){for(var he=2*Math.PI,je=Math.PI/2;G>se;)G-=he;var ke=Math.abs(se-G);ke<he&&ce&&(ke=he-ke);for(var re=[],le=ce?-1:1,ue=G;ke>1e-5;){var me=ue+le*Math.min(ke,je);re.push(Q.call(this,P,ue,me)),ke-=Math.abs(me-ue),ue=me}return re},Q=function(P,G,se){var ce=(se-G)/2,he=P*Math.cos(ce),je=P*Math.sin(ce),ke=he,re=-je,le=ke*ke+re*re,ue=le+ke*he+re*je,me=4/3*(Math.sqrt(2*le*ue)-ue)/(ke*je-re*he),Ee=ke-me*re,Me=re+me*ke,fe=Ee,J=-Me,ze=ce+G,Re=Math.cos(ze),Fe=Math.sin(ze);return{x1:P*Math.cos(G),y1:P*Math.sin(G),x2:Ee*Re-Me*Fe,y2:Ee*Fe+Me*Re,x3:fe*Re-J*Fe,y3:fe*Fe+J*Re,x4:P*Math.cos(se),y4:P*Math.sin(se)}},$=function(P){return 180*P/Math.PI},z=function(P,G,se,ce,he,je){var ke=P+.5*(se-P),re=G+.5*(ce-G),le=he+.5*(se-he),ue=je+.5*(ce-je),me=Math.min(P,he,ke,le),Ee=Math.max(P,he,ke,le),Me=Math.min(G,je,re,ue),fe=Math.max(G,je,re,ue);return new l(me,Me,Ee-me,fe-Me)},oe=function(P,G,se,ce,he,je,ke,re){var le,ue,me,Ee,Me,fe,J,ze,Re,Fe,We,be,Ie,Ke,Je=se-P,nt=ce-G,rt=he-se,at=je-ce,St=ke-he,ft=re-je;for(ue=0;ue<41;ue++)Re=(J=(me=P+(le=ue/40)*Je)+le*((Me=se+le*rt)-me))+le*(Me+le*(he+le*St-Me)-J),Fe=(ze=(Ee=G+le*nt)+le*((fe=ce+le*at)-Ee))+le*(fe+le*(je+le*ft-fe)-ze),ue==0?(We=Re,be=Fe,Ie=Re,Ke=Fe):(We=Math.min(We,Re),be=Math.min(be,Fe),Ie=Math.max(Ie,Re),Ke=Math.max(Ke,Fe));return new l(Math.round(We),Math.round(be),Math.round(Ie-We),Math.round(Ke-be))},Ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,G,se=(P=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:G}));this.prevLineDash!==se&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=se)}}})(Ct.API),function(e){var t=function(s){var a,l,c,h,p,m,w,g,N,j;for(l=[],c=0,h=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;h>c;c+=4)(p=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(m=(p=((p=((p=((p=(p-(j=p%85))/85)-(N=p%85))/85)-(g=p%85))/85)-(w=p%85))/85)%85,l.push(m+33,w+33,g+33,N+33,j+33)):l.push(122);return function(C,_){for(var S=_;S>0;S--)C.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var a,l,c,h,p,m=String,w="length",g=255,N="charCodeAt",j="slice",C="replace";for(s[j](-2),s=s[j](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),c=[],h=0,p=(s+=a="uuuuu"[j](s[w]%5||5))[w];p>h;h+=5)l=52200625*(s[N](h)-33)+614125*(s[N](h+1)-33)+7225*(s[N](h+2)-33)+85*(s[N](h+3)-33)+(s[N](h+4)-33),c.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(_,S){for(var L=S;L>0;L--)_.pop()}(c,a[w]),m.fromCharCode.apply(m,c)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},i=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return s=(a=my(a)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};e.processDataByFilters=function(s,a){var l=0,c=s||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(Ct.API),function(e){e.loadFile=function(t,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(c,h,p){var m=new XMLHttpRequest,w=0,g=function(N){var j=N.length,C=[],_=String.fromCharCode;for(w=0;w<j;w+=1)C.push(_(255&N.charCodeAt(w)));return C.join("")};if(m.open("GET",c,!h),m.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(m.onload=function(){m.status===200?p(g(this.responseText)):p(void 0)}),m.send(null),h&&m.status===200)return g(m.responseText)}(i,s,a)}catch{}return l}(t,n,r)},e.loadImageFile=e.loadFile}(Ct.API),function(e){function t(){return(At.html2canvas?Promise.resolve(At.html2canvas):sl(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(At.DOMPurify?Promise.resolve(At.DOMPurify):sl(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=Nn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var h in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[h]=l.style[h];return c},s=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(h,p){for(var m=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),w=h.firstChild;w;w=w.nextSibling)p!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||m.appendChild(c(w,p));return h.nodeType===1&&(h.nodeName==="CANVAS"?(m.width=h.width,m.height=h.height,m.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(m.value=h.value),m.addEventListener("load",function(){m.scrollTop=h.scrollTop,m.scrollLeft=h.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var w=0;w<h.length;++w){var g=h[w],N=g.src.find(function(j){return j.format==="truetype"});N&&c.addFont(N.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(a=a||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,c,h){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,c,h){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(h,p){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(m){return c.updateProgress(null,h),m}).then(h,p).then(function(m){return c.updateProgress(1),m})})},s.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=c.call(h,a,l);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ct.getPageSize=function(a,l,c){if(Nn(a)==="object"){var h=a;a=h.orientation,l=h.unit||l,c=h.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var p,m=(""+c).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var g,N=0,j=0;if(w.hasOwnProperty(m))N=w[m][1]/p,j=w[m][0]/p;else try{N=c[1],j=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",j>N&&(g=j,j=N,N=g);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",N>j&&(g=j,j=N,N=g)}return{width:j,height:N,unit:l,k:p,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(by):null;var c=new s(l);return l.worker?c:c.from(a).doCallback()}}(Ct.API),Ct.API.addJS=function(e){return H3=e,this.internal.events.subscribe("postPutResources",function(){zm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(zm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),W3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+H3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){zm!==void 0&&W3!==void 0&&this.internal.out("/Names <</JavaScript "+zm+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],l=r.exec(a);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(s=0;s<h;s++){var m=n.internal.newObject();p.push(m);var w=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<p.length;s++)n.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Ct.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,a,l){var c,h=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(m){for(var w,g=256*m.charCodeAt(4)+m.charCodeAt(5),N=m.length,j={width:0,height:0,numcomponents:1},C=4;C<N;C+=2){if(C+=g,t.indexOf(m.charCodeAt(C+1))!==-1){w=256*m.charCodeAt(C+5)+m.charCodeAt(C+6),j={width:256*m.charCodeAt(C+7)+m.charCodeAt(C+8),height:w,numcomponents:m.charCodeAt(C+9)};break}g=256*m.charCodeAt(C+2)+m.charCodeAt(C+3)}return j}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:h,index:r,alias:i}}return p}}(Ct.API);var Rd,qm,V3,G3,Y3,jB=function(){var e,t,n;function r(s){var a,l,c,h,p,m,w,g,N,j,C,_,S,L;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(a=this.readUInt32(),N=(function(){var R,X;for(X=[],R=0;R<4;++R)X.push(String.fromCharCode(this.data[this.pos++]));return X}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),h=this.readUInt16()||100,m.delay=1e3*p/h,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,a-=4),s=(m!=null?m.data:void 0)||this.imgData,_=0;0<=a?_<a:_>a;0<=a?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((j=c-this.transparency.indexed.length)>0)for(S=0;0<=j?S<j:S>j;0<=j?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":w=(C=this.read(a)).indexOf(0),g=String.fromCharCode.apply(String,C.slice(0,w)),this.text[g]=String.fromCharCode.apply(String,C.slice(w+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(L=this.colorType)===4||L===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,l;for(l=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),c=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(m,w,g,N){var j,C,_,S,L,R,X,te,W,O,ee,ne,T,F,V,Y,ge,pe,Q,$,z,oe=Math.ceil((h.width-m)/g),Ae=Math.ceil((h.height-w)/N),P=h.width==oe&&h.height==Ae;for(F=a*oe,ne=P?l:new Uint8Array(F*Ae),R=s.length,T=0,C=0;T<Ae&&c<R;){switch(s[c++]){case 0:for(S=ge=0;ge<F;S=ge+=1)ne[C++]=s[c++];break;case 1:for(S=pe=0;pe<F;S=pe+=1)j=s[c++],L=S<a?0:ne[C-a],ne[C++]=(j+L)%256;break;case 2:for(S=Q=0;Q<F;S=Q+=1)j=s[c++],_=(S-S%a)/a,V=T&&ne[(T-1)*F+_*a+S%a],ne[C++]=(V+j)%256;break;case 3:for(S=$=0;$<F;S=$+=1)j=s[c++],_=(S-S%a)/a,L=S<a?0:ne[C-a],V=T&&ne[(T-1)*F+_*a+S%a],ne[C++]=(j+Math.floor((L+V)/2))%256;break;case 4:for(S=z=0;z<F;S=z+=1)j=s[c++],_=(S-S%a)/a,L=S<a?0:ne[C-a],T===0?V=Y=0:(V=ne[(T-1)*F+_*a+S%a],Y=_&&ne[(T-1)*F+(_-1)*a+S%a]),X=L+V-Y,te=Math.abs(X-L),O=Math.abs(X-V),ee=Math.abs(X-Y),W=te<=O&&te<=ee?L:O<=ee?V:Y,ne[C++]=(j+W)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!P){var G=((w+T*N)*h.width+m)*a,se=T*F;for(S=0;S<oe;S+=1){for(var ce=0;ce<a;ce+=1)l[G++]=ne[se++];G+=(g-1)*a}}T++}}return s=rB(s),h.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),l},r.prototype.decodePalette=function(){var s,a,l,c,h,p,m,w,g;for(l=this.palette,p=this.transparency.indexed||[],h=new Uint8Array((p.length||0)+l.length),c=0,s=0,a=m=0,w=l.length;m<w;a=m+=3)h[c++]=l[a],h[c++]=l[a+1],h[c++]=l[a+2],h[c++]=(g=p[s++])!=null?g:255;return h},r.prototype.copyToImageData=function(s,a){var l,c,h,p,m,w,g,N,j,C,_;if(c=this.colors,j=null,l=this.hasAlphaChannel,this.palette.length&&(j=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),c=4,l=!0),N=(h=s.data||s).length,m=j||a,p=w=0,c===1)for(;p<N;)g=j?4*a[p/4]:w,C=m[g++],h[p++]=C,h[p++]=C,h[p++]=C,h[p++]=l?m[g++]:255,w=g;else for(;p<N;)g=j?4*a[p/4]:w,h[p++]=m[g++],h[p++]=m[g++],h[p++]=m[g++],h[p++]=l?m[g++]:255,w=g},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(At)==="[object Window]"){try{t=At.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,l,c,h,p,m,w,g;if(this.animation){for(g=[],l=p=0,m=(w=this.animation.frames).length;p<m;l=++p)a=w[l],c=s.createImageData(a.width,a.height),h=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,h),a.imageData=c,g.push(a.image=e(c));return g}},r.prototype.renderFrame=function(s,a){var l,c,h;return l=(c=this.animation.frames)[a],h=c[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(s){var a,l,c,h,p,m,w=this;return l=0,m=this.animation,h=m.numFrames,c=m.frames,p=m.numPlays,(a=function(){var g,N;if(g=l++%h,N=c[g],w.renderFrame(s,g),h>1&&l/h<p)return w.animation._timeout=setTimeout(a,N.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function kB(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,a=1<<(7&i)+1;e[t++],e[t++];var l=null,c=null;s&&(l=t,c=a,t+=3*a);var h=!0,p=[],m=0,w=null,g=0,N=null;for(this.width=n,this.height=r;h&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,N=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var j=e[t++];m=e[t++]|e[t++]<<8,w=e[t++],!(1&j)&&(w=null),g=j>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var C=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,R=e[t++],X=R>>6&1,te=1<<(7&R)+1,W=l,O=c,ee=!1;R>>7&&(ee=!0,W=t,O=te,t+=3*te);var ne=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}p.push({x:C,y:_,width:S,height:L,has_local_palette:ee,palette_offset:W,palette_size:O,data_offset:ne,data_length:t-ne,transparent_index:w,interlaced:!!X,delay:m,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return N},this.frameInfo=function(F){if(F<0||F>=p.length)throw new Error("Frame index out of range.");return p[F]},this.decodeAndBlitFrameBGRA=function(F,V){var Y=this.frameInfo(F),ge=Y.width*Y.height,pe=new Uint8Array(ge);K3(e,Y.data_offset,pe,ge);var Q=Y.palette_offset,$=Y.transparent_index;$===null&&($=256);var z=Y.width,oe=n-z,Ae=z,P=4*(Y.y*n+Y.x),G=4*((Y.y+Y.height)*n+Y.x),se=P,ce=4*oe;Y.interlaced===!0&&(ce+=4*n*7);for(var he=8,je=0,ke=pe.length;je<ke;++je){var re=pe[je];if(Ae===0&&(Ae=z,(se+=ce)>=G&&(ce=4*oe+4*n*(he-1),se=P+(z+oe)*(he<<1),he>>=1)),re===$)se+=4;else{var le=e[Q+3*re],ue=e[Q+3*re+1],me=e[Q+3*re+2];V[se++]=me,V[se++]=ue,V[se++]=le,V[se++]=255}--Ae}},this.decodeAndBlitFrameRGBA=function(F,V){var Y=this.frameInfo(F),ge=Y.width*Y.height,pe=new Uint8Array(ge);K3(e,Y.data_offset,pe,ge);var Q=Y.palette_offset,$=Y.transparent_index;$===null&&($=256);var z=Y.width,oe=n-z,Ae=z,P=4*(Y.y*n+Y.x),G=4*((Y.y+Y.height)*n+Y.x),se=P,ce=4*oe;Y.interlaced===!0&&(ce+=4*n*7);for(var he=8,je=0,ke=pe.length;je<ke;++je){var re=pe[je];if(Ae===0&&(Ae=z,(se+=ce)>=G&&(ce=4*oe+4*n*(he-1),se=P+(z+oe)*(he<<1),he>>=1)),re===$)se+=4;else{var le=e[Q+3*re],ue=e[Q+3*re+1],me=e[Q+3*re+2];V[se++]=le,V[se++]=ue,V[se++]=me,V[se++]=255}--Ae}}}function K3(e,t,n,r){for(var i=e[t++],s=1<<i,a=s+1,l=a+1,c=i+1,h=(1<<c)-1,p=0,m=0,w=0,g=e[t++],N=new Int32Array(4096),j=null;;){for(;p<16&&g!==0;)m|=e[t++]<<p,p+=8,g===1?g=e[t++]:--g;if(p<c)break;var C=m&h;if(m>>=c,p-=c,C!==s){if(C===a)break;for(var _=C<l?C:j,S=0,L=_;L>s;)L=N[L]>>8,++S;var R=L;if(w+S+(_!==C?1:0)>r)return void Dn.log("Warning, gif stream longer than expected.");n[w++]=R;var X=w+=S;for(_!==C&&(n[w++]=R),L=_;S--;)L=N[L],n[--X]=255&L,L>>=8;j!==null&&l<4096&&(N[l++]=j<<8|R,l>=h+1&&c<12&&(++c,h=h<<1|1)),j=C}else l=a+1,h=(1<<(c=i+1))-1,j=null}return w!==r&&Dn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Fv(e){var t,n,r,i,s,a=Math.floor,l=new Array(64),c=new Array(64),h=new Array(64),p=new Array(64),m=new Array(65535),w=new Array(65535),g=new Array(64),N=new Array(64),j=[],C=0,_=7,S=new Array(64),L=new Array(64),R=new Array(64),X=new Array(256),te=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function pe(P,G){for(var se=0,ce=0,he=new Array,je=1;je<=16;je++){for(var ke=1;ke<=P[je];ke++)he[G[ce]]=[],he[G[ce]][0]=se,he[G[ce]][1]=je,ce++,se++;se*=2}return he}function Q(P){for(var G=P[0],se=P[1]-1;se>=0;)G&1<<se&&(C|=1<<_),se--,--_<0&&(C==255?($(255),$(0)):$(C),_=7,C=0)}function $(P){j.push(P)}function z(P){$(P>>8&255),$(255&P)}function oe(P,G,se,ce,he){for(var je,ke=he[0],re=he[240],le=function(Fe,We){var be,Ie,Ke,Je,nt,rt,at,St,ft,Nt,et=0;for(ft=0;ft<8;++ft){be=Fe[et],Ie=Fe[et+1],Ke=Fe[et+2],Je=Fe[et+3],nt=Fe[et+4],rt=Fe[et+5],at=Fe[et+6];var bn=be+(St=Fe[et+7]),Bt=be-St,Pr=Ie+at,Qt=Ie-at,pn=Ke+rt,ai=Ke-rt,Zt=Je+nt,aa=Je-nt,Mn=bn+Zt,oi=bn-Zt,_n=Pr+pn,Gt=Pr-pn;Fe[et]=Mn+_n,Fe[et+4]=Mn-_n;var wt=.707106781*(Gt+oi);Fe[et+2]=oi+wt,Fe[et+6]=oi-wt;var Ut=.382683433*((Mn=aa+ai)-(Gt=Qt+Bt)),ur=.5411961*Mn+Ut,rn=1.306562965*Gt+Ut,tr=.707106781*(_n=ai+Qt),Tr=Bt+tr,ht=Bt-tr;Fe[et+5]=ht+ur,Fe[et+3]=ht-ur,Fe[et+1]=Tr+rn,Fe[et+7]=Tr-rn,et+=8}for(et=0,ft=0;ft<8;++ft){be=Fe[et],Ie=Fe[et+8],Ke=Fe[et+16],Je=Fe[et+24],nt=Fe[et+32],rt=Fe[et+40],at=Fe[et+48];var Gn=be+(St=Fe[et+56]),nr=be-St,kn=Ie+at,Pn=Ie-at,En=Ke+rt,Yn=Ke-rt,Ui=Je+nt,ji=Je-nt,ps=Gn+Ui,ms=Gn-Ui,gs=kn+En,vs=kn-En;Fe[et]=ps+gs,Fe[et+32]=ps-gs;var zi=.707106781*(vs+ms);Fe[et+16]=ms+zi,Fe[et+48]=ms-zi;var Rs=.382683433*((ps=ji+Yn)-(vs=Pn+nr)),So=.5411961*ps+Rs,ll=1.306562965*vs+Rs,cl=.707106781*(gs=Yn+Pn),ul=nr+cl,oa=nr-cl;Fe[et+40]=oa+So,Fe[et+24]=oa-So,Fe[et+8]=ul+ll,Fe[et+56]=ul-ll,et++}for(ft=0;ft<64;++ft)Nt=Fe[ft]*We[ft],g[ft]=Nt>0?Nt+.5|0:Nt-.5|0;return g}(P,G),ue=0;ue<64;++ue)N[W[ue]]=le[ue];var me=N[0]-se;se=N[0],me==0?Q(ce[0]):(Q(ce[w[je=32767+me]]),Q(m[je]));for(var Ee=63;Ee>0&&N[Ee]==0;)Ee--;if(Ee==0)return Q(ke),se;for(var Me,fe=1;fe<=Ee;){for(var J=fe;N[fe]==0&&fe<=Ee;)++fe;var ze=fe-J;if(ze>=16){Me=ze>>4;for(var Re=1;Re<=Me;++Re)Q(re);ze&=15}je=32767+N[fe],Q(he[(ze<<4)+w[je]]),Q(m[je]),fe++}return Ee!=63&&Q(ke),se}function Ae(P){P=Math.min(Math.max(P,1),100),s!=P&&(function(G){for(var se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var he=a((se[ce]*G+50)/100);he=Math.min(Math.max(he,1),255),l[W[ce]]=he}for(var je=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var re=a((je[ke]*G+50)/100);re=Math.min(Math.max(re,1),255),c[W[ke]]=re}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ue=0,me=0;me<8;me++)for(var Ee=0;Ee<8;Ee++)h[ue]=1/(l[W[ue]]*le[me]*le[Ee]*8),p[ue]=1/(c[W[ue]]*le[me]*le[Ee]*8),ue++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,G){G&&Ae(G),j=new Array,C=0,_=7,z(65496),z(65504),z(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),z(1),z(1),$(0),$(0),function(){z(65499),z(132),$(0);for(var Ie=0;Ie<64;Ie++)$(l[Ie]);$(1);for(var Ke=0;Ke<64;Ke++)$(c[Ke])}(),function(Ie,Ke){z(65472),z(17),$(8),z(Ke),z(Ie),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}(P.width,P.height),function(){z(65476),z(418),$(0);for(var Ie=0;Ie<16;Ie++)$(O[Ie+1]);for(var Ke=0;Ke<=11;Ke++)$(ee[Ke]);$(16);for(var Je=0;Je<16;Je++)$(ne[Je+1]);for(var nt=0;nt<=161;nt++)$(T[nt]);$(1);for(var rt=0;rt<16;rt++)$(F[rt+1]);for(var at=0;at<=11;at++)$(V[at]);$(17);for(var St=0;St<16;St++)$(Y[St+1]);for(var ft=0;ft<=161;ft++)$(ge[ft])}(),z(65498),z(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var se=0,ce=0,he=0;C=0,_=7,this.encode.displayName="_encode_";for(var je,ke,re,le,ue,me,Ee,Me,fe,J=P.data,ze=P.width,Re=P.height,Fe=4*ze,We=0;We<Re;){for(je=0;je<Fe;){for(ue=Fe*We+je,Ee=-1,Me=0,fe=0;fe<64;fe++)me=ue+(Me=fe>>3)*Fe+(Ee=4*(7&fe)),We+Me>=Re&&(me-=Fe*(We+1+Me-Re)),je+Ee>=Fe&&(me-=je+Ee-Fe+4),ke=J[me++],re=J[me++],le=J[me++],S[fe]=(te[ke]+te[re+256>>0]+te[le+512>>0]>>16)-128,L[fe]=(te[ke+768>>0]+te[re+1024>>0]+te[le+1280>>0]>>16)-128,R[fe]=(te[ke+1280>>0]+te[re+1536>>0]+te[le+1792>>0]>>16)-128;se=oe(S,h,se,t,r),ce=oe(L,p,ce,n,i),he=oe(R,p,he,n,i),je+=32}We+=8}if(_>=0){var be=[];be[1]=_+1,be[0]=(1<<_+1)-1,Q(be)}return z(65497),new Uint8Array(j)},e=e||50,function(){for(var P=String.fromCharCode,G=0;G<256;G++)X[G]=P(G)}(),t=pe(O,ee),n=pe(F,V),r=pe(ne,T),i=pe(Y,ge),function(){for(var P=1,G=2,se=1;se<=15;se++){for(var ce=P;ce<G;ce++)w[32767+ce]=se,m[32767+ce]=[],m[32767+ce][1]=se,m[32767+ce][0]=ce;for(var he=-(G-1);he<=-P;he++)w[32767+he]=se,m[32767+he]=[],m[32767+he][1]=se,m[32767+he][0]=G-1+he;P<<=1,G<<=1}}(),function(){for(var P=0;P<256;P++)te[P]=19595*P,te[P+256>>0]=38470*P,te[P+512>>0]=7471*P+32768,te[P+768>>0]=-11059*P,te[P+1024>>0]=-21709*P,te[P+1280>>0]=32768*P+8421375,te[P+1536>>0]=-27439*P,te[P+1792>>0]=-5329*P}(),Ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function _a(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function J3(e){function t(O){if(!O)throw Error("assert :P")}function n(O,ee,ne){for(var T=0;4>T;T++)if(O[ee+T]!=ne.charCodeAt(T))return!0;return!1}function r(O,ee,ne,T,F){for(var V=0;V<F;V++)O[ee+V]=ne[T+V]}function i(O,ee,ne,T){for(var F=0;F<T;F++)O[ee+F]=ne}function s(O){return new Int32Array(O)}function a(O,ee){for(var ne=[],T=0;T<O;T++)ne.push(new ee);return ne}function l(O,ee){var ne=[];return function T(F,V,Y){for(var ge=Y[V],pe=0;pe<ge&&(F.push(Y.length>V+1?[]:new ee),!(Y.length<V+1));pe++)T(F[pe],V+1,Y)}(ne,0,O),ne}var c=function(){var O=this;function ee(f,v){for(var b=1<<v-1>>>0;f&b;)b>>>=1;return b?(f&b-1)+b:f}function ne(f,v,b,A,D){t(!(A%b));do f[v+(A-=b)]=D;while(0<A)}function T(f,v,b,A,D){if(t(2328>=D),512>=D)var B=s(512);else if((B=s(D))==null)return 0;return function(U,q,K,ie,xe,De){var Oe,Ne,Ve=q,$e=1<<K,we=s(16),_e=s(16);for(t(xe!=0),t(ie!=null),t(U!=null),t(0<K),Ne=0;Ne<xe;++Ne){if(15<ie[Ne])return 0;++we[ie[Ne]]}if(we[0]==xe)return 0;for(_e[1]=0,Oe=1;15>Oe;++Oe){if(we[Oe]>1<<Oe)return 0;_e[Oe+1]=_e[Oe]+we[Oe]}for(Ne=0;Ne<xe;++Ne)Oe=ie[Ne],0<ie[Ne]&&(De[_e[Oe]++]=Ne);if(_e[15]==1)return(ie=new F).g=0,ie.value=De[0],ne(U,Ve,1,$e,ie),$e;var He,Ze=-1,qe=$e-1,ct=0,st=1,gt=1,ot=1<<K;for(Ne=0,Oe=1,xe=2;Oe<=K;++Oe,xe<<=1){if(st+=gt<<=1,0>(gt-=we[Oe]))return 0;for(;0<we[Oe];--we[Oe])(ie=new F).g=Oe,ie.value=De[Ne++],ne(U,Ve+ct,xe,ot,ie),ct=ee(ct,Oe)}for(Oe=K+1,xe=2;15>=Oe;++Oe,xe<<=1){if(st+=gt<<=1,0>(gt-=we[Oe]))return 0;for(;0<we[Oe];--we[Oe]){if(ie=new F,(ct&qe)!=Ze){for(Ve+=ot,He=1<<(Ze=Oe)-K;15>Ze&&!(0>=(He-=we[Ze]));)++Ze,He<<=1;$e+=ot=1<<(He=Ze-K),U[q+(Ze=ct&qe)].g=He+K,U[q+Ze].value=Ve-q-Ze}ie.g=Oe-K,ie.value=De[Ne++],ne(U,Ve+(ct>>K),xe,ot,ie),ct=ee(ct,Oe)}}return st!=2*_e[15]-1?0:$e}(f,v,b,A,D,B)}function F(){this.value=this.g=0}function V(){this.value=this.g=0}function Y(){this.G=a(5,F),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Mr,V)}function ge(f,v,b,A){t(f!=null),t(v!=null),t(2147483648>A),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=v,f.pa=b,f.Jd=v,f.Yc=b+A,f.Zc=4<=A?b+A-4+1:b,je(f)}function pe(f,v){for(var b=0;0<v--;)b|=re(f,128)<<v;return b}function Q(f,v){var b=pe(f,v);return ke(f)?-b:b}function $(f,v,b,A){var D,B=0;for(t(f!=null),t(v!=null),t(4294967288>A),f.Sb=A,f.Ra=0,f.u=0,f.h=0,4<A&&(A=4),D=0;D<A;++D)B+=v[b+D]<<8*D;f.Ra=B,f.bb=A,f.oa=v,f.pa=b}function z(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Ll-8>>>0,++f.bb,f.u-=8;se(f)&&(f.h=1,f.u=0)}function oe(f,v){if(t(0<=v),!f.h&&v<=Al){var b=G(f)&ws[v];return f.u+=v,z(f),b}return f.h=1,f.u=0}function Ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(f){return f.Ra>>>(f.u&Ll-1)>>>0}function se(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Ll}function ce(f,v){f.u=v,f.h=se(f)}function he(f){f.u>=Ao&&(t(f.u>=Ao),z(f))}function je(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function ke(f){return pe(f,1)}function re(f,v){var b=f.Ca;0>f.b&&je(f);var A=f.b,D=b*v>>>8,B=(f.I>>>A>D)+0;for(B?(b-=D,f.I-=D+1<<A>>>0):b=D+1,A=b,D=0;256<=A;)D+=8,A>>=8;return A=7^D+Xr[A],f.b-=A,f.Ca=(b<<A)-1,B}function le(f,v,b){f[v+0]=b>>24&255,f[v+1]=b>>16&255,f[v+2]=b>>8&255,f[v+3]=b>>0&255}function ue(f,v){return f[v+0]<<0|f[v+1]<<8}function me(f,v){return ue(f,v)|f[v+2]<<16}function Ee(f,v){return ue(f,v)|ue(f,v+2)<<16}function Me(f,v){var b=1<<v;return t(f!=null),t(0<v),f.X=s(b),f.X==null?0:(f.Mb=32-v,f.Xa=v,1)}function fe(f,v){t(f!=null),t(v!=null),t(f.Xa==v.Xa),r(v.X,0,f.X,0,1<<v.Xa)}function J(){this.X=[],this.Xa=this.Mb=0}function ze(f,v,b,A){t(b!=null),t(A!=null);var D=b[0],B=A[0];return D==0&&(D=(f*B+v/2)/v),B==0&&(B=(v*D+f/2)/f),0>=D||0>=B?0:(b[0]=D,A[0]=B,1)}function Re(f,v){return f+(1<<v)-1>>>v}function Fe(f,v){return((4278255360&f)+(4278255360&v)>>>0&4278255360)+((16711935&f)+(16711935&v)>>>0&16711935)>>>0}function We(f,v){O[v]=function(b,A,D,B,U,q,K){var ie;for(ie=0;ie<U;++ie){var xe=O[f](q[K+ie-1],D,B+ie);q[K+ie]=Fe(b[A+ie],xe)}}}function be(){this.ud=this.hd=this.jd=0}function Ie(f,v){return((4278124286&(f^v))>>>1)+(f&v)>>>0}function Ke(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Je(f,v){return Ke(f+(f-v+.5>>1))}function nt(f,v,b){return Math.abs(v-b)-Math.abs(f-b)}function rt(f,v,b,A,D,B,U){for(A=B[U-1],b=0;b<D;++b)B[U+b]=A=Fe(f[v+b],A)}function at(f,v,b,A,D){var B;for(B=0;B<b;++B){var U=f[v+B],q=U>>8&255,K=16711935&(K=(K=16711935&U)+((q<<16)+q));A[D+B]=(4278255360&U)+K>>>0}}function St(f,v){v.jd=f>>0&255,v.hd=f>>8&255,v.ud=f>>16&255}function ft(f,v,b,A,D,B){var U;for(U=0;U<A;++U){var q=v[b+U],K=q>>>8,ie=q,xe=255&(xe=(xe=q>>>16)+((f.jd<<24>>24)*(K<<24>>24)>>>5));ie=255&(ie=(ie=ie+((f.hd<<24>>24)*(K<<24>>24)>>>5))+((f.ud<<24>>24)*(xe<<24>>24)>>>5)),D[B+U]=(4278255360&q)+(xe<<16)+ie}}function Nt(f,v,b,A,D){O[v]=function(B,U,q,K,ie,xe,De,Oe,Ne){for(K=De;K<Oe;++K)for(De=0;De<Ne;++De)ie[xe++]=D(q[A(B[U++])])},O[f]=function(B,U,q,K,ie,xe,De){var Oe=8>>B.b,Ne=B.Ea,Ve=B.K[0],$e=B.w;if(8>Oe)for(B=(1<<B.b)-1,$e=(1<<Oe)-1;U<q;++U){var we,_e=0;for(we=0;we<Ne;++we)we&B||(_e=A(K[ie++])),xe[De++]=D(Ve[_e&$e]),_e>>=Oe}else O["VP8LMapColor"+b](K,ie,Ve,$e,xe,De,U,q,Ne)}}function et(f,v,b,A,D){for(b=v+b;v<b;){var B=f[v++];A[D++]=B>>16&255,A[D++]=B>>8&255,A[D++]=B>>0&255}}function bn(f,v,b,A,D){for(b=v+b;v<b;){var B=f[v++];A[D++]=B>>16&255,A[D++]=B>>8&255,A[D++]=B>>0&255,A[D++]=B>>24&255}}function Bt(f,v,b,A,D){for(b=v+b;v<b;){var B=(U=f[v++])>>16&240|U>>12&15,U=U>>0&240|U>>28&15;A[D++]=B,A[D++]=U}}function Pr(f,v,b,A,D){for(b=v+b;v<b;){var B=(U=f[v++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;A[D++]=B,A[D++]=U}}function Qt(f,v,b,A,D){for(b=v+b;v<b;){var B=f[v++];A[D++]=B>>0&255,A[D++]=B>>8&255,A[D++]=B>>16&255}}function pn(f,v,b,A,D,B){if(B==0)for(b=v+b;v<b;)le(A,((B=f[v++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),D+=32;else r(A,D,f,v,b)}function ai(f,v){O[v][0]=O[f+"0"],O[v][1]=O[f+"1"],O[v][2]=O[f+"2"],O[v][3]=O[f+"3"],O[v][4]=O[f+"4"],O[v][5]=O[f+"5"],O[v][6]=O[f+"6"],O[v][7]=O[f+"7"],O[v][8]=O[f+"8"],O[v][9]=O[f+"9"],O[v][10]=O[f+"10"],O[v][11]=O[f+"11"],O[v][12]=O[f+"12"],O[v][13]=O[f+"13"],O[v][14]=O[f+"0"],O[v][15]=O[f+"0"]}function Zt(f){return f==Dl||f==Ol||f==Ml||f==Gf}function aa(){this.eb=[],this.size=this.A=this.fb=0}function Mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new aa,this.f.kb=new Mn,this.sd=null}function _n(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function wt(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Ut(f,v){var b=f.T,A=v.ba.f.RGBA,D=A.eb,B=A.fb+f.ka*A.A,U=Ei[v.ba.S],q=f.y,K=f.O,ie=f.f,xe=f.N,De=f.ea,Oe=f.W,Ne=v.cc,Ve=v.dc,$e=v.Mc,we=v.Nc,_e=f.ka,He=f.ka+f.T,Ze=f.U,qe=Ze+1>>1;for(_e==0?U(q,K,null,null,ie,xe,De,Oe,ie,xe,De,Oe,D,B,null,null,Ze):(U(v.ec,v.fc,q,K,Ne,Ve,$e,we,ie,xe,De,Oe,D,B-A.A,D,B,Ze),++b);_e+2<He;_e+=2)Ne=ie,Ve=xe,$e=De,we=Oe,xe+=f.Rc,Oe+=f.Rc,B+=2*A.A,U(q,(K+=2*f.fa)-f.fa,q,K,Ne,Ve,$e,we,ie,xe,De,Oe,D,B-A.A,D,B,Ze);return K+=f.fa,f.j+He<f.o?(r(v.ec,v.fc,q,K,Ze),r(v.cc,v.dc,ie,xe,qe),r(v.Mc,v.Nc,De,Oe,qe),b--):1&He||U(q,K,null,null,ie,xe,De,Oe,ie,xe,De,Oe,D,B+A.A,null,null,Ze),b}function ur(f,v,b){var A=f.F,D=[f.J];if(A!=null){var B=f.U,U=v.ba.S,q=U==hd||U==Ml;v=v.ba.f.RGBA;var K=[0],ie=f.ka;K[0]=f.T,f.Kb&&(ie==0?--K[0]:(--ie,D[0]-=f.width),f.j+f.ka+f.T==f.o&&(K[0]=f.o-f.j-ie));var xe=v.eb;ie=v.fb+ie*v.A,f=Cn(A,D[0],f.width,B,K,xe,ie+(q?0:3),v.A),t(b==K),f&&Zt(U)&&ki(xe,ie,q,B,K,v.A)}return 0}function rn(f){var v=f.ma,b=v.ba.S,A=11>b,D=b==Va||b==Oo||b==hd||b==Vf||b==12||Zt(b);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Xc(v.Oa,f,D?11:12))return 0;if(D&&Zt(b)&&Qe(),f.da)alert("todo:use_scaling");else{if(A){if(v.Ib=wt,f.Kb){if(b=f.U+1>>1,v.memory=s(f.U+2*b),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+f.U,v.Mc=v.cc,v.Nc=v.dc+b,v.Ib=Ut,Qe()}}else alert("todo:EmitYUV");D&&(v.Jb=ur,A&&Le())}if(A&&!zp){for(f=0;256>f;++f)pa[f]=89858*(f-128)+Hs>>md,a1[f]=-22014*(f-128)+Hs,s1[f]=-45773*(f-128),i1[f]=113618*(f-128)+Hs>>md;for(f=au;f<Jf;++f)v=76283*(f-16)+Hs>>md,o1[f-au]=Tn(v,255),l1[f-au]=Tn(v+8>>4,15);zp=1}return 1}function tr(f){var v=f.ma,b=f.U,A=f.T;return t(!(1&f.ka)),0>=b||0>=A?0:(b=v.Ib(f,v),v.Jb!=null&&v.Jb(f,v,b),v.Dc+=b,1)}function Tr(f){f.ma.memory=null}function ht(f,v,b,A){return oe(f,8)!=47?0:(v[0]=oe(f,14)+1,b[0]=oe(f,14)+1,A[0]=oe(f,1),oe(f,3)!=0?0:!f.h)}function Gn(f,v){if(4>f)return f+1;var b=f-2>>1;return(2+(1&f)<<b)+oe(v,b)+1}function nr(f,v){return 120<v?v-120:1<=(b=((b=Qg[v-1])>>4)*f+(8-(15&b)))?b:1;var b}function kn(f,v,b){var A=G(b),D=f[v+=255&A].g-8;return 0<D&&(ce(b,b.u+8),A=G(b),v+=f[v].value,v+=A&(1<<D)-1),ce(b,b.u+f[v].g),f[v].value}function Pn(f,v,b){return b.g+=f.g,b.value+=f.value<<v>>>0,t(8>=b.g),f.g}function En(f,v,b){var A=f.xc;return t((v=A==0?0:f.vc[f.md*(b>>A)+(v>>A)])<f.Wb),f.Ya[v]}function Yn(f,v,b,A){var D=f.ab,B=f.c*v,U=f.C;v=U+v;var q=b,K=A;for(A=f.Ta,b=f.Ua;0<D--;){var ie=f.gc[D],xe=U,De=v,Oe=q,Ne=K,Ve=(K=A,q=b,ie.Ea);switch(t(xe<De),t(De<=ie.nc),ie.hc){case 2:fd(Oe,Ne,(De-xe)*Ve,K,q);break;case 0:var $e=xe,we=De,_e=K,He=q,Ze=(ot=ie).Ea;$e==0&&(qs(Oe,Ne,null,null,1,_e,He),rt(Oe,Ne+1,0,0,Ze-1,_e,He+1),Ne+=Ze,He+=Ze,++$e);for(var qe=1<<ot.b,ct=qe-1,st=Re(Ze,ot.b),gt=ot.K,ot=ot.w+($e>>ot.b)*st;$e<we;){var an=gt,fn=ot,Ht=1;for(Wa(Oe,Ne,_e,He-Ze,1,_e,He);Ht<Ze;){var Mt=(Ht&~ct)+qe;Mt>Ze&&(Mt=Ze),(0,ca[an[fn++]>>8&15])(Oe,Ne+ +Ht,_e,He+Ht-Ze,Mt-Ht,_e,He+Ht),Ht=Mt}Ne+=Ze,He+=Ze,++$e&ct||(ot+=st)}De!=ie.nc&&r(K,q-Ve,K,q+(De-xe-1)*Ve,Ve);break;case 1:for(Ve=Oe,we=Ne,Ze=(Oe=ie.Ea)-(He=Oe&~(_e=(Ne=1<<ie.b)-1)),$e=Re(Oe,ie.b),qe=ie.K,ie=ie.w+(xe>>ie.b)*$e;xe<De;){for(ct=qe,st=ie,gt=new be,ot=we+He,an=we+Oe;we<ot;)St(ct[st++],gt),Lo(gt,Ve,we,Ne,K,q),we+=Ne,q+=Ne;we<an&&(St(ct[st++],gt),Lo(gt,Ve,we,Ze,K,q),we+=Ze,q+=Ze),++xe&_e||(ie+=$e)}break;case 3:if(Oe==K&&Ne==q&&0<ie.b){for(we=K,Oe=Ve=q+(De-xe)*Ve-(He=(De-xe)*Re(ie.Ea,ie.b)),Ne=K,_e=q,$e=[],He=(Ze=He)-1;0<=He;--He)$e[He]=Ne[_e+He];for(He=Ze-1;0<=He;--He)we[Oe+He]=$e[He];Gi(ie,xe,De,K,Ve,K,q)}else Gi(ie,xe,De,Oe,Ne,K,q)}q=A,K=b}K!=b&&r(A,b,q,K,B)}function Ui(f,v){var b=f.V,A=f.Ba+f.c*f.C,D=v-f.C;if(t(v<=f.l.o),t(16>=D),0<D){var B=f.l,U=f.Ta,q=f.Ua,K=B.width;if(Yn(f,D,b,A),D=q=[q],t((b=f.C)<(A=v)),t(B.v<B.va),A>B.o&&(A=B.o),b<B.j){var ie=B.j-b;b=B.j,D[0]+=ie*K}if(b>=A?b=0:(D[0]+=4*B.v,B.ka=b-B.j,B.U=B.va-B.v,B.T=A-b,b=1),b){if(q=q[0],11>(b=f.ca).S){var xe=b.f.RGBA,De=(A=b.S,D=B.U,B=B.T,ie=xe.eb,xe.A),Oe=B;for(xe=xe.fb+f.Ma*xe.A;0<Oe--;){var Ne=U,Ve=q,$e=D,we=ie,_e=xe;switch(A){case tu:di(Ne,Ve,$e,we,_e);break;case Va:Qr(Ne,Ve,$e,we,_e);break;case Dl:Qr(Ne,Ve,$e,we,_e),ki(we,_e,0,$e,1,0);break;case Ga:fi(Ne,Ve,$e,we,_e);break;case Oo:pn(Ne,Ve,$e,we,_e,1);break;case Ol:pn(Ne,Ve,$e,we,_e,1),ki(we,_e,0,$e,1,0);break;case hd:pn(Ne,Ve,$e,we,_e,0);break;case Ml:pn(Ne,Ve,$e,we,_e,0),ki(we,_e,1,$e,1,0);break;case Vf:Ha(Ne,Ve,$e,we,_e);break;case Gf:Ha(Ne,Ve,$e,we,_e),gn(we,_e,$e,1,0);break;case Ip:ua(Ne,Ve,$e,we,_e);break;default:t(0)}q+=K,xe+=De}f.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=b.height)}}f.C=v,t(f.C<=f.i)}function ji(f){var v;if(0<f.ua)return 0;for(v=0;v<f.Wb;++v){var b=f.Ya[v].G,A=f.Ya[v].H;if(0<b[1][A[1]+0].g||0<b[2][A[2]+0].g||0<b[3][A[3]+0].g)return 0}return 1}function ps(f,v,b,A,D,B){if(f.Z!=0){var U=f.qd,q=f.rd;for(t(Xi[f.Z]!=null);v<b;++v)Xi[f.Z](U,q,A,D,A,D,B),U=A,q=D,D+=B;f.qd=U,f.rd=q}}function ms(f,v){var b=f.l.ma,A=b.Z==0||b.Z==1?f.l.j:f.C;if(A=f.C<A?A:f.C,t(v<=f.l.o),v>A){var D=f.l.width,B=b.ca,U=b.tb+D*A,q=f.V,K=f.Ba+f.c*A,ie=f.gc;t(f.ab==1),t(ie[0].hc==3),la(ie[0],A,v,q,K,B,U),ps(b,A,v,B,U,D)}f.C=f.Ma=v}function gs(f,v,b,A,D,B,U){var q=f.$/A,K=f.$%A,ie=f.m,xe=f.s,De=b+f.$,Oe=De;D=b+A*D;var Ne=b+A*B,Ve=280+xe.ua,$e=f.Pb?q:16777216,we=0<xe.ua?xe.Wa:null,_e=xe.wc,He=De<Ne?En(xe,K,q):null;t(f.C<B),t(Ne<=D);var Ze=!1;e:for(;;){for(;Ze||De<Ne;){var qe=0;if(q>=$e){var ct=De-b;t(($e=f).Pb),$e.wd=$e.m,$e.xd=ct,0<$e.s.ua&&fe($e.s.Wa,$e.s.vb),$e=q+$p}if(K&_e||(He=En(xe,K,q)),t(He!=null),He.Qb&&(v[De]=He.qb,Ze=!0),!Ze)if(he(ie),He.jc){qe=ie,ct=v;var st=De,gt=He.pd[G(qe)&Mr-1];t(He.jc),256>gt.g?(ce(qe,qe.u+gt.g),ct[st]=gt.value,qe=0):(ce(qe,qe.u+gt.g-256),t(256<=gt.value),qe=gt.value),qe==0&&(Ze=!0)}else qe=kn(He.G[0],He.H[0],ie);if(ie.h)break;if(Ze||256>qe){if(!Ze)if(He.nd)v[De]=(He.qb|qe<<8)>>>0;else{if(he(ie),Ze=kn(He.G[1],He.H[1],ie),he(ie),ct=kn(He.G[2],He.H[2],ie),st=kn(He.G[3],He.H[3],ie),ie.h)break;v[De]=(st<<24|Ze<<16|qe<<8|ct)>>>0}if(Ze=!1,++De,++K>=A&&(K=0,++q,U!=null&&q<=B&&!(q%16)&&U(f,q),we!=null))for(;Oe<De;)qe=v[Oe++],we.X[(506832829*qe&4294967295)>>>we.Mb]=qe}else if(280>qe){if(qe=Gn(qe-256,ie),ct=kn(He.G[4],He.H[4],ie),he(ie),ct=nr(A,ct=Gn(ct,ie)),ie.h)break;if(De-b<ct||D-De<qe)break e;for(st=0;st<qe;++st)v[De+st]=v[De+st-ct];for(De+=qe,K+=qe;K>=A;)K-=A,++q,U!=null&&q<=B&&!(q%16)&&U(f,q);if(t(De<=D),K&_e&&(He=En(xe,K,q)),we!=null)for(;Oe<De;)qe=v[Oe++],we.X[(506832829*qe&4294967295)>>>we.Mb]=qe}else{if(!(qe<Ve))break e;for(Ze=qe-280,t(we!=null);Oe<De;)qe=v[Oe++],we.X[(506832829*qe&4294967295)>>>we.Mb]=qe;qe=De,t(!(Ze>>>(ct=we).Xa)),v[qe]=ct.X[Ze],Ze=!0}Ze||t(ie.h==se(ie))}if(f.Pb&&ie.h&&De<D)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&fe(f.s.vb,f.s.Wa);else{if(ie.h)break e;U!=null&&U(f,q>B?B:q),f.a=0,f.$=De-b}return 1}return f.a=3,0}function vs(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var v=f.Wa;v!=null&&(v.X=null),f.vb=null,t(f!=null)}function zi(){var f=new Nl;return f==null?null:(f.a=0,f.xb=iu,ai("Predictor","VP8LPredictors"),ai("Predictor","VP8LPredictors_C"),ai("PredictorAdd","VP8LPredictorsAdd"),ai("PredictorAdd","VP8LPredictorsAdd_C"),fd=at,Lo=ft,di=et,Qr=bn,Ha=Bt,ua=Pr,fi=Qt,O.VP8LMapColor32b=Pl,O.VP8LMapColor8b=ui,f)}function Rs(f,v,b,A,D){var B=1,U=[f],q=[v],K=A.m,ie=A.s,xe=null,De=0;e:for(;;){if(b)for(;B&&oe(K,1);){var Oe=U,Ne=q,Ve=A,$e=1,we=Ve.m,_e=Ve.gc[Ve.ab],He=oe(we,2);if(Ve.Oc&1<<He)B=0;else{switch(Ve.Oc|=1<<He,_e.hc=He,_e.Ea=Oe[0],_e.nc=Ne[0],_e.K=[null],++Ve.ab,t(4>=Ve.ab),He){case 0:case 1:_e.b=oe(we,3)+2,$e=Rs(Re(_e.Ea,_e.b),Re(_e.nc,_e.b),0,Ve,_e.K),_e.K=_e.K[0];break;case 3:var Ze,qe=oe(we,8)+1,ct=16<qe?0:4<qe?1:2<qe?2:3;if(Oe[0]=Re(_e.Ea,ct),_e.b=ct,Ze=$e=Rs(qe,1,0,Ve,_e.K)){var st,gt=qe,ot=_e,an=1<<(8>>ot.b),fn=s(an);if(fn==null)Ze=0;else{var Ht=ot.K[0],Mt=ot.w;for(fn[0]=ot.K[0][0],st=1;st<1*gt;++st)fn[st]=Fe(Ht[Mt+st],fn[st-1]);for(;st<4*an;++st)fn[st]=0;ot.K[0]=null,ot.K[0]=fn,Ze=1}}$e=Ze;break;case 2:break;default:t(0)}B=$e}}if(U=U[0],q=q[0],B&&oe(K,1)&&!(B=1<=(De=oe(K,4))&&11>=De)){A.a=3;break e}var yn;if(yn=B)t:{var wn,Dt,fr,ei=A,Kt=U,zr=q,hn=De,Zn=b,ti=ei.m,ir=ei.s,zn=[null],qr=1,An=0,Qi=Zg[hn];n:for(;;){if(Zn&&oe(ti,1)){var Ar=oe(ti,3)+2,ma=Re(Kt,Ar),Mo=Re(zr,Ar),Ka=ma*Mo;if(!Rs(ma,Mo,0,ei,zn))break n;for(zn=zn[0],ir.xc=Ar,wn=0;wn<Ka;++wn){var Ja=zn[wn]>>8&65535;zn[wn]=Ja,Ja>=qr&&(qr=Ja+1)}}if(ti.h)break n;for(Dt=0;5>Dt;++Dt){var Ln=Fp[Dt];!Dt&&0<hn&&(Ln+=1<<hn),An<Ln&&(An=Ln)}var vd=a(qr*Qi,F),Wp=qr,Hp=a(Wp,Y);if(Hp==null)var Xa=null;else t(65536>=Wp),Xa=Hp;var ou=s(An);if(Xa==null||ou==null||vd==null){ei.a=1;break n}var yd=vd;for(wn=fr=0;wn<qr;++wn){var Ai=Xa[wn],Io=Ai.G,Bl=Ai.H,Vp=0,wd=1,Xf=0;for(Dt=0;5>Dt;++Dt){Ln=Fp[Dt],Io[Dt]=yd,Bl[Dt]=fr,!Dt&&0<hn&&(Ln+=1<<hn);i:{var Ul,Qf=Ln,zl=ei,ql=ou,Gp=yd,Yp=fr,Wl=0,Qa=zl.m,Kp=oe(Qa,1);if(i(ql,0,0,Qf),Kp){var Jp=oe(Qa,1)+1,d1=oe(Qa,1),Zf=oe(Qa,d1==0?1:8);ql[Zf]=1,Jp==2&&(ql[Zf=oe(Qa,8)]=1);var xd=1}else{var bd=s(19),eh=oe(Qa,4)+4;if(19<eh){zl.a=3;var Hl=0;break i}for(Ul=0;Ul<eh;++Ul)bd[Ur[Ul]]=oe(Qa,3);var th=void 0,Ro=void 0,$t=zl,f1=bd,_d=Qf,Vl=ql,Sd=0,Za=$t.m,Xp=8,Li=a(128,F);r:for(;T(Li,0,7,f1,19);){if(oe(Za,1)){var h1=2+2*oe(Za,3);if((th=2+oe(Za,h1))>_d)break r}else th=_d;for(Ro=0;Ro<_d&&th--;){he(Za);var lu=Li[0+(127&G(Za))];ce(Za,Za.u+lu.g);var eo=lu.value;if(16>eo)Vl[Ro++]=eo,eo!=0&&(Xp=eo);else{var Qp=eo==16,nh=eo-16,Pi=Xg[nh],ga=oe(Za,Rp[nh])+Pi;if(Ro+ga>_d)break r;for(var rh=Qp?Xp:0;0<ga--;)Vl[Ro++]=rh}}Sd=1;break r}Sd||($t.a=3),xd=Sd}(xd=xd&&!Qa.h)&&(Wl=T(Gp,Yp,8,ql,Qf)),xd&&Wl!=0?Hl=Wl:(zl.a=3,Hl=0)}if(Hl==0)break n;if(wd&&yr[Dt]==1&&(wd=yd[fr].g==0),Vp+=yd[fr].g,fr+=Hl,3>=Dt){var Gl,Yl=ou[0];for(Gl=1;Gl<Ln;++Gl)ou[Gl]>Yl&&(Yl=ou[Gl]);Xf+=Yl}}if(Ai.nd=wd,Ai.Qb=0,wd&&(Ai.qb=(Io[3][Bl[3]+0].value<<24|Io[1][Bl[1]+0].value<<16|Io[2][Bl[2]+0].value)>>>0,Vp==0&&256>Io[0][Bl[0]+0].value&&(Ai.Qb=1,Ai.qb+=Io[0][Bl[0]+0].value<<8)),Ai.jc=!Ai.Qb&&6>Xf,Ai.jc){var cu,Ns=Ai;for(cu=0;cu<Mr;++cu){var va=cu,Gs=Ns.pd[va],Kl=Ns.G[0][Ns.H[0]+va];256<=Kl.value?(Gs.g=Kl.g+256,Gs.value=Kl.value):(Gs.g=0,Gs.value=0,va>>=Pn(Kl,8,Gs),va>>=Pn(Ns.G[1][Ns.H[1]+va],16,Gs),va>>=Pn(Ns.G[2][Ns.H[2]+va],0,Gs),Pn(Ns.G[3][Ns.H[3]+va],24,Gs))}}}ir.vc=zn,ir.Wb=qr,ir.Ya=Xa,ir.yc=vd,yn=1;break t}yn=0}if(!(B=yn)){A.a=3;break e}if(0<De){if(ie.ua=1<<De,!Me(ie.Wa,De)){A.a=1,B=0;break e}}else ie.ua=0;var Ys=A,Zp=U,to=q,Nd=Ys.s,jd=Nd.xc;if(Ys.c=Zp,Ys.i=to,Nd.md=Re(Zp,jd),Nd.wc=jd==0?-1:(1<<jd)-1,b){A.xb=t1;break e}if((xe=s(U*q))==null){A.a=1,B=0;break e}B=(B=gs(A,xe,0,U,q,q,null))&&!K.h;break e}return B?(D!=null?D[0]=xe:(t(xe==null),t(b)),A.$=0,b||vs(ie)):vs(ie),B}function So(f,v){var b=f.c*f.i,A=b+v+16*v;return t(f.c<=v),f.V=s(A),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+b+v,1)}function ll(f,v){var b=f.C,A=v-b,D=f.V,B=f.Ba+f.c*b;for(t(v<=f.l.o);0<A;){var U=16<A?16:A,q=f.l.ma,K=f.l.width,ie=K*U,xe=q.ca,De=q.tb+K*b,Oe=f.Ta,Ne=f.Ua;Yn(f,U,D,B),rr(Oe,Ne,xe,De,ie),ps(q,b,b+U,xe,De,K),A-=U,D+=U*f.c,b+=U}t(b==v),f.C=f.Ma=v}function cl(){this.ub=this.yd=this.td=this.Rb=0}function ul(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function oa(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Yu(){this.Yb=function(){var f=[];return function v(b,A,D){for(var B=D[A],U=0;U<B&&(b.push(D.length>A+1?[]:0),!(D.length<A+1));U++)v(b[U],A+1,D)}(f,0,[3,11]),f}()}function dl(){this.jb=s(3),this.Wc=l([4,8],Yu),this.Xc=l([4,17],Yu)}function Mf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function fl(){this.ld=this.La=this.dd=this.tc=0}function Ku(){this.Na=this.la=0}function Ju(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function hl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xu(){this.uc=this.M=this.Nb=0,this.wa=Array(new fl),this.Y=0,this.ya=Array(new hl),this.aa=0,this.l=new pl}function Qu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function If(){this.cb=this.a=0,this.sc="",this.m=new Ae,this.Od=new cl,this.Kc=new ul,this.ed=new Mf,this.Qa=new oa,this.Ic=this.$c=this.Aa=0,this.D=new Xu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Ae),this.ia=0,this.pb=a(4,Ju),this.Pa=new dl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qu),this.Hd=0,this.rb=Array(new Ku),this.sb=0,this.wa=Array(new fl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new hl),this.L=this.aa=0,this.gd=l([4,2],fl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function pl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rf(){var f=new If;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,fa||(fa=ml)),f}function Kn(f,v,b){return f.a==0&&(f.a=v,f.sc=b,f.cb=0),0}function $c(f,v,b){return 3<=b&&f[v+0]==157&&f[v+1]==1&&f[v+2]==42}function Bc(f,v){if(f==null)return 0;if(f.a=0,f.sc="OK",v==null)return Kn(f,2,"null VP8Io passed to VP8GetHeaders()");var b=v.data,A=v.w,D=v.ha;if(4>D)return Kn(f,7,"Truncated header.");var B=b[A+0]|b[A+1]<<8|b[A+2]<<16,U=f.Od;if(U.Rb=!(1&B),U.td=B>>1&7,U.yd=B>>4&1,U.ub=B>>5,3<U.td)return Kn(f,3,"Incorrect keyframe parameters.");if(!U.yd)return Kn(f,4,"Frame not displayable.");A+=3,D-=3;var q=f.Kc;if(U.Rb){if(7>D)return Kn(f,7,"cannot parse picture header");if(!$c(b,A,D))return Kn(f,3,"Bad code word");q.c=16383&(b[A+4]<<8|b[A+3]),q.Td=b[A+4]>>6,q.i=16383&(b[A+6]<<8|b[A+5]),q.Ud=b[A+6]>>6,A+=7,D-=7,f.za=q.c+15>>4,f.Ub=q.i+15>>4,v.width=q.c,v.height=q.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((B=f.Pa).jb,0,255,B.jb.length),t((B=f.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,i(B.Zb,0,0,B.Zb.length),i(B.Lb,0,0,B.Lb)}if(U.ub>D)return Kn(f,7,"bad partition length");ge(B=f.m,b,A,U.ub),A+=U.ub,D-=U.ub,U.Rb&&(q.Ld=ke(B),q.Kd=ke(B)),q=f.Qa;var K,ie=f.Pa;if(t(B!=null),t(q!=null),q.Cb=ke(B),q.Cb){if(q.Bb=ke(B),ke(B)){for(q.Fb=ke(B),K=0;4>K;++K)q.Zb[K]=ke(B)?Q(B,7):0;for(K=0;4>K;++K)q.Lb[K]=ke(B)?Q(B,6):0}if(q.Bb)for(K=0;3>K;++K)ie.jb[K]=ke(B)?pe(B,8):255}else q.Bb=0;if(B.Ka)return Kn(f,3,"cannot parse segment header");if((q=f.ed).zd=ke(B),q.Tb=pe(B,6),q.wb=pe(B,3),q.Pc=ke(B),q.Pc&&ke(B)){for(ie=0;4>ie;++ie)ke(B)&&(q.vd[ie]=Q(B,6));for(ie=0;4>ie;++ie)ke(B)&&(q.od[ie]=Q(B,6))}if(f.L=q.Tb==0?0:q.zd?1:2,B.Ka)return Kn(f,3,"cannot parse filter header");var xe=D;if(D=K=A,A=K+xe,q=xe,f.Xb=(1<<pe(f.m,2))-1,xe<3*(ie=f.Xb))b=7;else{for(K+=3*ie,q-=3*ie,xe=0;xe<ie;++xe){var De=b[D+0]|b[D+1]<<8|b[D+2]<<16;De>q&&(De=q),ge(f.Jc[+xe],b,K,De),K+=De,q-=De,D+=3}ge(f.Jc[+ie],b,K,q),b=K<A?0:5}if(b!=0)return Kn(f,b,"cannot parse partitions");for(b=pe(K=f.m,7),D=ke(K)?Q(K,4):0,A=ke(K)?Q(K,4):0,q=ke(K)?Q(K,4):0,ie=ke(K)?Q(K,4):0,K=ke(K)?Q(K,4):0,xe=f.Qa,De=0;4>De;++De){if(xe.Cb){var Oe=xe.Zb[De];xe.Fb||(Oe+=b)}else{if(0<De){f.pb[De]=f.pb[0];continue}Oe=b}var Ne=f.pb[De];Ne.Sc[0]=Yf[Tn(Oe+D,127)],Ne.Sc[1]=nu[Tn(Oe+0,127)],Ne.Eb[0]=2*Yf[Tn(Oe+A,127)],Ne.Eb[1]=101581*nu[Tn(Oe+q,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=Yf[Tn(Oe+ie,117)],Ne.Qc[1]=nu[Tn(Oe+K,127)],Ne.lc=Oe+K}if(!U.Rb)return Kn(f,4,"Not a key frame.");for(ke(B),U=f.Pa,b=0;4>b;++b){for(D=0;8>D;++D)for(A=0;3>A;++A)for(q=0;11>q;++q)ie=re(B,Fl[b][D][A][q])?pe(B,8):ru[b][D][A][q],U.Wc[b][D].Yb[A][q]=ie;for(D=0;17>D;++D)U.Xc[b][D]=U.Wc[b][e1[D]]}return f.kc=ke(B),f.kc&&(f.Bd=pe(B,8)),f.cb=1}function ml(f,v,b,A,D,B,U){var q=v[D].Yb[b];for(b=0;16>D;++D){if(!re(f,q[b+0]))return D;for(;!re(f,q[b+1]);)if(q=v[++D].Yb[0],b=0,D==16)return 16;var K=v[D+1].Yb;if(re(f,q[b+2])){var ie=f,xe=0;if(re(ie,(Oe=q)[(De=b)+3]))if(re(ie,Oe[De+6])){for(q=0,De=2*(xe=re(ie,Oe[De+8]))+(Oe=re(ie,Oe[De+9+xe])),xe=0,Oe=Kf[De];Oe[q];++q)xe+=xe+re(ie,Oe[q]);xe+=3+(8<<De)}else re(ie,Oe[De+7])?(xe=7+2*re(ie,165),xe+=re(ie,145)):xe=5+re(ie,159);else xe=re(ie,Oe[De+4])?3+re(ie,Oe[De+5]):2;q=K[2]}else xe=1,q=K[1];K=U+Il[D],0>(ie=f).b&&je(ie);var De,Oe=ie.b,Ne=(De=ie.Ca>>1)-(ie.I>>Oe)>>31;--ie.b,ie.Ca+=Ne,ie.Ca|=1,ie.I-=(De+1&Ne)<<Oe,B[K]=((xe^Ne)-Ne)*A[(0<D)+0]}return 16}function Uc(f){var v=f.rb[f.sb-1];v.la=0,v.Na=0,i(f.zc,0,0,f.zc.length),f.ja=0}function Zu(f,v){if(f==null)return 0;if(v==null)return Kn(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!Bc(f,v))return 0;if(t(f.cb),v.ac==null||v.ac(v)){v.ob&&(f.L=0);var b=gd[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=v.v-b>>4,f.zb=v.j-b>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=v.o+15+b>>4,f.Hb=v.va+15+b>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var A=f.ed;for(b=0;4>b;++b){var D;if(f.Qa.Cb){var B=f.Qa.Lb[b];f.Qa.Fb||(B+=A.Tb)}else B=A.Tb;for(D=0;1>=D;++D){var U=f.gd[b][D],q=B;if(A.Pc&&(q+=A.vd[0],D&&(q+=A.od[0])),0<(q=0>q?0:63<q?63:q)){var K=q;0<A.wb&&(K=4<A.wb?K>>2:K>>1)>9-A.wb&&(K=9-A.wb),1>K&&(K=1),U.dd=K,U.tc=2*q+K,U.ld=40<=q?2:15<=q?1:0}else U.tc=0;U.La=D}}}b=0}else Kn(f,6,"Frame setup failed"),b=f.a;if(b=b==0){if(b){f.$c=0,0<f.Aa||(f.Ic=u1);e:{b=f.Ic,A=4*(K=f.za);var ie=32*K,xe=K+1,De=0<f.L?K*(0<f.Aa?2:1):0,Oe=(f.Aa==2?2:1)*K;if((U=A+832+(D=3*(16*b+gd[f.L])/2*ie)+(B=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=U)b=0;else{if(U>f.Vb){if(f.Vb=0,f.Ec=s(U),f.Fc=0,f.Ec==null){b=Kn(f,1,"no memory during frame initialization.");break e}f.Vb=U}U=f.Ec,q=f.Fc,f.Ac=U,f.Bc=q,q+=A,f.Gd=a(ie,Qu),f.Hd=0,f.rb=a(xe+1,Ku),f.sb=1,f.wa=De?a(De,fl):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=K),t(!0),f.oc=U,f.pc=q,q+=832,f.ya=a(Oe,hl),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=K),f.R=16*K,f.B=8*K,K=(ie=gd[f.L])*f.R,ie=ie/2*f.B,f.sa=U,f.ta=q+K,f.qa=f.sa,f.ra=f.ta+16*b*f.R+ie,f.Ha=f.qa,f.Ia=f.ra+8*b*f.B+ie,f.$c=0,q+=D,f.mb=B?U:null,f.nb=B?q:null,t(q+B<=f.Fc+f.Vb),Uc(f),i(f.Ac,f.Bc,0,A),b=1}}if(b){if(v.ka=0,v.y=f.sa,v.O=f.ta,v.f=f.qa,v.N=f.ra,v.ea=f.Ha,v.Vd=f.Ia,v.fa=f.R,v.Rc=f.B,v.F=null,v.J=0,!Zc){for(b=-255;255>=b;++b)vr[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)Ki[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)Ji[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)da[255+b]=0>b?0:255<b?255:b;Zc=1}Se=Wc,Ue=qc,dt=ed,xt=td,It=vl,Te=zc,Rn=bl,dn=Ua,Po=ud,To=_l,Cr=cd,xs=Co,Do=Dr,bs=dd,Ws=dr,_s=qi,en=Jr,Yi=ld,Ss[0]=Bs,Ss[1]=nd,Ss[2]=Bf,Ss[3]=Uf,Ss[4]=sd,Ss[5]=wl,Ss[6]=yl,Ss[7]=Vc,Ss[8]=qf,Ss[9]=zf,Ya[0]=Hc,Ya[1]=Ff,Ya[2]=$s,Ya[3]=jo,Ya[4]=Br,Ya[5]=$f,Ya[6]=id,ha[0]=Ba,ha[1]=rd,ha[2]=Wf,ha[3]=mn,ha[4]=Eo,ha[5]=Hf,ha[6]=Gc,b=1}else b=0}b&&(b=function(Ne,Ve){for(Ne.M=0;Ne.M<Ne.Va;++Ne.M){var $e,we=Ne.Jc[Ne.M&Ne.Xb],_e=Ne.m,He=Ne;for($e=0;$e<He.za;++$e){var Ze=_e,qe=He,ct=qe.Ac,st=qe.Bc+4*$e,gt=qe.zc,ot=qe.ya[qe.aa+$e];if(qe.Qa.Bb?ot.$b=re(Ze,qe.Pa.jb[0])?2+re(Ze,qe.Pa.jb[2]):re(Ze,qe.Pa.jb[1]):ot.$b=0,qe.kc&&(ot.Ad=re(Ze,qe.Bd)),ot.Za=!re(Ze,145)+0,ot.Za){var an=ot.Ob,fn=0;for(qe=0;4>qe;++qe){var Ht,Mt=gt[0+qe];for(Ht=0;4>Ht;++Ht){Mt=pd[ct[st+Ht]][Mt];for(var yn=Rl[re(Ze,Mt[0])];0<yn;)yn=Rl[2*yn+re(Ze,Mt[yn])];Mt=-yn,ct[st+Ht]=Mt}r(an,fn,ct,st,4),fn+=4,gt[0+qe]=Mt}}else Mt=re(Ze,156)?re(Ze,128)?1:3:re(Ze,163)?2:0,ot.Ob[0]=Mt,i(ct,st,Mt,4),i(gt,0,Mt,4);ot.Dd=re(Ze,142)?re(Ze,114)?re(Ze,183)?1:3:2:0}if(He.m.Ka)return Kn(Ne,7,"Premature end-of-partition0 encountered.");for(;Ne.ja<Ne.za;++Ne.ja){if(He=we,Ze=(_e=Ne).rb[_e.sb-1],ct=_e.rb[_e.sb+_e.ja],$e=_e.ya[_e.aa+_e.ja],st=_e.kc?$e.Ad:0)Ze.la=ct.la=0,$e.Za||(Ze.Na=ct.Na=0),$e.Hc=0,$e.Gc=0,$e.ia=0;else{var wn,Dt;if(Ze=ct,ct=He,st=_e.Pa.Xc,gt=_e.ya[_e.aa+_e.ja],ot=_e.pb[gt.$b],qe=gt.ad,an=0,fn=_e.rb[_e.sb-1],Mt=Ht=0,i(qe,an,0,384),gt.Za)var fr=0,ei=st[3];else{yn=s(16);var Kt=Ze.Na+fn.Na;if(Kt=fa(ct,st[1],Kt,ot.Eb,0,yn,0),Ze.Na=fn.Na=(0<Kt)+0,1<Kt)Se(yn,0,qe,an);else{var zr=yn[0]+3>>3;for(yn=0;256>yn;yn+=16)qe[an+yn]=zr}fr=1,ei=st[0]}var hn=15&Ze.la,Zn=15&fn.la;for(yn=0;4>yn;++yn){var ti=1&Zn;for(zr=Dt=0;4>zr;++zr)hn=hn>>1|(ti=(Kt=fa(ct,ei,Kt=ti+(1&hn),ot.Sc,fr,qe,an))>fr)<<7,Dt=Dt<<2|(3<Kt?3:1<Kt?2:qe[an+0]!=0),an+=16;hn>>=4,Zn=Zn>>1|ti<<7,Ht=(Ht<<8|Dt)>>>0}for(ei=hn,fr=Zn>>4,wn=0;4>wn;wn+=2){for(Dt=0,hn=Ze.la>>4+wn,Zn=fn.la>>4+wn,yn=0;2>yn;++yn){for(ti=1&Zn,zr=0;2>zr;++zr)Kt=ti+(1&hn),hn=hn>>1|(ti=0<(Kt=fa(ct,st[2],Kt,ot.Qc,0,qe,an)))<<3,Dt=Dt<<2|(3<Kt?3:1<Kt?2:qe[an+0]!=0),an+=16;hn>>=2,Zn=Zn>>1|ti<<5}Mt|=Dt<<4*wn,ei|=hn<<4<<wn,fr|=(240&Zn)<<wn}Ze.la=ei,fn.la=fr,gt.Hc=Ht,gt.Gc=Mt,gt.ia=43690&Mt?0:ot.ia,st=!(Ht|Mt)}if(0<_e.L&&(_e.wa[_e.Y+_e.ja]=_e.gd[$e.$b][$e.Za],_e.wa[_e.Y+_e.ja].La|=!st),He.Ka)return Kn(Ne,7,"Premature end-of-file encountered.")}if(Uc(Ne),_e=Ve,He=1,$e=(we=Ne).D,Ze=0<we.L&&we.M>=we.zb&&we.M<=we.Va,we.Aa==0)e:{if($e.M=we.M,$e.uc=Ze,kl(we,$e),He=1,$e=(Dt=we.D).Nb,Ze=(Mt=gd[we.L])*we.R,ct=Mt/2*we.B,yn=16*$e*we.R,zr=8*$e*we.B,st=we.sa,gt=we.ta-Ze+yn,ot=we.qa,qe=we.ra-ct+zr,an=we.Ha,fn=we.Ia-ct+zr,Zn=(hn=Dt.M)==0,Ht=hn>=we.Va-1,we.Aa==2&&kl(we,Dt),Dt.uc)for(ti=(Kt=we).D.M,t(Kt.D.uc),Dt=Kt.yb;Dt<Kt.Hb;++Dt){fr=Dt,ei=ti;var ir=(zn=(Ln=Kt).D).Nb;wn=Ln.R;var zn=zn.wa[zn.Y+fr],qr=Ln.sa,An=Ln.ta+16*ir*wn+16*fr,Qi=zn.dd,Ar=zn.tc;if(Ar!=0)if(t(3<=Ar),Ln.L==1)0<fr&&_s(qr,An,wn,Ar+4),zn.La&&Yi(qr,An,wn,Ar),0<ei&&Ws(qr,An,wn,Ar+4),zn.La&&en(qr,An,wn,Ar);else{var ma=Ln.B,Mo=Ln.qa,Ka=Ln.ra+8*ir*ma+8*fr,Ja=Ln.Ha,Ln=Ln.Ia+8*ir*ma+8*fr;ir=zn.ld,0<fr&&(dn(qr,An,wn,Ar+4,Qi,ir),To(Mo,Ka,Ja,Ln,ma,Ar+4,Qi,ir)),zn.La&&(xs(qr,An,wn,Ar,Qi,ir),bs(Mo,Ka,Ja,Ln,ma,Ar,Qi,ir)),0<ei&&(Rn(qr,An,wn,Ar+4,Qi,ir),Po(Mo,Ka,Ja,Ln,ma,Ar+4,Qi,ir)),zn.La&&(Cr(qr,An,wn,Ar,Qi,ir),Do(Mo,Ka,Ja,Ln,ma,Ar,Qi,ir))}}if(we.ia&&alert("todo:DitherRow"),_e.put!=null){if(Dt=16*hn,hn=16*(hn+1),Zn?(_e.y=we.sa,_e.O=we.ta+yn,_e.f=we.qa,_e.N=we.ra+zr,_e.ea=we.Ha,_e.W=we.Ia+zr):(Dt-=Mt,_e.y=st,_e.O=gt,_e.f=ot,_e.N=qe,_e.ea=an,_e.W=fn),Ht||(hn-=Mt),hn>_e.o&&(hn=_e.o),_e.F=null,_e.J=null,we.Fa!=null&&0<we.Fa.length&&Dt<hn&&(_e.J=Jc(we,_e,Dt,hn-Dt),_e.F=we.mb,_e.F==null&&_e.F.length==0)){He=Kn(we,3,"Could not decode alpha data.");break e}Dt<_e.j&&(Mt=_e.j-Dt,Dt=_e.j,t(!(1&Mt)),_e.O+=we.R*Mt,_e.N+=we.B*(Mt>>1),_e.W+=we.B*(Mt>>1),_e.F!=null&&(_e.J+=_e.width*Mt)),Dt<hn&&(_e.O+=_e.v,_e.N+=_e.v>>1,_e.W+=_e.v>>1,_e.F!=null&&(_e.J+=_e.v),_e.ka=Dt-_e.j,_e.U=_e.va-_e.v,_e.T=hn-Dt,He=_e.put(_e))}$e+1!=we.Ic||Ht||(r(we.sa,we.ta-Ze,st,gt+16*we.R,Ze),r(we.qa,we.ra-ct,ot,qe+8*we.B,ct),r(we.Ha,we.Ia-ct,an,fn+8*we.B,ct))}if(!He)return Kn(Ne,6,"Output aborted.")}return 1}(f,v)),v.bc!=null&&v.bc(v),b&=1}return b?(f.cb=0,b):0}function li(f,v,b,A,D){D=f[v+b+32*A]+(D>>3),f[v+b+32*A]=-256&D?0>D?0:255:D}function No(f,v,b,A,D,B){li(f,v,0,b,A+D),li(f,v,1,b,A+B),li(f,v,2,b,A-B),li(f,v,3,b,A-D)}function ci(f){return(20091*f>>16)+f}function gl(f,v,b,A){var D,B=0,U=s(16);for(D=0;4>D;++D){var q=f[v+0]+f[v+8],K=f[v+0]-f[v+8],ie=(35468*f[v+4]>>16)-ci(f[v+12]),xe=ci(f[v+4])+(35468*f[v+12]>>16);U[B+0]=q+xe,U[B+1]=K+ie,U[B+2]=K-ie,U[B+3]=q-xe,B+=4,v++}for(D=B=0;4>D;++D)q=(f=U[B+0]+4)+U[B+8],K=f-U[B+8],ie=(35468*U[B+4]>>16)-ci(U[B+12]),li(b,A,0,0,q+(xe=ci(U[B+4])+(35468*U[B+12]>>16))),li(b,A,1,0,K+ie),li(b,A,2,0,K-ie),li(b,A,3,0,q-xe),B++,A+=32}function zc(f,v,b,A){var D=f[v+0]+4,B=35468*f[v+4]>>16,U=ci(f[v+4]),q=35468*f[v+1]>>16;No(b,A,0,D+U,f=ci(f[v+1]),q),No(b,A,1,D+B,f,q),No(b,A,2,D-B,f,q),No(b,A,3,D-U,f,q)}function qc(f,v,b,A,D){gl(f,v,b,A),D&&gl(f,v+16,b,A+4)}function ed(f,v,b,A){Ue(f,v+0,b,A,1),Ue(f,v+32,b,A+128,1)}function td(f,v,b,A){var D;for(f=f[v+0]+4,D=0;4>D;++D)for(v=0;4>v;++v)li(b,A,v,D,f)}function vl(f,v,b,A){f[v+0]&&xt(f,v+0,b,A),f[v+16]&&xt(f,v+16,b,A+4),f[v+32]&&xt(f,v+32,b,A+128),f[v+48]&&xt(f,v+48,b,A+128+4)}function Wc(f,v,b,A){var D,B=s(16);for(D=0;4>D;++D){var U=f[v+0+D]+f[v+12+D],q=f[v+4+D]+f[v+8+D],K=f[v+4+D]-f[v+8+D],ie=f[v+0+D]-f[v+12+D];B[0+D]=U+q,B[8+D]=U-q,B[4+D]=ie+K,B[12+D]=ie-K}for(D=0;4>D;++D)U=(f=B[0+4*D]+3)+B[3+4*D],q=B[1+4*D]+B[2+4*D],K=B[1+4*D]-B[2+4*D],ie=f-B[3+4*D],b[A+0]=U+q>>3,b[A+16]=ie+K>>3,b[A+32]=U-q>>3,b[A+48]=ie-K>>3,A+=64}function Fs(f,v,b){var A,D=v-32,B=hi,U=255-f[D-1];for(A=0;A<b;++A){var q,K=B,ie=U+f[v-1];for(q=0;q<b;++q)f[v+q]=K[ie+f[D+q]];v+=32}}function nd(f,v){Fs(f,v,4)}function rd(f,v){Fs(f,v,8)}function Ff(f,v){Fs(f,v,16)}function $s(f,v){var b;for(b=0;16>b;++b)r(f,v+32*b,f,v-32,16)}function jo(f,v){var b;for(b=16;0<b;--b)i(f,v,f[v-1],16),v+=32}function ko(f,v,b){var A;for(A=0;16>A;++A)i(v,b+32*A,f,16)}function Hc(f,v){var b,A=16;for(b=0;16>b;++b)A+=f[v-1+32*b]+f[v+b-32];ko(A>>5,f,v)}function Br(f,v){var b,A=8;for(b=0;16>b;++b)A+=f[v-1+32*b];ko(A>>4,f,v)}function $f(f,v){var b,A=8;for(b=0;16>b;++b)A+=f[v+b-32];ko(A>>4,f,v)}function id(f,v){ko(128,f,v)}function Lt(f,v,b){return f+2*v+b+2>>2}function Bf(f,v){var b,A=v-32;for(A=new Uint8Array([Lt(f[A-1],f[A+0],f[A+1]),Lt(f[A+0],f[A+1],f[A+2]),Lt(f[A+1],f[A+2],f[A+3]),Lt(f[A+2],f[A+3],f[A+4])]),b=0;4>b;++b)r(f,v+32*b,A,0,A.length)}function Uf(f,v){var b=f[v-1],A=f[v-1+32],D=f[v-1+64],B=f[v-1+96];le(f,v+0,16843009*Lt(f[v-1-32],b,A)),le(f,v+32,16843009*Lt(b,A,D)),le(f,v+64,16843009*Lt(A,D,B)),le(f,v+96,16843009*Lt(D,B,B))}function Bs(f,v){var b,A=4;for(b=0;4>b;++b)A+=f[v+b-32]+f[v-1+32*b];for(A>>=3,b=0;4>b;++b)i(f,v+32*b,A,4)}function sd(f,v){var b=f[v-1+0],A=f[v-1+32],D=f[v-1+64],B=f[v-1-32],U=f[v+0-32],q=f[v+1-32],K=f[v+2-32],ie=f[v+3-32];f[v+0+96]=Lt(A,D,f[v-1+96]),f[v+1+96]=f[v+0+64]=Lt(b,A,D),f[v+2+96]=f[v+1+64]=f[v+0+32]=Lt(B,b,A),f[v+3+96]=f[v+2+64]=f[v+1+32]=f[v+0+0]=Lt(U,B,b),f[v+3+64]=f[v+2+32]=f[v+1+0]=Lt(q,U,B),f[v+3+32]=f[v+2+0]=Lt(K,q,U),f[v+3+0]=Lt(ie,K,q)}function yl(f,v){var b=f[v+1-32],A=f[v+2-32],D=f[v+3-32],B=f[v+4-32],U=f[v+5-32],q=f[v+6-32],K=f[v+7-32];f[v+0+0]=Lt(f[v+0-32],b,A),f[v+1+0]=f[v+0+32]=Lt(b,A,D),f[v+2+0]=f[v+1+32]=f[v+0+64]=Lt(A,D,B),f[v+3+0]=f[v+2+32]=f[v+1+64]=f[v+0+96]=Lt(D,B,U),f[v+3+32]=f[v+2+64]=f[v+1+96]=Lt(B,U,q),f[v+3+64]=f[v+2+96]=Lt(U,q,K),f[v+3+96]=Lt(q,K,K)}function wl(f,v){var b=f[v-1+0],A=f[v-1+32],D=f[v-1+64],B=f[v-1-32],U=f[v+0-32],q=f[v+1-32],K=f[v+2-32],ie=f[v+3-32];f[v+0+0]=f[v+1+64]=B+U+1>>1,f[v+1+0]=f[v+2+64]=U+q+1>>1,f[v+2+0]=f[v+3+64]=q+K+1>>1,f[v+3+0]=K+ie+1>>1,f[v+0+96]=Lt(D,A,b),f[v+0+64]=Lt(A,b,B),f[v+0+32]=f[v+1+96]=Lt(b,B,U),f[v+1+32]=f[v+2+96]=Lt(B,U,q),f[v+2+32]=f[v+3+96]=Lt(U,q,K),f[v+3+32]=Lt(q,K,ie)}function Vc(f,v){var b=f[v+0-32],A=f[v+1-32],D=f[v+2-32],B=f[v+3-32],U=f[v+4-32],q=f[v+5-32],K=f[v+6-32],ie=f[v+7-32];f[v+0+0]=b+A+1>>1,f[v+1+0]=f[v+0+64]=A+D+1>>1,f[v+2+0]=f[v+1+64]=D+B+1>>1,f[v+3+0]=f[v+2+64]=B+U+1>>1,f[v+0+32]=Lt(b,A,D),f[v+1+32]=f[v+0+96]=Lt(A,D,B),f[v+2+32]=f[v+1+96]=Lt(D,B,U),f[v+3+32]=f[v+2+96]=Lt(B,U,q),f[v+3+64]=Lt(U,q,K),f[v+3+96]=Lt(q,K,ie)}function zf(f,v){var b=f[v-1+0],A=f[v-1+32],D=f[v-1+64],B=f[v-1+96];f[v+0+0]=b+A+1>>1,f[v+2+0]=f[v+0+32]=A+D+1>>1,f[v+2+32]=f[v+0+64]=D+B+1>>1,f[v+1+0]=Lt(b,A,D),f[v+3+0]=f[v+1+32]=Lt(A,D,B),f[v+3+32]=f[v+1+64]=Lt(D,B,B),f[v+3+64]=f[v+2+64]=f[v+0+96]=f[v+1+96]=f[v+2+96]=f[v+3+96]=B}function qf(f,v){var b=f[v-1+0],A=f[v-1+32],D=f[v-1+64],B=f[v-1+96],U=f[v-1-32],q=f[v+0-32],K=f[v+1-32],ie=f[v+2-32];f[v+0+0]=f[v+2+32]=b+U+1>>1,f[v+0+32]=f[v+2+64]=A+b+1>>1,f[v+0+64]=f[v+2+96]=D+A+1>>1,f[v+0+96]=B+D+1>>1,f[v+3+0]=Lt(q,K,ie),f[v+2+0]=Lt(U,q,K),f[v+1+0]=f[v+3+32]=Lt(b,U,q),f[v+1+32]=f[v+3+64]=Lt(A,b,U),f[v+1+64]=f[v+3+96]=Lt(D,A,b),f[v+1+96]=Lt(B,D,A)}function Wf(f,v){var b;for(b=0;8>b;++b)r(f,v+32*b,f,v-32,8)}function mn(f,v){var b;for(b=0;8>b;++b)i(f,v,f[v-1],8),v+=32}function sn(f,v,b){var A;for(A=0;8>A;++A)i(v,b+32*A,f,8)}function Ba(f,v){var b,A=8;for(b=0;8>b;++b)A+=f[v+b-32]+f[v-1+32*b];sn(A>>4,f,v)}function Hf(f,v){var b,A=4;for(b=0;8>b;++b)A+=f[v+b-32];sn(A>>3,f,v)}function Eo(f,v){var b,A=4;for(b=0;8>b;++b)A+=f[v-1+32*b];sn(A>>3,f,v)}function Gc(f,v){sn(128,f,v)}function xl(f,v,b){var A=f[v-b],D=f[v+0],B=3*(D-A)+Tl[1020+f[v-2*b]-f[v+b]],U=eu[112+(B+4>>3)];f[v-b]=hi[255+A+eu[112+(B+3>>3)]],f[v+0]=hi[255+D-U]}function ad(f,v,b,A){var D=f[v+0],B=f[v+b];return Zr[255+f[v-2*b]-f[v-b]]>A||Zr[255+B-D]>A}function Yc(f,v,b,A){return 4*Zr[255+f[v-b]-f[v+0]]+Zr[255+f[v-2*b]-f[v+b]]<=A}function od(f,v,b,A,D){var B=f[v-3*b],U=f[v-2*b],q=f[v-b],K=f[v+0],ie=f[v+b],xe=f[v+2*b],De=f[v+3*b];return 4*Zr[255+q-K]+Zr[255+U-ie]>A?0:Zr[255+f[v-4*b]-B]<=D&&Zr[255+B-U]<=D&&Zr[255+U-q]<=D&&Zr[255+De-xe]<=D&&Zr[255+xe-ie]<=D&&Zr[255+ie-K]<=D}function dr(f,v,b,A){var D=2*A+1;for(A=0;16>A;++A)Yc(f,v+A,b,D)&&xl(f,v+A,b)}function qi(f,v,b,A){var D=2*A+1;for(A=0;16>A;++A)Yc(f,v+A*b,1,D)&&xl(f,v+A*b,1)}function Jr(f,v,b,A){var D;for(D=3;0<D;--D)dr(f,v+=4*b,b,A)}function ld(f,v,b,A){var D;for(D=3;0<D;--D)qi(f,v+=4,b,A)}function Us(f,v,b,A,D,B,U,q){for(B=2*B+1;0<D--;){if(od(f,v,b,B,U))if(ad(f,v,b,q))xl(f,v,b);else{var K=f,ie=v,xe=b,De=K[ie-2*xe],Oe=K[ie-xe],Ne=K[ie+0],Ve=K[ie+xe],$e=K[ie+2*xe],we=27*(He=Tl[1020+3*(Ne-Oe)+Tl[1020+De-Ve]])+63>>7,_e=18*He+63>>7,He=9*He+63>>7;K[ie-3*xe]=hi[255+K[ie-3*xe]+He],K[ie-2*xe]=hi[255+De+_e],K[ie-xe]=hi[255+Oe+we],K[ie+0]=hi[255+Ne-we],K[ie+xe]=hi[255+Ve-_e],K[ie+2*xe]=hi[255+$e-He]}v+=A}}function Jn(f,v,b,A,D,B,U,q){for(B=2*B+1;0<D--;){if(od(f,v,b,B,U))if(ad(f,v,b,q))xl(f,v,b);else{var K=f,ie=v,xe=b,De=K[ie-xe],Oe=K[ie+0],Ne=K[ie+xe],Ve=eu[112+(($e=3*(Oe-De))+4>>3)],$e=eu[112+($e+3>>3)],we=Ve+1>>1;K[ie-2*xe]=hi[255+K[ie-2*xe]+we],K[ie-xe]=hi[255+De+$e],K[ie+0]=hi[255+Oe-Ve],K[ie+xe]=hi[255+Ne-we]}v+=A}}function bl(f,v,b,A,D,B){Us(f,v,b,1,16,A,D,B)}function Ua(f,v,b,A,D,B){Us(f,v,1,b,16,A,D,B)}function cd(f,v,b,A,D,B){var U;for(U=3;0<U;--U)Jn(f,v+=4*b,b,1,16,A,D,B)}function Co(f,v,b,A,D,B){var U;for(U=3;0<U;--U)Jn(f,v+=4,1,b,16,A,D,B)}function ud(f,v,b,A,D,B,U,q){Us(f,v,D,1,8,B,U,q),Us(b,A,D,1,8,B,U,q)}function _l(f,v,b,A,D,B,U,q){Us(f,v,1,D,8,B,U,q),Us(b,A,1,D,8,B,U,q)}function Dr(f,v,b,A,D,B,U,q){Jn(f,v+4*D,D,1,8,B,U,q),Jn(b,A+4*D,D,1,8,B,U,q)}function dd(f,v,b,A,D,B,U,q){Jn(f,v+4,1,D,8,B,U,q),Jn(b,A+4,1,D,8,B,U,q)}function Or(){this.ba=new oi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Kc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Sl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ys(){this.ua=0,this.Wa=new J,this.vb=new J,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new F}function Nl(){this.xb=this.a=0,this.l=new pl,this.ca=new oi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ys,this.ab=0,this.gc=a(4,Sl),this.Oc=0}function za(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new pl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function un(f,v,b,A,D,B,U){for(f=f==null?0:f[v+0],v=0;v<U;++v)D[B+v]=f+b[A+v]&255,f=D[B+v]}function Wi(f,v,b,A,D,B,U){var q;if(f==null)un(null,null,b,A,D,B,U);else for(q=0;q<U;++q)D[B+q]=f[v+q]+b[A+q]&255}function zs(f,v,b,A,D,B,U){if(f==null)un(null,null,b,A,D,B,U);else{var q,K=f[v+0],ie=K,xe=K;for(q=0;q<U;++q)ie=xe+(K=f[v+q])-ie,xe=b[A+q]+(-256&ie?0>ie?0:255:ie)&255,ie=K,D[B+q]=xe}}function Jc(f,v,b,A){var D=v.width,B=v.o;if(t(f!=null&&v!=null),0>b||0>=A||b+A>B)return null;if(!f.Cc){if(f.ga==null){var U;if(f.ga=new za,(U=f.ga==null)||(U=v.width*v.o,t(f.Gb.length==0),f.Gb=s(U),f.Uc=0,f.Gb==null?U=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,U=1),U=!U),!U){U=f.ga;var q=f.Fa,K=f.P,ie=f.qc,xe=f.mb,De=f.nb,Oe=K+1,Ne=ie-1,Ve=U.l;if(t(q!=null&&xe!=null&&v!=null),Xi[0]=null,Xi[1]=un,Xi[2]=Wi,Xi[3]=zs,U.ca=xe,U.tb=De,U.c=v.width,U.i=v.height,t(0<U.c&&0<U.i),1>=ie)v=0;else if(U.$a=q[K+0]>>0&3,U.Z=q[K+0]>>2&3,U.Lc=q[K+0]>>4&3,K=q[K+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||K)v=0;else if(Ve.put=tr,Ve.ac=rn,Ve.bc=Tr,Ve.ma=U,Ve.width=v.width,Ve.height=v.height,Ve.Da=v.Da,Ve.v=v.v,Ve.va=v.va,Ve.j=v.j,Ve.o=v.o,U.$a)e:{t(U.$a==1),v=zi();t:for(;;){if(v==null){v=0;break e}if(t(U!=null),U.mc=v,v.c=U.c,v.i=U.i,v.l=U.l,v.l.ma=U,v.l.width=U.c,v.l.height=U.i,v.a=0,$(v.m,q,Oe,Ne),!Rs(U.c,U.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&ji(v.s)?(U.ic=1,q=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(q),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(U.ic=0,v=So(v,U.c)),!v))break t;v=1;break e}U.mc=null,v=0}else v=Ne>=U.c*U.i;U=!v}if(U)return null;f.ga.Lc!=1?f.Ga=0:A=B-b}t(f.ga!=null),t(b+A<=B);e:{if(v=(q=f.ga).c,B=q.l.o,q.$a==0){if(Oe=f.rc,Ne=f.Vc,Ve=f.Fa,K=f.P+1+b*v,ie=f.mb,xe=f.nb+b*v,t(K<=f.P+f.qc),q.Z!=0)for(t(Xi[q.Z]!=null),U=0;U<A;++U)Xi[q.Z](Oe,Ne,Ve,K,ie,xe,v),Oe=ie,Ne=xe,xe+=v,K+=v;else for(U=0;U<A;++U)r(ie,xe,Ve,K,v),Oe=ie,Ne=xe,xe+=v,K+=v;f.rc=Oe,f.Vc=Ne}else{if(t(q.mc!=null),v=b+A,t((U=q.mc)!=null),t(v<=U.i),U.C>=v)v=1;else if(q.ic||Le(),q.ic){q=U.V,Oe=U.Ba,Ne=U.c;var $e=U.i,we=(Ve=1,K=U.$/Ne,ie=U.$%Ne,xe=U.m,De=U.s,U.$),_e=Ne*$e,He=Ne*v,Ze=De.wc,qe=we<He?En(De,ie,K):null;t(we<=_e),t(v<=$e),t(ji(De));t:for(;;){for(;!xe.h&&we<He;){if(ie&Ze||(qe=En(De,ie,K)),t(qe!=null),he(xe),256>($e=kn(qe.G[0],qe.H[0],xe)))q[Oe+we]=$e,++we,++ie>=Ne&&(ie=0,++K<=v&&!(K%16)&&ms(U,K));else{if(!(280>$e)){Ve=0;break t}$e=Gn($e-256,xe);var ct,st=kn(qe.G[4],qe.H[4],xe);if(he(xe),!(we>=(st=nr(Ne,st=Gn(st,xe)))&&_e-we>=$e)){Ve=0;break t}for(ct=0;ct<$e;++ct)q[Oe+we+ct]=q[Oe+we+ct-st];for(we+=$e,ie+=$e;ie>=Ne;)ie-=Ne,++K<=v&&!(K%16)&&ms(U,K);we<He&&ie&Ze&&(qe=En(De,ie,K))}t(xe.h==se(xe))}ms(U,K>v?v:K);break t}!Ve||xe.h&&we<_e?(Ve=0,U.a=xe.h?5:3):U.$=we,v=Ve}else v=gs(U,U.V,U.Ba,U.c,U.i,v,ll);if(!v){A=0;break e}}b+A>=B&&(f.Cc=1),A=1}if(!A)return null;if(f.Cc&&((A=f.ga)!=null&&(A.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+b*D}function x(f,v,b,A,D,B){for(;0<D--;){var U,q=f,K=v+(b?1:0),ie=f,xe=v+(b?0:3);for(U=0;U<A;++U){var De=ie[xe+4*U];De!=255&&(De*=32897,q[K+4*U+0]=q[K+4*U+0]*De>>23,q[K+4*U+1]=q[K+4*U+1]*De>>23,q[K+4*U+2]=q[K+4*U+2]*De>>23)}v+=B}}function M(f,v,b,A,D){for(;0<A--;){var B;for(B=0;B<b;++B){var U=f[v+2*B+0],q=15&(ie=f[v+2*B+1]),K=4369*q,ie=(240&ie|ie>>4)*K>>16;f[v+2*B+0]=(240&U|U>>4)*K>>16&240|(15&U|U<<4)*K>>16>>4&15,f[v+2*B+1]=240&ie|q}v+=D}}function ae(f,v,b,A,D,B,U,q){var K,ie,xe=255;for(ie=0;ie<D;++ie){for(K=0;K<A;++K){var De=f[v+K];B[U+4*K]=De,xe&=De}v+=b,U+=q}return xe!=255}function ve(f,v,b,A,D){var B;for(B=0;B<D;++B)b[A+B]=f[v+B]>>8}function Le(){ki=x,gn=M,Cn=ae,rr=ve}function Be(f,v,b){O[f]=function(A,D,B,U,q,K,ie,xe,De,Oe,Ne,Ve,$e,we,_e,He,Ze){var qe,ct=Ze-1>>1,st=q[K+0]|ie[xe+0]<<16,gt=De[Oe+0]|Ne[Ve+0]<<16;t(A!=null);var ot=3*st+gt+131074>>2;for(v(A[D+0],255&ot,ot>>16,$e,we),B!=null&&(ot=3*gt+st+131074>>2,v(B[U+0],255&ot,ot>>16,_e,He)),qe=1;qe<=ct;++qe){var an=q[K+qe]|ie[xe+qe]<<16,fn=De[Oe+qe]|Ne[Ve+qe]<<16,Ht=st+an+gt+fn+524296,Mt=Ht+2*(an+gt)>>3;ot=Mt+st>>1,st=(Ht=Ht+2*(st+fn)>>3)+an>>1,v(A[D+2*qe-1],255&ot,ot>>16,$e,we+(2*qe-1)*b),v(A[D+2*qe-0],255&st,st>>16,$e,we+(2*qe-0)*b),B!=null&&(ot=Ht+gt>>1,st=Mt+fn>>1,v(B[U+2*qe-1],255&ot,ot>>16,_e,He+(2*qe-1)*b),v(B[U+2*qe+0],255&st,st>>16,_e,He+(2*qe+0)*b)),st=an,gt=fn}1&Ze||(ot=3*st+gt+131074>>2,v(A[D+Ze-1],255&ot,ot>>16,$e,we+(Ze-1)*b),B!=null&&(ot=3*gt+st+131074>>2,v(B[U+Ze-1],255&ot,ot>>16,_e,He+(Ze-1)*b)))}}function Qe(){Ei[tu]=H,Ei[Va]=su,Ei[Ga]=$l,Ei[Oo]=Ci,Ei[hd]=Wt,Ei[Vf]=Bp,Ei[Ip]=n1,Ei[Dl]=su,Ei[Ol]=Ci,Ei[Ml]=Wt,Ei[Gf]=Bp}function ut(f){return f&~r1?0>f?0:255:f>>Up}function _t(f,v){return ut((19077*f>>8)+(26149*v>>8)-14234)}function Ot(f,v,b){return ut((19077*f>>8)-(6419*v>>8)-(13320*b>>8)+8708)}function Pt(f,v){return ut((19077*f>>8)+(33050*v>>8)-17685)}function Yt(f,v,b,A,D){A[D+0]=_t(f,b),A[D+1]=Ot(f,v,b),A[D+2]=Pt(f,v)}function In(f,v,b,A,D){A[D+0]=Pt(f,v),A[D+1]=Ot(f,v,b),A[D+2]=_t(f,b)}function Xn(f,v,b,A,D){var B=Ot(f,v,b);v=B<<3&224|Pt(f,v)>>3,A[D+0]=248&_t(f,b)|B>>5,A[D+1]=v}function Qn(f,v,b,A,D){var B=240&Pt(f,v)|15;A[D+0]=240&_t(f,b)|Ot(f,v,b)>>4,A[D+1]=B}function kr(f,v,b,A,D){A[D+0]=255,Yt(f,v,b,A,D+1)}function Er(f,v,b,A,D){In(f,v,b,A,D),A[D+3]=255}function Hi(f,v,b,A,D){Yt(f,v,b,A,D),A[D+3]=255}function Tn(f,v){return 0>f?0:f>v?v:f}function Vi(f,v,b){O[f]=function(A,D,B,U,q,K,ie,xe,De){for(var Oe=xe+(-2&De)*b;xe!=Oe;)v(A[D+0],B[U+0],q[K+0],ie,xe),v(A[D+1],B[U+0],q[K+0],ie,xe+b),D+=2,++U,++K,xe+=2*b;1&De&&v(A[D+0],B[U+0],q[K+0],ie,xe)}}function qa(f,v,b){return b==0?f==0?v==0?6:5:v==0?4:0:b}function jl(f,v,b,A,D){switch(f>>>30){case 3:Ue(v,b,A,D,0);break;case 2:Te(v,b,A,D);break;case 1:xt(v,b,A,D)}}function kl(f,v){var b,A,D=v.M,B=v.Nb,U=f.oc,q=f.pc+40,K=f.oc,ie=f.pc+584,xe=f.oc,De=f.pc+600;for(b=0;16>b;++b)U[q+32*b-1]=129;for(b=0;8>b;++b)K[ie+32*b-1]=129,xe[De+32*b-1]=129;for(0<D?U[q-1-32]=K[ie-1-32]=xe[De-1-32]=129:(i(U,q-32-1,127,21),i(K,ie-32-1,127,9),i(xe,De-32-1,127,9)),A=0;A<f.za;++A){var Oe=v.ya[v.aa+A];if(0<A){for(b=-1;16>b;++b)r(U,q+32*b-4,U,q+32*b+12,4);for(b=-1;8>b;++b)r(K,ie+32*b-4,K,ie+32*b+4,4),r(xe,De+32*b-4,xe,De+32*b+4,4)}var Ne=f.Gd,Ve=f.Hd+A,$e=Oe.ad,we=Oe.Hc;if(0<D&&(r(U,q-32,Ne[Ve].y,0,16),r(K,ie-32,Ne[Ve].f,0,8),r(xe,De-32,Ne[Ve].ea,0,8)),Oe.Za){var _e=U,He=q-32+16;for(0<D&&(A>=f.za-1?i(_e,He,Ne[Ve].y[15],4):r(_e,He,Ne[Ve+1].y,0,4)),b=0;4>b;b++)_e[He+128+b]=_e[He+256+b]=_e[He+384+b]=_e[He+0+b];for(b=0;16>b;++b,we<<=2)_e=U,He=q+Vs[b],Ss[Oe.Ob[b]](_e,He),jl(we,$e,16*+b,_e,He)}else if(_e=qa(A,D,Oe.Ob[0]),Ya[_e](U,q),we!=0)for(b=0;16>b;++b,we<<=2)jl(we,$e,16*+b,U,q+Vs[b]);for(b=Oe.Gc,_e=qa(A,D,Oe.Dd),ha[_e](K,ie),ha[_e](xe,De),we=$e,_e=K,He=ie,255&(Oe=b>>0)&&(170&Oe?dt(we,256,_e,He):It(we,256,_e,He)),Oe=xe,we=De,255&(b>>=8)&&(170&b?dt($e,320,Oe,we):It($e,320,Oe,we)),D<f.Ub-1&&(r(Ne[Ve].y,0,U,q+480,16),r(Ne[Ve].f,0,K,ie+224,8),r(Ne[Ve].ea,0,xe,De+224,8)),b=8*B*f.B,Ne=f.sa,Ve=f.ta+16*A+16*B*f.R,$e=f.qa,Oe=f.ra+8*A+b,we=f.Ha,_e=f.Ia+8*A+b,b=0;16>b;++b)r(Ne,Ve+b*f.R,U,q+32*b,16);for(b=0;8>b;++b)r($e,Oe+b*f.B,K,ie+32*b,8),r(we,_e+b*f.B,xe,De+32*b,8)}}function El(f,v,b,A,D,B,U,q,K){var ie=[0],xe=[0],De=0,Oe=K!=null?K.kd:0,Ne=K??new Kc;if(f==null||12>b)return 7;Ne.data=f,Ne.w=v,Ne.ha=b,v=[v],b=[b],Ne.gb=[Ne.gb];e:{var Ve=v,$e=b,we=Ne.gb;if(t(f!=null),t($e!=null),t(we!=null),we[0]=0,12<=$e[0]&&!n(f,Ve[0],"RIFF")){if(n(f,Ve[0]+8,"WEBP")){we=3;break e}var _e=Ee(f,Ve[0]+4);if(12>_e||4294967286<_e){we=3;break e}if(Oe&&_e>$e[0]-8){we=7;break e}we[0]=_e,Ve[0]+=12,$e[0]-=12}we=0}if(we!=0)return we;for(_e=0<Ne.gb[0],b=b[0];;){e:{var He=f;$e=v,we=b;var Ze=ie,qe=xe,ct=Ve=[0];if((ot=De=[De])[0]=0,8>we[0])we=7;else{if(!n(He,$e[0],"VP8X")){if(Ee(He,$e[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var st=Ee(He,$e[0]+8),gt=1+me(He,$e[0]+12);if(2147483648<=gt*(He=1+me(He,$e[0]+15))){we=3;break e}ct!=null&&(ct[0]=st),Ze!=null&&(Ze[0]=gt),qe!=null&&(qe[0]=He),$e[0]+=18,we[0]-=18,ot[0]=1}we=0}}if(De=De[0],Ve=Ve[0],we!=0)return we;if($e=!!(2&Ve),!_e&&De)return 3;if(B!=null&&(B[0]=!!(16&Ve)),U!=null&&(U[0]=$e),q!=null&&(q[0]=0),U=ie[0],Ve=xe[0],De&&$e&&K==null){we=0;break}if(4>b){we=7;break}if(_e&&De||!_e&&!De&&!n(f,v[0],"ALPH")){b=[b],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{st=f,we=v,_e=b;var ot=Ne.gb;Ze=Ne.na,qe=Ne.P,ct=Ne.Sa,gt=22,t(st!=null),t(_e!=null),He=we[0];var an=_e[0];for(t(Ze!=null),t(ct!=null),Ze[0]=null,qe[0]=null,ct[0]=0;;){if(we[0]=He,_e[0]=an,8>an){we=7;break e}var fn=Ee(st,He+4);if(4294967286<fn){we=3;break e}var Ht=8+fn+1&-2;if(gt+=Ht,0<ot&&gt>ot){we=3;break e}if(!n(st,He,"VP8 ")||!n(st,He,"VP8L")){we=0;break e}if(an[0]<Ht){we=7;break e}n(st,He,"ALPH")||(Ze[0]=st,qe[0]=He+8,ct[0]=fn),He+=Ht,an-=Ht}}if(b=b[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],we!=0)break}b=[b],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(ot=f,we=v,_e=b,Ze=Ne.gb[0],qe=Ne.Ja,ct=Ne.xa,st=we[0],He=!n(ot,st,"VP8 "),gt=!n(ot,st,"VP8L"),t(ot!=null),t(_e!=null),t(qe!=null),t(ct!=null),8>_e[0])we=7;else{if(He||gt){if(ot=Ee(ot,st+4),12<=Ze&&ot>Ze-12){we=3;break e}if(Oe&&ot>_e[0]-8){we=7;break e}qe[0]=ot,we[0]+=8,_e[0]-=8,ct[0]=gt}else ct[0]=5<=_e[0]&&ot[st+0]==47&&!(ot[st+4]>>5),qe[0]=_e[0];we=0}if(b=b[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],v=v[0],we!=0)break;if(4294967286<Ne.Ja)return 3;if(q==null||$e||(q[0]=Ne.xa?2:1),U=[U],Ve=[Ve],Ne.xa){if(5>b){we=7;break}q=U,Oe=Ve,$e=B,f==null||5>b?f=0:5<=b&&f[v+0]==47&&!(f[v+4]>>5)?(_e=[0],ot=[0],Ze=[0],$(qe=new P,f,v,b),ht(qe,_e,ot,Ze)?(q!=null&&(q[0]=_e[0]),Oe!=null&&(Oe[0]=ot[0]),$e!=null&&($e[0]=Ze[0]),f=1):f=0):f=0}else{if(10>b){we=7;break}q=Ve,f==null||10>b||!$c(f,v+3,b-3)?f=0:(Oe=f[v+0]|f[v+1]<<8|f[v+2]<<16,$e=16383&(f[v+7]<<8|f[v+6]),f=16383&(f[v+9]<<8|f[v+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=Ne.Ja||!$e||!f?f=0:(U&&(U[0]=$e),q&&(q[0]=f),f=1))}if(!f||(U=U[0],Ve=Ve[0],De&&(ie[0]!=U||xe[0]!=Ve)))return 3;K!=null&&(K[0]=Ne,K.offset=v-K.w,t(4294967286>v-K.w),t(K.offset==K.ha-b));break}return we==0||we==7&&De&&K==null?(B!=null&&(B[0]|=Ne.na!=null&&0<Ne.na.length),A!=null&&(A[0]=U),D!=null&&(D[0]=Ve),0):we}function Xc(f,v,b){var A=v.width,D=v.height,B=0,U=0,q=A,K=D;if(v.Da=f!=null&&0<f.Da,v.Da&&(q=f.cd,K=f.bd,B=f.v,U=f.j,11>b||(B&=-2,U&=-2),0>B||0>U||0>=q||0>=K||B+q>A||U+K>D))return 0;if(v.v=B,v.j=U,v.va=B+q,v.o=U+K,v.U=q,v.T=K,v.da=f!=null&&0<f.da,v.da){if(!ze(q,K,b=[f.ib],B=[f.hb]))return 0;v.ib=b[0],v.hb=B[0]}return v.ob=f!=null&&f.ob,v.Kb=f==null||!f.Sd,v.da&&(v.ob=v.ib<3*A/4&&v.hb<3*D/4,v.Kb=0),1}function Qc(f){if(f==null)return 2;if(11>f.S){var v=f.f.RGBA;v.fb+=(f.height-1)*v.A,v.A=-v.A}else v=f.f.kb,f=f.height,v.O+=(f-1)*v.fa,v.fa=-v.fa,v.N+=(f-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(f-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(f-1)*v.lb,v.lb=-v.lb);return 0}function Cl(f,v,b,A){if(A==null||0>=f||0>=v)return 2;if(b!=null){if(b.Da){var D=b.cd,B=b.bd,U=-2&b.v,q=-2&b.j;if(0>U||0>q||0>=D||0>=B||U+D>f||q+B>v)return 2;f=D,v=B}if(b.da){if(!ze(f,v,D=[b.ib],B=[b.hb]))return 2;f=D[0],v=B[0]}}A.width=f,A.height=v;e:{var K=A.width,ie=A.height;if(f=A.S,0>=K||0>=ie||!(f>=tu&&13>f))f=2;else{if(0>=A.Rd&&A.sd==null){U=B=D=v=0;var xe=(q=K*qp[f])*ie;if(11>f||(B=(ie+1)/2*(v=(K+1)/2),f==12&&(U=(D=K)*ie)),(ie=s(xe+2*B+U))==null){f=1;break e}A.sd=ie,11>f?((K=A.f.RGBA).eb=ie,K.fb=0,K.A=q,K.size=xe):((K=A.f.kb).y=ie,K.O=0,K.fa=q,K.Fd=xe,K.f=ie,K.N=0+xe,K.Ab=v,K.Cd=B,K.ea=ie,K.W=0+xe+B,K.Db=v,K.Ed=B,f==12&&(K.F=ie,K.J=0+xe+2*B),K.Tc=U,K.lb=D)}if(v=1,D=A.S,B=A.width,U=A.height,D>=tu&&13>D)if(11>D)f=A.f.RGBA,v&=(q=Math.abs(f.A))*(U-1)+B<=f.size,v&=q>=B*qp[D],v&=f.eb!=null;else{f=A.f.kb,q=(B+1)/2,xe=(U+1)/2,K=Math.abs(f.fa),ie=Math.abs(f.Ab);var De=Math.abs(f.Db),Oe=Math.abs(f.lb),Ne=Oe*(U-1)+B;v&=K*(U-1)+B<=f.Fd,v&=ie*(xe-1)+q<=f.Cd,v=(v&=De*(xe-1)+q<=f.Ed)&K>=B&ie>=q&De>=q,v&=f.y!=null,v&=f.f!=null,v&=f.ea!=null,D==12&&(v&=Oe>=B,v&=Ne<=f.Tc,v&=f.F!=null)}else v=0;f=v?0:2}}return f!=0||b!=null&&b.fd&&(f=Qc(A)),f}var Mr=64,ws=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Al=24,Ll=32,Ao=8,Xr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(f){return f},O.Predictor2=function(f,v,b){return v[b+0]},O.Predictor3=function(f,v,b){return v[b+1]},O.Predictor4=function(f,v,b){return v[b-1]},O.Predictor5=function(f,v,b){return Ie(Ie(f,v[b+1]),v[b+0])},O.Predictor6=function(f,v,b){return Ie(f,v[b-1])},O.Predictor7=function(f,v,b){return Ie(f,v[b+0])},O.Predictor8=function(f,v,b){return Ie(v[b-1],v[b+0])},O.Predictor9=function(f,v,b){return Ie(v[b+0],v[b+1])},O.Predictor10=function(f,v,b){return Ie(Ie(f,v[b-1]),Ie(v[b+0],v[b+1]))},O.Predictor11=function(f,v,b){var A=v[b+0];return 0>=nt(A>>24&255,f>>24&255,(v=v[b-1])>>24&255)+nt(A>>16&255,f>>16&255,v>>16&255)+nt(A>>8&255,f>>8&255,v>>8&255)+nt(255&A,255&f,255&v)?A:f},O.Predictor12=function(f,v,b){var A=v[b+0];return(Ke((f>>24&255)+(A>>24&255)-((v=v[b-1])>>24&255))<<24|Ke((f>>16&255)+(A>>16&255)-(v>>16&255))<<16|Ke((f>>8&255)+(A>>8&255)-(v>>8&255))<<8|Ke((255&f)+(255&A)-(255&v)))>>>0},O.Predictor13=function(f,v,b){var A=v[b-1];return(Je((f=Ie(f,v[b+0]))>>24&255,A>>24&255)<<24|Je(f>>16&255,A>>16&255)<<16|Je(f>>8&255,A>>8&255)<<8|Je(f>>0&255,A>>0&255))>>>0};var qs=O.PredictorAdd0;O.PredictorAdd1=rt,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var Wa=O.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var fd,Gi=O.ColorIndexInverseTransform,Pl=O.MapARGB,la=O.VP8LColorIndexInverseTransformAlpha,ui=O.MapAlpha,ca=O.VP8LPredictorsAdd=[];ca.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Lo,di,Qr,Ha,ua,fi,Se,Ue,Te,dt,xt,It,Rn,dn,Po,To,Cr,xs,Do,bs,Ws,_s,en,Yi,ki,gn,Cn,rr,vr=s(511),Ki=s(2041),Ji=s(225),da=s(767),Zc=0,Tl=Ki,eu=Ji,hi=da,Zr=vr,tu=0,Va=1,Ga=2,Oo=3,hd=4,Vf=5,Ip=6,Dl=7,Ol=8,Ml=9,Gf=10,Rp=[2,3,7],Xg=[3,3,11],Fp=[280,256,256,256,40],yr=[0,1,1,1,0],Ur=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zg=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$p=8,Yf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],nu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],fa=null,Kf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Il=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Rl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ru=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Fl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],e1=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ya=[],Ss=[],ha=[],t1=1,iu=2,Xi=[],Ei=[];Be("UpsampleRgbLinePair",Yt,3),Be("UpsampleBgrLinePair",In,3),Be("UpsampleRgbaLinePair",Hi,4),Be("UpsampleBgraLinePair",Er,4),Be("UpsampleArgbLinePair",kr,4),Be("UpsampleRgba4444LinePair",Qn,2),Be("UpsampleRgb565LinePair",Xn,2);var H=O.UpsampleRgbLinePair,$l=O.UpsampleBgrLinePair,su=O.UpsampleRgbaLinePair,Ci=O.UpsampleBgraLinePair,Wt=O.UpsampleArgbLinePair,Bp=O.UpsampleRgba4444LinePair,n1=O.UpsampleRgb565LinePair,md=16,Hs=1<<md-1,au=-227,Jf=482,Up=6,r1=(256<<Up)-1,zp=0,pa=s(256),i1=s(256),s1=s(256),a1=s(256),o1=s(Jf-au),l1=s(Jf-au);Vi("YuvToRgbRow",Yt,3),Vi("YuvToBgrRow",In,3),Vi("YuvToRgbaRow",Hi,4),Vi("YuvToBgraRow",Er,4),Vi("YuvToArgbRow",kr,4),Vi("YuvToRgba4444Row",Qn,2),Vi("YuvToRgb565Row",Xn,2);var Vs=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gd=[0,2,8],c1=[8,7,6,4,4,2,2,2,1,1,1,1],u1=1;this.WebPDecodeRGBA=function(f,v,b,A,D){var B=Va,U=new Or,q=new oi;U.ba=q,q.S=B,q.width=[q.width],q.height=[q.height];var K=q.width,ie=q.height,xe=new _n;if(xe==null||f==null)var De=2;else t(xe!=null),De=El(f,v,b,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(De!=0?K=0:(K!=null&&(K[0]=xe.width[0]),ie!=null&&(ie[0]=xe.height[0]),K=1),K){q.width=q.width[0],q.height=q.height[0],A!=null&&(A[0]=q.width),D!=null&&(D[0]=q.height);e:{if(A=new pl,(D=new Kc).data=f,D.w=v,D.ha=b,D.kd=1,v=[0],t(D!=null),((f=El(D.data,D.w,D.ha,null,null,null,v,null,D))==0||f==7)&&v[0]&&(f=4),(v=f)==0){if(t(U!=null),A.data=D.data,A.w=D.w+D.offset,A.ha=D.ha-D.offset,A.put=tr,A.ac=rn,A.bc=Tr,A.ma=U,D.xa){if((f=zi())==null){U=1;break e}if(function(Oe,Ne){var Ve=[0],$e=[0],we=[0];t:for(;;){if(Oe==null)return 0;if(Ne==null)return Oe.a=2,0;if(Oe.l=Ne,Oe.a=0,$(Oe.m,Ne.data,Ne.w,Ne.ha),!ht(Oe.m,Ve,$e,we)){Oe.a=3;break t}if(Oe.xb=iu,Ne.width=Ve[0],Ne.height=$e[0],!Rs(Ve[0],$e[0],1,Oe,null))break t;return 1}return t(Oe.a!=0),0}(f,A)){if(A=(v=Cl(A.width,A.height,U.Oa,U.ba))==0){t:{A=f;n:for(;;){if(A==null){A=0;break t}if(t(A.s.yc!=null),t(A.s.Ya!=null),t(0<A.s.Wb),t((b=A.l)!=null),t((D=b.ma)!=null),A.xb!=0){if(A.ca=D.ba,A.tb=D.tb,t(A.ca!=null),!Xc(D.Oa,b,Oo)){A.a=2;break n}if(!So(A,b.width)||b.da)break n;if((b.da||Zt(A.ca.S))&&Le(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&Le()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!Me(A.s.vb,A.s.Wa.Xa)){A.a=1;break n}A.xb=0}if(!gs(A,A.V,A.Ba,A.c,A.i,b.o,Ui))break n;D.Dc=A.Ma,A=1;break t}t(A.a!=0),A=0}A=!A}A&&(v=f.a)}else v=f.a}else{if((f=new Rf)==null){U=1;break e}if(f.Fa=D.na,f.P=D.P,f.qc=D.Sa,Bc(f,A)){if((v=Cl(A.width,A.height,U.Oa,U.ba))==0){if(f.Aa=0,b=U.Oa,t((D=f)!=null),b!=null){if(0<(K=0>(K=b.Md)?0:100<K?255:255*K/100)){for(ie=xe=0;4>ie;++ie)12>(De=D.pb[ie]).lc&&(De.ia=K*c1[0>De.lc?0:De.lc]>>3),xe|=De.ia;xe&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=b.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}Zu(f,A)||(v=f.a)}}else v=f.a}v==0&&U.Oa!=null&&U.Oa.fd&&(v=Qc(U.ba))}U=v}B=U!=0?null:11>B?q.f.RGBA.eb:q.f.kb.y}else B=null;return B};var qp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(O,ee){for(var ne="",T=0;T<4;T++)ne+=String.fromCharCode(O[ee++]);return ne}function p(O,ee){return(O[ee+0]<<0|O[ee+1]<<8|O[ee+2]<<16)>>>0}function m(O,ee){return(O[ee+0]<<0|O[ee+1]<<8|O[ee+2]<<16|O[ee+3]<<24)>>>0}new c;var w=[0],g=[0],N=[],j=new c,C=e,_=function(O,ee){var ne={},T=0,F=!1,V=0,Y=0;if(ne.frames=[],!function(G,se,ce,he){for(var je=0;je<he;je++)if(G[se+je]!=ce.charCodeAt(je))return!0;return!1}(O,ee,"RIFF",4)){for(m(O,ee+=4),ee+=8;ee<O.length;){var ge=h(O,ee),pe=m(O,ee+=4);ee+=4;var Q=pe+(1&pe);switch(ge){case"VP8 ":case"VP8L":ne.frames[T]===void 0&&(ne.frames[T]={}),(oe=ne.frames[T]).src_off=F?Y:ee-8,oe.src_size=V+pe+8,T++,F&&(F=!1,V=0,Y=0);break;case"VP8X":(oe=ne.header={}).feature_flags=O[ee];var $=ee+4;oe.canvas_width=1+p(O,$),$+=3,oe.canvas_height=1+p(O,$),$+=3;break;case"ALPH":F=!0,V=Q+8,Y=ee-8;break;case"ANIM":(oe=ne.header).bgcolor=m(O,ee),$=ee+4,oe.loop_count=(Ae=O)[(P=$)+0]<<0|Ae[P+1]<<8,$+=2;break;case"ANMF":var z,oe;(oe=ne.frames[T]={}).offset_x=2*p(O,ee),ee+=3,oe.offset_y=2*p(O,ee),ee+=3,oe.width=1+p(O,ee),ee+=3,oe.height=1+p(O,ee),ee+=3,oe.duration=p(O,ee),ee+=3,z=O[ee++],oe.dispose=1&z,oe.blend=z>>1&1}ge!="ANMF"&&(ee+=Q)}var Ae,P;return ne}}(C,0);_.response=C,_.rgbaoutput=!0,_.dataurl=!1;var S=_.header?_.header:null,L=_.frames?_.frames:null;if(S){S.loop_counter=S.loop_count,w=[S.canvas_height],g=[S.canvas_width];for(var R=0;R<L.length&&L[R].blend!=0;R++);}var X=L[0],te=j.WebPDecodeRGBA(C,X.src_off,X.src_size,g,w);X.rgba=te,X.imgwidth=g[0],X.imgheight=w[0];for(var W=0;W<g[0]*w[0]*4;W++)N[W]=te[W];return this.width=g,this.height=w,this.data=N,this}(function(e){var t=function(){return typeof my=="function"},n=function(w,g,N,j){var C=4,_=a;switch(j){case e.image_compression.FAST:C=1,_=s;break;case e.image_compression.MEDIUM:C=6,_=l;break;case e.image_compression.SLOW:C=9,_=c}w=r(w,g,N,_);var S=my(w,{level:C});return e.__addimage__.arrayBufferToBinaryString(S)},r=function(w,g,N,j){for(var C,_,S,L=w.length/g,R=new Uint8Array(w.length+L),X=p(),te=0;te<L;te+=1){if(S=te*g,C=w.subarray(S,S+g),j)R.set(j(C,N,_),S+te);else{for(var W,O=X.length,ee=[];W<O;W+=1)ee[W]=X[W](C,N,_);var ne=m(ee.concat());R.set(ee[ne],S+te)}_=C}return R},i=function(w){var g=Array.apply([],w);return g.unshift(0),g},s=function(w,g){var N,j=[],C=w.length;j[0]=1;for(var _=0;_<C;_+=1)N=w[_-g]||0,j[_+1]=w[_]-N+256&255;return j},a=function(w,g,N){var j,C=[],_=w.length;C[0]=2;for(var S=0;S<_;S+=1)j=N&&N[S]||0,C[S+1]=w[S]-j+256&255;return C},l=function(w,g,N){var j,C,_=[],S=w.length;_[0]=3;for(var L=0;L<S;L+=1)j=w[L-g]||0,C=N&&N[L]||0,_[L+1]=w[L]+256-(j+C>>>1)&255;return _},c=function(w,g,N){var j,C,_,S,L=[],R=w.length;L[0]=4;for(var X=0;X<R;X+=1)j=w[X-g]||0,C=N&&N[X]||0,_=N&&N[X-g]||0,S=h(j,C,_),L[X+1]=w[X]-S+256&255;return L},h=function(w,g,N){if(w===g&&g===N)return w;var j=Math.abs(g-N),C=Math.abs(w-N),_=Math.abs(w+g-N-N);return j<=C&&j<=_?w:C<=_?g:N},p=function(){return[i,s,a,l,c]},m=function(w){var g=w.map(function(N){return N.reduce(function(j,C){return j+Math.abs(C)},0)});return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(w,g,N,j){var C,_,S,L,R,X,te,W,O,ee,ne,T,F,V,Y,ge=this.decode.FLATE_DECODE,pe="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(S=new jB(w)).imgData,_=S.bits,C=S.colorSpace,R=S.colors,[4,6].indexOf(S.colorType)!==-1){if(S.bits===8){O=(W=S.pixelBitlength==32?new Uint32Array(S.decodePixels().buffer):S.pixelBitlength==16?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,ne=new Uint8Array(O*S.colors),ee=new Uint8Array(O);var Q,$=S.pixelBitlength-S.bits;for(V=0,Y=0;V<O;V++){for(F=W[V],Q=0;Q<$;)ne[Y++]=F>>>Q&255,Q+=S.bits;ee[V]=F>>>Q&255}}if(S.bits===16){O=(W=new Uint32Array(S.decodePixels().buffer)).length,ne=new Uint8Array(O*(32/S.pixelBitlength)*S.colors),ee=new Uint8Array(O*(32/S.pixelBitlength)),T=S.colors>1,V=0,Y=0;for(var z=0;V<O;)F=W[V++],ne[Y++]=F>>>0&255,T&&(ne[Y++]=F>>>16&255,F=W[V++],ne[Y++]=F>>>0&255),ee[z++]=F>>>16&255;_=8}j!==e.image_compression.NONE&&t()?(w=n(ne,S.width*S.colors,S.colors,j),te=n(ee,S.width,1,j)):(w=ne,te=ee,ge=void 0)}if(S.colorType===3&&(C=this.color_spaces.INDEXED,X=S.palette,S.transparency.indexed)){var oe=S.transparency.indexed,Ae=0;for(V=0,O=oe.length;V<O;++V)Ae+=oe[V];if((Ae/=255)===O-1&&oe.indexOf(0)!==-1)L=[oe.indexOf(0)];else if(Ae!==O){for(W=S.decodePixels(),ee=new Uint8Array(W.length),V=0,O=W.length;V<O;V++)ee[V]=oe[W[V]];te=n(ee,S.width,1)}}var P=function(G){var se;switch(G){case e.image_compression.FAST:se=11;break;case e.image_compression.MEDIUM:se=13;break;case e.image_compression.SLOW:se=14;break;default:se=12}return se}(j);return ge===this.decode.FLATE_DECODE&&(pe="/Predictor "+P+" "),pe+="/Colors "+R+" /BitsPerComponent "+_+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(te&&this.__addimage__.isArrayBuffer(te)||this.__addimage__.isArrayBufferView(te))&&(te=this.__addimage__.arrayBufferToBinaryString(te)),{alias:N,data:w,index:g,filter:ge,decodeParameters:pe,transparency:L,palette:X,sMask:te,predictor:P,width:S.width,height:S.height,bitsPerComponent:_,colorSpace:C}}}})(Ct.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new kB(t),a=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:a,height:l},p=new Fv(100).encode(h,100);return e.processJPEG.call(this,p,n,r,i)},e.processGIF87A=e.processGIF89A}(Ct.API),_a.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_a.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Dn.log("bit decode error:"+n)}},_a.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}n!==0&&(this.pos+=4-n)}},_a.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,l=s>>4,c=15&s,h=this.palette[l];if(this.data[a]=h.blue,this.data[a+1]=h.green,this.data[a+2]=h.red,this.data[a+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[a+4]=h.blue,this.data[a+4+1]=h.green,this.data[a+4+2]=h.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},_a.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},_a.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,h=s>>15?255:0,p=r*this.width*4+4*i;this.data[p]=c,this.data[p+1]=l,this.data[p+2]=a,this.data[p+3]=h}this.pos+=e}},_a.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,c=(a>>5&n)/n*255|0,h=(a>>11)/t*255|0,p=i*this.width*4+4*s;this.data[p]=h,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=255}this.pos+=e}},_a.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},_a.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=a}},_a.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new _a(t,!1),a=s.width,l=s.height,c={data:s.getData(),width:a,height:l},h=new Fv(100).encode(c,100);return e.processJPEG.call(this,h,n,r,i)}}(Ct.API),J3.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new J3(t),a=s.width,l=s.height,c={data:s.getData(),width:a,height:l},h=new Fv(100).encode(c,100);return e.processJPEG.call(this,h,n,r,i)}}(Ct.API),Ct.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),l=0,c=0,h=0;h<i;h+=4){var p=r[h],m=r[h+1],w=r[h+2],g=r[h+3];s[l++]=p,s[l++]=m,s[l++]=w,a[c++]=g}var N=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:N,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ct.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Rd=Ct.API,qm=Rd.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,h=t.kerning?t.kerning:i.metadata.Unicode.kerning,p=h.fof?h.fof:1,m=t.doKerning!==!1,w=0,g=e.length,N=0,j=l[0]||c,C=[];for(n=0;n<g;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(w=m&&Nn(h[r])==="object"&&!isNaN(parseInt(h[r][N],10))?h[r][N]/p:0,C.push((l[r]||j)/c+w)),N=r;return C},V3=Rd.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Rd.processArabic&&(e=Rd.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:qm.apply(this,arguments).reduce(function(s,a){return s+a},0)},G3=function(e,t,n,r){for(var i=[],s=0,a=e.length,l=0;s!==a&&l+t[s]<n;)l+=t[s],s++;i.push(e.slice(0,s));var c=s;for(l=0;s!==a;)l+t[s]>r&&(i.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&i.push(e.slice(c,s)),i},Y3=function(e,t,n){n||(n={});var r,i,s,a,l,c,h,p=[],m=[p],w=n.textIndent||0,g=0,N=0,j=e.split(" "),C=qm.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?j[0].length+2:n.lineIndent||0){var _=Array(c).join(" "),S=[];j.map(function(R){(R=R.split(/\s*\n/)).length>1?S=S.concat(R.map(function(X,te){return(te&&X.length?`
`:"")+X})):S.push(R[0])}),j=S,c=V3.apply(this,[_,n])}for(s=0,a=j.length;s<a;s++){var L=0;if(r=j[s],c&&r[0]==`
`&&(r=r.substr(1),L=1),w+g+(N=(i=qm.apply(this,[r,n])).reduce(function(R,X){return R+X},0))>t||L){if(N>t){for(l=G3.apply(this,[r,i,t-(w+g),t]),p.push(l.shift()),p=[l.pop()];l.length;)m.push([l.shift()]);N=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(R,X){return R+X},0)}else p=[r];m.push(p),w=N+c,g=C}else p.push(r),w+=g+N,g=C}return h=c?function(R,X){return(X?_:"")+R.join(" ")}:function(R){return R.join(" ")},m.map(h)},Rd.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var m=this.internal.getFont(p.fontName,p.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var l,c,h=[];for(l=0,c=r.length;l<c;l++)h=h.concat(Y3.apply(this,[r[l],a,s]));return h},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(m){return"0x"+parseInt(m,10).toString(16)},a=e.__fontmetrics__.compress=function(m){var w,g,N,j,C=["{"];for(var _ in m){if(w=m[_],isNaN(parseInt(_,10))?g="'"+_+"'":(_=parseInt(_,10),g=(g=s(_).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof w=="number")w<0?(N=s(w).slice(3),j="-"):(N=s(w).slice(2),j=""),N=j+N.slice(0,-1)+r[N.slice(-1)];else{if(Nn(w)!=="object")throw new Error("Don't know what to do with value type "+Nn(w)+".");N=a(w)}C.push(g+N)}return C.push("}"),C.join("")},l=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,g,N,j,C={},_=1,S=C,L=[],R="",X="",te=m.length-1,W=1;W<te;W+=1)(j=m[W])=="'"?w?(N=w.join(""),w=void 0):w=[]:w?w.push(j):j=="{"?(L.push([S,N]),S={},N=void 0):j=="}"?((g=L.pop())[0][g[1]]=S,N=void 0,S=g[0]):j=="-"?_=-1:N===void 0?n.hasOwnProperty(j)?(R+=n[j],N=parseInt(R,16)*_,_=1,R=""):R+=j:n.hasOwnProperty(j)?(X+=n[j],S[N]=parseInt(X,16)*_,_=1,N=void 0,X=""):X+=j;return C},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var w=m.font,g=p.Unicode[w.postScriptName];g&&(w.metadata.Unicode={},w.metadata.Unicode.widths=g.widths,w.metadata.Unicode.kerning=g.kerning);var N=h.Unicode[w.postScriptName];N&&(w.metadata.Unicode.encoding=N,w.encoding=N.codePages[0])}])}(Ct.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(zh(l)),a.metadata=e.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(Ct),function(e){function t(){return(At.canvg?Promise.resolve(At.canvg):sl(()=>import("./index.es-CpvUq9bJ.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Ct.API.addSvgAsImage=function(n,r,i,s,a,l,c,h){if(isNaN(r)||isNaN(i))throw Dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=a;var m=p.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,p.width,p.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then(function(N){return N.fromString(m,n,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(w)}).then(function(){g.addImage(p.toDataURL("image/jpeg",1),r,i,s,a,c,h)})}}(),Ct.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Ct.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],h=0,p=0,m=0;function w(N,j){var C,_=!1;for(C=0;C<N.length;C+=1)N[C]===j&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=l.length;for(m=0;m<g;m+=1)n[l[m]].value=n[l[m]].defaultValue,n[l[m]].explicitSet=!1}if(Nn(e)==="object"){for(i in e)if(s=e[i],w(l,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&w(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(p=0;p<s[h].length;p+=1)typeof s[h][p]!="number"&&(r=!1);r===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,j=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?j.push("/"+N+" /"+n[N].value):j.push("/"+N+" "+n[N].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+a.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Ct.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,a){for(var l,c=a.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],m=0,w=s.length;m<w;++m){if(l=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=s.charCodeAt(m),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(h[4-l.length],l)}return p.join("")},r=function(s){var a,l,c,h,p,m,w;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,w=(l=Object.keys(s).sort(function(g,N){return g-N})).length;m<w;m++)a=l[m],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(h=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+h+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var l=a.font,c=a.out,h=a.newObject,p=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,w=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",N=0;N<w.length;N++)g+=String.fromCharCode(w[N]);var j=h();p({data:g,addLength1:!0,objectId:j}),c("endobj");var C=h();p({data:r(l.metadata.toUnicode),addLength1:!0,objectId:C}),c("endobj");var _=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+$d(l.fontName)),c("/FontFile2 "+j+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var S=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+$d(l.fontName)),c("/FontDescriptor "+_+" 0 R"),c("/W "+e.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+C+" 0 R"),c("/BaseFont /"+$d(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+S+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var l=a.font,c=a.out,h=a.newObject,p=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,w="",g=0;g<m.length;g++)w+=String.fromCharCode(m[g]);var N=h();p({data:w,addLength1:!0,objectId:N}),c("endobj");var j=h();p({data:r(l.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var C=h();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+N+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+$d(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=h();for(var _=0;_<l.metadata.hmtx.widths.length;_++)l.metadata.hmtx.widths[_]=parseInt(l.metadata.hmtx.widths[_]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+$d(l.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,l=s.text||"",c=s.x,h=s.y,p=s.options||{},m=s.mutex||{},w=m.pdfEscape,g=m.activeFontKey,N=m.fonts,j=g,C="",_=0,S="",L=N[j].encoding;if(N[j].encoding!=="Identity-H")return{text:l,x:c,y:h,options:p,mutex:m};for(S=l,j=g,Array.isArray(l)&&(S=l[0]),_=0;_<S.length;_+=1)N[j].metadata.hasOwnProperty("cmap")&&(a=N[j].metadata.cmap.unicode.codeMap[S[_].charCodeAt(0)]),a||S[_].charCodeAt(0)<256&&N[j].metadata.hasOwnProperty("Unicode")?C+=S[_]:C+="";var R="";return parseInt(j.slice(1))<14||L==="WinAnsiEncoding"?R=w(C,j).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(R=n(C,N[j])),m.isHex=!0,{text:R,x:c,y:h,options:p,mutex:m}};t.events.push(["postProcessText",function(s){var a=s.text||"",l=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var h=0;for(h=0;h<a.length;h+=1)Array.isArray(a[h])&&a[h].length===3?l.push([i(Object.assign({},c,{text:a[h][0]})).text,a[h][1],a[h][2]]):l.push(i(Object.assign({},c,{text:a[h]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:a})).text}])}(Ct),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Ct.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,a,l,c,h,p,m=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,L=0;this.__bidiEngine__={};var R=function(T){var F=T.charCodeAt(),V=F>>8,Y=j[V];return Y!==void 0?m[256*Y+(255&F)]:V===252||V===253?"AL":_.test(V)?"L":V===8?"R":"N"},X=function(T){for(var F,V=0;V<T.length;V++){if((F=R(T.charAt(V)))==="L")return!1;if(F==="R")return!0}return!1},te=function(T,F,V,Y){var ge,pe,Q,$,z=F[Y];switch(z){case"L":case"R":S=!1;break;case"N":case"AN":break;case"EN":S&&(z="AN");break;case"AL":S=!0,z="R";break;case"WS":z="N";break;case"CS":Y<1||Y+1>=F.length||(ge=V[Y-1])!=="EN"&&ge!=="AN"||(pe=F[Y+1])!=="EN"&&pe!=="AN"?z="N":S&&(pe="AN"),z=pe===ge?pe:"N";break;case"ES":z=(ge=Y>0?V[Y-1]:"B")==="EN"&&Y+1<F.length&&F[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&V[Y-1]==="EN"){z="EN";break}if(S){z="N";break}for(Q=Y+1,$=F.length;Q<$&&F[Q]==="ET";)Q++;z=Q<$&&F[Q]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for($=F.length,Q=Y+1;Q<$&&F[Q]==="NSM";)Q++;if(Q<$){var oe=T[Y],Ae=oe>=1425&&oe<=2303||oe===64286;if(ge=F[Q],Ae&&(ge==="R"||ge==="AL")){z="R";break}}}z=Y<1||(ge=F[Y-1])==="B"?"N":V[Y-1];break;case"B":S=!1,i=!0,z=L;break;case"S":s=!0,z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"BN":z="N"}return z},W=function(T,F,V){var Y=T.split("");return V&&O(Y,V,{hiLevel:L}),Y.reverse(),F&&F.reverse(),Y.join("")},O=function(T,F,V){var Y,ge,pe,Q,$,z=-1,oe=T.length,Ae=0,P=[],G=L?g:w,se=[];for(S=!1,i=!1,s=!1,ge=0;ge<oe;ge++)se[ge]=R(T[ge]);for(pe=0;pe<oe;pe++){if($=Ae,P[pe]=te(T,se,P,pe),Y=240&(Ae=G[$][N[P[pe]]]),Ae&=15,F[pe]=Q=G[Ae][5],Y>0)if(Y===16){for(ge=z;ge<pe;ge++)F[ge]=1;z=-1}else z=-1;if(G[Ae][6])z===-1&&(z=pe);else if(z>-1){for(ge=z;ge<pe;ge++)F[ge]=Q;z=-1}se[pe]==="B"&&(F[pe]=0),V.hiLevel|=Q}s&&function(ce,he,je){for(var ke=0;ke<je;ke++)if(ce[ke]==="S"){he[ke]=L;for(var re=ke-1;re>=0&&ce[re]==="WS";re--)he[re]=L}}(se,F,oe)},ee=function(T,F,V,Y,ge){if(!(ge.hiLevel<T)){if(T===1&&L===1&&!i)return F.reverse(),void(V&&V.reverse());for(var pe,Q,$,z,oe=F.length,Ae=0;Ae<oe;){if(Y[Ae]>=T){for($=Ae+1;$<oe&&Y[$]>=T;)$++;for(z=Ae,Q=$-1;z<Q;z++,Q--)pe=F[z],F[z]=F[Q],F[Q]=pe,V&&(pe=V[z],V[z]=V[Q],V[Q]=pe);Ae=$}Ae++}}},ne=function(T,F,V){var Y=T.split(""),ge={hiLevel:L};return V||(V=[]),O(Y,V,ge),function(pe,Q,$){if($.hiLevel!==0&&p)for(var z,oe=0;oe<pe.length;oe++)Q[oe]===1&&(z=C.indexOf(pe[oe]))>=0&&(pe[oe]=C[z+1])}(Y,V,ge),ee(2,Y,F,V,ge),ee(1,Y,F,V,ge),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(T,F,V){if(function(ge,pe){if(pe)for(var Q=0;Q<ge.length;Q++)pe[Q]=Q;l===void 0&&(l=X(ge)),h===void 0&&(h=X(ge))}(T,F),a||!c||h)if(a&&c&&l^h)L=l?1:0,T=W(T,F,V);else if(!a&&c&&h)L=l?1:0,T=ne(T,F,V),T=W(T,F);else if(!a||l||c||h){if(a&&!c&&l^h)T=W(T,F),l?(L=0,T=ne(T,F,V)):(L=1,T=ne(T,F,V),T=W(T,F));else if(a&&l&&!c&&h)L=1,T=ne(T,F,V),T=W(T,F);else if(!a&&!c&&l^h){var Y=p;l?(L=1,T=ne(T,F,V),L=0,p=!1,T=ne(T,F,V),p=Y):(L=0,T=ne(T,F,V),T=W(T,F),L=1,p=!1,T=ne(T,F,V),p=Y,T=W(T,F))}}else L=0,T=ne(T,F,V);else L=l?1:0,T=ne(T,F,V);return T},this.__bidiEngine__.setOptions=function(T){T&&(a=T.isInputVisual,c=T.isOutputVisual,l=T.isInputRtl,h=T.isOutputRtl,p=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(a=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?a.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):a.push([n.doBidiReorder(i[l])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Ct),Ct.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Tc(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new UB(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new EB(this.contents),this.head=new AB(this),this.name=new OB(this),this.cmap=new O6(this),this.toUnicode={},this.hhea=new LB(this),this.maxp=new MB(this),this.hmtx=new IB(this),this.post=new TB(this),this.os2=new PB(this),this.loca=new BB(this),this.glyf=new RB(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,h;for(h=[],a=0,l=(c=this.bbox).length;a<l;a++)t=c[a],h.push(Math.round(t*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,a,l;for(a=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var $a,Tc=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,a,l,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*l+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),EB=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,a,l,c,h,p,m,w,g,N,j;for(j in g=Object.keys(n).length,c=Math.log(2),m=16*Math.floor(Math.log(g)/c),a=Math.floor(m/c),p=16*g-m,(i=new Tc).writeInt(this.scalarType),i.writeShort(g),i.writeShort(m),i.writeShort(a),i.writeShort(p),s=16*g,h=i.pos+s,l=null,N=[],n)for(w=n[j],i.writeString(j),i.writeInt(e(w)),i.writeInt(h),i.writeInt(w.length),N=N.concat(w),j==="head"&&(l=h),h+=w.length;h%4;)N.push(0),h++;return i.write(N),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,a;for(n=M6.call(n);n.length%4;)n.push(0);for(s=new Tc(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),CB={}.hasOwnProperty,bo=function(e,t){for(var n in t)CB.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};$a=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var AB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bo(t,$a),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Tc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),X3=function(){function e(t,n){var r,i,s,a,l,c,h,p,m,w,g,N,j,C,_,S,L;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(g=t.readUInt16(),w=g/2,t.pos+=6,s=function(){var R,X;for(X=[],c=R=0;0<=w?R<w:R>w;c=0<=w?++R:--R)X.push(t.readUInt16());return X}(),t.pos+=2,j=function(){var R,X;for(X=[],c=R=0;0<=w?R<w:R>w;c=0<=w?++R:--R)X.push(t.readUInt16());return X}(),h=function(){var R,X;for(X=[],c=R=0;0<=w?R<w:R>w;c=0<=w?++R:--R)X.push(t.readUInt16());return X}(),p=function(){var R,X;for(X=[],c=R=0;0<=w?R<w:R>w;c=0<=w?++R:--R)X.push(t.readUInt16());return X}(),i=(this.length-t.pos+this.offset)/2,l=function(){var R,X;for(X=[],c=R=0;0<=i?R<i:R>i;c=0<=i?++R:--R)X.push(t.readUInt16());return X}(),c=_=0,L=s.length;_<L;c=++_)for(C=s[c],r=S=N=j[c];N<=C?S<=C:S>=C;r=N<=C?++S:--S)p[c]===0?a=r+h[c]:(a=l[p[c]/2+(r-N)-(w-c)]||0)!==0&&(a+=h[c]),this.codeMap[r]=65535&a}t.pos=m}return e.encode=function(t,n){var r,i,s,a,l,c,h,p,m,w,g,N,j,C,_,S,L,R,X,te,W,O,ee,ne,T,F,V,Y,ge,pe,Q,$,z,oe,Ae,P,G,se,ce,he,je,ke,re,le,ue,me;switch(Y=new Tc,a=Object.keys(t).sort(function(Ee,Me){return Ee-Me}),n){case"macroman":for(j=0,C=function(){var Ee=[];for(N=0;N<256;++N)Ee.push(0);return Ee}(),S={0:0},s={},ge=0,z=a.length;ge<z;ge++)S[re=t[i=a[ge]]]==null&&(S[re]=++j),s[i]={old:t[i],new:S[t[i]]},C[i]=S[t[i]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(C),{charMap:s,subtable:Y.data,maxGlyphID:j+1};case"unicode":for(F=[],m=[],L=0,S={},r={},_=h=null,pe=0,oe=a.length;pe<oe;pe++)S[X=t[i=a[pe]]]==null&&(S[X]=++L),r[i]={old:X,new:S[X]},l=S[X]-i,_!=null&&l===h||(_&&m.push(_),F.push(i),h=l),_=i;for(_&&m.push(_),m.push(65535),F.push(65535),ne=2*(ee=F.length),O=2*Math.pow(Math.log(ee)/Math.LN2,2),w=Math.log(O/2)/Math.LN2,W=2*ee-O,c=[],te=[],g=[],N=Q=0,Ae=F.length;Q<Ae;N=++Q){if(T=F[N],p=m[N],T===65535){c.push(0),te.push(0);break}if(T-(V=r[T].new)>=32768)for(c.push(0),te.push(2*(g.length+ee-N)),i=$=T;T<=p?$<=p:$>=p;i=T<=p?++$:--$)g.push(r[i].new);else c.push(V-T),te.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*ee+2*g.length),Y.writeUInt16(0),Y.writeUInt16(ne),Y.writeUInt16(O),Y.writeUInt16(w),Y.writeUInt16(W),je=0,P=m.length;je<P;je++)i=m[je],Y.writeUInt16(i);for(Y.writeUInt16(0),ke=0,G=F.length;ke<G;ke++)i=F[ke],Y.writeUInt16(i);for(le=0,se=c.length;le<se;le++)l=c[le],Y.writeUInt16(l);for(ue=0,ce=te.length;ue<ce;ue++)R=te[ue],Y.writeUInt16(R);for(me=0,he=g.length;me<he;me++)j=g[me],Y.writeUInt16(j);return{charMap:r,subtable:Y.data,maxGlyphID:L+1}}},e}(),O6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bo(t,$a),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new X3(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=X3.encode(n,r),(s=new Tc).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),LB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bo(t,$a),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),PB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bo(t,$a),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),TB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bo(t,$a),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,h;for(h=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)h.push(n.readUInt32());return h}).call(this)}},t}(),DB=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},OB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bo(t,$a),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,a,l,c,h,p,m,w,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(h={},a=m=0,w=i.length;m<w;a=++m)s=i[a],n.pos=s.offset,p=n.readString(s.length),l=new DB(p,s),h[g=s.nameID]==null&&(h[g]=[]),h[s.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t}(),MB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bo(t,$a),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),IB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bo(t,$a),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,a,l,c,h;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,m;for(m=[],r=p=0;0<=s?p<s:p>s;r=0<=s?++p:--p)m.push(n.readInt16());return m}(),this.widths=(function(){var p,m,w,g;for(g=[],p=0,m=(w=this.metrics).length;p<m;p++)a=w[p],g.push(a.advance);return g}).call(this),i=this.widths[this.widths.length-1],h=[],r=l=0;0<=s?l<s:l>s;r=0<=s?++l:--l)h.push(this.widths.push(i));return h},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),M6=[].slice,RB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bo(t,$a),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,a,l,c,h,p,m,w;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,l=(c=new Tc(r.read(s))).readShort(),p=c.readShort(),w=c.readShort(),h=c.readShort(),m=c.readShort(),this.cache[n]=l===-1?new $B(c,p,w,h,m):new FB(c,l,p,w,h,m),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,a,l,c,h;for(l=[],a=[],c=0,h=r.length;c<h;c++)s=n[r[c]],a.push(l.length),s&&(l=l.concat(s.encode(i)));return a.push(l.length),{table:l,offsets:a}},t}(),FB=function(){function e(t,n,r,i,s,a){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),$B=function(){function e(t,n,r,i,s){var a,l;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Tc(M6.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),BB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return bo(t,$a),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,l=0;l<i.length;++l)if(i[l]=s,a<r.length&&r[a]==l){++a,i[l]=s;var c=this.offsets[l],h=this.offsets[l+1]-c;h>0&&(s+=h)}for(var p=new Array(4*i.length),m=0;m<i.length;++m)p[4*m+3]=255&i[m],p[4*m+2]=(65280&i[m])>>8,p[4*m+1]=(16711680&i[m])>>16,p[4*m]=(4278190080&i[m])>>24;return p},t}(),UB=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,a,l,c;for(i={},a=0,l=t.length;a<l;a++)i[s=t[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,a,l,c,h,p,m,w,g,N,j,C,_;for(i in r=O6.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),g={0:0},_=r.charMap)g[(c=_[i]).old]=c.new;for(N in w=r.maxGlyphID,a)N in g||(g[N]=w++);return p=function(S){var L,R;for(L in R={},S)R[S[L]]=L;return R}(g),m=Object.keys(p).sort(function(S,L){return S-L}),j=function(){var S,L,R;for(R=[],S=0,L=m.length;S<L;S++)l=m[S],R.push(p[l]);return R}(),s=this.font.glyf.encode(a,j,g),h=this.font.loca.encode(s.offsets,j),C={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},e}();Ct.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var l,c,h;for(h=[],l=0,c=n.length;l<c;l++)r=n[l],h.push(t.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+n},t}();const zB=(e,t,n,r=!1)=>{var W,O;const i=new Ct("p","mm","a4"),s=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),l=r?"#FFFFFF":"#1E2A47",c=r?"#000000":"#F95738",h="helvetica";r||(i.setFillColor(l),i.rect(0,0,s,a,"F"));const p=[...((W=e.songs)==null?void 0:W.map(ee=>({...ee,type:"song"})))||[],...((O=e.medleys)==null?void 0:O.map(ee=>({...ee,type:"medley"})))||[]].sort((ee,ne)=>ee.position-ne.position),m=30,w=10,g=s-60,N=p.length>20,j=N?(g-20)/2:g,C=20,_=C+j+20;let S=18,L=w;p.length>30?(S=14,L=8):p.length>25&&(S=16,L=9),i.setFont(h,"bold"),i.setFontSize(S),i.setTextColor(c);let R=m;if(N){const ee=Math.ceil(p.length/2),ne=p.slice(0,ee),T=p.slice(ee);let F=R;ne.forEach((Y,ge)=>{let pe="";if(Y.type==="song"){const oe=Y;oe.song&&(pe=oe.song.title)}else Y.type==="medley"&&(pe=Y.name||"Medley");const $=`${String(ge+1).padStart(2,"0")}. ${pe}`,z=i.splitTextToSize($.toUpperCase(),j);i.text(z,C,F),F+=z.length*L});let V=R;T.forEach((Y,ge)=>{let pe="";if(Y.type==="song"){const oe=Y;oe.song&&(pe=oe.song.title)}else Y.type==="medley"&&(pe=Y.name||"Medley");const $=`${String(ee+ge+1).padStart(2,"0")}. ${pe}`,z=i.splitTextToSize($.toUpperCase(),j);i.text(z,_,V),V+=z.length*L})}else p.forEach((ee,ne)=>{R>a-50&&(i.addPage(),r||(i.setFillColor(l),i.rect(0,0,s,a,"F")),R=m,i.setFont(h,"bold"),i.setFontSize(S),i.setTextColor(c));let T="";if(ee.type==="song"){const ge=ee;ge.song&&(T=ge.song.title)}else ee.type==="medley"&&(T=ee.name||"Medley");const V=`${String(ne+1).padStart(2,"0")}. ${T}`,Y=i.splitTextToSize(V.toUpperCase(),j);i.text(Y,C,R),R+=Y.length*L});const X=i.getNumberOfPages();for(let ee=1;ee<=X;ee++){i.setPage(ee),i.setFont(h,"bold"),i.setFontSize(48),i.setTextColor(c);const ne=(n||"YOUR BAND").toUpperCase();i.text(ne,s-20,m,{angle:-90,align:"left"})}const te=ee=>new Date(ee).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"});if(t){i.setFont(h,"normal"),i.setFontSize(10),i.setTextColor(c);const ee=[t.name||"The Arena",t.location||"Town, Country",te(t.date)];i.text(ee,s-20,a-30,{align:"right"})}return i},qB=({isOpen:e,onClose:t,setlist:n,eventName:r,eventDate:i,bandName:s})=>{const[a,l]=E.useState(!0),c=(h=!1)=>{if(!n)return;const m=zB(n,r&&i?{name:r,date:i}:void 0,s,h),g=`${s||"Setlist"} - ${r||"Event"}${h?" (Print)":" (Digital)"}.pdf`;if(h){const N=m.output("blob"),j=URL.createObjectURL(N);window.open(j,"_blank")}else m.save(g)};return d.jsx(d.Fragment,{children:d.jsx("div",{className:`fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-2 sm:p-4 transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"} print:hidden`,onClick:t,children:d.jsx("div",{className:`bg-white rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] sm:max-h-[90vh] flex flex-col font-sans relative transform transition-all duration-300 ${e?"scale-100 opacity-100":"scale-95 opacity-0"}`,onClick:h=>h.stopPropagation(),children:n&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 sm:p-6 border-b border-gray-200 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[d.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg flex-shrink-0",children:d.jsx($r,{className:"w-5 h-5 sm:w-6 sm:h-6 text-indigo-600"})}),d.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-gray-900 truncate",children:n.name})]}),d.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 print:hidden flex-wrap",children:[d.jsxs("button",{onClick:()=>c(!1),className:"flex items-center gap-2 px-2 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-xs",title:"Descargar PDF Digital",children:[d.jsx(H0,{className:"w-3 h-3"}),"Digital"]}),d.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-2 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-xs",title:"Descargar PDF para Imprimir",children:[d.jsx(H0,{className:"w-3 h-3"}),"Impresión"]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{htmlFor:"showArtists",className:"text-sm font-medium text-gray-600",children:"Artistas"}),d.jsx("button",{onClick:()=>l(!a),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a?"bg-indigo-600":"bg-gray-200"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a?"translate-x-6":"translate-x-1"}`})})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(Da,{className:"w-6 h-6"})})]})]}),d.jsxs("div",{className:"p-6 overflow-y-auto flex-grow",children:[n.description&&d.jsx("p",{className:"text-sm text-gray-600 italic mb-6 bg-gray-50 p-3 rounded-md border border-gray-200",children:n.description}),(()=>{const h=E.useMemo(()=>n!=null&&n.songs?n.songs.map(g=>{var N;return{...g,type:((N=g.song)==null?void 0:N.type)==="medley"?"medley":"song"}}).sort((g,N)=>g.position-N.position):[],[n==null?void 0:n.songs]),p=h.length,m=p>10,w=m?Math.ceil(p/2):p;return p===0?d.jsx("div",{className:"text-center py-10",children:d.jsx("p",{className:"text-gray-500",children:"Este setlist está vacío."})}):d.jsx("div",{className:"grid gap-x-8",style:{gridTemplateRows:`repeat(${w}, auto)`,gridAutoFlow:"column",gridTemplateColumns:m?"1fr 1fr":"1fr"},children:h.map((g,N)=>{var j,C,_,S,L,R,X;return g.type==="medley"?d.jsx("div",{className:"bg-slate-50 rounded-lg p-2 my-1 transition-all duration-300",children:d.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[d.jsxs("span",{className:"text-gray-400 font-mono w-5 text-right pt-1 self-start",children:[N+1,"."]}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("p",{className:"text-indigo-600 font-bold",children:(j=g.song)==null?void 0:j.title}),d.jsxs("p",{className:"text-xs text-gray-400",children:["Medley (",((_=(C=g.song)==null?void 0:C.medley_song_ids)==null?void 0:_.length)||0," canciones)"]})]})]})},`medley-${g.id}`):d.jsxs("div",{className:"flex items-baseline space-x-3 text-sm group py-1 min-h-[3.25rem]",children:[d.jsxs("span",{className:"text-gray-400 font-mono w-5 text-right",children:[N+1,"."]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-800 font-medium group-hover:text-indigo-600 transition-colors",children:((S=g.song)==null?void 0:S.title)||"N/A"}),d.jsx("p",{className:`text-gray-500 text-xs transition-all duration-300 ease-in-out ${a&&((L=g.song)!=null&&L.artist)?"opacity-100 h-4":"opacity-0 h-0"}`,children:(R=g.song)==null?void 0:R.artist})]})]},`song-${((X=g.song)==null?void 0:X.id)||N}`)})})})()]})]})})})})};function WB({groupId:e,canManageEvents:t,availableDates:n,members:r}){const[i,s]=E.useState([]),[a,l]=E.useState(!0),[c,h]=E.useState(null),[p,m]=E.useState(!1),[w,g]=E.useState(!1),[N,j]=E.useState("upcoming"),[C,_]=E.useState(null),[S,L]=E.useState(null),[R,X]=E.useState("");E.useEffect(()=>{te()},[e]);const te=async()=>{try{l(!0);const{data:Q,error:$}=await Xe.from("events").select(`
          *,
          setlist:setlists (
            id,
            name,
            songs:setlist_songs(
              id,
              song:songs(type)
            )
          )
        `).eq("group_id",e).order("date").order("time");if($)throw $;if(Q){const z=await Promise.all(Q.map(async oe=>{const{data:Ae,error:P}=await Xe.from("event_members").select("group_member_id, user_id").eq("event_id",oe.id);if(P)return console.error("Error loading event members:",P),{...oe,members:[]};const G=(Ae==null?void 0:Ae.map(se=>{const ce=r.find(he=>he.id===se.group_member_id);return{group_member_id:se.group_member_id,user_id:se.user_id,member_name:(ce==null?void 0:ce.name)||"Unknown Member",role_in_group:(ce==null?void 0:ce.role_in_group)||"principal"}}))||[];return{...oe,members:G}}));s(z)}}catch(Q){console.error("Error fetching events:",Q),Pe.error("Error loading events")}finally{l(!1)}},W=async Q=>{if(window.confirm("¿Estás seguro de que quieres eliminar este evento?"))try{const{data:$,error:z}=await Xe.from("event_members").select(`
          group_member_id,
          user_id,
          group_members!event_members_group_member_id_fkey(sync_calendar)
        `).eq("event_id",Q);if(z)throw z;const{error:oe}=await Xe.from("events").delete().eq("id",Q);if(oe)throw oe;$&&$.length>0&&(console.log("Actualizando calendarios después de eliminar evento"),await Promise.all($.filter(Ae=>Ae.group_members.sync_calendar).map(async Ae=>{try{await p6(e,Ae.group_member_id),console.log("Calendario actualizado para miembro:",Ae.group_member_id)}catch(P){console.error("Error actualizando calendario para miembro:",Ae.group_member_id,P)}}))),Pe.success("Evento eliminado correctamente"),te()}catch($){console.error("Error deleting event:",$),Pe.error("Error al eliminar el evento")}},O=Q=>{h(Q),g(!0)},ee=async Q=>{try{const{data:z,error:oe}=await Xe.from("groups").select("name").eq("id",Q.group_id).single();if(oe)throw oe;X((z==null?void 0:z.name)||"")}catch{X("")}const $=Q.setlist;if(!$){console.warn("Se intentó abrir un preview con un setlist undefined");return}if(L({name:Q.name,date:Q.date}),!$){console.warn("Se intentó abrir un preview con un setlist undefined");return}try{const{data:z,error:oe}=await Xe.from("setlists").select(`
          *,
          songs: setlist_songs(*, song: songs(*))
        `).eq("id",$.id).single();if(oe)throw oe;z&&_(z)}catch(z){console.error("Error al cargar el setlist completo:",z),Pe.error("Error al cargar el setlist")}};if(a)return d.jsx("div",{className:"text-center py-4",children:"Cargando eventos..."});const ne=Q=>{const $=Q.reduce((z,oe)=>{const Ae=on(pu(oe.date),"MMMM yyyy");return z[Ae]||(z[Ae]=[]),z[Ae].push(oe),z},{});return Object.entries($)},T=Q=>{if(!Q)return"";if(console.log("Location raw:",Q),typeof Q=="object"&&Q!==null)return Q.name||String(Q);if(typeof Q!="string")return String(Q);if(Q.startsWith("{")||Q.startsWith("["))try{const $=JSON.parse(Q);return $.name||$.formatted_address||$.description||String($)}catch($){return console.log("Location parse error:",$),Q}return Q},F=Q=>{if(!Q)return;const $=T(Q);window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent($)}`,"_blank")},V=Q=>{const $=Q.members.filter(oe=>oe.role_in_group==="principal"),z=Q.members.filter(oe=>oe.role_in_group==="sustituto");return d.jsxs("div",{className:"mt-1.5 space-y-1",children:[d.jsx("div",{className:"flex flex-wrap gap-1",children:$.map(oe=>d.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-indigo-50 text-indigo-700",children:oe.member_name},oe.group_member_id))}),z.length>0&&d.jsxs("div",{className:"flex flex-wrap gap-1",children:[d.jsx("span",{className:"text-xs text-gray-500 mr-1",children:"Sustitutos:"}),z.map(oe=>d.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-yellow-50 text-yellow-700",children:oe.member_name},oe.group_member_id))]}),Q.location&&d.jsx("div",{className:"flex items-center gap-1 mt-1",children:d.jsxs("button",{onClick:()=>F(Q.location),className:"inline-flex items-center text-xs text-gray-600 hover:text-indigo-600",children:[d.jsx(l0,{className:"w-3 h-3 mr-1"}),d.jsx("span",{className:"underline",children:Y(T(Q.location))})]})})]})},Y=(Q,$=40)=>{if(!Q)return"";if(Q.includes(",")){const z=Q.split(",")[0];return z.length<=$?z:`${z.slice(0,$)}...`}return Q.length>$?`${Q.slice(0,$)}...`:Q},ge=i.filter(Q=>{const $=pu(Q.date);return b3(Lc($))||_3($)}),pe=i.filter(Q=>{const $=pu(Q.date);return!b3(Lc($))&&!_3($)});return d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100",children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Eventos"}),t&&d.jsx(yt,{onClick:()=>m(!0),children:"Añadir Evento"})]}),i.length===0?d.jsxs("div",{className:"text-center py-6 text-gray-500",children:[d.jsx(fp,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),d.jsx("p",{children:"No hay eventos programados"})]}):d.jsxs("div",{className:"mt-4",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsxs("nav",{className:"-mb-px flex space-x-8",children:[d.jsxs("button",{onClick:()=>j("upcoming"),className:`${N==="upcoming"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[d.jsx("span",{children:"Próximos eventos"}),ge.length>0&&d.jsx("span",{className:`${N==="upcoming"?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-900"} py-0.5 px-2.5 rounded-full text-xs font-medium`,children:ge.length})]}),d.jsxs("button",{onClick:()=>j("past"),className:`${N==="past"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[d.jsx("span",{children:"Eventos pasados"}),pe.length>0&&d.jsx("span",{className:`${N==="past"?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-900"} py-0.5 px-2.5 rounded-full text-xs font-medium`,children:pe.length})]})]})}),d.jsx("div",{className:"mt-4 space-y-6",children:ne(N==="upcoming"?ge:pe).map(([Q,$])=>d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:Q}),d.jsx("div",{className:"space-y-1",children:$.map(z=>d.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 hover:border-gray-200 transition-colors",children:d.jsx("div",{className:"p-3",children:d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex-shrink-0 w-12 text-center",children:[d.jsx("div",{className:"text-lg font-bold text-gray-900",children:on(pu(z.date),"d")}),d.jsx("div",{className:"text-xs text-gray-500 uppercase",children:on(pu(z.date),"EEE")})]}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:z.name}),d.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mt-0.5",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(W0,{className:"w-3 h-3 mr-1"}),on(pu(`2000-01-01T${z.time}`),"h:mm a")]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Sf,{className:"w-3 h-3 mr-1"}),z.members.length]}),z.setlist?d.jsxs("div",{className:"flex items-center",children:[d.jsx($r,{className:"w-3 h-3 mr-1 text-blue-500"}),d.jsx("span",{className:"text-indigo-600 font-medium cursor-pointer hover:underline",onClick:()=>z.setlist&&ee(z),children:z.setlist.name}),d.jsx("span",{className:"text-gray-400 ml-1",children:(()=>{var P,G;const oe=((P=z.setlist.songs)==null?void 0:P.filter(se=>{var ce,he;return((ce=se.song)==null?void 0:ce.type)==="song"||!((he=se.song)!=null&&he.type)}))||[],Ae=((G=z.setlist.songs)==null?void 0:G.filter(se=>{var ce;return((ce=se.song)==null?void 0:ce.type)==="medley"}))||[];return`(${oe.length} canciones${Ae.length>0?`, ${Ae.length} medleys`:""})`})()})]}):d.jsxs("div",{className:"flex items-center",children:[d.jsx($r,{className:"w-3 h-3 mr-1 text-gray-300"}),d.jsx("span",{className:"text-gray-400 italic",children:"Sin setlist"})]})]})]})]}),V(z),z.notes&&d.jsx("p",{className:"mt-1 text-xs text-gray-500 line-clamp-1",children:z.notes})]}),t&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>O(z),className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",title:"Editar evento",children:d.jsx(wN,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>W(z.id),className:"p-1 text-red-400 hover:text-red-600 rounded-full hover:bg-red-50",title:"Eliminar evento",children:d.jsx(P5,{className:"w-4 h-4"})})]})]})})},z.id))})]},Q))})]})]})}),d.jsx(P3,{isOpen:p,onClose:()=>m(!1),groupId:e,onEventSaved:()=>{te(),m(!1)},availableDates:n,members:r}),c&&d.jsx(P3,{isOpen:w,onClose:()=>{g(!1),h(null)},groupId:e,event:c,onEventSaved:()=>{te(),g(!1),h(null)},availableDates:[...n,pu(c.date)],members:r}),C&&d.jsx(qB,{isOpen:!!C,onClose:()=>{_(null),L(null),X("")},setlist:C,eventName:S==null?void 0:S.name,eventDate:S==null?void 0:S.date,bandName:R})]})}function HB({isOpen:e,onClose:t,onConfirm:n,title:r,message:i}){return e?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-red-600",children:r}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:d.jsx(Da,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("p",{className:"text-gray-700 mb-6",children:i}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx(yt,{variant:"secondary",onClick:t,children:"Cancelar"}),d.jsx(yt,{onClick:n,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500",children:"Eliminar"})]})]})]})}):null}function VB({isOpen:e,onClose:t,calendarUrl:n}){const r=async()=>{await navigator.clipboard.writeText(n),Pe.success("URL copiada al portapapeles")};return d.jsxs(Du,{open:e,onClose:t,className:"relative z-50",children:[d.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),d.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:d.jsxs(Du.Panel,{className:"mx-auto max-w-md rounded-lg bg-white p-6",children:[d.jsxs(Du.Title,{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[d.jsx(fp,{className:"w-5 h-5"}),"Suscribirse al Calendario"]}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900",children:"Google Calendar"}),d.jsxs("ol",{className:"mt-2 list-decimal list-inside text-sm text-gray-600",children:[d.jsx("li",{children:"Abre Google Calendar"}),d.jsx("li",{children:'En el panel izquierdo, junto a "Otros calendarios", haz clic en el "+"'}),d.jsx("li",{children:'Selecciona "Desde URL"'}),d.jsx("li",{children:'Pega la URL del calendario y haz clic en "Añadir calendario"'})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900",children:"Apple Calendar"}),d.jsxs("ol",{className:"mt-2 list-decimal list-inside text-sm text-gray-600",children:[d.jsx("li",{children:"Abre la aplicación Calendario"}),d.jsx("li",{children:"Ve a Archivo → Nueva suscripción a calendario"}),d.jsx("li",{children:'Pega la URL del calendario y haz clic en "Suscribirse"'})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900",children:"Outlook"}),d.jsxs("ol",{className:"mt-2 list-decimal list-inside text-sm text-gray-600",children:[d.jsx("li",{children:"Abre Outlook Calendar"}),d.jsx("li",{children:'Ve a "Añadir calendario" → "Desde Internet"'}),d.jsx("li",{children:'Pega la URL del calendario y haz clic en "Importar"'})]})]}),d.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-md",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"URL del calendario:"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:n,readOnly:!0,className:"flex-1 text-sm bg-white border border-gray-300 rounded-md px-3 py-2"}),d.jsxs(yt,{onClick:r,variant:"secondary",className:"flex items-center gap-1",children:[d.jsx(JO,{className:"w-4 h-4"}),"Copiar"]})]})]})]}),d.jsx("div",{className:"mt-6 flex justify-end",children:d.jsx(yt,{onClick:t,children:"Cerrar"})})]})})]})}const Tp=()=>{const[e,t]=E.useState(!1),[n,r]=E.useState(null),[i,s]=E.useState(!0);E.useEffect(()=>{a()},[]);const a=async()=>{try{if(console.log("🎵 Checking Spotify auth status..."),console.log("🎵 Is authenticated:",bi.isAuthenticated()),bi.isAuthenticated()){console.log("🎵 Getting user data...");const N=await bi.getCurrentUser();console.log("🎵 User data:",N),r(N),t(!0)}}catch(N){console.error("❌ Error checking Spotify auth status:",N),bi.logout()}finally{s(!1)}},l=E.useCallback(async()=>{const N=await bi.getAuthUrl();window.location.href=N},[]),c=E.useCallback(()=>{bi.logout(),t(!1),r(null),Pe.success("Desconectado de Spotify")},[]),h=E.useCallback(async N=>{if(!e)throw new Error("No authenticated with Spotify");try{return await bi.searchTracks(N)}catch(j){throw console.error("Error searching tracks:",j),Pe.error("Error al buscar canciones en Spotify"),j}},[e]),p=E.useCallback(async(N,j)=>{if(!e)return Pe.error("Debes conectar con Spotify primero"),null;try{const C=await bi.createPlaylist(`Band Plan - ${N}`,"Setlist generado automáticamente desde Band Plan",!1),_=j.filter(S=>S.id).map(S=>`spotify:track:${S.id}`);return _.length>0&&await bi.addTracksToPlaylist(C.id,_),Pe.success(`Playlist "${C.name}" creada en Spotify`),C.external_urls.spotify}catch(C){return console.error("Error creating playlist:",C),Pe.error("Error al crear playlist en Spotify"),null}},[e]),m=E.useCallback(async N=>{if(!e){Pe.error("Debes conectar con Spotify primero");return}try{await bi.playTrack(N)}catch(j){console.error("Error playing track:",j),Pe.error("Error al reproducir canción. Asegúrate de tener Spotify abierto.")}},[e]),w=E.useCallback(async()=>{if(e)try{await bi.pausePlayback()}catch(N){console.error("Error pausing playback:",N),Pe.error("Error al pausar reproducción")}},[e]),g=E.useCallback(async()=>{if(e)try{await bi.resumePlayback()}catch(N){console.error("Error resuming playback:",N),Pe.error("Error al reanudar reproducción")}},[e]);return{isAuthenticated:e,user:n,loading:i,login:l,logout:c,searchTracks:h,createPlaylistFromSetlist:p,playTrack:m,pausePlayback:w,resumePlayback:g}},GB=({className:e="",compact:t=!1})=>{var l,c;const{isAuthenticated:n,user:r,loading:i,login:s,logout:a}=Tp();return i?d.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[d.jsx(go,{className:"w-4 h-4 animate-spin text-green-500"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Conectando con Spotify..."})]}):n?t?d.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[((l=r==null?void 0:r.images)==null?void 0:l[0])&&d.jsx("img",{src:r.images[0].url,alt:r.display_name,className:"w-6 h-6 rounded-full"}),d.jsx("span",{className:"text-sm text-gray-700",children:r==null?void 0:r.display_name}),d.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",title:"Desconectar Spotify",children:d.jsx(ey,{className:"w-4 h-4"})})]}):d.jsx("div",{className:`bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg border border-green-200 ${e}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-green-500 p-2 rounded-full",children:d.jsx($r,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[((c=r==null?void 0:r.images)==null?void 0:c[0])&&d.jsx("img",{src:r.images[0].url,alt:r.display_name,className:"w-6 h-6 rounded-full"}),d.jsxs("span",{className:"font-medium text-gray-900",children:["Conectado como ",r==null?void 0:r.display_name]})]}),d.jsx("p",{className:"text-sm text-gray-600",children:"Spotify conectado correctamente"})]})]}),d.jsxs(yt,{onClick:a,variant:"secondary",size:"sm",children:[d.jsx(ey,{className:"w-4 h-4 mr-2"}),"Desconectar"]})]})}):t?d.jsxs("button",{onClick:s,className:`flex items-center gap-2 px-3 py-2 bg-green-500 hover:bg-green-600 text-white rounded-md transition-colors text-sm ${e}`,children:[d.jsx($r,{className:"w-4 h-4"}),"Conectar Spotify"]}):d.jsx("div",{className:`bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-lg border border-green-200 ${e}`,children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"bg-green-500 p-3 rounded-full",children:d.jsx($r,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Conecta con Spotify"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Conecta tu cuenta de Spotify para acceder a funciones avanzadas como búsqueda de canciones, creación automática de playlists, y reproducción de previews."}),d.jsxs("ul",{className:"text-sm text-gray-600 mb-4 space-y-1",children:[d.jsx("li",{children:"• Búsqueda automática de canciones con datos completos"}),d.jsx("li",{children:"• Crear playlists automáticamente desde tus setlists"}),d.jsx("li",{children:"• Reproducir previews de canciones"}),d.jsx("li",{children:"• Control de reproducción desde la app"})]}),d.jsxs(yt,{onClick:s,variant:"primary",className:"bg-green-500 hover:bg-green-600 text-white",children:[d.jsx($r,{className:"w-4 h-4 mr-2"}),"Conectar con Spotify"]})]})]})})},YB=({onSpotifyTrackSelect:e,onDeezerTrackSelect:t,onManualAdd:n,placeholder:r="Buscar canciones o añadir manualmente...",className:i=""})=>{const{isAuthenticated:s,searchTracks:a,loading:l}=Tp(),[c,h]=E.useState(""),[p,m]=E.useState([]),[w,g]=E.useState([]),[N,j]=E.useState(!1),[C,_]=E.useState(!1),[S,L]=E.useState(null),R=E.useRef(null),X=E.useRef(null),te=E.useRef(),W=c||"";E.useEffect(()=>{const z=oe=>{R.current&&!R.current.contains(oe.target)&&_(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]),E.useEffect(()=>{if(W.length<2){m([]),g([]);return}return te.current&&clearTimeout(te.current),te.current=setTimeout(()=>{O(W)},300),()=>{te.current&&clearTimeout(te.current)}},[W,s]);const O=async z=>{if(j(!0),s)try{const oe=await a(z);m(oe),_(!0)}catch(oe){console.error("Error searching tracks:",oe),m([]),_(!0)}else try{const Ae=await(await fetch(`https://corsproxy.io/?https://api.deezer.com/search?q=${encodeURIComponent(z)}`)).json();g(Ae.data||[]),_(!0)}catch(oe){console.error("Error searching Deezer:",oe),g([]),_(!0)}j(!1)},ee=z=>{e(z),h(""),m([]),g([]),_(!1),V()},ne=z=>{t&&t(z),h(""),m([]),g([]),_(!1),V()},T=()=>{n(W),h(""),m([]),g([]),_(!1),V()},F=z=>{if(S===z.id){V();return}if(!z.preview_url){Pe.error("Preview no disponible para esta canción");return}V(),X.current&&(X.current.src=z.preview_url,X.current.play(),L(z.id),X.current.onended=()=>{L(null)})},V=()=>{X.current&&(X.current.pause(),X.current.currentTime=0),L(null)},Y=z=>{window.open(z.external_urls.spotify,"_blank"),Pe.success("Abriendo en Spotify")},ge=z=>{const oe=Math.floor(z/6e4),Ae=Math.floor(z%6e4/1e3);return`${oe}:${Ae.toString().padStart(2,"0")}`},pe=z=>{const oe=Math.floor(z/60),Ae=z%60;return`${oe}:${Ae.toString().padStart(2,"0")}`},Q=z=>{if(S===z.id.toString()){V();return}if(!z.preview){Pe.error("Preview no disponible para esta canción");return}V(),X.current&&(X.current.src=z.preview,X.current.play(),L(z.id.toString()),X.current.onended=()=>{L(null)})},$=z=>{window.open(z.link,"_blank"),Pe.success("Abriendo en Deezer")};return l?d.jsx("div",{className:`relative ${i}`,children:d.jsxs("div",{className:"relative",children:[d.jsx(ty,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Cargando...",disabled:!0,value:"",readOnly:!0,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed text-lg"})]})}):d.jsxs("div",{ref:R,className:`relative ${i}`,children:[d.jsxs("div",{className:"relative",children:[d.jsx(ty,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",value:W,onChange:z=>h(z.target.value||""),placeholder:r,className:"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg shadow-sm",onFocus:()=>_(!0)}),N&&d.jsx(go,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 animate-spin"})]}),C&&d.jsxs("div",{className:"absolute z-50 w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:[d.jsxs("div",{onClick:T,className:"p-4 hover:bg-blue-50 cursor-pointer border-b border-gray-100 flex items-center gap-3 bg-blue-25",children:[d.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:d.jsx(Og,{className:"w-6 h-6 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-blue-900",children:"Añadir manualmente"}),d.jsx("p",{className:"text-sm text-blue-600",children:W?`Crear "${W}" con formulario`:"Usar formulario manual"})]})]}),s&&p.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"px-4 py-2 bg-green-50 border-b border-green-100",children:d.jsxs("p",{className:"text-sm text-green-700 font-medium flex items-center gap-2",children:[d.jsx($r,{className:"w-4 h-4"}),"Resultados de Spotify"]})}),p.map(z=>{var oe,Ae;return d.jsx("div",{className:"p-3 hover:bg-green-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("img",{src:((oe=z.album.images[2])==null?void 0:oe.url)||((Ae=z.album.images[0])==null?void 0:Ae.url),alt:z.album.name,className:"w-12 h-12 rounded object-cover flex-shrink-0"}),d.jsx("div",{className:"flex-1 min-w-0",onClick:()=>ee(z),children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("h4",{className:"font-medium text-gray-900 truncate",children:z.name}),d.jsx("p",{className:"text-sm text-gray-600 truncate",children:z.artists.map(P=>P.name).join(", ")}),d.jsx("p",{className:"text-xs text-gray-500 truncate",children:z.album.name})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 ml-2",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(W0,{className:"w-3 h-3"}),ge(z.duration_ms)]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(xN,{className:"w-3 h-3"}),z.popularity,"%"]})]})]})}),d.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[z.preview_url&&d.jsx("button",{onClick:P=>{P.stopPropagation(),F(z)},className:"p-1.5 text-gray-400 hover:text-green-500 transition-colors",title:"Preview (30s)",children:S===z.id?d.jsx(s3,{className:"w-4 h-4"}):d.jsx(a3,{className:"w-4 h-4"})}),d.jsx("button",{onClick:P=>{P.stopPropagation(),Y(z)},className:"p-1.5 text-gray-400 hover:text-green-500 transition-colors",title:"Abrir en Spotify",children:d.jsx(Z2,{className:"w-4 h-4"})})]})]})},z.id)})]}),!s&&w.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"px-4 py-2 bg-orange-50 border-b border-orange-100",children:d.jsxs("p",{className:"text-sm text-orange-700 font-medium flex items-center gap-2",children:[d.jsx($r,{className:"w-4 h-4"}),"Resultados de Deezer"]})}),w.map(z=>d.jsx("div",{className:"p-3 hover:bg-orange-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("img",{src:z.album.cover_small||z.album.cover,alt:z.album.title,className:"w-12 h-12 rounded object-cover flex-shrink-0"}),d.jsx("div",{className:"flex-1 min-w-0",onClick:()=>ne(z),children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("h4",{className:"font-medium text-gray-900 truncate",children:z.title}),d.jsx("p",{className:"text-sm text-gray-600 truncate",children:z.artist.name}),d.jsx("p",{className:"text-xs text-gray-500 truncate",children:z.album.title})]}),d.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500 ml-2",children:d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(W0,{className:"w-3 h-3"}),pe(z.duration)]})})]})}),d.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[z.preview&&d.jsx("button",{onClick:oe=>{oe.stopPropagation(),Q(z)},className:"p-1.5 text-gray-400 hover:text-orange-500 transition-colors",title:"Preview (30s)",children:S===z.id.toString()?d.jsx(s3,{className:"w-4 h-4"}):d.jsx(a3,{className:"w-4 h-4"})}),d.jsx("button",{onClick:oe=>{oe.stopPropagation(),$(z)},className:"p-1.5 text-gray-400 hover:text-orange-500 transition-colors",title:"Abrir en Deezer",children:d.jsx(Z2,{className:"w-4 h-4"})})]})]})},z.id))]}),s&&p.length===0&&!N&&W.length>=2&&d.jsxs("div",{className:"p-4 text-center text-gray-500 border-b border-gray-100",children:[d.jsx($r,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),d.jsxs("p",{children:['No se encontraron canciones en Spotify para "',W,'"']})]}),!s&&w.length===0&&!N&&W.length>=2&&d.jsxs("div",{className:"p-4 text-center text-gray-500 border-b border-gray-100",children:[d.jsx($r,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),d.jsxs("p",{children:['No se encontraron canciones en Deezer para "',W,'"']})]})]}),d.jsx("audio",{ref:X})]})},Q3={title:"",artist:"",duration_minutes:"",key:"",notes:""},Z3=["","C","C#","Db","D","D#","Eb","E","F","F#","Gb","G","G#","Ab","A","A#","Bb","B"];function KB({groupId:e,canManageSongs:t=!0}){const[n,r]=E.useState([]),[i,s]=E.useState(!0),[a,l]=E.useState(!1),[c,h]=E.useState(null),[p,m]=E.useState(Q3),[w,g]=E.useState(!1),[N,j]=E.useState(null),[C,_]=E.useState(null),[S,L]=E.useState(""),[R,X]=E.useState(!1),[te,W]=E.useState(null),[O,ee]=E.useState(""),[ne,T]=E.useState(""),[F,V]=E.useState("");Tp();const Y=n.filter(re=>{var Ee;const le=!O||re.title.toLowerCase().includes(O.toLowerCase())||((Ee=re.artist)==null?void 0:Ee.toLowerCase().includes(O.toLowerCase())),ue=!ne||re.key===ne,me=!F||re.type===F;return le&&ue&&me}),ge=[...new Set(n.map(re=>re.key).filter(Boolean))].sort();E.useEffect(()=>{pe()},[e]);const pe=async()=>{s(!0);const re=await Q0(e);re&&r(re),s(!1)},Q=async re=>{const{data:{user:le}}=await Xe.auth.getUser();if(!le){Pe.error("No se pudo obtener la información del usuario");return}const ue=Math.round(re.duration_ms/6e4),me=`Popularidad: ${re.popularity}% | Álbum: ${re.album.name} (${re.album.release_date.split("-")[0]})`,Ee={title:re.name,artist:re.artists.map(Me=>Me.name).join(", "),duration_minutes:ue.toString(),key:"",notes:me,group_id:e,created_by:le.id};try{await u0(Ee),await pe(),Pe.success(`"${re.name}" añadida desde Spotify`)}catch(Me){console.error("Error creating song from Spotify:",Me),Pe.error("Error al añadir la canción")}},$=async re=>{const{data:{user:le}}=await Xe.auth.getUser();if(!le){Pe.error("No se pudo obtener la información del usuario");return}const ue=Math.round(re.duration/60),me=`Álbum: ${re.album.title} | Fuente: Deezer`,Ee={title:re.title,artist:re.artist.name,duration_minutes:ue.toString(),key:"",notes:me,group_id:e,created_by:le.id};try{await u0(Ee),await pe(),Pe.success(`"${re.title}" añadida desde Deezer`)}catch(Me){console.error("Error creating song from Deezer:",Me),Pe.error("Error al añadir la canción")}},z=async re=>{if(re.preventDefault(),!p.title.trim()){Pe.error("El título es obligatorio");return}const{data:{user:le}}=await Xe.auth.getUser();if(!le){Pe.error("No se pudo obtener la información del usuario");return}const ue={group_id:e,title:p.title.trim(),artist:p.artist.trim()||void 0,duration_minutes:p.duration_minutes?parseInt(p.duration_minutes):void 0,key:p.key.trim()||void 0,notes:p.notes.trim()||void 0,created_by:le.id};if(c){const me=await C3(c.id,ue);me&&(Pe.success("Canción actualizada correctamente"),r(Ee=>Ee.map(Me=>Me.id===c.id?me:Me)))}else{const me=await u0(ue);me&&(Pe.success("Canción creada correctamente"),r(Ee=>[...Ee,me]))}G()},oe=re=>{var le;h(re),m({title:re.title,artist:re.artist||"",duration_minutes:((le=re.duration_minutes)==null?void 0:le.toString())||"",key:re.key||"",notes:re.notes||""}),l(!0)},Ae=re=>{j(re),g(!0)},P=async()=>{if(!N)return;console.log("Eliminando canción:",N.id);const re=await O$(N.id);console.log("Resultado de eliminación:",re),re?(Pe.success("Canción eliminada correctamente"),r(le=>le.filter(ue=>ue.id!==N.id))):Pe.error("No se pudo eliminar la canción"),g(!1),j(null)},G=()=>{m(Q3),h(null),l(!1)},se=re=>{if(!re)return"-";const le=Math.floor(re/60),ue=re%60;return le>0?`${le}h ${ue}m`:`${ue}m`},ce=re=>{if(!re)return"-";const le=re.match(/Tempo:\s*(\d+)\s*BPM/i);return le?`${le[1]}`:"-"},he=(re,le,ue)=>{_({songId:re,field:le}),L(String(ue||"")),W(null)},je=async(re,le)=>{if(S===(re[le]||"")){_(null);return}X(!0),W(null);const ue=await C3(re.id,{[le]:le==="duration_minutes"?parseInt(S)||null:S||null});X(!1),ue?(r(me=>me.map(Ee=>Ee.id===re.id?{...Ee,...ue}:Ee)),_(null)):W("Error al guardar")},ke=(re,le,ue)=>{re.key==="Enter"?(re.preventDefault(),je(le,ue)):re.key==="Escape"&&_(null)};return i?d.jsx("div",{className:"text-center py-8",children:"Cargando canciones..."}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex flex-col gap-4",children:d.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Pool de Canciones"}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:d.jsx(GB,{compact:!0})})]})}),t&&d.jsx("div",{className:"mb-6",children:d.jsx(YB,{onSpotifyTrackSelect:Q,onDeezerTrackSelect:$,onManualAdd:re=>{re&&m(le=>({...le,title:re})),l(!0)},className:"w-full"})}),!t&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:d.jsx("p",{className:"text-yellow-800 text-sm",children:"Solo los miembros principales pueden gestionar canciones y setlists."})}),a&&t&&d.jsxs("form",{onSubmit:z,className:"bg-white p-6 rounded-lg shadow-md space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:c?"Editar Canción":"Nueva Canción"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Vn,{label:"Título *",value:p.title,onChange:re=>m({...p,title:re.target.value}),required:!0}),d.jsx(Vn,{label:"Artista",value:p.artist,onChange:re=>m({...p,artist:re.target.value})}),d.jsx(Vn,{label:"Duración (minutos)",type:"number",value:p.duration_minutes,onChange:re=>m({...p,duration_minutes:re.target.value}),min:"1"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tonalidad"}),d.jsx("select",{className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.key,onChange:re=>m({...p,key:re.target.value}),children:Z3.map(re=>d.jsx("option",{value:re,children:re||"Sin especificar"},re))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas"}),d.jsx("textarea",{value:p.notes,onChange:re=>m({...p,notes:re.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Notas adicionales sobre la canción..."})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(yt,{type:"submit",variant:"primary",children:c?"Actualizar":"Crear"}),d.jsx(yt,{type:"button",variant:"secondary",onClick:G,children:"Cancelar"})]})]}),d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay canciones en el pool. Añade la primera canción para empezar."}):Y.length===0?d.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No se encontraron canciones que coincidan con los filtros aplicados.",d.jsx("button",{onClick:()=>{ee(""),T(""),V("")},className:"block mx-auto mt-2 text-blue-600 hover:text-blue-800 underline",children:"Limpiar filtros"})]}):d.jsxs("div",{className:"overflow-x-auto",children:[d.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[d.jsxs("span",{className:"text-sm text-gray-600",children:["Mostrando ",Y.length," de ",n.length," canciones"]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx(ty,{className:"w-3 h-3 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar...",value:O,onChange:re=>ee(re.target.value),className:"w-24 px-2 py-1 border border-gray-200 rounded text-xs focus:outline-none focus:border-blue-400 focus:w-32 transition-all"}),d.jsxs("select",{value:ne,onChange:re=>T(re.target.value),className:"px-2 py-1 border border-gray-200 rounded text-xs focus:outline-none focus:border-blue-400",children:[d.jsx("option",{value:"",children:"Clave"}),ge.map(re=>d.jsx("option",{value:re,children:re},re))]}),d.jsxs("select",{value:F,onChange:re=>V(re.target.value),className:"px-2 py-1 border border-gray-200 rounded text-xs focus:outline-none focus:border-blue-400",children:[d.jsx("option",{value:"",children:"Tipo"}),d.jsx("option",{value:"song",children:"Canciones"}),d.jsx("option",{value:"medley",children:"Medleys"})]})]})]})}),d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Título"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Artista"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duración"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tonalidad"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"BPM"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Y.map(re=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap align-top",children:[(C==null?void 0:C.songId)===re.id&&C.field==="title"?d.jsx("input",{className:"w-full border border-blue-400 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",value:S,autoFocus:!0,onChange:le=>L(le.target.value),onBlur:()=>je(re,"title"),onKeyDown:le=>ke(le,re,"title"),disabled:R}):d.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-pointer hover:underline",onClick:()=>t&&he(re.id,"title",re.title),title:"Haz clic para editar",children:re.title}),(C==null?void 0:C.songId)===re.id&&te&&d.jsx("div",{className:"text-xs text-red-500 mt-1",children:te})]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap align-top text-sm text-gray-900",children:(C==null?void 0:C.songId)===re.id&&C.field==="artist"?d.jsx("input",{className:"w-full border border-blue-400 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",value:S,autoFocus:!0,onChange:le=>L(le.target.value),onBlur:()=>je(re,"artist"),onKeyDown:le=>ke(le,re,"artist"),disabled:R}):d.jsx("div",{className:"cursor-pointer hover:underline",onClick:()=>t&&he(re.id,"artist",re.artist||""),title:"Haz clic para editar",children:re.artist||d.jsx("span",{className:"text-gray-400",children:"Sin artista"})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap align-top text-sm text-gray-900",children:(C==null?void 0:C.songId)===re.id&&C.field==="duration_minutes"?d.jsx("input",{className:"w-20 border border-blue-400 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",type:"number",min:"1",value:S,autoFocus:!0,onChange:le=>L(le.target.value),onBlur:()=>je(re,"duration_minutes"),onKeyDown:le=>ke(le,re,"duration_minutes"),disabled:R}):d.jsx("div",{className:"cursor-pointer hover:underline",onClick:()=>{var le;return t&&he(re.id,"duration_minutes",((le=re.duration_minutes)==null?void 0:le.toString())||"")},title:"Haz clic para editar",children:se(re.duration_minutes)})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap align-top text-sm text-gray-900",children:(C==null?void 0:C.songId)===re.id&&C.field==="key"?d.jsx("select",{className:"w-28 border border-blue-400 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",value:S,autoFocus:!0,onChange:le=>L(le.target.value),onBlur:()=>je(re,"key"),onKeyDown:le=>ke(le,re,"key"),disabled:R,children:Z3.map(le=>d.jsx("option",{value:le,children:le||"Sin especificar"},le))}):d.jsx("div",{className:"cursor-pointer hover:underline",onClick:()=>t&&he(re.id,"key",re.key||""),title:"Haz clic para editar",children:re.key||d.jsx("span",{className:"text-gray-400",children:"Sin especificar"})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap align-top text-sm text-gray-900",children:d.jsx("div",{className:"cursor-default",children:ce(re.notes)==="-"?d.jsx("span",{className:"text-gray-400",children:"-"}):d.jsx("span",{className:"font-medium",children:ce(re.notes)})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>oe(re),className:"text-blue-600 hover:text-blue-900",children:"Editar"}),d.jsx("button",{onClick:()=>Ae(re),className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})})]},re.id))})]})]})}),w&&N&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmar Eliminación"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:['¿Estás seguro de que quieres eliminar la canción "',N.title,'"? Esta acción no se puede deshacer.']}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx(yt,{variant:"secondary",onClick:()=>{g(!1),j(null)},children:"Cancelar"}),d.jsx(yt,{variant:"danger",onClick:P,children:"Eliminar"})]})]})})]})}var I6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},e_=pt.createContext&&pt.createContext(I6),JB=["attr","size","title"];function XB(e,t){if(e==null)return{};var n=QB(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QB(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ng.apply(this,arguments)}function t_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(n),!0).forEach(function(r){ZB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZB(e,t,n){return t=eU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eU(e){var t=tU(e,"string");return typeof t=="symbol"?t:t+""}function tU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R6(e){return e&&e.map((t,n)=>pt.createElement(t.tag,rg({key:n},t.attr),R6(t.child)))}function _o(e){return t=>pt.createElement(nU,ng({attr:rg({},e.attr)},t),R6(e.child))}function nU(e){var t=n=>{var{attr:r,size:i,title:s}=e,a=XB(e,JB),l=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),pt.createElement("svg",ng({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:c,style:rg(rg({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&pt.createElement("title",null,s),e.children)};return e_!==void 0?pt.createElement(e_.Consumer,null,n=>t(n)):t(I6)}function n_(e){return _o({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"},child:[]}]})(e)}function rU(e){return _o({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function iU(e){return _o({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function sU(e){return _o({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function F6(e){return _o({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function aU(e){return _o({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function oU(e){return _o({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"},child:[]}]})(e)}function _y(e){return _o({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function r_(e){return _o({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function lU(e){return _o({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function cU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return E.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const Yg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Tf(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Z5(e){return"nodeType"in e}function hs(e){var t,n;return e?Tf(e)?e:Z5(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function ew(e){const{Document:t}=hs(e);return e instanceof t}function Dp(e){return Tf(e)?!1:e instanceof hs(e).HTMLElement}function $6(e){return e instanceof hs(e).SVGElement}function Df(e){return e?Tf(e)?e.document:Z5(e)?ew(e)?e:Dp(e)||$6(e)?e.ownerDocument:document:document:document}const yo=Yg?E.useLayoutEffect:E.useEffect;function tw(e){const t=E.useRef(e);return yo(()=>{t.current=e}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function uU(){const e=E.useRef(null),t=E.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=E.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function mp(e,t){t===void 0&&(t=[e]);const n=E.useRef(e);return yo(()=>{n.current!==e&&(n.current=e)},t),n}function Op(e,t){const n=E.useRef();return E.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function ig(e){const t=tw(e),n=E.useRef(null),r=E.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function Sy(e){const t=E.useRef();return E.useEffect(()=>{t.current=e},[e]),t.current}let $v={};function Mp(e,t){return E.useMemo(()=>{if(t)return t;const n=$v[e]==null?0:$v[e]+1;return $v[e]=n,e+"-"+n},[e,t])}function B6(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,a)=>{const l=Object.entries(a);for(const[c,h]of l){const p=s[c];p!=null&&(s[c]=p+e*h)}return s},{...t})}}const hf=B6(1),sg=B6(-1);function dU(e){return"clientX"in e&&"clientY"in e}function nw(e){if(!e)return!1;const{KeyboardEvent:t}=hs(e.target);return t&&e instanceof t}function fU(e){if(!e)return!1;const{TouchEvent:t}=hs(e.target);return t&&e instanceof t}function Ny(e){if(fU(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return dU(e)?{x:e.clientX,y:e.clientY}:null}const gp=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[gp.Translate.toString(e),gp.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),i_="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function hU(e){return e.matches(i_)?e:e.querySelector(i_)}const pU={display:"none"};function mU(e){let{id:t,value:n}=e;return pt.createElement("div",{id:t,style:pU},n)}function gU(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return pt.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function vU(){const[e,t]=E.useState("");return{announce:E.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const U6=E.createContext(null);function yU(e){const t=E.useContext(U6);E.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function wU(){const[e]=E.useState(()=>new Set),t=E.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[E.useCallback(r=>{let{type:i,event:s}=r;e.forEach(a=>{var l;return(l=a[i])==null?void 0:l.call(a,s)})},[e]),t]}const xU={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},bU={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function _U(e){let{announcements:t=bU,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=xU}=e;const{announce:s,announcement:a}=vU(),l=Mp("DndLiveRegion"),[c,h]=E.useState(!1);if(E.useEffect(()=>{h(!0)},[]),yU(E.useMemo(()=>({onDragStart(m){let{active:w}=m;s(t.onDragStart({active:w}))},onDragMove(m){let{active:w,over:g}=m;t.onDragMove&&s(t.onDragMove({active:w,over:g}))},onDragOver(m){let{active:w,over:g}=m;s(t.onDragOver({active:w,over:g}))},onDragEnd(m){let{active:w,over:g}=m;s(t.onDragEnd({active:w,over:g}))},onDragCancel(m){let{active:w,over:g}=m;s(t.onDragCancel({active:w,over:g}))}}),[s,t])),!c)return null;const p=pt.createElement(pt.Fragment,null,pt.createElement(mU,{id:r,value:i.draggable}),pt.createElement(gU,{id:l,announcement:a}));return n?Cu.createPortal(p,n):p}var Rr;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Rr||(Rr={}));function ag(){}function Bv(e,t){return E.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function SU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return E.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ia=Object.freeze({x:0,y:0});function NU(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function jU(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function kU(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function EU(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function s_(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const CU=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=s_(t,t.left,t.top),s=[];for(const a of r){const{id:l}=a,c=n.get(l);if(c){const h=NU(s_(c),i);s.push({id:l,data:{droppableContainer:a,value:h}})}}return s.sort(jU)};function AU(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),a=i-r,l=s-n;if(r<i&&n<s){const c=t.width*t.height,h=e.width*e.height,p=a*l,m=p/(c+h-p);return Number(m.toFixed(4))}return 0}const LU=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const c=AU(l,t);c>0&&i.push({id:a,data:{droppableContainer:s,value:c}})}}return i.sort(kU)};function PU(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function z6(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ia}function TU(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((a,l)=>({...a,top:a.top+e*l.y,bottom:a.bottom+e*l.y,left:a.left+e*l.x,right:a.right+e*l.x}),{...n})}}const DU=TU(1);function OU(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function MU(e,t,n){const r=OU(t);if(!r)return e;const{scaleX:i,scaleY:s,x:a,y:l}=r,c=e.left-a-(1-i)*parseFloat(n),h=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?e.width/i:e.width,m=s?e.height/s:e.height;return{width:p,height:m,top:h,right:c+p,bottom:h+m,left:c}}const IU={ignoreTransform:!1};function Of(e,t){t===void 0&&(t=IU);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:p}=hs(e).getComputedStyle(e);h&&(n=MU(n,h,p))}const{top:r,left:i,width:s,height:a,bottom:l,right:c}=n;return{top:r,left:i,width:s,height:a,bottom:l,right:c}}function a_(e){return Of(e,{ignoreTransform:!0})}function RU(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function FU(e,t){return t===void 0&&(t=hs(e).getComputedStyle(e)),t.position==="fixed"}function $U(e,t){t===void 0&&(t=hs(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function rw(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(ew(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Dp(i)||$6(i)||n.includes(i))return n;const s=hs(e).getComputedStyle(i);return i!==e&&$U(i,s)&&n.push(i),FU(i,s)?n:r(i.parentNode)}return e?r(e):n}function q6(e){const[t]=rw(e,1);return t??null}function Uv(e){return!Yg||!e?null:Tf(e)?e:Z5(e)?ew(e)||e===Df(e).scrollingElement?window:Dp(e)?e:null:null}function W6(e){return Tf(e)?e.scrollX:e.scrollLeft}function H6(e){return Tf(e)?e.scrollY:e.scrollTop}function jy(e){return{x:W6(e),y:H6(e)}}var Yr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Yr||(Yr={}));function V6(e){return!Yg||!e?!1:e===document.scrollingElement}function G6(e){const t={x:0,y:0},n=V6(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:a,isRight:l,maxScroll:r,minScroll:t}}const BU={x:.2,y:.2};function UU(e,t,n,r,i){let{top:s,left:a,right:l,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=BU);const{isTop:h,isBottom:p,isLeft:m,isRight:w}=G6(e),g={x:0,y:0},N={x:0,y:0},j={height:t.height*i.y,width:t.width*i.x};return!h&&s<=t.top+j.height?(g.y=Yr.Backward,N.y=r*Math.abs((t.top+j.height-s)/j.height)):!p&&c>=t.bottom-j.height&&(g.y=Yr.Forward,N.y=r*Math.abs((t.bottom-j.height-c)/j.height)),!w&&l>=t.right-j.width?(g.x=Yr.Forward,N.x=r*Math.abs((t.right-j.width-l)/j.width)):!m&&a<=t.left+j.width&&(g.x=Yr.Backward,N.x=r*Math.abs((t.left+j.width-a)/j.width)),{direction:g,speed:N}}function zU(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function Y6(e){return e.reduce((t,n)=>hf(t,jy(n)),Ia)}function qU(e){return e.reduce((t,n)=>t+W6(n),0)}function WU(e){return e.reduce((t,n)=>t+H6(n),0)}function HU(e,t){if(t===void 0&&(t=Of),!e)return;const{top:n,left:r,bottom:i,right:s}=t(e);q6(e)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const VU=[["x",["left","right"],qU],["y",["top","bottom"],WU]];class iw{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=rw(n),i=Y6(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,a,l]of VU)for(const c of a)Object.defineProperty(this,c,{get:()=>{const h=l(r),p=i[s]-h;return this.rect[c]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class qh{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function GU(e){const{EventTarget:t}=hs(e);return e instanceof t?e:Df(e)}function zv(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Xs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Xs||(Xs={}));function o_(e){e.preventDefault()}function YU(e){e.stopPropagation()}var vn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(vn||(vn={}));const K6={start:[vn.Space,vn.Enter],cancel:[vn.Esc],end:[vn.Space,vn.Enter,vn.Tab]},KU=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case vn.Right:return{...n,x:n.x+25};case vn.Left:return{...n,x:n.x-25};case vn.Down:return{...n,y:n.y+25};case vn.Up:return{...n,y:n.y-25}}};class sw{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new qh(Df(n)),this.windowListeners=new qh(hs(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Xs.Resize,this.handleCancel),this.windowListeners.add(Xs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Xs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&HU(r),n(Ia)}handleKeyDown(t){if(nw(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=K6,coordinateGetter:a=KU,scrollBehavior:l="smooth"}=i,{code:c}=t;if(s.end.includes(c)){this.handleEnd(t);return}if(s.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:h}=r.current,p=h?{x:h.left,y:h.top}:Ia;this.referenceCoordinates||(this.referenceCoordinates=p);const m=a(t,{active:n,context:r.current,currentCoordinates:p});if(m){const w=sg(m,p),g={x:0,y:0},{scrollableAncestors:N}=r.current;for(const j of N){const C=t.code,{isTop:_,isRight:S,isLeft:L,isBottom:R,maxScroll:X,minScroll:te}=G6(j),W=zU(j),O={x:Math.min(C===vn.Right?W.right-W.width/2:W.right,Math.max(C===vn.Right?W.left:W.left+W.width/2,m.x)),y:Math.min(C===vn.Down?W.bottom-W.height/2:W.bottom,Math.max(C===vn.Down?W.top:W.top+W.height/2,m.y))},ee=C===vn.Right&&!S||C===vn.Left&&!L,ne=C===vn.Down&&!R||C===vn.Up&&!_;if(ee&&O.x!==m.x){const T=j.scrollLeft+w.x,F=C===vn.Right&&T<=X.x||C===vn.Left&&T>=te.x;if(F&&!w.y){j.scrollTo({left:T,behavior:l});return}F?g.x=j.scrollLeft-T:g.x=C===vn.Right?j.scrollLeft-X.x:j.scrollLeft-te.x,g.x&&j.scrollBy({left:-g.x,behavior:l});break}else if(ne&&O.y!==m.y){const T=j.scrollTop+w.y,F=C===vn.Down&&T<=X.y||C===vn.Up&&T>=te.y;if(F&&!w.x){j.scrollTo({top:T,behavior:l});return}F?g.y=j.scrollTop-T:g.y=C===vn.Down?j.scrollTop-X.y:j.scrollTop-te.y,g.y&&j.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(t,hf(sg(m,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}sw.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=K6,onActivation:i}=t,{active:s}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function l_(e){return!!(e&&"distance"in e)}function c_(e){return!!(e&&"delay"in e)}class aw{constructor(t,n,r){var i;r===void 0&&(r=GU(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:a}=s;this.props=t,this.events=n,this.document=Df(a),this.documentListeners=new qh(this.document),this.listeners=new qh(r),this.windowListeners=new qh(hs(a)),this.initialCoordinates=(i=Ny(s))!=null?i:Ia,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Xs.Resize,this.handleCancel),this.windowListeners.add(Xs.DragStart,o_),this.windowListeners.add(Xs.VisibilityChange,this.handleCancel),this.windowListeners.add(Xs.ContextMenu,o_),this.documentListeners.add(Xs.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(c_(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(l_(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Xs.Click,YU,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Xs.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!i)return;const c=(n=Ny(t))!=null?n:Ia,h=sg(i,c);if(!r&&l){if(l_(l)){if(l.tolerance!=null&&zv(h,l.tolerance))return this.handleCancel();if(zv(h,l.distance))return this.handleStart()}if(c_(l)&&zv(h,l.tolerance))return this.handleCancel();this.handlePending(l,h);return}t.cancelable&&t.preventDefault(),a(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===vn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const JU={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ow extends aw{constructor(t){const{event:n}=t,r=Df(n.target);super(t,JU,r)}}ow.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const XU={move:{name:"mousemove"},end:{name:"mouseup"}};var ky;(function(e){e[e.RightClick=2]="RightClick"})(ky||(ky={}));class QU extends aw{constructor(t){super(t,XU,Df(t.event.target))}}QU.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===ky.RightClick?!1:(r==null||r({event:n}),!0)}}];const qv={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class J6 extends aw{constructor(t){super(t,qv)}static setup(){return window.addEventListener(qv.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(qv.move.name,t)};function t(){}}}J6.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Wh;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Wh||(Wh={}));var og;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(og||(og={}));function ZU(e){let{acceleration:t,activator:n=Wh.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:a=5,order:l=og.TreeOrder,pointerCoordinates:c,scrollableAncestors:h,scrollableAncestorRects:p,delta:m,threshold:w}=e;const g=tz({delta:m,disabled:!s}),[N,j]=uU(),C=E.useRef({x:0,y:0}),_=E.useRef({x:0,y:0}),S=E.useMemo(()=>{switch(n){case Wh.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Wh.DraggableRect:return i}},[n,i,c]),L=E.useRef(null),R=E.useCallback(()=>{const te=L.current;if(!te)return;const W=C.current.x*_.current.x,O=C.current.y*_.current.y;te.scrollBy(W,O)},[]),X=E.useMemo(()=>l===og.TreeOrder?[...h].reverse():h,[l,h]);E.useEffect(()=>{if(!s||!h.length||!S){j();return}for(const te of X){if((r==null?void 0:r(te))===!1)continue;const W=h.indexOf(te),O=p[W];if(!O)continue;const{direction:ee,speed:ne}=UU(te,O,S,t,w);for(const T of["x","y"])g[T][ee[T]]||(ne[T]=0,ee[T]=0);if(ne.x>0||ne.y>0){j(),L.current=te,N(R,a),C.current=ne,_.current=ee;return}}C.current={x:0,y:0},_.current={x:0,y:0},j()},[t,R,r,j,s,a,JSON.stringify(S),JSON.stringify(g),N,h,X,p,JSON.stringify(w)])}const ez={x:{[Yr.Backward]:!1,[Yr.Forward]:!1},y:{[Yr.Backward]:!1,[Yr.Forward]:!1}};function tz(e){let{delta:t,disabled:n}=e;const r=Sy(t);return Op(i=>{if(n||!r||!i)return ez;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Yr.Backward]:i.x[Yr.Backward]||s.x===-1,[Yr.Forward]:i.x[Yr.Forward]||s.x===1},y:{[Yr.Backward]:i.y[Yr.Backward]||s.y===-1,[Yr.Forward]:i.y[Yr.Forward]||s.y===1}}},[n,t,r])}function nz(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Op(i=>{var s;return t==null?null:(s=r??i)!=null?s:null},[r,t])}function rz(e,t){return E.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...s]},[]),[e,t])}var vp;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(vp||(vp={}));var Ey;(function(e){e.Optimized="optimized"})(Ey||(Ey={}));const u_=new Map;function iz(e,t){let{dragging:n,dependencies:r,config:i}=t;const[s,a]=E.useState(null),{frequency:l,measure:c,strategy:h}=i,p=E.useRef(e),m=C(),w=mp(m),g=E.useCallback(function(_){_===void 0&&(_=[]),!w.current&&a(S=>S===null?_:S.concat(_.filter(L=>!S.includes(L))))},[w]),N=E.useRef(null),j=Op(_=>{if(m&&!n)return u_;if(!_||_===u_||p.current!==e||s!=null){const S=new Map;for(let L of e){if(!L)continue;if(s&&s.length>0&&!s.includes(L.id)&&L.rect.current){S.set(L.id,L.rect.current);continue}const R=L.node.current,X=R?new iw(c(R),R):null;L.rect.current=X,X&&S.set(L.id,X)}return S}return _},[e,s,n,m,c]);return E.useEffect(()=>{p.current=e},[e]),E.useEffect(()=>{m||g()},[n,m]),E.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),E.useEffect(()=>{m||typeof l!="number"||N.current!==null||(N.current=setTimeout(()=>{g(),N.current=null},l))},[l,m,g,...r]),{droppableRects:j,measureDroppableContainers:g,measuringScheduled:s!=null};function C(){switch(h){case vp.Always:return!1;case vp.BeforeDragging:return n;default:return!n}}}function X6(e,t){return Op(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function sz(e,t){return X6(e,t)}function az(e){let{callback:t,disabled:n}=e;const r=tw(t),i=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return E.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Kg(e){let{callback:t,disabled:n}=e;const r=tw(t),i=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return E.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function oz(e){return new iw(Of(e),e)}function d_(e,t,n){t===void 0&&(t=oz);const[r,i]=E.useState(null);function s(){i(c=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=c??n)!=null?h:null}const p=t(e);return JSON.stringify(c)===JSON.stringify(p)?c:p})}const a=az({callback(c){if(e)for(const h of c){const{type:p,target:m}=h;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){s();break}}}}),l=Kg({callback:s});return yo(()=>{s(),e?(l==null||l.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),a==null||a.disconnect())},[e]),r}function lz(e){const t=X6(e);return z6(e,t)}const f_=[];function cz(e){const t=E.useRef(e),n=Op(r=>e?r&&r!==f_&&e&&t.current&&e.parentNode===t.current.parentNode?r:rw(e):f_,[e]);return E.useEffect(()=>{t.current=e},[e]),n}function uz(e){const[t,n]=E.useState(null),r=E.useRef(e),i=E.useCallback(s=>{const a=Uv(s.target);a&&n(l=>l?(l.set(a,jy(a)),new Map(l)):null)},[]);return E.useEffect(()=>{const s=r.current;if(e!==s){a(s);const l=e.map(c=>{const h=Uv(c);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,jy(h)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{a(e),a(s)};function a(l){l.forEach(c=>{const h=Uv(c);h==null||h.removeEventListener("scroll",i)})}},[i,e]),E.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,a)=>hf(s,a),Ia):Y6(e):Ia,[e,t])}function h_(e,t){t===void 0&&(t=[]);const n=E.useRef(null);return E.useEffect(()=>{n.current=null},t),E.useEffect(()=>{const r=e!==Ia;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?sg(e,n.current):Ia}function dz(e){E.useEffect(()=>{if(!Yg)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function fz(e,t){return E.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=a=>{s(a,t)},n},{}),[e,t])}function Q6(e){return E.useMemo(()=>e?RU(e):null,[e])}const p_=[];function hz(e,t){t===void 0&&(t=Of);const[n]=e,r=Q6(n?hs(n):null),[i,s]=E.useState(p_);function a(){s(()=>e.length?e.map(c=>V6(c)?r:new iw(t(c),c)):p_)}const l=Kg({callback:a});return yo(()=>{l==null||l.disconnect(),a(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),i}function pz(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Dp(t)?t:e}function mz(e){let{measure:t}=e;const[n,r]=E.useState(null),i=E.useCallback(h=>{for(const{target:p}of h)if(Dp(p)){r(m=>{const w=t(p);return m?{...m,width:w.width,height:w.height}:w});break}},[t]),s=Kg({callback:i}),a=E.useCallback(h=>{const p=pz(h);s==null||s.disconnect(),p&&(s==null||s.observe(p)),r(p?t(p):null)},[t,s]),[l,c]=ig(a);return E.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const gz=[{sensor:ow,options:{}},{sensor:sw,options:{}}],vz={current:{}},m0={draggable:{measure:a_},droppable:{measure:a_,strategy:vp.WhileDragging,frequency:Ey.Optimized},dragOverlay:{measure:Of}};class Hh extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const yz={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Hh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ag},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:m0,measureDroppableContainers:ag,windowRect:null,measuringScheduled:!1},wz={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ag,draggableNodes:new Map,over:null,measureDroppableContainers:ag},Jg=E.createContext(wz),Z6=E.createContext(yz);function xz(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Hh}}}function bz(e,t){switch(t.type){case Rr.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Rr.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Rr.DragEnd:case Rr.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Rr.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Hh(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Rr.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new Hh(e.droppable.containers);return a.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:a}}}case Rr.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new Hh(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function _z(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=E.useContext(Jg),s=Sy(r),a=Sy(n==null?void 0:n.id);return E.useEffect(()=>{if(!t&&!r&&s&&a!=null){if(!nw(s)||document.activeElement===s.target)return;const l=i.get(a);if(!l)return;const{activatorNode:c,node:h}=l;if(!c.current&&!h.current)return;requestAnimationFrame(()=>{for(const p of[c.current,h.current]){if(!p)continue;const m=hU(p);if(m){m.focus();break}}})}},[r,t,i,a,s]),null}function Sz(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...r}),n):n}function Nz(e){return E.useMemo(()=>({draggable:{...m0.draggable,...e==null?void 0:e.draggable},droppable:{...m0.droppable,...e==null?void 0:e.droppable},dragOverlay:{...m0.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function jz(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const s=E.useRef(!1),{x:a,y:l}=typeof i=="boolean"?{x:i,y:i}:i;yo(()=>{if(!a&&!l||!t){s.current=!1;return}if(s.current||!r)return;const h=t==null?void 0:t.node.current;if(!h||h.isConnected===!1)return;const p=n(h),m=z6(p,r);if(a||(m.x=0),l||(m.y=0),s.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const w=q6(h);w&&w.scrollBy({top:m.y,left:m.x})}},[t,a,l,r,n])}const ej=E.createContext({...Ia,scaleX:1,scaleY:1});var ac;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ac||(ac={}));const kz=E.memo(function(t){var n,r,i,s;let{id:a,accessibility:l,autoScroll:c=!0,children:h,sensors:p=gz,collisionDetection:m=LU,measuring:w,modifiers:g,...N}=t;const j=E.useReducer(bz,void 0,xz),[C,_]=j,[S,L]=wU(),[R,X]=E.useState(ac.Uninitialized),te=R===ac.Initialized,{draggable:{active:W,nodes:O,translate:ee},droppable:{containers:ne}}=C,T=W!=null?O.get(W):null,F=E.useRef({initial:null,translated:null}),V=E.useMemo(()=>{var _n;return W!=null?{id:W,data:(_n=T==null?void 0:T.data)!=null?_n:vz,rect:F}:null},[W,T]),Y=E.useRef(null),[ge,pe]=E.useState(null),[Q,$]=E.useState(null),z=mp(N,Object.values(N)),oe=Mp("DndDescribedBy",a),Ae=E.useMemo(()=>ne.getEnabled(),[ne]),P=Nz(w),{droppableRects:G,measureDroppableContainers:se,measuringScheduled:ce}=iz(Ae,{dragging:te,dependencies:[ee.x,ee.y],config:P.droppable}),he=nz(O,W),je=E.useMemo(()=>Q?Ny(Q):null,[Q]),ke=oi(),re=sz(he,P.draggable.measure);jz({activeNode:W!=null?O.get(W):null,config:ke.layoutShiftCompensation,initialRect:re,measure:P.draggable.measure});const le=d_(he,P.draggable.measure,re),ue=d_(he?he.parentElement:null),me=E.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:G,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:ne,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ee=ne.getNodeFor((n=me.current.over)==null?void 0:n.id),Me=mz({measure:P.dragOverlay.measure}),fe=(r=Me.nodeRef.current)!=null?r:he,J=te?(i=Me.rect)!=null?i:le:null,ze=!!(Me.nodeRef.current&&Me.rect),Re=lz(ze?null:le),Fe=Q6(fe?hs(fe):null),We=cz(te?Ee??he:null),be=hz(We),Ie=Sz(g,{transform:{x:ee.x-Re.x,y:ee.y-Re.y,scaleX:1,scaleY:1},activatorEvent:Q,active:V,activeNodeRect:le,containerNodeRect:ue,draggingNodeRect:J,over:me.current.over,overlayNodeRect:Me.rect,scrollableAncestors:We,scrollableAncestorRects:be,windowRect:Fe}),Ke=je?hf(je,ee):null,Je=uz(We),nt=h_(Je),rt=h_(Je,[le]),at=hf(Ie,nt),St=J?DU(J,Ie):null,ft=V&&St?m({active:V,collisionRect:St,droppableRects:G,droppableContainers:Ae,pointerCoordinates:Ke}):null,Nt=EU(ft,"id"),[et,bn]=E.useState(null),Bt=ze?Ie:hf(Ie,rt),Pr=PU(Bt,(s=et==null?void 0:et.rect)!=null?s:null,le),Qt=E.useRef(null),pn=E.useCallback((_n,Gt)=>{let{sensor:wt,options:Ut}=Gt;if(Y.current==null)return;const ur=O.get(Y.current);if(!ur)return;const rn=_n.nativeEvent,tr=new wt({active:Y.current,activeNode:ur,event:rn,options:Ut,context:me,onAbort(ht){if(!O.get(ht))return;const{onDragAbort:nr}=z.current,kn={id:ht};nr==null||nr(kn),S({type:"onDragAbort",event:kn})},onPending(ht,Gn,nr,kn){if(!O.get(ht))return;const{onDragPending:En}=z.current,Yn={id:ht,constraint:Gn,initialCoordinates:nr,offset:kn};En==null||En(Yn),S({type:"onDragPending",event:Yn})},onStart(ht){const Gn=Y.current;if(Gn==null)return;const nr=O.get(Gn);if(!nr)return;const{onDragStart:kn}=z.current,Pn={activatorEvent:rn,active:{id:Gn,data:nr.data,rect:F}};Cu.unstable_batchedUpdates(()=>{kn==null||kn(Pn),X(ac.Initializing),_({type:Rr.DragStart,initialCoordinates:ht,active:Gn}),S({type:"onDragStart",event:Pn}),pe(Qt.current),$(rn)})},onMove(ht){_({type:Rr.DragMove,coordinates:ht})},onEnd:Tr(Rr.DragEnd),onCancel:Tr(Rr.DragCancel)});Qt.current=tr;function Tr(ht){return async function(){const{active:nr,collisions:kn,over:Pn,scrollAdjustedTranslate:En}=me.current;let Yn=null;if(nr&&En){const{cancelDrop:Ui}=z.current;Yn={activatorEvent:rn,active:nr,collisions:kn,delta:En,over:Pn},ht===Rr.DragEnd&&typeof Ui=="function"&&await Promise.resolve(Ui(Yn))&&(ht=Rr.DragCancel)}Y.current=null,Cu.unstable_batchedUpdates(()=>{_({type:ht}),X(ac.Uninitialized),bn(null),pe(null),$(null),Qt.current=null;const Ui=ht===Rr.DragEnd?"onDragEnd":"onDragCancel";if(Yn){const ji=z.current[Ui];ji==null||ji(Yn),S({type:Ui,event:Yn})}})}}},[O]),ai=E.useCallback((_n,Gt)=>(wt,Ut)=>{const ur=wt.nativeEvent,rn=O.get(Ut);if(Y.current!==null||!rn||ur.dndKit||ur.defaultPrevented)return;const tr={active:rn};_n(wt,Gt.options,tr)===!0&&(ur.dndKit={capturedBy:Gt.sensor},Y.current=Ut,pn(wt,Gt))},[O,pn]),Zt=rz(p,ai);dz(p),yo(()=>{le&&R===ac.Initializing&&X(ac.Initialized)},[le,R]),E.useEffect(()=>{const{onDragMove:_n}=z.current,{active:Gt,activatorEvent:wt,collisions:Ut,over:ur}=me.current;if(!Gt||!wt)return;const rn={active:Gt,activatorEvent:wt,collisions:Ut,delta:{x:at.x,y:at.y},over:ur};Cu.unstable_batchedUpdates(()=>{_n==null||_n(rn),S({type:"onDragMove",event:rn})})},[at.x,at.y]),E.useEffect(()=>{const{active:_n,activatorEvent:Gt,collisions:wt,droppableContainers:Ut,scrollAdjustedTranslate:ur}=me.current;if(!_n||Y.current==null||!Gt||!ur)return;const{onDragOver:rn}=z.current,tr=Ut.get(Nt),Tr=tr&&tr.rect.current?{id:tr.id,rect:tr.rect.current,data:tr.data,disabled:tr.disabled}:null,ht={active:_n,activatorEvent:Gt,collisions:wt,delta:{x:ur.x,y:ur.y},over:Tr};Cu.unstable_batchedUpdates(()=>{bn(Tr),rn==null||rn(ht),S({type:"onDragOver",event:ht})})},[Nt]),yo(()=>{me.current={activatorEvent:Q,active:V,activeNode:he,collisionRect:St,collisions:ft,droppableRects:G,draggableNodes:O,draggingNode:fe,draggingNodeRect:J,droppableContainers:ne,over:et,scrollableAncestors:We,scrollAdjustedTranslate:at},F.current={initial:J,translated:St}},[V,he,ft,St,O,fe,J,G,ne,et,We,at]),ZU({...ke,delta:ee,draggingRect:St,pointerCoordinates:Ke,scrollableAncestors:We,scrollableAncestorRects:be});const aa=E.useMemo(()=>({active:V,activeNode:he,activeNodeRect:le,activatorEvent:Q,collisions:ft,containerNodeRect:ue,dragOverlay:Me,draggableNodes:O,droppableContainers:ne,droppableRects:G,over:et,measureDroppableContainers:se,scrollableAncestors:We,scrollableAncestorRects:be,measuringConfiguration:P,measuringScheduled:ce,windowRect:Fe}),[V,he,le,Q,ft,ue,Me,O,ne,G,et,se,We,be,P,ce,Fe]),Mn=E.useMemo(()=>({activatorEvent:Q,activators:Zt,active:V,activeNodeRect:le,ariaDescribedById:{draggable:oe},dispatch:_,draggableNodes:O,over:et,measureDroppableContainers:se}),[Q,Zt,V,le,_,oe,O,et,se]);return pt.createElement(U6.Provider,{value:L},pt.createElement(Jg.Provider,{value:Mn},pt.createElement(Z6.Provider,{value:aa},pt.createElement(ej.Provider,{value:Pr},h)),pt.createElement(_z,{disabled:(l==null?void 0:l.restoreFocus)===!1})),pt.createElement(_U,{...l,hiddenTextDescribedById:oe}));function oi(){const _n=(ge==null?void 0:ge.autoScrollEnabled)===!1,Gt=typeof c=="object"?c.enabled===!1:c===!1,wt=te&&!_n&&!Gt;return typeof c=="object"?{...c,enabled:wt}:{enabled:wt}}}),Ez=E.createContext(null),m_="button",Cz="Draggable";function Az(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const s=Mp(Cz),{activators:a,activatorEvent:l,active:c,activeNodeRect:h,ariaDescribedById:p,draggableNodes:m,over:w}=E.useContext(Jg),{role:g=m_,roleDescription:N="draggable",tabIndex:j=0}=i??{},C=(c==null?void 0:c.id)===t,_=E.useContext(C?ej:Ez),[S,L]=ig(),[R,X]=ig(),te=fz(a,t),W=mp(n);yo(()=>(m.set(t,{id:t,key:s,node:S,activatorNode:R,data:W}),()=>{const ee=m.get(t);ee&&ee.key===s&&m.delete(t)}),[m,t]);const O=E.useMemo(()=>({role:g,tabIndex:j,"aria-disabled":r,"aria-pressed":C&&g===m_?!0:void 0,"aria-roledescription":N,"aria-describedby":p.draggable}),[r,g,j,C,N,p.draggable]);return{active:c,activatorEvent:l,activeNodeRect:h,attributes:O,isDragging:C,listeners:r?void 0:te,node:S,over:w,setNodeRef:L,setActivatorNodeRef:X,transform:_}}function Lz(){return E.useContext(Z6)}const Pz="Droppable",Tz={timeout:25};function Dz(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const s=Mp(Pz),{active:a,dispatch:l,over:c,measureDroppableContainers:h}=E.useContext(Jg),p=E.useRef({disabled:n}),m=E.useRef(!1),w=E.useRef(null),g=E.useRef(null),{disabled:N,updateMeasurementsFor:j,timeout:C}={...Tz,...i},_=mp(j??r),S=E.useCallback(()=>{if(!m.current){m.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{h(Array.isArray(_.current)?_.current:[_.current]),g.current=null},C)},[C]),L=Kg({callback:S,disabled:N||!a}),R=E.useCallback((O,ee)=>{L&&(ee&&(L.unobserve(ee),m.current=!1),O&&L.observe(O))},[L]),[X,te]=ig(R),W=mp(t);return E.useEffect(()=>{!L||!X.current||(L.disconnect(),m.current=!1,L.observe(X.current))},[X,L]),E.useEffect(()=>(l({type:Rr.RegisterDroppable,element:{id:r,key:s,disabled:n,node:X,rect:w,data:W}}),()=>l({type:Rr.UnregisterDroppable,key:s,id:r})),[r]),E.useEffect(()=>{n!==p.current.disabled&&(l({type:Rr.SetDroppableDisabled,id:r,key:s,disabled:n}),p.current.disabled=n)},[r,s,n,l]),{active:a,rect:w,isOver:(c==null?void 0:c.id)===r,node:X,over:c,setNodeRef:te}}function lw(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Oz(e,t){return e.reduce((n,r,i)=>{const s=t.get(r);return s&&(n[i]=s),n},Array(e.length))}function Wm(e){return e!==null&&e>=0}function Mz(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Iz(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const tj=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const s=lw(t,r,n),a=t[i],l=s[i];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},Hm={scaleX:1,scaleY:1},Rz=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:a}=e;const l=(t=s[n])!=null?t:r;if(!l)return null;if(i===n){const h=s[a];return h?{x:0,y:n<a?h.top+h.height-(l.top+l.height):h.top-l.top,...Hm}:null}const c=Fz(s,i,n);return i>n&&i<=a?{x:0,y:-l.height-c,...Hm}:i<n&&i>=a?{x:0,y:l.height+c,...Hm}:{x:0,y:0,...Hm}};function Fz(e,t,n){const r=e[t],i=e[t-1],s=e[t+1];return r?n<t?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const nj="Sortable",rj=pt.createContext({activeIndex:-1,containerId:nj,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:tj,disabled:{draggable:!1,droppable:!1}});function $z(e){let{children:t,id:n,items:r,strategy:i=tj,disabled:s=!1}=e;const{active:a,dragOverlay:l,droppableRects:c,over:h,measureDroppableContainers:p}=Lz(),m=Mp(nj,n),w=l.rect!==null,g=E.useMemo(()=>r.map(te=>typeof te=="object"&&"id"in te?te.id:te),[r]),N=a!=null,j=a?g.indexOf(a.id):-1,C=h?g.indexOf(h.id):-1,_=E.useRef(g),S=!Mz(g,_.current),L=C!==-1&&j===-1||S,R=Iz(s);yo(()=>{S&&N&&p(g)},[S,g,N,p]),E.useEffect(()=>{_.current=g},[g]);const X=E.useMemo(()=>({activeIndex:j,containerId:m,disabled:R,disableTransforms:L,items:g,overIndex:C,useDragOverlay:w,sortedRects:Oz(g,c),strategy:i}),[j,m,R.draggable,R.droppable,L,g,C,c,w,i]);return pt.createElement(rj.Provider,{value:X},t)}const Bz=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return lw(n,r,i).indexOf(t)},Uz=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:s,newIndex:a,previousItems:l,previousContainerId:c,transition:h}=e;return!h||!r||l!==s&&i===a?!1:n?!0:a!==i&&t===c},zz={duration:200,easing:"ease"},ij="transform",qz=gp.Transition.toString({property:ij,duration:0,easing:"linear"}),Wz={roleDescription:"sortable"};function Hz(e){let{disabled:t,index:n,node:r,rect:i}=e;const[s,a]=E.useState(null),l=E.useRef(n);return yo(()=>{if(!t&&n!==l.current&&r.current){const c=i.current;if(c){const h=Of(r.current,{ignoreTransform:!0}),p={x:c.left-h.left,y:c.top-h.top,scaleX:c.width/h.width,scaleY:c.height/h.height};(p.x||p.y)&&a(p)}}n!==l.current&&(l.current=n)},[t,n,r,i]),E.useEffect(()=>{s&&a(null)},[s]),s}function Vz(e){let{animateLayoutChanges:t=Uz,attributes:n,disabled:r,data:i,getNewIndex:s=Bz,id:a,strategy:l,resizeObserverConfig:c,transition:h=zz}=e;const{items:p,containerId:m,activeIndex:w,disabled:g,disableTransforms:N,sortedRects:j,overIndex:C,useDragOverlay:_,strategy:S}=E.useContext(rj),L=Gz(r,g),R=p.indexOf(a),X=E.useMemo(()=>({sortable:{containerId:m,index:R,items:p},...i}),[m,i,R,p]),te=E.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:W,node:O,isOver:ee,setNodeRef:ne}=Dz({id:a,data:X,disabled:L.droppable,resizeObserverConfig:{updateMeasurementsFor:te,...c}}),{active:T,activatorEvent:F,activeNodeRect:V,attributes:Y,setNodeRef:ge,listeners:pe,isDragging:Q,over:$,setActivatorNodeRef:z,transform:oe}=Az({id:a,data:X,attributes:{...Wz,...n},disabled:L.draggable}),Ae=cU(ne,ge),P=!!T,G=P&&!N&&Wm(w)&&Wm(C),se=!_&&Q,ce=se&&G?oe:null,je=G?ce??(l??S)({rects:j,activeNodeRect:V,activeIndex:w,overIndex:C,index:R}):null,ke=Wm(w)&&Wm(C)?s({id:a,items:p,activeIndex:w,overIndex:C}):R,re=T==null?void 0:T.id,le=E.useRef({activeId:re,items:p,newIndex:ke,containerId:m}),ue=p!==le.current.items,me=t({active:T,containerId:m,isDragging:Q,isSorting:P,id:a,index:R,items:p,newIndex:le.current.newIndex,previousItems:le.current.items,previousContainerId:le.current.containerId,transition:h,wasDragging:le.current.activeId!=null}),Ee=Hz({disabled:!me,index:R,node:O,rect:W});return E.useEffect(()=>{P&&le.current.newIndex!==ke&&(le.current.newIndex=ke),m!==le.current.containerId&&(le.current.containerId=m),p!==le.current.items&&(le.current.items=p)},[P,ke,m,p]),E.useEffect(()=>{if(re===le.current.activeId)return;if(re!=null&&le.current.activeId==null){le.current.activeId=re;return}const fe=setTimeout(()=>{le.current.activeId=re},50);return()=>clearTimeout(fe)},[re]),{active:T,activeIndex:w,attributes:Y,data:X,rect:W,index:R,newIndex:ke,items:p,isOver:ee,isSorting:P,isDragging:Q,listeners:pe,node:O,overIndex:C,over:$,setNodeRef:Ae,setActivatorNodeRef:z,setDroppableNodeRef:ne,setDraggableNodeRef:ge,transform:Ee??je,transition:Me()};function Me(){if(Ee||ue&&le.current.newIndex===R)return qz;if(!(se&&!nw(F)||!h)&&(P||me))return gp.Transition.toString({...h,property:ij})}}function Gz(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}vn.Down,vn.Right,vn.Up,vn.Left;function Yz({isOpen:e,onClose:t,groupId:n,availableSongs:r,onMedleyCreated:i}){const[s,a]=E.useState(""),[l,c]=E.useState([]),[h,p]=E.useState(!1),[m,w]=E.useState(""),g=C=>{c(_=>_.includes(C)?_.filter(S=>S!==C):[..._,C])},N=async()=>{if(l.length<2){Pe.error("Selecciona al menos dos canciones para el medley");return}let C=s.trim();if(C||(C=l.map(S=>r.find(L=>L.id===S)).filter(S=>!!S).map(S=>S.title).join(" | ")),!C){Pe.error("No se pudo generar el nombre del medley.");return}p(!0);try{const _=await D$(n,C,l);_&&(Pe.success("Medley creado con éxito"),i(_),j())}catch(_){console.error("Error creating medley:",_),Pe.error("Error al crear el medley")}finally{p(!1)}},j=()=>{a(""),c([]),w(""),t()};return e?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full shadow-lg max-h-[80vh] overflow-y-auto",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Crear Nuevo Medley"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(Vn,{label:"Nombre del Medley",value:s,onChange:C=>a(C.target.value),placeholder:"Ej: Medley de Rock Clásico",autoFocus:!0}),d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Canciones (opcional)"}),d.jsxs("div",{className:"border rounded-md p-2",children:[d.jsx(Vn,{placeholder:"Buscar canción para añadir...",value:m,onChange:C=>w(C.target.value),className:"mb-2"}),d.jsx("div",{className:"max-h-40 overflow-y-auto",children:r.filter(C=>C.type==="song").filter(C=>{var _;return C.title.toLowerCase().includes(m.toLowerCase())||((_=C.artist)==null?void 0:_.toLowerCase().includes(m.toLowerCase()))}).map(C=>d.jsx("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50",children:d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-2 py-1 hover:bg-gray-50 rounded px-1",children:[d.jsx("input",{type:"checkbox",checked:l.includes(C.id),onChange:()=>g(C.id),className:"rounded"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-medium text-sm truncate",children:C.title}),C.artist&&d.jsx("div",{className:"text-xs text-gray-500 truncate",children:C.artist})]})]})})},C.id))})]})]}),d.jsxs("div",{className:"flex gap-2 justify-end",children:[d.jsx(yt,{variant:"secondary",onClick:j,disabled:h,children:"Cancelar"}),d.jsx(yt,{variant:"primary",onClick:N,loading:h,disabled:l.length<2,children:"Crear Medley"})]})]})}):null}function Kz({medley:e,availableSongs:t,canEdit:n=!0,onSongAdded:r,onSongRemoved:i,onMedleyRenamed:s,onMedleyDeleted:a}){const[l,c]=E.useState(!1),[h,p]=E.useState(!1),[m,w]=E.useState(e.title),[g,N]=E.useState(!1),[j,C]=E.useState(!1),[_,S]=E.useState(!1),[L,R]=E.useState(""),[X,te]=E.useState([]);E.useEffect(()=>{(async()=>{if(e.medley_song_ids&&e.medley_song_ids.length>0){const Y=await Q0(e.group_id);if(Y){const ge=Y.filter(pe=>{var Q;return((Q=e.medley_song_ids)==null?void 0:Q.includes(pe.id))&&pe.type==="song"});te(ge)}}})()},[e.medley_song_ids,e.group_id]);const W=async()=>{if(!m.trim()){Pe.error("El nombre del medley es obligatorio");return}C(!0);try{await $$(e.id,{title:m})&&(Pe.success("Medley actualizado"),s(e.id,m),p(!1))}catch(V){console.error("Error al actualizar el medley:",V),Pe.error("Error al actualizar el medley")}finally{C(!1)}},O=async()=>{C(!0);try{await z$(e.id)&&(Pe.success("Medley eliminado"),a(e.id))}catch(V){console.error("Error al eliminar el medley:",V),Pe.error("Error al eliminar el medley")}finally{C(!1),S(!1)}},ee=async V=>{C(!0);try{await U$(e.id,V)&&(Pe.success("Canción eliminada del medley"),i(e.id,V),te(ge=>ge.filter(pe=>pe.id!==V)))}catch(Y){console.error("Error al eliminar la canción del medley:",Y),Pe.error("Error al eliminar la canción del medley")}finally{C(!1)}},ne=async V=>{if(!t.find(ge=>ge.id===V)){Pe.error("No se pudo encontrar la canción seleccionada");return}C(!0);try{const ge=await B$(e.id,V);if(ge){Pe.success("Canción añadida al medley"),r(e.id,V),N(!1),R("");const pe=await Q0(e.group_id);if(pe&&ge.medley_song_ids){const Q=pe.filter($=>{var z;return((z=ge.medley_song_ids)==null?void 0:z.includes($.id))&&$.type==="song"});te(Q)}}}catch(ge){console.error("Error al añadir la canción al medley:",ge),Pe.error("Error al añadir la canción al medley")}finally{C(!1)}},T=e.medley_song_ids?e.medley_song_ids.map(V=>X.find(Y=>Y.id===V)).filter(Boolean):[],F=Array.from(new Map(T.map(V=>[V.id,V])).values());return d.jsxs("div",{className:"border-l-4 border-blue-400 bg-blue-50 rounded p-3 mb-2",children:[d.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>c(!l),children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(oU,{className:"text-blue-600"}),d.jsx("span",{className:"font-semibold text-blue-800",children:e.title})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsxs("span",{children:[F.length," canciones"]}),l?d.jsx(iU,{}):d.jsx(rU,{})]})]}),l&&d.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",onClick:V=>V.stopPropagation(),children:[n&&d.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3",children:[d.jsxs(yt,{variant:"secondary",onClick:()=>{p(!h),h&&w(e.title)},children:[d.jsx(F6,{className:"mr-1"}),h?"Cancelar":"Renombrar"]}),!h&&d.jsxs(yt,{variant:"danger",onClick:()=>S(!0),loading:j,children:[d.jsx(lU,{className:"mr-1"}),"Eliminar"]})]}),h&&d.jsxs("div",{className:"flex items-center gap-2 mb-4 p-2 bg-white rounded-md",children:[d.jsx(Vn,{value:m,onChange:V=>w(V.target.value),placeholder:"Nuevo nombre del medley"}),d.jsx(yt,{onClick:W,loading:j,children:"Guardar"})]}),!h&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Canciones:"}),F.length===0?d.jsx("p",{className:"text-sm text-gray-500 italic",children:"No hay canciones en este medley"}):d.jsx("ul",{className:"space-y-1",children:F.map(V=>d.jsxs("li",{className:"flex items-center justify-between py-1 pl-2 hover:bg-blue-100 rounded",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium text-sm",children:V.title}),V.artist&&d.jsx("span",{className:"text-xs text-gray-500 ml-2",children:V.artist})]}),n&&d.jsx(yt,{variant:"danger",onClick:()=>ee(V.id),loading:j,children:d.jsx(r_,{})})]},V.id))})]}),n&&d.jsx("div",{className:"mt-3",children:g?d.jsxs("div",{className:"border rounded p-2 bg-white",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium",children:"Añadir canción:"}),d.jsx(yt,{variant:"secondary",onClick:()=>{N(!1),R("")},children:d.jsx(r_,{})})]}),d.jsx(Vn,{placeholder:"Buscar canción...",value:L,onChange:V=>R(V.target.value),className:"mb-2"}),d.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[t.filter(V=>V.type==="song").filter(V=>!F.some(Y=>Y.id===V.id)).filter(V=>{var Y;return V.title.toLowerCase().includes(L.toLowerCase())||((Y=V.artist)==null?void 0:Y.toLowerCase().includes(L.toLowerCase()))}).map(V=>d.jsxs("button",{onClick:()=>ne(V.id),className:"w-full text-left p-1 hover:bg-gray-100 rounded text-sm",disabled:j,children:[d.jsx("div",{className:"font-medium",children:V.title}),V.artist&&d.jsx("div",{className:"text-xs text-gray-500",children:V.artist})]},V.id)),t.filter(V=>V.type==="song"&&!F.some(Y=>Y.id===V.id)).length===0&&d.jsx("p",{className:"text-xs text-gray-500 p-1",children:"No hay más canciones para añadir."})]})]}):d.jsxs(yt,{variant:"primary",onClick:()=>N(!0),children:[d.jsx(_y,{className:"mr-1"}),"Añadir Canción"]})})]})]}),_&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>S(!1),children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full shadow-xl",onClick:V=>V.stopPropagation(),children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmar Eliminación"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:['¿Estás seguro de que quieres eliminar el medley "',e.title,'"? Esta acción no se puede deshacer.']}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx(yt,{variant:"secondary",onClick:()=>S(!1),disabled:j,children:"Cancelar"}),d.jsx(yt,{variant:"danger",onClick:O,loading:j,children:j?"Eliminando...":"Eliminar"})]})]})})]})}function Jz({isOpen:e,onClose:t,groupId:n,onSetlistCreated:r}){const{isAuthenticated:i}=Tp(),[s,a]=E.useState([]),[l,c]=E.useState(null),[h,p]=E.useState([]),[m,w]=E.useState(!1),[g,N]=E.useState(!1),[j,C]=E.useState(0),[_,S]=E.useState("");E.useEffect(()=>{e&&i&&L()},[e,i]),E.useEffect(()=>{l&&(S(l.name),R(l.id))},[l]);const L=async()=>{w(!0);try{const O=await bi.getUserPlaylists(50);a(O)}catch(O){console.error("Error loading playlists:",O),Pe.error("Error al cargar las playlists")}finally{w(!1)}},R=async O=>{w(!0);try{const ee=await bi.getPlaylistTracks(O,100);p(ee.filter(ne=>ne&&ne.id))}catch(ee){console.error("Error loading playlist tracks:",ee),Pe.error("Error al cargar las canciones de la playlist")}finally{w(!1)}},X=async()=>{if(!(!l||!h.length)){N(!0),C(0);try{const{data:{user:O}}=await Xe.auth.getUser();if(!O){Pe.error("No se pudo obtener la información del usuario");return}const ee={name:_||l.name,description:`Importado desde Spotify: ${l.name}`,group_id:n,created_by:O.id},ne=await K5(ee);if(!ne){Pe.error("Error al crear el setlist");return}const T=h.length;let F=0;for(let V=0;V<T;V++){const Y=h[V];C(Math.round((V+1)/T*100));try{const ge=Math.round(Y.duration_ms/6e4),pe={title:Y.name,artist:Y.artists.map($=>$.name).join(", "),duration_minutes:ge,key:"",notes:`Popularidad: ${Y.popularity}% | Álbum: ${Y.album.name}`,group_id:n,created_by:O.id},Q=await u0(pe);Q&&(await Z0(ne.id,Q.id,V+1),F++)}catch(ge){console.error(`Error importing track ${Y.name}:`,ge)}}C(100),Pe.success(`Setlist "${_}" creado con ${F}/${T} canciones`),r(),t()}catch(O){console.error("Error importing playlist:",O),Pe.error("Error al importar la playlist")}finally{N(!1),C(0)}}},te=O=>{const ee=Math.floor(O/6e4),ne=Math.floor(O%6e4/1e3);return`${ee}:${ne.toString().padStart(2,"0")}`},W=()=>{const O=h.reduce((F,V)=>F+V.duration_ms,0),ee=Math.floor(O/6e4),ne=Math.floor(ee/60),T=ee%60;return ne>0?`${ne}h ${T}m`:`${T}m`};return e?i?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Importar Playlist de Spotify"}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",disabled:g,children:d.jsx(Da,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-160px)]",children:l?d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("button",{onClick:()=>{c(null),p([]),S("")},className:"text-blue-600 hover:text-blue-800",disabled:g,children:"← Volver a playlists"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-semibold",children:l.name}),l.description&&d.jsx("p",{className:"text-sm text-gray-600",children:l.description})]}),d.jsx("a",{href:l.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-800",children:d.jsx(Z2,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del setlist"}),d.jsx("input",{type:"text",value:_,onChange:O=>S(O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre para el nuevo setlist",disabled:g})]}),m?d.jsxs("div",{className:"flex items-center justify-center py-8",children:[d.jsx(go,{className:"w-8 h-8 animate-spin text-blue-500"}),d.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando canciones..."})]}):d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsxs("p",{className:"text-sm text-gray-600",children:[h.length," canciones • Duración total: ",W()]})}),d.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:h.map((O,ee)=>{var ne,T;return d.jsxs("div",{className:"flex items-center gap-3 p-3 border-b border-gray-100 last:border-b-0",children:[d.jsx("span",{className:"text-sm text-gray-500 w-8",children:ee+1}),d.jsx("img",{src:((ne=O.album.images[2])==null?void 0:ne.url)||((T=O.album.images[0])==null?void 0:T.url),alt:O.album.name,className:"w-10 h-10 rounded object-cover"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-medium text-gray-900 truncate",children:O.name}),d.jsx("p",{className:"text-sm text-gray-600 truncate",children:O.artists.map(F=>F.name).join(", ")})]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[d.jsx(W0,{className:"w-3 h-3 mr-1"}),te(O.duration_ms)]})]},O.id)})})]})]}):d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600 mb-4",children:"Selecciona una playlist de Spotify para importar como setlist:"}),m?d.jsxs("div",{className:"flex items-center justify-center py-8",children:[d.jsx(go,{className:"w-8 h-8 animate-spin text-blue-500"}),d.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando playlists..."})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(O=>d.jsx("div",{onClick:()=>c(O),className:"border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-green-400 hover:bg-green-50 transition-colors",children:d.jsxs("div",{className:"flex items-start gap-3",children:[O.images&&O.images.length>0?d.jsx("img",{src:O.images[0].url,alt:O.name,className:"w-16 h-16 rounded object-cover flex-shrink-0"}):d.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center flex-shrink-0",children:d.jsx($r,{className:"w-8 h-8 text-gray-400"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-medium text-gray-900 truncate",children:O.name}),O.description&&d.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:O.description})]})]})},O.id))})]})}),d.jsx("div",{className:"border-t p-6",children:g?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-sm text-gray-600",children:["Importando canciones... ",j,"%"]}),d.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(j/100*h.length),"/",h.length]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${j}%`}})})]}):d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx(yt,{variant:"secondary",onClick:t,children:"Cancelar"}),l&&h.length>0&&d.jsxs(yt,{variant:"primary",onClick:X,disabled:!_.trim(),children:[d.jsx(H0,{className:"w-4 h-4 mr-2"}),"Importar ",h.length," canciones"]})]})})]})}):d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Importar Playlist de Spotify"}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:d.jsx(Da,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"text-center py-8",children:[d.jsx($r,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Necesitas conectar con Spotify para importar playlists"}),d.jsx(yt,{onClick:t,variant:"primary",children:"Entendido"})]})]})}):null}const g_={name:"",description:"",estimated_duration_minutes:""};function Xz({item:e,canManageSetlists:t,songs:n,onRemoveSong:r,onSongAddedToMedley:i,onSongRemovedFromMedley:s,onMedleyRenamed:a,onMedleyDeleted:l}){var N,j,C,_;const{attributes:c,listeners:h,setNodeRef:p,transform:m,transition:w}=Vz({id:e.id}),g={transform:gp.Transform.toString(m),transition:w};return d.jsxs("div",{ref:p,style:g,...c,className:"flex items-center gap-2 mb-2",children:[t&&d.jsx("div",{...h,className:"cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600 py-3 px-3 touch-none select-none min-w-[48px] min-h-[48px] flex items-center justify-center rounded-md hover:bg-gray-100 active:bg-gray-200 transition-colors",role:"button","aria-label":"Arrastrar para reordenar",tabIndex:0,children:d.jsx(aU,{className:"text-lg"})}),d.jsx("div",{className:"flex-grow",children:e.type==="song"?d.jsxs("div",{className:"bg-white p-3 rounded-md shadow-sm border border-gray-200 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:(N=e.data.song)==null?void 0:N.title}),d.jsxs("p",{className:"text-sm text-gray-500",children:[(j=e.data.song)==null?void 0:j.artist," - ",(C=e.data.song)==null?void 0:C.duration_minutes,"m - Tono: ",(_=e.data.song)==null?void 0:_.key]})]}),t&&d.jsx(yt,{variant:"danger",onClick:()=>r(e.data.setlist_id,e.data.song_id),children:"Eliminar"})]}):d.jsx(Kz,{medley:e.data,availableSongs:n.filter(S=>S.type==="song"),canEdit:t,onSongAdded:i,onSongRemoved:s,onMedleyRenamed:a,onMedleyDeleted:l})})]})}function Qz({groupId:e,canManageSetlists:t=!0}){const[n,r]=E.useState([]),[i,s]=E.useState([]),[a,l]=E.useState(!0),[c,h]=E.useState(!1),[p,m]=E.useState(null),[w,g]=E.useState(null),[N,j]=E.useState(g_),[C,_]=E.useState(!1),[S,L]=E.useState(null),[R,X]=E.useState(!1),[te,W]=E.useState(null),[O,ee]=E.useState(""),[ne,T]=E.useState(""),[F,V]=E.useState(!1),[Y,ge]=E.useState(!1),{isAuthenticated:pe,createPlaylistFromSetlist:Q,searchTracks:$}=Tp();E.useState(null),E.useState("");const[z,oe]=E.useState([]),Ae=SU(Bv(ow,{activationConstraint:{distance:8}}),Bv(J6,{activationConstraint:{delay:200,tolerance:5}}),Bv(sw,{coordinateGetter:(be,{context:{active:Ie,droppableRects:Ke,droppableContainers:Je,collisionRect:nt}})=>null}));E.useEffect(()=>{P()},[e]),E.useEffect(()=>{if(w){const be=[];w.songs&&w.songs.forEach(Je=>{var rt,at,St,ft;const nt=((rt=Je.song)==null?void 0:rt.type)==="medley";nt&&console.log("Processing medley item:",{songId:Je.id,songSongId:(at=Je.song)==null?void 0:at.id,songTitle:(St=Je.song)==null?void 0:St.title,songType:(ft=Je.song)==null?void 0:ft.type,position:Je.position}),Je.id?be.push({id:Je.id,type:nt?"medley":"song",position:Je.position,data:nt?Je.song:Je}):console.error("Song with undefined ID found:",Je)}),w.medleys&&w.medleys.length>0&&(console.warn("Legacy medleys found in setlist - these will be ignored in the new system:",w.medleys),console.warn('All medleys should be in the songs table with type="medley"')),be.sort((Je,nt)=>Je.position-nt.position);const Ie=be.map(Je=>Je.id),Ke=Ie.filter((Je,nt)=>Ie.indexOf(Je)!==nt);Ke.length>0&&(console.error("Duplicate IDs found in setlistItems:",Ke),console.error("All items:",be),console.error("selectedSetlist.songs:",w.songs),console.error("selectedSetlist.medleys:",w.medleys)),console.log("All setlistItems:",be.map(Je=>({id:Je.id,type:Je.type,position:Je.position}))),oe(be)}else oe([])},[w]);const P=async()=>{l(!0);const[be,Ie]=await Promise.all([uy(e),Q0(e)]);return be&&r(be),Ie&&s(Ie),l(!1),be},G=async be=>{if(be.preventDefault(),!N.name.trim()){Pe.error("El nombre es obligatorio");return}const{data:{user:Ie}}=await Xe.auth.getUser();if(!Ie){Pe.error("No se pudo obtener la información del usuario");return}const Ke={group_id:e,name:N.name.trim(),description:N.description.trim()||void 0,estimated_duration_minutes:N.estimated_duration_minutes?parseInt(N.estimated_duration_minutes):void 0,created_by:Ie.id};if(p){const Je=await M$(p.id,Ke);Je&&(Pe.success("Setlist actualizado correctamente"),r(nt=>nt.map(rt=>rt.id===p.id?{...rt,...Je}:rt)),(w==null?void 0:w.id)===p.id&&g(nt=>nt?{...nt,...Je}:null))}else{const Je=await K5({...Ke,name:Ke.name});Je&&(Pe.success("Setlist creado correctamente"),r(nt=>[...nt,{...Je,songs:[]}]))}le()},se=be=>{var Ie;m(be),j({name:be.name,description:be.description||"",estimated_duration_minutes:((Ie=be.estimated_duration_minutes)==null?void 0:Ie.toString())||""}),h(!0)},ce=be=>{L(be),_(!0)},he=async()=>{if(!S)return;await I$(S.id)?(Pe.success("Setlist eliminado correctamente"),r(Ie=>Ie.filter(Ke=>Ke.id!==S.id)),(w==null?void 0:w.id)===S.id&&g(null)):Pe.error("No se pudo eliminar el setlist"),_(!1),L(null)},je=async(be,Ie)=>{if(!w)return;const Je=(w.songs&&w.songs.length>0?Math.max(...w.songs.map(rt=>rt.position)):0)+1,nt=await Z0(be,Ie,Je);if(nt){Pe.success("Canción añadida al setlist");const rt=i.find(at=>at.id===Ie);if(rt){const at={...nt,position:Je,song:rt},St={...w,songs:[...w.songs||[],at]};g(St),r(ft=>ft.map(Nt=>Nt.id===be?St:Nt))}}else console.error("No se pudo añadir la canción al setlist")},ke=async(be,Ie)=>{var Je;if(await R$(be,Ie)){Pe.success("Canción eliminada del setlist");const nt=w?{...w,songs:(Je=w.songs)==null?void 0:Je.filter(rt=>rt.song_id!==Ie)}:null;nt&&(g(nt),r(rt=>rt.map(at=>at.id===nt.id?nt:at)))}else Pe.error("No se pudo eliminar la canción del setlist")},re=be=>{const{active:Ie,over:Ke}=be;if(!Ke||Ie.id===Ke.id||!w)return;const Je=z.findIndex(et=>et.id===Ie.id),nt=z.findIndex(et=>et.id===Ke.id),at=lw(z,Je,nt).map((et,bn)=>({id:et.id,type:et.type,position:bn+1})),St=at.map(et=>{var Bt;return{...(Bt=w.songs)==null?void 0:Bt.find(Pr=>Pr.id===et.id),position:et.position}}),ft={...w,songs:St};g(ft),r(et=>et.map(bn=>bn.id===ft.id?ft:bn)),console.log("Reordering items:",at);const Nt=at.map(et=>({songId:et.id,position:et.position}));F$(w.id,Nt).then(et=>{et?console.log("Reorder successful"):(Pe.error("No se pudo guardar el orden. Se revertirán los cambios."),P())})},le=()=>{j(g_),m(null),h(!1)},ue=be=>{if(!i)return[];const Ie=new Set((be.songs||[]).map(Ke=>Ke.song_id));return i.filter(Ke=>!Ie.has(Ke.id))},me=be=>{const Ie=n.find(Ke=>Ke.id===be.id);g(Ie||null)},Ee=(be,Ie,Ke)=>{if(!w)return;const Je={...Ke,song:Ie},nt={...w,medleys:(w.medleys||[]).map(rt=>rt.id===be?{...rt,songs:[...rt.songs||[],Je].sort((at,St)=>at.position-St.position)}:rt)};g(nt),r(rt=>rt.map(at=>at.id===nt.id?nt:at))},Me=(be,Ie)=>{if(!w)return;const Ke={...w,medleys:(w.medleys||[]).map(Je=>Je.id===be?{...Je,songs:(Je.songs||[]).filter(nt=>nt.song_id!==Ie)}:Je)};g(Ke),r(Je=>Je.map(nt=>nt.id===Ke.id?Ke:nt))},fe=(be,Ie)=>{if(!w)return;const Ke={...w,medleys:(w.medleys||[]).map(Je=>Je.id===be?{...Je,name:Ie}:Je)};g(Ke),r(Je=>Je.map(nt=>nt.id===Ke.id?Ke:nt))},J=be=>{if(!w)return;const Ie={...w,medleys:(w.medleys||[]).filter(Ke=>Ke.id!==be)};g(Ie),r(Ke=>Ke.map(Je=>Je.id===Ie.id?Ie:Je))},ze=async be=>{if(!w)return;const Ke=(w.songs&&w.songs.length>0?Math.max(...w.songs.map(nt=>nt.position)):0)+1;if(await Z0(w.id,be.id,Ke)){Pe.success("Medley creado y añadido al setlist"),await P();const nt=await uy(e);if(nt){const rt=nt.find(at=>at.id===w.id);rt&&g(rt)}}else Pe.error("Medley creado pero no se pudo añadir al setlist")},Re=be=>{W(be),ee(`${be.name} (copia)`),X(!0)},Fe=async be=>{if(!pe){Pe.error("Debes conectar con Spotify primero");return}l(!0);try{const Ie=be.songs||[],Ke=[];for(const nt of Ie)if(nt.song){const rt=`${nt.song.title} ${nt.song.artist||""}`.trim();try{const at=await $(rt);at.length>0&&Ke.push(at[0])}catch{console.warn(`Could not find "${rt}" on Spotify`)}}if(Ke.length===0){Pe.error("No se encontraron canciones del setlist en Spotify");return}const Je=await Q(be.name,Ke);Je&&Pe.success(d.jsxs("div",{children:[d.jsx("p",{children:"¡Playlist creada en Spotify!"}),d.jsxs("p",{className:"text-sm",children:["Encontradas ",Ke.length," de ",Ie.length," canciones"]}),d.jsx("a",{href:Je,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"Abrir en Spotify"})]}))}catch(Ie){console.error("Error creating Spotify playlist:",Ie),Pe.error("Error al crear playlist en Spotify")}finally{l(!1)}},We=async()=>{if(!te||!O.trim())return;l(!0),X(!1),await q$(te.id,O.trim())?(Pe.success("Setlist duplicado correctamente"),await P()):Pe.error("No se pudo duplicar el setlist"),W(null),ee(""),l(!1)};return a?d.jsx("div",{className:"text-center py-8",children:"Cargando setlists..."}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Setlists"}),t&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx(yt,{onClick:()=>h(!c),variant:c?"secondary":"primary",children:c?"Cancelar":"Crear Setlist"}),d.jsxs(yt,{onClick:()=>ge(!0),variant:"secondary",className:`${pe?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-400 hover:bg-gray-500 text-white"}`,title:pe?"Importar playlist desde Spotify":"Conecta con Spotify para importar playlists",children:[d.jsx(n_,{className:"mr-2"}),"Importar de Spotify",!pe&&d.jsx("span",{className:"ml-2 text-xs opacity-75",children:"(Conectar)"})]})]})]}),!t&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:d.jsx("p",{className:"text-yellow-800 text-sm",children:"Solo los miembros principales pueden gestionar canciones y setlists."})}),c&&t&&d.jsxs("form",{onSubmit:G,className:"bg-white p-6 rounded-lg shadow-md space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:p?"Editar Setlist":"Nuevo Setlist"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Vn,{label:"Nombre *",value:N.name,onChange:be=>j({...N,name:be.target.value}),required:!0}),d.jsx(Vn,{label:"Duración estimada (minutos)",type:"number",value:N.estimated_duration_minutes,onChange:be=>j({...N,estimated_duration_minutes:be.target.value}),min:"1"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),d.jsx("textarea",{value:N.description,onChange:be=>j({...N,description:be.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descripción breve del setlist..."})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(yt,{type:"submit",variant:"primary",children:p?"Actualizar":"Crear"}),d.jsx(yt,{type:"button",variant:"secondary",onClick:le,children:"Cancelar"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[d.jsxs("div",{className:"lg:col-span-1 space-y-3",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3 lg:hidden",children:"Setlists"}),n.map(be=>{var Ie,Ke;return d.jsxs("div",{className:`p-4 rounded-lg cursor-pointer transition-all ${(w==null?void 0:w.id)===be.id?"bg-blue-600 text-white shadow-lg":"bg-white hover:bg-gray-100"}`,onClick:()=>me(be),children:[d.jsx("h4",{className:`font-bold ${(w==null?void 0:w.id)===be.id?"text-white":"text-gray-800"}`,children:be.name}),d.jsxs("p",{className:`text-sm ${(w==null?void 0:w.id)===be.id?"text-blue-100":"text-gray-500"}`,children:[(((Ie=be.songs)==null?void 0:Ie.length)||0)+(((Ke=be.medleys)==null?void 0:Ke.length)||0)," items"]})]},be.id)}),n.length===0&&!a&&d.jsx("p",{className:"text-center text-gray-500 py-4",children:"No hay setlists. ¡Crea el primero!"})]}),d.jsx("div",{className:"lg:col-span-2",children:w?d.jsxs("div",{className:"bg-white p-4 lg:p-6 rounded-lg shadow-md",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start mb-4 gap-4",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-800 truncate",children:w.name}),d.jsx("p",{className:"text-sm text-gray-500 break-words",children:w.description})]}),t&&d.jsxs("div",{className:"flex flex-wrap gap-2 lg:flex-nowrap",children:[d.jsxs(yt,{variant:"primary",onClick:()=>V(!0),children:[d.jsx(_y,{className:"mr-1"})," Crear Medley"]}),pe&&d.jsxs(yt,{variant:"secondary",onClick:()=>Fe(w),className:"bg-green-500 hover:bg-green-600 text-white",children:[d.jsx(n_,{className:"mr-2"})," Playlist Spotify"]}),d.jsxs(yt,{variant:"secondary",onClick:()=>se(w),children:[d.jsx(F6,{className:"mr-2"})," Editar"]}),d.jsxs(yt,{variant:"secondary",onClick:()=>Re(w),children:[d.jsx(sU,{className:"mr-2"})," Duplicar"]}),d.jsx(yt,{variant:"danger",onClick:()=>ce(w),children:"Eliminar"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 xl:gap-8",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Canciones en el Setlist"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(kz,{sensors:Ae,collisionDetection:CU,onDragEnd:re,children:d.jsx($z,{items:z.map(be=>be.id),strategy:Rz,children:z.map((be,Ie)=>d.jsx(Xz,{item:be,canManageSetlists:t,songs:i,onRemoveSong:ke,onSongAddedToMedley:Ee,onSongRemovedFromMedley:Me,onMedleyRenamed:fe,onMedleyDeleted:J},`${be.type}-${be.id}-${Ie}`))})}),z.length===0&&d.jsx("p",{className:"text-gray-500 text-sm py-4 text-center",children:"Este setlist está vacío."})]})]}),t&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Añadir Canción al Setlist"}),d.jsx(Vn,{placeholder:"Buscar canción...",value:ne,onChange:be=>T(be.target.value),className:"mb-2"}),d.jsxs("div",{className:"space-y-2 max-h-60 lg:max-h-80 overflow-y-auto pr-2",children:[ue(w).filter(be=>{var Ie;return be.title.toLowerCase().includes(ne.toLowerCase())||((Ie=be.artist)==null?void 0:Ie.toLowerCase().includes(ne.toLowerCase()))}).map(be=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-medium text-sm",children:[be.type==="medley"&&d.jsx("span",{className:"text-blue-600 mr-1",children:"🎵"}),be.title]}),d.jsx("p",{className:"text-xs text-gray-500",children:be.type==="medley"?"Medley":be.artist})]}),d.jsx(yt,{onClick:()=>je(w.id,be.id),children:d.jsx(_y,{})})]},be.id)),ue(w).length===0&&d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Todas las canciones ya están en este setlist."})]})]})]})]}):d.jsx("div",{className:"text-center py-12 text-gray-500",children:d.jsx("p",{children:"Selecciona un setlist para ver los detalles"})})})]}),C&&S&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmar Eliminación"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:['¿Estás seguro de que quieres eliminar el setlist "',S.name,'"? Esta acción no se puede deshacer.']}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx(yt,{variant:"secondary",onClick:()=>{_(!1),L(null)},children:"Cancelar"}),d.jsx(yt,{variant:"danger",onClick:he,children:"Eliminar"})]})]})}),R&&te&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Duplicar Setlist"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Introduce un nombre para el nuevo setlist:"}),d.jsx(Vn,{value:O,onChange:be=>ee(be.target.value),className:"mb-6",autoFocus:!0}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx(yt,{variant:"secondary",onClick:()=>{X(!1),W(null),ee("")},children:"Cancelar"}),d.jsx(yt,{variant:"primary",onClick:We,disabled:!O.trim(),children:"Duplicar"})]})]})}),F&&w&&d.jsx(Yz,{isOpen:F,onClose:()=>V(!1),groupId:e,availableSongs:ue(w),onMedleyCreated:be=>{ze(be),V(!1)}}),Y&&d.jsx(Jz,{isOpen:Y,onClose:()=>ge(!1),groupId:e,onSetlistCreated:()=>{P(),ge(!1)}})]})}function Zz({groupId:e,canManageSongs:t=!0,canManageSetlists:n=!0,defaultTab:r="songs"}){const[i,s]=E.useState(r);return E.useEffect(()=>{s(r)},[r]),d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[d.jsx("button",{onClick:()=>s("songs"),className:`${i==="songs"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Pool de Canciones"}),d.jsx("button",{onClick:()=>s("setlists"),className:`${i==="setlists"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Setlists"})]})}),d.jsxs("div",{className:"p-6",children:[i==="songs"&&d.jsx(KB,{groupId:e,canManageSongs:t}),i==="setlists"&&d.jsx(Qz,{groupId:e,canManageSetlists:n})]})]})})}const eq=({groupId:e})=>{const[t,n]=E.useState(!0),[r,i]=E.useState([]),[s,a]=E.useState(null),[l,c]=E.useState(null),[h,p]=E.useState(null),[m,w]=E.useState([]),[g,N]=E.useState("6m");E.useEffect(()=>{e&&j()},[e,g]);const j=async()=>{n(!0);try{await Promise.all([_(),S(),L(),R(),X()])}catch(te){console.error("Error loading analytics:",te)}n(!1)},C=()=>{const te=new Date;switch(g){case"3m":return xh(te,3);case"6m":return xh(te,6);case"1y":return xh(te,12);default:return new Date("2020-01-01")}},_=async()=>{try{const{data:te}=await Xe.from("songs").select("*").eq("group_id",e).eq("type","song"),{data:W}=await Xe.from("setlist_songs").select(`
          song_id,
          setlist:setlists!inner(created_at)
        `).gte("setlist.created_at",C().toISOString());if(te&&W){const O=new Map;W.forEach(ne=>{var F;const T=O.get(ne.song_id)||{count:0};O.set(ne.song_id,{count:T.count+1,lastUsed:((F=ne.setlist)==null?void 0:F.created_at)||T.lastUsed})});const ee=te.map(ne=>{var T,F;return{song:ne,usageCount:((T=O.get(ne.id))==null?void 0:T.count)||0,lastUsed:(F=O.get(ne.id))==null?void 0:F.lastUsed}}).sort((ne,T)=>T.usageCount-ne.usageCount);i(ee)}}catch(te){console.error("Error loading song stats:",te)}},S=async()=>{try{const te=C(),{data:W}=await Xe.from("events").select("*").eq("group_id",e).gte("created_at",te.toISOString()),{data:O}=await Xe.from("setlists").select(`
          id,
          songs:setlist_songs(count),
          medleys:setlist_medleys(count)
        `).eq("group_id",e);if(W){const ee=new Date,ne=W.filter(Y=>new Date(Y.date)>=ee).length,T=[];for(let Y=5;Y>=0;Y--){const ge=Fi(xh(ee,Y)),pe=qg(xh(ee,Y)),Q=W.filter($=>{const z=new Date($.date);return z>=ge&&z<=pe});T.push({month:on(ge,"MMM yyyy"),count:Q.length})}let F=0,V=0;O&&O.forEach(Y=>{var pe,Q,$,z;const ge=(((Q=(pe=Y.songs)==null?void 0:pe[0])==null?void 0:Q.count)||0)+(((z=($=Y.medleys)==null?void 0:$[0])==null?void 0:z.count)||0);ge>0&&(F+=ge,V++)}),a({totalEvents:W.length,upcomingEvents:ne,monthlyEvents:T,averageSetlistSize:V>0?Math.round(F/V):0})}}catch(te){console.error("Error loading event stats:",te)}},L=async()=>{try{const{data:te}=await Xe.from("setlists").select(`
          id,
          name,
          songs:setlist_songs(count),
          medleys:setlist_medleys(count)
        `).eq("group_id",e);if(te){const W=te.map(F=>{var V,Y,ge,pe;return{...F,songCount:(((Y=(V=F.songs)==null?void 0:V[0])==null?void 0:Y.count)||0)+(((pe=(ge=F.medleys)==null?void 0:ge[0])==null?void 0:pe.count)||0)}}).filter(F=>F.songCount>0),O=W.reduce((F,V)=>F+V.songCount,0),ee=W.length>0?Math.round(O/W.length):0,ne=W.reduce((F,V)=>V.songCount>F.songCount?V:F,W[0]||{name:"N/A",songCount:0}),T=W.reduce((F,V)=>V.songCount<F.songCount?V:F,W[0]||{name:"N/A",songCount:0});c({totalSetlists:te.length,averageSongsPerSetlist:ee,longestSetlist:{name:ne.name,songCount:ne.songCount},shortestSetlist:{name:T.name,songCount:T.songCount}})}}catch(te){console.error("Error loading setlist stats:",te)}},R=async()=>{try{const{data:te}=await Xe.from("group_members").select(`
          *,
          user:users(id, email)
        `).eq("group_id",e),{data:W}=await Xe.from("event_members").select(`
          member_id,
          event:events!inner(date)
        `).gte("event.date",C().toISOString());if(te){const O=te.filter(ne=>ne.user).length,ee=te.map(ne=>{const T=(W==null?void 0:W.filter(F=>F.member_id===ne.id).length)||0;return{member:ne,eventCount:T}}).sort((ne,T)=>T.eventCount-ne.eventCount);p({totalMembers:te.length,activeMembers:O,memberParticipation:ee})}}catch(te){console.error("Error loading member stats:",te)}},X=async()=>{try{const{data:te}=await Xe.from("songs").select("*").eq("group_id",e).eq("type","song").not("artist","is",null),{data:W}=await Xe.from("setlist_songs").select(`
          song_id,
          song:songs!inner(artist)
        `);if(te&&W){const O=new Map;te.forEach(ne=>{if(ne.artist){const T=O.get(ne.artist)||{songCount:0,usageCount:0};O.set(ne.artist,{...T,songCount:T.songCount+1})}}),W.forEach(ne=>{var F;const T=(F=ne.song)==null?void 0:F.artist;if(T){const V=O.get(T)||{songCount:0,usageCount:0};O.set(T,{...V,usageCount:V.usageCount+1})}});const ee=Array.from(O.entries()).map(([ne,T])=>({artist:ne,...T})).sort((ne,T)=>T.usageCount-ne.usageCount).slice(0,10);w(ee)}}catch(te){console.error("Error loading artist stats:",te)}};return t?d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"animate-pulse space-y-6",children:[d.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(te=>d.jsx("div",{className:"h-32 bg-gray-200 rounded"},te))})]})}):d.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Analytics Dashboard"}),d.jsxs("select",{value:g,onChange:te=>N(te.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"3m",children:"Últimos 3 meses"}),d.jsx("option",{value:"6m",children:"Últimos 6 meses"}),d.jsx("option",{value:"1y",children:"Último año"}),d.jsx("option",{value:"all",children:"Todo el tiempo"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Eventos"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.totalEvents)||0})]}),d.jsx(fp,{className:"w-8 h-8 text-blue-500"})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Próximos Eventos"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.upcomingEvents)||0})]}),d.jsx(xN,{className:"w-8 h-8 text-green-500"})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-purple-500",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Setlists"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(l==null?void 0:l.totalSetlists)||0})]}),d.jsx($r,{className:"w-8 h-8 text-purple-500"})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-orange-500",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Miembros Activos"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(h==null?void 0:h.activeMembers)||0})]}),d.jsx(Sf,{className:"w-8 h-8 text-orange-500"})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(YO,{className:"w-5 h-5 text-yellow-500"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Canciones Más Tocadas"})]}),d.jsx("div",{className:"space-y-3",children:r.slice(0,5).map((te,W)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"w-6 h-6 bg-yellow-100 text-yellow-800 rounded-full flex items-center justify-center text-sm font-bold",children:W+1}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:te.song.title}),d.jsx("p",{className:"text-sm text-gray-500",children:te.song.artist})]})]}),d.jsxs("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-sm font-medium",children:[te.usageCount," veces"]})]},te.song.id))})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Q2,{className:"w-5 h-5 text-blue-500"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Artistas Más Tocados"})]}),d.jsx("div",{className:"space-y-3",children:m.slice(0,5).map((te,W)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"w-6 h-6 bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-sm font-bold",children:W+1}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:te.artist}),d.jsxs("p",{className:"text-sm text-gray-500",children:[te.songCount," canciones"]})]})]}),d.jsxs("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-sm font-medium",children:[te.usageCount," usos"]})]},te.artist))})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(ZO,{className:"w-5 h-5 text-green-500"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Estadísticas de Setlists"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Promedio de canciones"}),d.jsx("span",{className:"font-bold text-gray-900",children:(l==null?void 0:l.averageSongsPerSetlist)||0})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Setlist más largo"}),d.jsxs("span",{className:"font-bold text-gray-900",children:[(l==null?void 0:l.longestSetlist.songCount)||0," canciones"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Setlist más corto"}),d.jsxs("span",{className:"font-bold text-gray-900",children:[(l==null?void 0:l.shortestSetlist.songCount)||0," canciones"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Promedio por evento"}),d.jsxs("span",{className:"font-bold text-gray-900",children:[(s==null?void 0:s.averageSetlistSize)||0," canciones"]})]})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Sf,{className:"w-5 h-5 text-purple-500"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Participación de Miembros"})]}),d.jsx("div",{className:"space-y-3",children:h==null?void 0:h.memberParticipation.slice(0,5).map((te,W)=>{var O;return d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"w-6 h-6 bg-purple-100 text-purple-800 rounded-full flex items-center justify-center text-sm font-bold",children:W+1}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:te.member.name}),d.jsx("p",{className:"text-sm text-gray-500",children:((O=te.member.role)==null?void 0:O.name)||"Sin rol"})]})]}),d.jsxs("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-sm font-medium",children:[te.eventCount," eventos"]})]},te.member.id)})})]})]}),(s==null?void 0:s.monthlyEvents)&&s.monthlyEvents.length>0&&d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Q2,{className:"w-5 h-5 text-indigo-500"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Eventos por Mes"})]}),d.jsx("div",{className:"flex items-end gap-2 h-32",children:s.monthlyEvents.map((te,W)=>d.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[d.jsx("div",{className:"bg-indigo-500 w-full rounded-t",style:{height:`${Math.max(te.count/Math.max(...s.monthlyEvents.map(O=>O.count))*100,5)}%`}}),d.jsx("span",{className:"text-xs text-gray-600 mt-2 transform -rotate-45 origin-left",children:te.month}),d.jsx("span",{className:"text-xs font-bold text-gray-900",children:te.count})]},W))})]})]})};function Wv({defaultTab:e}){const{id:t}=RS(),n=Ra(),r=wo(),[i,s]=E.useState(null),[a,l]=E.useState([]),[c,h]=E.useState([]),[p,m]=E.useState(!1),[w,g]=E.useState(!1),[N,j]=E.useState(!1),[C,_]=E.useState(null),[S,L]=E.useState(null),[R,X]=E.useState(!0),[te,W]=E.useState(!1),[O,ee]=E.useState(null),[ne,T]=E.useState(!1),[F,V]=E.useState([]),{user:Y}=Is(),[ge,pe]=E.useState(!1),[Q,$]=E.useState(!1),[z,oe]=E.useState(""),Ae=()=>{if(e)return e;const J=new URLSearchParams(r.search).get("tab");return r.pathname.endsWith("/songs")?"songs":r.pathname.endsWith("/setlists")?"setlists":J==="analytics"?"analytics":"overview"},[P,G]=E.useState(Ae()),se=fe=>{switch(G(fe),fe){case"songs":n(`/group/${t}/songs`);break;case"setlists":n(`/group/${t}/setlists`);break;case"analytics":n(`/group/${t}?tab=analytics`);break;case"overview":default:n(`/group/${t}`);break}};E.useEffect(()=>{G(Ae())},[r.pathname,r.search,e]),E.useEffect(()=>{t&&he()},[t,Y]),E.useEffect(()=>{t&&Y&&ce()},[t,Y,a]);const ce=async()=>{if(Y)try{const fe=await $n(()=>Xe.from("users").select("role").eq("id",Y.id).single(),"Error checking permissions");fe&&(ee(fe.role),W(fe.role==="admin"));const J=a.find(ze=>ze.user_id===Y.id);pe(!!J),T((J==null?void 0:J.role_in_group)==="principal"||!1),(J==null?void 0:J.role_in_group)==="principal"&&W(!0)}catch(fe){console.error("Error checking permissions:",fe)}},he=async()=>{try{const fe=await $n(()=>Xe.from("groups").select("*").eq("id",t).single(),"Error loading group");fe&&s(fe);const J=await $n(()=>Xe.from("group_members").select(`
            *,
            group_member_roles!group_member_roles_group_member_id_fkey (
              role:roles (
                id,
                name
              )
            )
          `).eq("group_id",t).order("role_in_group",{ascending:!1}).order("name"),"Error loading members");if(J){const Re=J.map(Fe=>({...Fe,instruments:(Fe.group_member_roles||[]).filter(We=>We==null?void 0:We.role).map(We=>({id:We.role.id,name:We.role.name}))}));l(Re)}const ze=await $n(()=>Xe.from("roles").select("*").eq("group_id",t).order("name"),"Error loading roles");ze&&h(ze)}catch(fe){console.error("Error fetching group data:",fe)}finally{X(!1)}},je=async fe=>{if(!(!Y||!t))try{await $n(()=>Xe.rpc("link_group_member",{p_member_id:fe,p_user_id:Y.id,p_group_id:t}),"Error linking member"),Pe.success("¡Te has vinculado correctamente!"),await he(),await ce()}catch(J){console.error("Error linking member:",J)}},ke=fe=>{_(fe),g(!0)},re=fe=>{L(fe),j(!0)},le=async()=>{if(S)try{await $n(()=>Xe.from("group_members").delete().eq("id",S.id),"Error deleting member"),Pe.success("Miembro eliminado correctamente"),j(!1),L(null),he()}catch(fe){console.error("Error deleting member:",fe)}},ue=a.filter(fe=>fe.role_in_group==="principal"),me=a.filter(fe=>fe.role_in_group==="sustituto"),Ee=(fe,J)=>d.jsxs("div",{children:[d.jsx("div",{className:"bg-gray-50 px-3 py-2",children:d.jsx("h3",{className:"text-sm font-medium text-gray-700",children:J})}),d.jsx("div",{className:"divide-y",children:fe.map(ze=>d.jsxs("div",{className:"p-3 hover:bg-gray-50",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-medium text-gray-900",children:ze.name}),d.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${ze.role_in_group==="principal"?"bg-indigo-100 text-indigo-700":"bg-yellow-100 text-yellow-700"}`,children:ze.role_in_group==="principal"?"Principal":"Sustituto"}),!ze.user_id&&d.jsx("span",{className:"text-xs text-gray-500",children:"(Sin vincular)"})]}),ze.instruments.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ze.instruments.map((Re,Fe)=>d.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[d.jsx($r,{className:"w-3 h-3 mr-1"}),Re.name]},`${ze.id}-${Re.id}-${Fe}`))}),ze.user_id===(Y==null?void 0:Y.id)&&d.jsx("div",{className:"mt-2 flex items-center",children:d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:ze.sync_calendar,onChange:async()=>{try{await $n(()=>Xe.from("group_members").update({sync_calendar:!ze.sync_calendar}).eq("id",ze.id),"Error actualizando preferencias de calendario"),Pe.success("Preferencias de calendario actualizadas"),he()}catch(Re){console.error("Error:",Re)}},className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"}),d.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Sincronizar eventos al calendario"})]})}),ze.user_id===(Y==null?void 0:Y.id)&&ze.sync_calendar&&d.jsxs("button",{onClick:()=>Me(ze.id),className:"mt-2 text-sm text-indigo-600 hover:text-indigo-700 flex items-center",children:[d.jsx(fp,{className:"w-4 h-4 mr-1"}),"Obtener enlace de suscripción al calendario"]})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[(O==="admin"||ze.user_id===(Y==null?void 0:Y.id))&&d.jsx("button",{onClick:()=>ke(ze),className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",title:"Editar miembro",children:d.jsx(wN,{className:"w-4 h-4"})}),(O==="admin"||ne)&&d.jsx("button",{onClick:()=>re(ze),className:"p-1 text-red-400 hover:text-red-600 rounded-full hover:bg-red-50",title:"Eliminar miembro",children:d.jsx(P5,{className:"w-4 h-4"})})]})]}),!ze.user_id&&!ge&&d.jsxs(yt,{onClick:()=>je(ze.id),variant:"secondary",className:"w-full mt-2 text-sm py-1",children:[d.jsx(o3,{className:"w-3 h-3 mr-1"}),"Soy este miembro"]})]},ze.id))})]}),Me=async fe=>{try{const{data:J,error:ze}=await Xe.rpc("get_group_calendar",{p_group_id:i==null?void 0:i.id,p_member_id:fe});if(ze)throw ze;if(!J)throw new Error("No se pudo generar el calendario");const Re=new Blob([J],{type:"text/calendar"}),Fe=new File([Re],"calendar.ics",{type:"text/calendar"}),{error:We}=await Xe.storage.from("calendars").upload(`${i==null?void 0:i.id}/${fe}/calendar.ics`,Fe,{cacheControl:"0",upsert:!0});if(We)throw console.error("Upload error:",We),We;const{data:{publicUrl:be}}=await Xe.storage.from("calendars").getPublicUrl(`${i==null?void 0:i.id}/${fe}/calendar.ics`);if(be)oe(be),$(!0);else throw new Error("No se pudo generar el enlace público")}catch(J){console.error("Error:",J),J.message==="new row violates row-level security policy"?Pe.error("Error de permisos al generar el calendario. Por favor, contacta con el administrador."):Pe.error("Error al generar el enlace del calendario")}};return R?d.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:d.jsx(go,{className:"w-8 h-8 animate-spin text-indigo-600"})}):i?d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:i.name}),d.jsx("p",{className:"text-gray-500 mt-1",children:"Gestiona miembros y disponibilidad"})]}),(te||ne)&&(!ge||O==="admin"||ne)&&d.jsxs(yt,{onClick:()=>m(!0),className:"flex items-center space-x-2",children:[d.jsx(Og,{className:"w-5 h-5"}),d.jsx("span",{children:O==="admin"||ne?"Añadir Miembro":"Unirse al Grupo"})]})]}),d.jsx("div",{className:"border-b border-gray-200 mb-6",children:d.jsxs("nav",{className:"-mb-px flex space-x-8",children:[d.jsxs("button",{onClick:()=>se("overview"),className:`${P==="overview"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[d.jsx(fp,{className:"w-4 h-4"}),d.jsx("span",{children:"Vista General"})]}),d.jsxs("button",{onClick:()=>se("songs"),className:`${P==="songs"||P==="setlists"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[d.jsx(XO,{className:"w-4 h-4"}),d.jsx("span",{children:"Canciones y Setlists"})]}),d.jsxs("button",{onClick:()=>se("analytics"),className:`${P==="analytics"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[d.jsx(Q2,{className:"w-4 h-4"}),d.jsx("span",{children:"Analytics"})]})]})}),P==="overview"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-lg font-semibold",children:"Miembros del Grupo"})}),a.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsx(o3,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),d.jsxs("p",{className:"text-gray-500",children:["No hay miembros aún. ",te?'¡Haz clic en "Unirse al Grupo" para ser el primer miembro!':"Espera a que alguien se una al grupo."]})]}):d.jsxs("div",{className:"divide-y divide-gray-200",children:[ue.length>0&&Ee(ue,"Miembros Principales"),me.length>0&&Ee(me,"Miembros Sustitutos")]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-lg font-semibold",children:"Disponibilidad"})}),d.jsx("div",{className:"p-4",children:d.jsx(L$,{members:a,onAvailableDatesChange:V,groupName:i.name})})]})]}),i&&t&&d.jsx("div",{className:"mt-6 bg-white rounded-lg shadow-md",children:d.jsx(WB,{groupId:t,canManageEvents:O==="admin"||ne,availableDates:F,members:a})})]}),(P==="songs"||P==="setlists")&&i&&t&&d.jsx(Zz,{groupId:t,canManageSongs:O==="admin"||ne,canManageSetlists:O==="admin"||ne,defaultTab:P==="setlists"?"setlists":"songs"}),P==="analytics"&&i&&t&&d.jsx(eq,{groupId:t}),i&&(te||ne)&&(!ge||O==="admin"||ne)&&d.jsx(JI,{isOpen:p,onClose:()=>m(!1),groupId:i.id,instruments:c,onMemberAdded:he,isEmptyGroup:a.length===0,userRole:O}),C&&d.jsx(XI,{isOpen:w,onClose:()=>{g(!1),_(null)},member:C,instruments:c,onMemberUpdated:he,userRole:O}),d.jsx(HB,{isOpen:N,onClose:()=>{j(!1),L(null)},onConfirm:le,title:"Eliminar Miembro",message:`¿Estás seguro de que quieres eliminar a ${S==null?void 0:S.name}? Esta acción no se puede deshacer.`}),d.jsx(VB,{isOpen:Q,onClose:()=>$(!1),calendarUrl:z})]}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Grupo no encontrado"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"El grupo que buscas no existe o no tienes acceso a él."})]})}function Vm({children:e}){console.log("ProtectedRoute mounted");const{user:t}=Is(),n=wo();return console.log("ProtectedRoute check:",{user:t,currentPath:n.pathname}),t?d.jsx(d.Fragment,{children:e}):(console.log("No user in ProtectedRoute, redirecting to login"),d.jsx(o7,{to:"/login",state:{returnTo:n.pathname+n.search},replace:!0}))}function tq(){return d.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Política de Privacidad"}),d.jsxs("div",{className:"prose prose-indigo",children:[d.jsxs("p",{className:"mb-4",children:["Última actualización: ",new Date().toLocaleDateString()]}),d.jsxs("section",{className:"mb-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Información que Recopilamos"}),d.jsx("p",{children:"Band Manager recopila la siguiente información personal:"}),d.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[d.jsx("li",{children:"Dirección de correo electrónico"}),d.jsx("li",{children:"Nombre"}),d.jsx("li",{children:"Información de perfil de usuario"})]})]}),d.jsxs("section",{className:"mb-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Uso de Permisos"}),d.jsx("p",{children:"Nuestra aplicación requiere ciertos permisos para funcionar correctamente:"}),d.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Acceso a Internet:"})," Necesario para sincronizar datos con nuestros servidores, guardar la información de tu banda y permitir la colaboración entre miembros."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Almacenamiento:"})," Utilizado para guardar archivos localmente (como partituras, letras de canciones y configuraciones de la aplicación) mejorando así el rendimiento y permitiendo el uso sin conexión."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Notificaciones:"})," Para mantenerte informado sobre actualizaciones importantes, mensajes de otros miembros de la banda y recordatorios de eventos."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Cámara (opcional):"})," Solo si decides subir fotos directamente desde la aplicación para tu perfil o contenido de la banda."]})]}),d.jsx("p",{className:"mb-4",children:"Todos estos permisos son utilizados exclusivamente para proporcionar y mejorar las funcionalidades de la aplicación. No compartimos ninguna información recopilada a través de estos permisos con terceros."}),d.jsx("p",{children:"Puedes gestionar estos permisos en cualquier momento a través de la configuración de tu dispositivo. Ten en cuenta que desactivar ciertos permisos puede limitar algunas funcionalidades de la aplicación."})]}),d.jsxs("section",{className:"mb-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Cómo Utilizamos su Información"}),d.jsx("p",{children:"Utilizamos la información recopilada para:"}),d.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[d.jsx("li",{children:"Proporcionar y mantener nuestro servicio"}),d.jsx("li",{children:"Gestionar su cuenta y membresía"}),d.jsx("li",{children:"Permitir la participación en funciones interactivas"}),d.jsx("li",{children:"Enviar notificaciones relacionadas con el servicio"})]})]}),d.jsxs("section",{className:"mb-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Seguridad de los Datos"}),d.jsx("p",{children:"La seguridad de sus datos es importante para nosotros. Utilizamos Supabase como nuestra plataforma de base de datos y autenticación, que implementa estándares de seguridad de la industria para proteger su información personal."})]}),d.jsxs("section",{className:"mb-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Sus Derechos"}),d.jsx("p",{children:"Usted tiene derecho a:"}),d.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[d.jsx("li",{children:"Acceder a sus datos personales"}),d.jsx("li",{children:"Corregir datos inexactos"}),d.jsx("li",{children:"Solicitar la eliminación de sus datos"}),d.jsx("li",{children:"Oponerse al procesamiento de sus datos"})]})]}),d.jsxs("section",{className:"mb-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Contacto"}),d.jsxs("p",{children:["Si tiene preguntas sobre esta Política de Privacidad, puede contactarnos en:",d.jsx("br",{}),d.jsx("a",{href:"mailto:privacy@bandmanager.com",className:"text-indigo-600 hover:text-indigo-800",children:"privacy@bandmanager.com"})]})]})]})]})}function nq(){console.log("AcceptInvitation component mounted");const[e]=US(),t=e.get("token"),n=Ra(),{user:r}=Is(),[i,s]=E.useState(!0),[a,l]=E.useState(null);E.useEffect(()=>{if(console.log("AcceptInvitation useEffect triggered",{token:t,user:r,groupMemberId:e.get("group_member_id"),currentPath:window.location.pathname+window.location.search}),!t){console.log("No token found"),Pe.error("Token de invitación no válido"),n("/");return}(async()=>{try{if(!r){const g=`/accept-invitation?token=${t}&group_member_id=${e.get("group_member_id")}`;console.log("No user found, redirecting to login with return URL:",g),n("/login",{state:{returnTo:g}});return}const{data:p,error:m}=await Xe.rpc("get_invitation_details",{p_token:t});if(console.log("Invitation check result:",{invitationData:p,invitationError:m}),m)throw m;if(!p||p.length===0){Pe.error("Invitación no encontrada o ya procesada"),n("/");return}const w=p[0];if(console.log("Invitation data:",w),r.email!==w.email){Pe.error("Esta invitación es para otro correo electrónico"),n("/");return}if(!e.get("group_member_id")){const g=new URLSearchParams(e);g.set("group_member_id",w.group_member_id),n(`${location.pathname}?${g.toString()}`,{replace:!0})}l({groupName:w.group_name,role:w.role_in_group}),s(!1)}catch(p){console.error("Error checking invitation:",p),Pe.error(p.message||"Error al verificar la invitación"),n("/")}})()},[t,r,n,e]);const c=async h=>{try{s(!0);const{data:p,error:m}=await Xe.rpc("get_invitation_details",{p_token:t});if(m)throw m;if(!p||p.length===0)throw new Error("Invitación no encontrada");const{group_member_id:w}=p[0],{error:g}=await Xe.rpc("handle_group_invitation",{p_group_member_id:w,p_accept:h});if(g)throw g;Pe.success(h?"Invitación aceptada":"Invitación rechazada"),n("/")}catch(p){console.error("Error handling invitation:",p),Pe.error(p.message)}finally{s(!1)}};return i?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500 mx-auto"}),d.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando invitación..."})]})}):a?d.jsx("div",{className:"max-w-lg mx-auto mt-16 p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Invitación a Grupo"}),d.jsxs("div",{className:"mb-8 text-center",children:[d.jsxs("p",{className:"text-lg mb-2",children:["Has sido invitado a unirte a ",d.jsx("strong",{children:a.groupName})]}),d.jsxs("p",{className:"text-gray-600",children:["Rol: ",d.jsx("span",{className:"capitalize",children:a.role})]})]}),d.jsxs("div",{className:"flex justify-center space-x-4",children:[d.jsx(yt,{onClick:()=>c(!0),loading:i,className:"bg-green-500 hover:bg-green-600",children:"Aceptar"}),d.jsx(yt,{onClick:()=>c(!1),variant:"secondary",loading:i,className:"bg-red-500 hover:bg-red-600 text-white",children:"Rechazar"})]})]})}):null}function rq(){const[e,t]=E.useState(""),[n,r]=E.useState(""),[i,s]=E.useState(!1),a=async l=>{l.preventDefault(),s(!0),r("");const{error:c}=await Xe.auth.resetPasswordForEmail(e,{redirectTo:"https://bandplan.netlify.app/reset-password"});s(!1),r(c?"Error: "+c.message:"¡Revisa tu correo para continuar el proceso!")};return d.jsx("div",{className:"max-w-md mx-auto mt-16",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[d.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"¿Olvidaste tu contraseña?"}),d.jsxs("form",{onSubmit:a,className:"space-y-6",children:[d.jsx(Vn,{label:"Email",type:"email",value:e,onChange:l=>t(l.target.value),required:!0,placeholder:"tu@email.com"}),d.jsx(yt,{type:"submit",loading:i,fullWidth:!0,children:"Enviar enlace"})]}),n&&d.jsx("div",{className:`mt-4 p-3 rounded-lg ${n.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:n}),d.jsx("p",{className:"mt-4 text-center text-sm text-gray-600",children:d.jsx(kc,{to:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"Volver al login"})})]})})}function iq(){const[e,t]=E.useState(""),[n,r]=E.useState(""),[i,s]=E.useState(!1),[a,l]=E.useState(!1),[c,h]=E.useState(!1),p=Ra(),m=wo();E.useEffect(()=>{(async()=>{var N;console.log("Verificando autenticación para reset de contraseña");try{const{data:j}=await Xe.auth.getSession(),C=new URLSearchParams(m.search),_=C.get("token"),S=C.get("type"),L=(N=m.state)==null?void 0:N.resetCode,R=localStorage.getItem("recovery_token");if(console.log("Verificando tokens de recuperación:",{urlToken:(_==null?void 0:_.substring(0,10))+"..."||"No presente",stateResetCode:L?"Presente":"No presente",storedToken:R?"Presente":"No presente",type:S}),console.log("Sesión activa:",!!j.session),_&&S==="recovery")console.log("Token de recuperación válido detectado en URL"),h(!0);else if(L){console.log("Código de recuperación detectado en state"),h(!0);try{await Xe.auth.verifyOtp({token_hash:L,type:"recovery"})}catch(X){console.warn("Error al verificar OTP con resetCode:",X)}}else if(R){console.log("Token de recuperación encontrado en localStorage"),h(!0),localStorage.removeItem("recovery_token");try{await Xe.auth.verifyOtp({token_hash:R,type:"recovery"})}catch(X){console.warn("Error al verificar OTP con storedToken:",X)}}else j.session?(console.log("Sesión activa detectada, permitiendo reset de contraseña"),h(!0)):a||(console.log("No hay token de recuperación válido ni sesión activa"),p("/login"))}catch(j){console.error("Error al verificar autenticación:",j),p("/login")}})()},[m,p,a]);const w=async g=>{g.preventDefault(),s(!0),r("");try{const{error:N}=await Xe.auth.updateUser({password:e});if(N)throw N;l(!0),r("¡Contraseña actualizada correctamente! Redirigiendo al inicio..."),setTimeout(()=>{p("/",{replace:!0})},2e3)}catch(N){r("Error: "+N.message)}finally{s(!1)}};return d.jsx("div",{className:"max-w-md mx-auto mt-16",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[d.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Restablecer contraseña"}),c?d.jsxs(d.Fragment,{children:[d.jsxs("form",{onSubmit:w,className:"space-y-6",children:[d.jsx(Vn,{label:"Nueva contraseña",type:"password",value:e,onChange:g=>t(g.target.value),required:!0,placeholder:"••••••••"}),d.jsx(yt,{type:"submit",loading:i,fullWidth:!0,children:"Actualizar contraseña"})]}),n&&d.jsx("div",{className:`mt-4 p-3 rounded-lg ${n.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:n})]}):d.jsxs("div",{className:"py-6 text-center",children:[d.jsx("div",{className:"animate-pulse inline-block p-3 mb-4 rounded-full bg-indigo-100",children:d.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),d.jsx("p",{className:"text-gray-700 mb-2",children:"Verificando token de recuperación..."}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Si no eres redirigido automáticamente, solicita un",d.jsx(kc,{to:"/forgot-password",className:"text-indigo-600 hover:text-indigo-500",children:" nuevo enlace"}),"."]})]})]})})}function sq(){const{setUser:e,setSession:t}=Is();E.useEffect(()=>{const r=new URLSearchParams(window.location.search),i=r.get("token"),s=r.get("type"),a=window.location.hash,l=r.get("code"),c=r.get("state"),h=r.get("error");if(console.log("App: Verificando parámetros en URL:",{token:i?i.substring(0,10)+"...":null,type:s,hash:a.length>0?a.substring(0,20)+"...":null,spotifyCode:l?l.substring(0,10)+"...":null,spotifyState:c,spotifyError:h,fullURL:window.location.href,searchParams:window.location.search}),h){console.log("❌ Spotify auth error:",h),Pe.error(`Error de autenticación de Spotify: ${h}`);const p=new URL(window.location.href);p.searchParams.delete("error"),window.history.replaceState({},document.title,p.toString())}else l&&c?(console.log("✅ Procesando autenticación de Spotify..."),console.log("🎵 Spotify Code:",l.substring(0,10)+"..."),console.log("🎵 Spotify State:",c),n(l,c)):l||c?console.log("⚠️ Spotify params parciales:",{spotifyCode:!!l,spotifyState:!!c}):i&&s==="recovery"&&window.location.pathname!=="/reset-password"?(console.log("App: Token PKCE de recuperación detectado, redirigiendo a /reset-password"),window.location.replace(`/reset-password?token=${i}&type=${s}`)):a.includes("access_token=")&&a.includes("type=recovery")&&window.location.pathname!=="/reset-password"&&(console.log("App: Token hash de recuperación detectado, redirigiendo a /reset-password"),window.location.replace("/reset-password"+a))},[]);const n=async(r,i)=>{try{console.log("🎵 App: Iniciando autenticación de Spotify...");const s=new URL(window.location.href);if(s.searchParams.delete("code"),s.searchParams.delete("state"),window.history.replaceState({},document.title,s.toString()),await bi.handleAuthCallback(r,i)){console.log("🎵 App: Autenticación exitosa");const l=await bi.getCurrentUser();Pe.success(`¡Conectado a Spotify como ${l.display_name}!`);const c=localStorage.getItem("spotify_return_url");if(console.log("🎵 Return URL saved:",c),c){const h=new URL(c),p=new URL(window.location.href);if(h.pathname!==p.pathname){console.log("🎵 Redirecting back to:",c),localStorage.removeItem("spotify_return_url"),window.location.href=c;return}else localStorage.removeItem("spotify_return_url")}}else console.log("❌ App: Error en autenticación"),Pe.error("Error al conectar con Spotify")}catch(s){console.error("❌ App: Error en callback de Spotify:",s),Pe.error(`Error al autenticar con Spotify: ${s.message}`)}};return E.useEffect(()=>{console.log("App mounted"),Xe.auth.getSession().then(({data:{session:i}})=>{console.log("Initial session:",i),t(i),e((i==null?void 0:i.user)??null)});const{data:{subscription:r}}=Xe.auth.onAuthStateChange((i,s)=>{console.log("Auth state changed:",s),t(s),e((s==null?void 0:s.user)??null)});return()=>r.unsubscribe()},[e,t]),d.jsx(v7,{children:d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx(tM,{}),d.jsx("main",{className:"container mx-auto px-4 py-8",children:d.jsxs(c7,{children:[d.jsx(Sa,{path:"/login",element:d.jsx(nM,{})}),d.jsx(Sa,{path:"/register",element:d.jsx(rM,{})}),d.jsx(Sa,{path:"/forgot-password",element:d.jsx(rq,{})}),d.jsx(Sa,{path:"/reset-password",element:d.jsx(iq,{})}),d.jsx(Sa,{path:"/accept-invitation",element:d.jsx(nq,{})}),d.jsx(Sa,{path:"/",element:d.jsx(Vm,{children:d.jsx(KI,{})})}),d.jsx(Sa,{path:"/group/:id",element:d.jsx(Vm,{children:d.jsx(Wv,{})})}),d.jsx(Sa,{path:"/group/:id/songs",element:d.jsx(Vm,{children:d.jsx(Wv,{defaultTab:"songs"})})}),d.jsx(Sa,{path:"/group/:id/setlists",element:d.jsx(Vm,{children:d.jsx(Wv,{defaultTab:"setlists"})})}),d.jsx(Sa,{path:"/privacy-policy",element:d.jsx(tq,{})})]})}),d.jsx(uT,{position:"top-right"})]})})}LS(document.getElementById("root")).render(d.jsx(E.StrictMode,{children:d.jsx(sq,{})}));export{Nn as _,ri as c,v_ as g};
