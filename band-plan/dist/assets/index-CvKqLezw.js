function Pp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ef(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Op(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var tf={exports:{}},pa={},nf={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var As=Symbol.for("react.element"),Tp=Symbol.for("react.portal"),Dp=Symbol.for("react.fragment"),Mp=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),$p=Symbol.for("react.provider"),Lp=Symbol.for("react.context"),Ip=Symbol.for("react.forward_ref"),Ap=Symbol.for("react.suspense"),Fp=Symbol.for("react.memo"),Up=Symbol.for("react.lazy"),Zu=Symbol.iterator;function zp(e){return e===null||typeof e!="object"?null:(e=Zu&&e[Zu]||e["@@iterator"],typeof e=="function"?e:null)}var rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sf=Object.assign,af={};function Dr(e,t,n){this.props=e,this.context=t,this.refs=af,this.updater=n||rf}Dr.prototype.isReactComponent={};Dr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function of(){}of.prototype=Dr.prototype;function Ll(e,t,n){this.props=e,this.context=t,this.refs=af,this.updater=n||rf}var Il=Ll.prototype=new of;Il.constructor=Ll;sf(Il,Dr.prototype);Il.isPureReactComponent=!0;var ec=Array.isArray,lf=Object.prototype.hasOwnProperty,Al={current:null},uf={key:!0,ref:!0,__self:!0,__source:!0};function cf(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)lf.call(t,r)&&!uf.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:As,type:e,key:i,ref:a,props:s,_owner:Al.current}}function Wp(e,t){return{$$typeof:As,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fl(e){return typeof e=="object"&&e!==null&&e.$$typeof===As}function Bp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var tc=/\/+/g;function Wa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bp(""+e.key):t.toString(36)}function ki(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case As:case Tp:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Wa(a,0):r,ec(s)?(n="",e!=null&&(n=e.replace(tc,"$&/")+"/"),ki(s,t,n,"",function(u){return u})):s!=null&&(Fl(s)&&(s=Wp(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(tc,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",ec(e))for(var o=0;o<e.length;o++){i=e[o];var l=r+Wa(i,o);a+=ki(i,t,n,l,s)}else if(l=zp(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=r+Wa(i,o++),a+=ki(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Zs(e,t,n){if(e==null)return e;var r=[],s=0;return ki(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Hp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},bi={transition:null},Vp={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:bi,ReactCurrentOwner:Al};function df(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Zs,forEach:function(e,t,n){Zs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zs(e,function(){t++}),t},toArray:function(e){return Zs(e,function(t){return t})||[]},only:function(e){if(!Fl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=Dr;K.Fragment=Dp;K.Profiler=Rp;K.PureComponent=Ll;K.StrictMode=Mp;K.Suspense=Ap;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vp;K.act=df;K.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sf({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Al.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)lf.call(t,l)&&!uf.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:As,type:e.type,key:s,ref:i,props:r,_owner:a}};K.createContext=function(e){return e={$$typeof:Lp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$p,_context:e},e.Consumer=e};K.createElement=cf;K.createFactory=function(e){var t=cf.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:Ip,render:e}};K.isValidElement=Fl;K.lazy=function(e){return{$$typeof:Up,_payload:{_status:-1,_result:e},_init:Hp}};K.memo=function(e,t){return{$$typeof:Fp,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=bi.transition;bi.transition={};try{e()}finally{bi.transition=t}};K.unstable_act=df;K.useCallback=function(e,t){return Ae.current.useCallback(e,t)};K.useContext=function(e){return Ae.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};K.useEffect=function(e,t){return Ae.current.useEffect(e,t)};K.useId=function(){return Ae.current.useId()};K.useImperativeHandle=function(e,t,n){return Ae.current.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Ae.current.useMemo(e,t)};K.useReducer=function(e,t,n){return Ae.current.useReducer(e,t,n)};K.useRef=function(e){return Ae.current.useRef(e)};K.useState=function(e){return Ae.current.useState(e)};K.useSyncExternalStore=function(e,t,n){return Ae.current.useSyncExternalStore(e,t,n)};K.useTransition=function(){return Ae.current.useTransition()};K.version="18.3.1";nf.exports=K;var w=nf.exports;const ff=ef(w),Yp=Pp({__proto__:null,default:ff},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp=w,Qp=Symbol.for("react.element"),Kp=Symbol.for("react.fragment"),Gp=Object.prototype.hasOwnProperty,Jp=qp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xp={key:!0,ref:!0,__self:!0,__source:!0};function hf(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Gp.call(t,r)&&!Xp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Qp,type:e,key:i,ref:a,props:s,_owner:Jp.current}}pa.Fragment=Kp;pa.jsx=hf;pa.jsxs=hf;tf.exports=pa;var d=tf.exports,mf={exports:{}},tt={},pf={exports:{}},vf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,$){var E=b.length;b.push($);e:for(;0<E;){var T=E-1>>>1,R=b[T];if(0<s(R,$))b[T]=$,b[E]=R,E=T;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var $=b[0],E=b.pop();if(E!==$){b[0]=E;e:for(var T=0,R=b.length,I=R>>>1;T<I;){var F=2*(T+1)-1,A=b[F],U=F+1,ce=b[U];if(0>s(A,E))U<R&&0>s(ce,A)?(b[T]=ce,b[U]=E,T=U):(b[T]=A,b[F]=E,T=F);else if(U<R&&0>s(ce,E))b[T]=ce,b[U]=E,T=U;else break e}}return $}function s(b,$){var E=b.sortIndex-$.sortIndex;return E!==0?E:b.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,f=null,h=3,p=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(b){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=b)r(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(u)}}function k(b){if(_=!1,g(b),!y)if(n(l)!==null)y=!0,V(S);else{var $=n(u);$!==null&&C(k,$.startTime-b)}}function S(b,$){y=!1,_&&(_=!1,v(O),O=-1),p=!0;var E=h;try{for(g($),f=n(l);f!==null&&(!(f.expirationTime>$)||b&&!Z());){var T=f.callback;if(typeof T=="function"){f.callback=null,h=f.priorityLevel;var R=T(f.expirationTime<=$);$=e.unstable_now(),typeof R=="function"?f.callback=R:f===n(l)&&r(l),g($)}else r(l);f=n(l)}if(f!==null)var I=!0;else{var F=n(u);F!==null&&C(k,F.startTime-$),I=!1}return I}finally{f=null,h=E,p=!1}}var P=!1,N=null,O=-1,L=5,H=-1;function Z(){return!(e.unstable_now()-H<L)}function je(){if(N!==null){var b=e.unstable_now();H=b;var $=!0;try{$=N(!0,b)}finally{$?Ce():(P=!1,N=null)}}else P=!1}var Ce;if(typeof m=="function")Ce=function(){m(je)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,W=D.port2;D.port1.onmessage=je,Ce=function(){W.postMessage(null)}}else Ce=function(){x(je,0)};function V(b){N=b,P||(P=!0,Ce())}function C(b,$){O=x(function(){b(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,V(S))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(b){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var E=h;h=$;try{return b()}finally{h=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,$){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var E=h;h=b;try{return $()}finally{h=E}},e.unstable_scheduleCallback=function(b,$,E){var T=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?T+E:T):E=T,b){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=E+R,b={id:c++,callback:$,priorityLevel:b,startTime:E,expirationTime:R,sortIndex:-1},E>T?(b.sortIndex=E,t(u,b),n(l)===null&&b===n(u)&&(_?(v(O),O=-1):_=!0,C(k,E-T))):(b.sortIndex=R,t(l,b),y||p||(y=!0,V(S))),b},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(b){var $=h;return function(){var E=h;h=$;try{return b.apply(this,arguments)}finally{h=E}}}})(vf);pf.exports=vf;var Zp=pf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev=w,Ze=Zp;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gf=new Set,gs={};function zn(e,t){xr(e,t),xr(e+"Capture",t)}function xr(e,t){for(gs[e]=t,e=0;e<t.length;e++)gf.add(t[e])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Po=Object.prototype.hasOwnProperty,tv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nc={},rc={};function nv(e){return Po.call(rc,e)?!0:Po.call(nc,e)?!1:tv.test(e)?rc[e]=!0:(nc[e]=!0,!1)}function rv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sv(e,t,n,r){if(t===null||typeof t>"u"||rv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ul=/[\-:]([a-z])/g;function zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ul,zl);Oe[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ul,zl);Oe[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ul,zl);Oe[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wl(e,t,n,r){var s=Oe.hasOwnProperty(t)?Oe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sv(t,n,s,r)&&(n=null),r||s===null?nv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ht=ev.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ei=Symbol.for("react.element"),tr=Symbol.for("react.portal"),nr=Symbol.for("react.fragment"),Bl=Symbol.for("react.strict_mode"),Oo=Symbol.for("react.profiler"),yf=Symbol.for("react.provider"),wf=Symbol.for("react.context"),Hl=Symbol.for("react.forward_ref"),To=Symbol.for("react.suspense"),Do=Symbol.for("react.suspense_list"),Vl=Symbol.for("react.memo"),Gt=Symbol.for("react.lazy"),_f=Symbol.for("react.offscreen"),sc=Symbol.iterator;function zr(e){return e===null||typeof e!="object"?null:(e=sc&&e[sc]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,Ba;function Zr(e){if(Ba===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ba=t&&t[1]||""}return`
`+Ba+e}var Ha=!1;function Va(e,t){if(!e||Ha)return"";Ha=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Ha=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zr(e):""}function iv(e){switch(e.tag){case 5:return Zr(e.type);case 16:return Zr("Lazy");case 13:return Zr("Suspense");case 19:return Zr("SuspenseList");case 0:case 2:case 15:return e=Va(e.type,!1),e;case 11:return e=Va(e.type.render,!1),e;case 1:return e=Va(e.type,!0),e;default:return""}}function Mo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nr:return"Fragment";case tr:return"Portal";case Oo:return"Profiler";case Bl:return"StrictMode";case To:return"Suspense";case Do:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wf:return(e.displayName||"Context")+".Consumer";case yf:return(e._context.displayName||"Context")+".Provider";case Hl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vl:return t=e.displayName||null,t!==null?t:Mo(e.type)||"Memo";case Gt:t=e._payload,e=e._init;try{return Mo(e(t))}catch{}}return null}function av(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mo(t);case 8:return t===Bl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ov(e){var t=xf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ti(e){e._valueTracker||(e._valueTracker=ov(e))}function kf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ro(e,t){var n=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ic(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=vn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bf(e,t){t=t.checked,t!=null&&Wl(e,"checked",t,!1)}function $o(e,t){bf(e,t);var n=vn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lo(e,t.type,vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ac(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lo(e,t,n){(t!=="number"||Ai(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var es=Array.isArray;function hr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Io(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(es(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vn(n)}}function Sf(e,t){var n=vn(t.value),r=vn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function lc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ef(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ao(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ef(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ni,jf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ni=ni||document.createElement("div"),ni.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ni.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ys(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lv=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(e){lv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),is[t]=is[e]})});function Cf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||is.hasOwnProperty(e)&&is[e]?(""+t).trim():t+"px"}function Nf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Cf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var uv=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fo(e,t){if(t){if(uv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Uo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zo=null;function Yl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wo=null,mr=null,pr=null;function uc(e){if(e=zs(e)){if(typeof Wo!="function")throw Error(j(280));var t=e.stateNode;t&&(t=_a(t),Wo(e.stateNode,e.type,t))}}function Pf(e){mr?pr?pr.push(e):pr=[e]:mr=e}function Of(){if(mr){var e=mr,t=pr;if(pr=mr=null,uc(e),t)for(e=0;e<t.length;e++)uc(t[e])}}function Tf(e,t){return e(t)}function Df(){}var Ya=!1;function Mf(e,t,n){if(Ya)return e(t,n);Ya=!0;try{return Tf(e,t,n)}finally{Ya=!1,(mr!==null||pr!==null)&&(Df(),Of())}}function ws(e,t){var n=e.stateNode;if(n===null)return null;var r=_a(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var Bo=!1;if(Ft)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{Bo=!1}function cv(e,t,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var as=!1,Fi=null,Ui=!1,Ho=null,dv={onError:function(e){as=!0,Fi=e}};function fv(e,t,n,r,s,i,a,o,l){as=!1,Fi=null,cv.apply(dv,arguments)}function hv(e,t,n,r,s,i,a,o,l){if(fv.apply(this,arguments),as){if(as){var u=Fi;as=!1,Fi=null}else throw Error(j(198));Ui||(Ui=!0,Ho=u)}}function Wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Rf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cc(e){if(Wn(e)!==e)throw Error(j(188))}function mv(e){var t=e.alternate;if(!t){if(t=Wn(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return cc(s),e;if(i===r)return cc(s),t;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function $f(e){return e=mv(e),e!==null?Lf(e):null}function Lf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lf(e);if(t!==null)return t;e=e.sibling}return null}var If=Ze.unstable_scheduleCallback,dc=Ze.unstable_cancelCallback,pv=Ze.unstable_shouldYield,vv=Ze.unstable_requestPaint,ve=Ze.unstable_now,gv=Ze.unstable_getCurrentPriorityLevel,ql=Ze.unstable_ImmediatePriority,Af=Ze.unstable_UserBlockingPriority,zi=Ze.unstable_NormalPriority,yv=Ze.unstable_LowPriority,Ff=Ze.unstable_IdlePriority,va=null,Pt=null;function wv(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(va,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:kv,_v=Math.log,xv=Math.LN2;function kv(e){return e>>>=0,e===0?32:31-(_v(e)/xv|0)|0}var ri=64,si=4194304;function ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=ts(o):(i&=a,i!==0&&(r=ts(i)))}else a=n&~s,a!==0?r=ts(a):i!==0&&(r=ts(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gt(t),s=1<<n,r|=e[n],t&=~s;return r}function bv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-gt(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=bv(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function Vo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uf(){var e=ri;return ri<<=1,!(ri&4194240)&&(ri=64),e}function qa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function Ev(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-gt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Ql(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var te=0;function zf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wf,Kl,Bf,Hf,Vf,Yo=!1,ii=[],on=null,ln=null,un=null,_s=new Map,xs=new Map,Zt=[],jv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fc(e,t){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":_s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(t.pointerId)}}function Br(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=zs(t),t!==null&&Kl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Cv(e,t,n,r,s){switch(t){case"focusin":return on=Br(on,e,t,n,r,s),!0;case"dragenter":return ln=Br(ln,e,t,n,r,s),!0;case"mouseover":return un=Br(un,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return _s.set(i,Br(_s.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,xs.set(i,Br(xs.get(i)||null,e,t,n,r,s)),!0}return!1}function Yf(e){var t=On(e.target);if(t!==null){var n=Wn(t);if(n!==null){if(t=n.tag,t===13){if(t=Rf(n),t!==null){e.blockedOn=t,Vf(e.priority,function(){Bf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Si(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zo=r,n.target.dispatchEvent(r),zo=null}else return t=zs(n),t!==null&&Kl(t),e.blockedOn=n,!1;t.shift()}return!0}function hc(e,t,n){Si(e)&&n.delete(t)}function Nv(){Yo=!1,on!==null&&Si(on)&&(on=null),ln!==null&&Si(ln)&&(ln=null),un!==null&&Si(un)&&(un=null),_s.forEach(hc),xs.forEach(hc)}function Hr(e,t){e.blockedOn===t&&(e.blockedOn=null,Yo||(Yo=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,Nv)))}function ks(e){function t(s){return Hr(s,e)}if(0<ii.length){Hr(ii[0],e);for(var n=1;n<ii.length;n++){var r=ii[n];r.blockedOn===e&&(r.blockedOn=null)}}for(on!==null&&Hr(on,e),ln!==null&&Hr(ln,e),un!==null&&Hr(un,e),_s.forEach(t),xs.forEach(t),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)Yf(n),n.blockedOn===null&&Zt.shift()}var vr=Ht.ReactCurrentBatchConfig,Bi=!0;function Pv(e,t,n,r){var s=te,i=vr.transition;vr.transition=null;try{te=1,Gl(e,t,n,r)}finally{te=s,vr.transition=i}}function Ov(e,t,n,r){var s=te,i=vr.transition;vr.transition=null;try{te=4,Gl(e,t,n,r)}finally{te=s,vr.transition=i}}function Gl(e,t,n,r){if(Bi){var s=qo(e,t,n,r);if(s===null)ro(e,t,r,Hi,n),fc(e,r);else if(Cv(s,e,t,n,r))r.stopPropagation();else if(fc(e,r),t&4&&-1<jv.indexOf(e)){for(;s!==null;){var i=zs(s);if(i!==null&&Wf(i),i=qo(e,t,n,r),i===null&&ro(e,t,r,Hi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ro(e,t,r,null,n)}}var Hi=null;function qo(e,t,n,r){if(Hi=null,e=Yl(r),e=On(e),e!==null)if(t=Wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Rf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hi=e,null}function qf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gv()){case ql:return 1;case Af:return 4;case zi:case yv:return 16;case Ff:return 536870912;default:return 16}default:return 16}}var rn=null,Jl=null,Ei=null;function Qf(){if(Ei)return Ei;var e,t=Jl,n=t.length,r,s="value"in rn?rn.value:rn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Ei=s.slice(e,1<r?1-r:void 0)}function ji(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ai(){return!0}function mc(){return!1}function nt(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ai:mc,this.isPropagationStopped=mc,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=nt(Mr),Us=me({},Mr,{view:0,detail:0}),Tv=nt(Us),Qa,Ka,Vr,ga=me({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vr&&(Vr&&e.type==="mousemove"?(Qa=e.screenX-Vr.screenX,Ka=e.screenY-Vr.screenY):Ka=Qa=0,Vr=e),Qa)},movementY:function(e){return"movementY"in e?e.movementY:Ka}}),pc=nt(ga),Dv=me({},ga,{dataTransfer:0}),Mv=nt(Dv),Rv=me({},Us,{relatedTarget:0}),Ga=nt(Rv),$v=me({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Lv=nt($v),Iv=me({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Av=nt(Iv),Fv=me({},Mr,{data:0}),vc=nt(Fv),Uv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wv[e])?!!t[e]:!1}function Zl(){return Bv}var Hv=me({},Us,{key:function(e){if(e.key){var t=Uv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(e){return e.type==="keypress"?ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vv=nt(Hv),Yv=me({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gc=nt(Yv),qv=me({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),Qv=nt(qv),Kv=me({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gv=nt(Kv),Jv=me({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xv=nt(Jv),Zv=[9,13,27,32],eu=Ft&&"CompositionEvent"in window,os=null;Ft&&"documentMode"in document&&(os=document.documentMode);var eg=Ft&&"TextEvent"in window&&!os,Kf=Ft&&(!eu||os&&8<os&&11>=os),yc=" ",wc=!1;function Gf(e,t){switch(e){case"keyup":return Zv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rr=!1;function tg(e,t){switch(e){case"compositionend":return Jf(t);case"keypress":return t.which!==32?null:(wc=!0,yc);case"textInput":return e=t.data,e===yc&&wc?null:e;default:return null}}function ng(e,t){if(rr)return e==="compositionend"||!eu&&Gf(e,t)?(e=Qf(),Ei=Jl=rn=null,rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kf&&t.locale!=="ko"?null:t.data;default:return null}}var rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rg[e.type]:t==="textarea"}function Xf(e,t,n,r){Pf(r),t=Vi(t,"onChange"),0<t.length&&(n=new Xl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ls=null,bs=null;function sg(e){uh(e,0)}function ya(e){var t=ar(e);if(kf(t))return e}function ig(e,t){if(e==="change")return t}var Zf=!1;if(Ft){var Ja;if(Ft){var Xa="oninput"in document;if(!Xa){var xc=document.createElement("div");xc.setAttribute("oninput","return;"),Xa=typeof xc.oninput=="function"}Ja=Xa}else Ja=!1;Zf=Ja&&(!document.documentMode||9<document.documentMode)}function kc(){ls&&(ls.detachEvent("onpropertychange",eh),bs=ls=null)}function eh(e){if(e.propertyName==="value"&&ya(bs)){var t=[];Xf(t,bs,e,Yl(e)),Mf(sg,t)}}function ag(e,t,n){e==="focusin"?(kc(),ls=t,bs=n,ls.attachEvent("onpropertychange",eh)):e==="focusout"&&kc()}function og(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ya(bs)}function lg(e,t){if(e==="click")return ya(t)}function ug(e,t){if(e==="input"||e==="change")return ya(t)}function cg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:cg;function Ss(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Po.call(t,s)||!_t(e[s],t[s]))return!1}return!0}function bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sc(e,t){var n=bc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bc(n)}}function th(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?th(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nh(){for(var e=window,t=Ai();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ai(e.document)}return t}function tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dg(e){var t=nh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&th(n.ownerDocument.documentElement,n)){if(r!==null&&tu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Sc(n,i);var a=Sc(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fg=Ft&&"documentMode"in document&&11>=document.documentMode,sr=null,Qo=null,us=null,Ko=!1;function Ec(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ko||sr==null||sr!==Ai(r)||(r=sr,"selectionStart"in r&&tu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),us&&Ss(us,r)||(us=r,r=Vi(Qo,"onSelect"),0<r.length&&(t=new Xl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function oi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ir={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionend:oi("Transition","TransitionEnd")},Za={},rh={};Ft&&(rh=document.createElement("div").style,"AnimationEvent"in window||(delete ir.animationend.animation,delete ir.animationiteration.animation,delete ir.animationstart.animation),"TransitionEvent"in window||delete ir.transitionend.transition);function wa(e){if(Za[e])return Za[e];if(!ir[e])return e;var t=ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rh)return Za[e]=t[n];return e}var sh=wa("animationend"),ih=wa("animationiteration"),ah=wa("animationstart"),oh=wa("transitionend"),lh=new Map,jc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,t){lh.set(e,t),zn(t,[e])}for(var eo=0;eo<jc.length;eo++){var to=jc[eo],hg=to.toLowerCase(),mg=to[0].toUpperCase()+to.slice(1);yn(hg,"on"+mg)}yn(sh,"onAnimationEnd");yn(ih,"onAnimationIteration");yn(ah,"onAnimationStart");yn("dblclick","onDoubleClick");yn("focusin","onFocus");yn("focusout","onBlur");yn(oh,"onTransitionEnd");xr("onMouseEnter",["mouseout","mouseover"]);xr("onMouseLeave",["mouseout","mouseover"]);xr("onPointerEnter",["pointerout","pointerover"]);xr("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function Cc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hv(r,t,void 0,e),e.currentTarget=null}function uh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Cc(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Cc(s,o,u),i=l}}}if(Ui)throw e=Ho,Ui=!1,Ho=null,e}function ae(e,t){var n=t[el];n===void 0&&(n=t[el]=new Set);var r=e+"__bubble";n.has(r)||(ch(t,e,2,!1),n.add(r))}function no(e,t,n){var r=0;t&&(r|=4),ch(n,e,r,t)}var li="_reactListening"+Math.random().toString(36).slice(2);function Es(e){if(!e[li]){e[li]=!0,gf.forEach(function(n){n!=="selectionchange"&&(pg.has(n)||no(n,!1,e),no(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[li]||(t[li]=!0,no("selectionchange",!1,t))}}function ch(e,t,n,r){switch(qf(t)){case 1:var s=Pv;break;case 4:s=Ov;break;default:s=Gl}n=s.bind(null,t,n,e),s=void 0,!Bo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ro(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=On(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Mf(function(){var u=i,c=Yl(n),f=[];e:{var h=lh.get(e);if(h!==void 0){var p=Xl,y=e;switch(e){case"keypress":if(ji(n)===0)break e;case"keydown":case"keyup":p=Vv;break;case"focusin":y="focus",p=Ga;break;case"focusout":y="blur",p=Ga;break;case"beforeblur":case"afterblur":p=Ga;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Qv;break;case sh:case ih:case ah:p=Lv;break;case oh:p=Gv;break;case"scroll":p=Tv;break;case"wheel":p=Xv;break;case"copy":case"cut":case"paste":p=Av;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=gc}var _=(t&4)!==0,x=!_&&e==="scroll",v=_?h!==null?h+"Capture":null:h;_=[];for(var m=u,g;m!==null;){g=m;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,v!==null&&(k=ws(m,v),k!=null&&_.push(js(m,k,g)))),x)break;m=m.return}0<_.length&&(h=new p(h,y,null,n,c),f.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==zo&&(y=n.relatedTarget||n.fromElement)&&(On(y)||y[Ut]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?On(y):null,y!==null&&(x=Wn(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(_=pc,k="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(_=gc,k="onPointerLeave",v="onPointerEnter",m="pointer"),x=p==null?h:ar(p),g=y==null?h:ar(y),h=new _(k,m+"leave",p,n,c),h.target=x,h.relatedTarget=g,k=null,On(c)===u&&(_=new _(v,m+"enter",y,n,c),_.target=g,_.relatedTarget=x,k=_),x=k,p&&y)t:{for(_=p,v=y,m=0,g=_;g;g=Gn(g))m++;for(g=0,k=v;k;k=Gn(k))g++;for(;0<m-g;)_=Gn(_),m--;for(;0<g-m;)v=Gn(v),g--;for(;m--;){if(_===v||v!==null&&_===v.alternate)break t;_=Gn(_),v=Gn(v)}_=null}else _=null;p!==null&&Nc(f,h,p,_,!1),y!==null&&x!==null&&Nc(f,x,y,_,!0)}}e:{if(h=u?ar(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=ig;else if(_c(h))if(Zf)S=ug;else{S=og;var P=ag}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=lg);if(S&&(S=S(e,u))){Xf(f,S,n,c);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Lo(h,"number",h.value)}switch(P=u?ar(u):window,e){case"focusin":(_c(P)||P.contentEditable==="true")&&(sr=P,Qo=u,us=null);break;case"focusout":us=Qo=sr=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,Ec(f,n,c);break;case"selectionchange":if(fg)break;case"keydown":case"keyup":Ec(f,n,c)}var N;if(eu)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else rr?Gf(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Kf&&n.locale!=="ko"&&(rr||O!=="onCompositionStart"?O==="onCompositionEnd"&&rr&&(N=Qf()):(rn=c,Jl="value"in rn?rn.value:rn.textContent,rr=!0)),P=Vi(u,O),0<P.length&&(O=new vc(O,e,null,n,c),f.push({event:O,listeners:P}),N?O.data=N:(N=Jf(n),N!==null&&(O.data=N)))),(N=eg?tg(e,n):ng(e,n))&&(u=Vi(u,"onBeforeInput"),0<u.length&&(c=new vc("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=N))}uh(f,t)})}function js(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ws(e,n),i!=null&&r.unshift(js(e,i,s)),i=ws(e,t),i!=null&&r.push(js(e,i,s))),e=e.return}return r}function Gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nc(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=ws(n,i),l!=null&&a.unshift(js(n,l,o))):s||(l=ws(n,i),l!=null&&a.push(js(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var vg=/\r\n?/g,gg=/\u0000|\uFFFD/g;function Pc(e){return(typeof e=="string"?e:""+e).replace(vg,`
`).replace(gg,"")}function ui(e,t,n){if(t=Pc(t),Pc(e)!==t&&n)throw Error(j(425))}function Yi(){}var Go=null,Jo=null;function Xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zo=typeof setTimeout=="function"?setTimeout:void 0,yg=typeof clearTimeout=="function"?clearTimeout:void 0,Oc=typeof Promise=="function"?Promise:void 0,wg=typeof queueMicrotask=="function"?queueMicrotask:typeof Oc<"u"?function(e){return Oc.resolve(null).then(e).catch(_g)}:Zo;function _g(e){setTimeout(function(){throw e})}function so(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ks(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ks(t)}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Rr=Math.random().toString(36).slice(2),Et="__reactFiber$"+Rr,Cs="__reactProps$"+Rr,Ut="__reactContainer$"+Rr,el="__reactEvents$"+Rr,xg="__reactListeners$"+Rr,kg="__reactHandles$"+Rr;function On(e){var t=e[Et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ut]||n[Et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tc(e);e!==null;){if(n=e[Et])return n;e=Tc(e)}return t}e=n,n=e.parentNode}return null}function zs(e){return e=e[Et]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function _a(e){return e[Cs]||null}var tl=[],or=-1;function wn(e){return{current:e}}function le(e){0>or||(e.current=tl[or],tl[or]=null,or--)}function se(e,t){or++,tl[or]=e.current,e.current=t}var gn={},Re=wn(gn),He=wn(!1),$n=gn;function kr(e,t){var n=e.type.contextTypes;if(!n)return gn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ve(e){return e=e.childContextTypes,e!=null}function qi(){le(He),le(Re)}function Dc(e,t,n){if(Re.current!==gn)throw Error(j(168));se(Re,t),se(He,n)}function dh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(j(108,av(e)||"Unknown",s));return me({},n,r)}function Qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gn,$n=Re.current,se(Re,e),se(He,He.current),!0}function Mc(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=dh(e,t,$n),r.__reactInternalMemoizedMergedChildContext=e,le(He),le(Re),se(Re,e)):le(He),se(He,n)}var $t=null,xa=!1,io=!1;function fh(e){$t===null?$t=[e]:$t.push(e)}function bg(e){xa=!0,fh(e)}function _n(){if(!io&&$t!==null){io=!0;var e=0,t=te;try{var n=$t;for(te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$t=null,xa=!1}catch(s){throw $t!==null&&($t=$t.slice(e+1)),If(ql,_n),s}finally{te=t,io=!1}}return null}var lr=[],ur=0,Ki=null,Gi=0,rt=[],st=0,Ln=null,Lt=1,It="";function En(e,t){lr[ur++]=Gi,lr[ur++]=Ki,Ki=e,Gi=t}function hh(e,t,n){rt[st++]=Lt,rt[st++]=It,rt[st++]=Ln,Ln=e;var r=Lt;e=It;var s=32-gt(r)-1;r&=~(1<<s),n+=1;var i=32-gt(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Lt=1<<32-gt(t)+s|n<<s|r,It=i+e}else Lt=1<<i|n<<s|r,It=e}function nu(e){e.return!==null&&(En(e,1),hh(e,1,0))}function ru(e){for(;e===Ki;)Ki=lr[--ur],lr[ur]=null,Gi=lr[--ur],lr[ur]=null;for(;e===Ln;)Ln=rt[--st],rt[st]=null,It=rt[--st],rt[st]=null,Lt=rt[--st],rt[st]=null}var Xe=null,Je=null,ue=!1,vt=null;function mh(e,t){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Je=cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ln!==null?{id:Lt,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xe=e,Je=null,!0):!1;default:return!1}}function nl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rl(e){if(ue){var t=Je;if(t){var n=t;if(!Rc(e,t)){if(nl(e))throw Error(j(418));t=cn(n.nextSibling);var r=Xe;t&&Rc(e,t)?mh(r,n):(e.flags=e.flags&-4097|2,ue=!1,Xe=e)}}else{if(nl(e))throw Error(j(418));e.flags=e.flags&-4097|2,ue=!1,Xe=e}}}function $c(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function ci(e){if(e!==Xe)return!1;if(!ue)return $c(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xo(e.type,e.memoizedProps)),t&&(t=Je)){if(nl(e))throw ph(),Error(j(418));for(;t;)mh(e,t),t=cn(t.nextSibling)}if($c(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Je=cn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=Xe?cn(e.stateNode.nextSibling):null;return!0}function ph(){for(var e=Je;e;)e=cn(e.nextSibling)}function br(){Je=Xe=null,ue=!1}function su(e){vt===null?vt=[e]:vt.push(e)}var Sg=Ht.ReactCurrentBatchConfig;function Yr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function di(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lc(e){var t=e._init;return t(e._payload)}function vh(e){function t(v,m){if(e){var g=v.deletions;g===null?(v.deletions=[m],v.flags|=16):g.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=mn(v,m),v.index=0,v.sibling=null,v}function i(v,m,g){return v.index=g,e?(g=v.alternate,g!==null?(g=g.index,g<m?(v.flags|=2,m):g):(v.flags|=2,m)):(v.flags|=1048576,m)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,m,g,k){return m===null||m.tag!==6?(m=ho(g,v.mode,k),m.return=v,m):(m=s(m,g),m.return=v,m)}function l(v,m,g,k){var S=g.type;return S===nr?c(v,m,g.props.children,k,g.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gt&&Lc(S)===m.type)?(k=s(m,g.props),k.ref=Yr(v,m,g),k.return=v,k):(k=Mi(g.type,g.key,g.props,null,v.mode,k),k.ref=Yr(v,m,g),k.return=v,k)}function u(v,m,g,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=mo(g,v.mode,k),m.return=v,m):(m=s(m,g.children||[]),m.return=v,m)}function c(v,m,g,k,S){return m===null||m.tag!==7?(m=Rn(g,v.mode,k,S),m.return=v,m):(m=s(m,g),m.return=v,m)}function f(v,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ho(""+m,v.mode,g),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ei:return g=Mi(m.type,m.key,m.props,null,v.mode,g),g.ref=Yr(v,null,m),g.return=v,g;case tr:return m=mo(m,v.mode,g),m.return=v,m;case Gt:var k=m._init;return f(v,k(m._payload),g)}if(es(m)||zr(m))return m=Rn(m,v.mode,g,null),m.return=v,m;di(v,m)}return null}function h(v,m,g,k){var S=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:o(v,m,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ei:return g.key===S?l(v,m,g,k):null;case tr:return g.key===S?u(v,m,g,k):null;case Gt:return S=g._init,h(v,m,S(g._payload),k)}if(es(g)||zr(g))return S!==null?null:c(v,m,g,k,null);di(v,g)}return null}function p(v,m,g,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(g)||null,o(m,v,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ei:return v=v.get(k.key===null?g:k.key)||null,l(m,v,k,S);case tr:return v=v.get(k.key===null?g:k.key)||null,u(m,v,k,S);case Gt:var P=k._init;return p(v,m,g,P(k._payload),S)}if(es(k)||zr(k))return v=v.get(g)||null,c(m,v,k,S,null);di(m,k)}return null}function y(v,m,g,k){for(var S=null,P=null,N=m,O=m=0,L=null;N!==null&&O<g.length;O++){N.index>O?(L=N,N=null):L=N.sibling;var H=h(v,N,g[O],k);if(H===null){N===null&&(N=L);break}e&&N&&H.alternate===null&&t(v,N),m=i(H,m,O),P===null?S=H:P.sibling=H,P=H,N=L}if(O===g.length)return n(v,N),ue&&En(v,O),S;if(N===null){for(;O<g.length;O++)N=f(v,g[O],k),N!==null&&(m=i(N,m,O),P===null?S=N:P.sibling=N,P=N);return ue&&En(v,O),S}for(N=r(v,N);O<g.length;O++)L=p(N,v,O,g[O],k),L!==null&&(e&&L.alternate!==null&&N.delete(L.key===null?O:L.key),m=i(L,m,O),P===null?S=L:P.sibling=L,P=L);return e&&N.forEach(function(Z){return t(v,Z)}),ue&&En(v,O),S}function _(v,m,g,k){var S=zr(g);if(typeof S!="function")throw Error(j(150));if(g=S.call(g),g==null)throw Error(j(151));for(var P=S=null,N=m,O=m=0,L=null,H=g.next();N!==null&&!H.done;O++,H=g.next()){N.index>O?(L=N,N=null):L=N.sibling;var Z=h(v,N,H.value,k);if(Z===null){N===null&&(N=L);break}e&&N&&Z.alternate===null&&t(v,N),m=i(Z,m,O),P===null?S=Z:P.sibling=Z,P=Z,N=L}if(H.done)return n(v,N),ue&&En(v,O),S;if(N===null){for(;!H.done;O++,H=g.next())H=f(v,H.value,k),H!==null&&(m=i(H,m,O),P===null?S=H:P.sibling=H,P=H);return ue&&En(v,O),S}for(N=r(v,N);!H.done;O++,H=g.next())H=p(N,v,O,H.value,k),H!==null&&(e&&H.alternate!==null&&N.delete(H.key===null?O:H.key),m=i(H,m,O),P===null?S=H:P.sibling=H,P=H);return e&&N.forEach(function(je){return t(v,je)}),ue&&En(v,O),S}function x(v,m,g,k){if(typeof g=="object"&&g!==null&&g.type===nr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ei:e:{for(var S=g.key,P=m;P!==null;){if(P.key===S){if(S=g.type,S===nr){if(P.tag===7){n(v,P.sibling),m=s(P,g.props.children),m.return=v,v=m;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gt&&Lc(S)===P.type){n(v,P.sibling),m=s(P,g.props),m.ref=Yr(v,P,g),m.return=v,v=m;break e}n(v,P);break}else t(v,P);P=P.sibling}g.type===nr?(m=Rn(g.props.children,v.mode,k,g.key),m.return=v,v=m):(k=Mi(g.type,g.key,g.props,null,v.mode,k),k.ref=Yr(v,m,g),k.return=v,v=k)}return a(v);case tr:e:{for(P=g.key;m!==null;){if(m.key===P)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(v,m.sibling),m=s(m,g.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=mo(g,v.mode,k),m.return=v,v=m}return a(v);case Gt:return P=g._init,x(v,m,P(g._payload),k)}if(es(g))return y(v,m,g,k);if(zr(g))return _(v,m,g,k);di(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(v,m.sibling),m=s(m,g),m.return=v,v=m):(n(v,m),m=ho(g,v.mode,k),m.return=v,v=m),a(v)):n(v,m)}return x}var Sr=vh(!0),gh=vh(!1),Ji=wn(null),Xi=null,cr=null,iu=null;function au(){iu=cr=Xi=null}function ou(e){var t=Ji.current;le(Ji),e._currentValue=t}function sl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function gr(e,t){Xi=e,iu=cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function lt(e){var t=e._currentValue;if(iu!==e)if(e={context:e,memoizedValue:t,next:null},cr===null){if(Xi===null)throw Error(j(308));cr=e,Xi.dependencies={lanes:0,firstContext:e}}else cr=cr.next=e;return t}var Tn=null;function lu(e){Tn===null?Tn=[e]:Tn.push(e)}function yh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,lu(t)):(n.next=s.next,s.next=n),t.interleaved=n,zt(e,r)}function zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jt=!1;function uu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function At(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,zt(e,n)}return s=r.interleaved,s===null?(t.next=t,lu(r)):(t.next=s.next,s.next=t),r.interleaved=t,zt(e,n)}function Ci(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ql(e,n)}}function Ic(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zi(e,t,n,r){var s=e.updateQueue;Jt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;a=0,c=u=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,_=o;switch(h=t,p=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=me({},f,h);break e;case 2:Jt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);An|=a,e.lanes=a,e.memoizedState=f}}function Ac(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var Ws={},Ot=wn(Ws),Ns=wn(Ws),Ps=wn(Ws);function Dn(e){if(e===Ws)throw Error(j(174));return e}function cu(e,t){switch(se(Ps,t),se(Ns,e),se(Ot,Ws),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ao(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ao(t,e)}le(Ot),se(Ot,t)}function Er(){le(Ot),le(Ns),le(Ps)}function _h(e){Dn(Ps.current);var t=Dn(Ot.current),n=Ao(t,e.type);t!==n&&(se(Ns,e),se(Ot,n))}function du(e){Ns.current===e&&(le(Ot),le(Ns))}var fe=wn(0);function ea(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function fu(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var Ni=Ht.ReactCurrentDispatcher,oo=Ht.ReactCurrentBatchConfig,In=0,he=null,_e=null,Se=null,ta=!1,cs=!1,Os=0,Eg=0;function Te(){throw Error(j(321))}function hu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function mu(e,t,n,r,s,i){if(In=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ni.current=e===null||e.memoizedState===null?Pg:Og,e=n(r,s),cs){i=0;do{if(cs=!1,Os=0,25<=i)throw Error(j(301));i+=1,Se=_e=null,t.updateQueue=null,Ni.current=Tg,e=n(r,s)}while(cs)}if(Ni.current=na,t=_e!==null&&_e.next!==null,In=0,Se=_e=he=null,ta=!1,t)throw Error(j(300));return e}function pu(){var e=Os!==0;return Os=0,e}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?he.memoizedState=Se=e:Se=Se.next=e,Se}function ut(){if(_e===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Se===null?he.memoizedState:Se.next;if(t!==null)Se=t,_e=e;else{if(e===null)throw Error(j(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Se===null?he.memoizedState=Se=e:Se=Se.next=e}return Se}function Ts(e,t){return typeof t=="function"?t(e):t}function lo(e){var t=ut(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=_e,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((In&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,he.lanes|=c,An|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,_t(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,he.lanes|=i,An|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uo(e){var t=ut(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);_t(i,t.memoizedState)||(Be=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function xh(){}function kh(e,t){var n=he,r=ut(),s=t(),i=!_t(r.memoizedState,s);if(i&&(r.memoizedState=s,Be=!0),r=r.queue,vu(Eh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,Ds(9,Sh.bind(null,n,r,s,t),void 0,null),Ee===null)throw Error(j(349));In&30||bh(n,t,s)}return s}function bh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sh(e,t,n,r){t.value=n,t.getSnapshot=r,jh(t)&&Ch(e)}function Eh(e,t,n){return n(function(){jh(t)&&Ch(e)})}function jh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function Ch(e){var t=zt(e,1);t!==null&&yt(t,e,1,-1)}function Fc(e){var t=St();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:e},t.queue=e,e=e.dispatch=Ng.bind(null,he,e),[t.memoizedState,e]}function Ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Nh(){return ut().memoizedState}function Pi(e,t,n,r){var s=St();he.flags|=e,s.memoizedState=Ds(1|t,n,void 0,r===void 0?null:r)}function ka(e,t,n,r){var s=ut();r=r===void 0?null:r;var i=void 0;if(_e!==null){var a=_e.memoizedState;if(i=a.destroy,r!==null&&hu(r,a.deps)){s.memoizedState=Ds(t,n,i,r);return}}he.flags|=e,s.memoizedState=Ds(1|t,n,i,r)}function Uc(e,t){return Pi(8390656,8,e,t)}function vu(e,t){return ka(2048,8,e,t)}function Ph(e,t){return ka(4,2,e,t)}function Oh(e,t){return ka(4,4,e,t)}function Th(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dh(e,t,n){return n=n!=null?n.concat([e]):null,ka(4,4,Th.bind(null,t,e),n)}function gu(){}function Mh(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Rh(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $h(e,t,n){return In&21?(_t(n,t)||(n=Uf(),he.lanes|=n,An|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function jg(e,t){var n=te;te=n!==0&&4>n?n:4,e(!0);var r=oo.transition;oo.transition={};try{e(!1),t()}finally{te=n,oo.transition=r}}function Lh(){return ut().memoizedState}function Cg(e,t,n){var r=hn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ih(e))Ah(t,n);else if(n=yh(e,t,n,r),n!==null){var s=Ie();yt(n,e,r,s),Fh(n,t,r)}}function Ng(e,t,n){var r=hn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ih(e))Ah(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,_t(o,a)){var l=t.interleaved;l===null?(s.next=s,lu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=yh(e,t,s,r),n!==null&&(s=Ie(),yt(n,e,r,s),Fh(n,t,r))}}function Ih(e){var t=e.alternate;return e===he||t!==null&&t===he}function Ah(e,t){cs=ta=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ql(e,n)}}var na={readContext:lt,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},Pg={readContext:lt,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Uc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Pi(4194308,4,Th.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pi(4,2,e,t)},useMemo:function(e,t){var n=St();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=St();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Cg.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:Fc,useDebugValue:gu,useDeferredValue:function(e){return St().memoizedState=e},useTransition:function(){var e=Fc(!1),t=e[0];return e=jg.bind(null,e[1]),St().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,s=St();if(ue){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),Ee===null)throw Error(j(349));In&30||bh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Uc(Eh.bind(null,r,i,e),[e]),r.flags|=2048,Ds(9,Sh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=St(),t=Ee.identifierPrefix;if(ue){var n=It,r=Lt;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Os++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Eg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Og={readContext:lt,useCallback:Mh,useContext:lt,useEffect:vu,useImperativeHandle:Dh,useInsertionEffect:Ph,useLayoutEffect:Oh,useMemo:Rh,useReducer:lo,useRef:Nh,useState:function(){return lo(Ts)},useDebugValue:gu,useDeferredValue:function(e){var t=ut();return $h(t,_e.memoizedState,e)},useTransition:function(){var e=lo(Ts)[0],t=ut().memoizedState;return[e,t]},useMutableSource:xh,useSyncExternalStore:kh,useId:Lh,unstable_isNewReconciler:!1},Tg={readContext:lt,useCallback:Mh,useContext:lt,useEffect:vu,useImperativeHandle:Dh,useInsertionEffect:Ph,useLayoutEffect:Oh,useMemo:Rh,useReducer:uo,useRef:Nh,useState:function(){return uo(Ts)},useDebugValue:gu,useDeferredValue:function(e){var t=ut();return _e===null?t.memoizedState=e:$h(t,_e.memoizedState,e)},useTransition:function(){var e=uo(Ts)[0],t=ut().memoizedState;return[e,t]},useMutableSource:xh,useSyncExternalStore:kh,useId:Lh,unstable_isNewReconciler:!1};function ht(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function il(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ba={isMounted:function(e){return(e=e._reactInternals)?Wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=hn(e),i=At(r,s);i.payload=t,n!=null&&(i.callback=n),t=dn(e,i,s),t!==null&&(yt(t,e,s,r),Ci(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=hn(e),i=At(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=dn(e,i,s),t!==null&&(yt(t,e,s,r),Ci(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=hn(e),s=At(n,r);s.tag=2,t!=null&&(s.callback=t),t=dn(e,s,r),t!==null&&(yt(t,e,r,n),Ci(t,e,r))}};function zc(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ss(n,r)||!Ss(s,i):!0}function Uh(e,t,n){var r=!1,s=gn,i=t.contextType;return typeof i=="object"&&i!==null?i=lt(i):(s=Ve(t)?$n:Re.current,r=t.contextTypes,i=(r=r!=null)?kr(e,s):gn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ba,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Wc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function al(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},uu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=lt(i):(i=Ve(t)?$n:Re.current,s.context=kr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(il(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ba.enqueueReplaceState(s,s.state,null),Zi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function jr(e,t){try{var n="",r=t;do n+=iv(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function co(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ol(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dg=typeof WeakMap=="function"?WeakMap:Map;function zh(e,t,n){n=At(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sa||(sa=!0,gl=r),ol(e,t)},n}function Wh(e,t,n){n=At(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ol(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ol(e,t),typeof r!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Bc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Dg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Yg.bind(null,e,t,n),t.then(e,e))}function Hc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=At(-1,1),t.tag=2,dn(n,t,1))),n.lanes|=1),e)}var Mg=Ht.ReactCurrentOwner,Be=!1;function $e(e,t,n,r){t.child=e===null?gh(t,null,n,r):Sr(t,e.child,n,r)}function Yc(e,t,n,r,s){n=n.render;var i=t.ref;return gr(t,s),r=mu(e,t,n,r,i,s),n=pu(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wt(e,t,s)):(ue&&n&&nu(t),t.flags|=1,$e(e,t,r,s),t.child)}function qc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Eu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Bh(e,t,i,r,s)):(e=Mi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ss,n(a,r)&&e.ref===t.ref)return Wt(e,t,s)}return t.flags|=1,e=mn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Bh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ss(i,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Wt(e,t,s)}return ll(e,t,n,r,s)}function Hh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(fr,Ge),Ge|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(fr,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,se(fr,Ge),Ge|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,se(fr,Ge),Ge|=r;return $e(e,t,s,n),t.child}function Vh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ll(e,t,n,r,s){var i=Ve(n)?$n:Re.current;return i=kr(t,i),gr(t,s),n=mu(e,t,n,r,i,s),r=pu(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wt(e,t,s)):(ue&&r&&nu(t),t.flags|=1,$e(e,t,n,s),t.child)}function Qc(e,t,n,r,s){if(Ve(n)){var i=!0;Qi(t)}else i=!1;if(gr(t,s),t.stateNode===null)Oi(e,t),Uh(t,n,r),al(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=lt(u):(u=Ve(n)?$n:Re.current,u=kr(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&Wc(t,a,r,u),Jt=!1;var h=t.memoizedState;a.state=h,Zi(t,r,a,s),l=t.memoizedState,o!==r||h!==l||He.current||Jt?(typeof c=="function"&&(il(t,n,c,r),l=t.memoizedState),(o=Jt||zc(t,n,o,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,wh(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ht(t.type,o),a.props=u,f=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=lt(l):(l=Ve(n)?$n:Re.current,l=kr(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&Wc(t,a,r,l),Jt=!1,h=t.memoizedState,a.state=h,Zi(t,r,a,s);var y=t.memoizedState;o!==f||h!==y||He.current||Jt?(typeof p=="function"&&(il(t,n,p,r),y=t.memoizedState),(u=Jt||zc(t,n,u,r,h,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ul(e,t,n,r,i,s)}function ul(e,t,n,r,s,i){Vh(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Mc(t,n,!1),Wt(e,t,i);r=t.stateNode,Mg.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Sr(t,e.child,null,i),t.child=Sr(t,null,o,i)):$e(e,t,o,i),t.memoizedState=r.state,s&&Mc(t,n,!0),t.child}function Yh(e){var t=e.stateNode;t.pendingContext?Dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dc(e,t.context,!1),cu(e,t.containerInfo)}function Kc(e,t,n,r,s){return br(),su(s),t.flags|=256,$e(e,t,n,r),t.child}var cl={dehydrated:null,treeContext:null,retryLane:0};function dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function qh(e,t,n){var r=t.pendingProps,s=fe.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),se(fe,s&1),e===null)return rl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ja(a,r,0,null),e=Rn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=dl(n),t.memoizedState=cl,e):yu(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Rg(e,t,a,r,o,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=mn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=mn(o,i):(i=Rn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?dl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=cl,r}return i=e.child,e=i.sibling,r=mn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yu(e,t){return t=ja({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fi(e,t,n,r){return r!==null&&su(r),Sr(t,e.child,null,n),e=yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rg(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=co(Error(j(422))),fi(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ja({mode:"visible",children:r.children},s,0,null),i=Rn(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Sr(t,e.child,null,a),t.child.memoizedState=dl(a),t.memoizedState=cl,i);if(!(t.mode&1))return fi(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(j(419)),r=co(i,r,void 0),fi(e,t,a,r)}if(o=(a&e.childLanes)!==0,Be||o){if(r=Ee,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zt(e,s),yt(r,e,s,-1))}return Su(),r=co(Error(j(421))),fi(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Je=cn(s.nextSibling),Xe=t,ue=!0,vt=null,e!==null&&(rt[st++]=Lt,rt[st++]=It,rt[st++]=Ln,Lt=e.id,It=e.overflow,Ln=t),t=yu(t,r.children),t.flags|=4096,t)}function Gc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),sl(e.return,t,n)}function fo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Qh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if($e(e,t,r.children,n),r=fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gc(e,n,t);else if(e.tag===19)Gc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(fe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ea(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),fo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ea(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}fo(t,!0,n,null,i);break;case"together":fo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),An|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $g(e,t,n){switch(t.tag){case 3:Yh(t),br();break;case 5:_h(t);break;case 1:Ve(t.type)&&Qi(t);break;case 4:cu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;se(Ji,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?qh(e,t,n):(se(fe,fe.current&1),e=Wt(e,t,n),e!==null?e.sibling:null);se(fe,fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Qh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(fe,fe.current),r)break;return null;case 22:case 23:return t.lanes=0,Hh(e,t,n)}return Wt(e,t,n)}var Kh,fl,Gh,Jh;Kh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fl=function(){};Gh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Dn(Ot.current);var i=null;switch(n){case"input":s=Ro(e,s),r=Ro(e,r),i=[];break;case"select":s=me({},s,{value:void 0}),r=me({},r,{value:void 0}),i=[];break;case"textarea":s=Io(e,s),r=Io(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yi)}Fo(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ae("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Jh=function(e,t,n,r){n!==r&&(t.flags|=4)};function qr(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Lg(e,t,n){var r=t.pendingProps;switch(ru(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return Ve(t.type)&&qi(),De(t),null;case 3:return r=t.stateNode,Er(),le(He),le(Re),fu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ci(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vt!==null&&(_l(vt),vt=null))),fl(e,t),De(t),null;case 5:du(t);var s=Dn(Ps.current);if(n=t.type,e!==null&&t.stateNode!=null)Gh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(j(166));return De(t),null}if(e=Dn(Ot.current),ci(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Et]=t,r[Cs]=i,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(s=0;s<ns.length;s++)ae(ns[s],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":ic(r,i),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ae("invalid",r);break;case"textarea":oc(r,i),ae("invalid",r)}Fo(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&ui(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ui(r.textContent,o,e),s=["children",""+o]):gs.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ae("scroll",r)}switch(n){case"input":ti(r),ac(r,i,!0);break;case"textarea":ti(r),lc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ef(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Et]=t,e[Cs]=r,Kh(e,t,!1,!1),t.stateNode=e;e:{switch(a=Uo(n,r),n){case"dialog":ae("cancel",e),ae("close",e),s=r;break;case"iframe":case"object":case"embed":ae("load",e),s=r;break;case"video":case"audio":for(s=0;s<ns.length;s++)ae(ns[s],e);s=r;break;case"source":ae("error",e),s=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),s=r;break;case"details":ae("toggle",e),s=r;break;case"input":ic(e,r),s=Ro(e,r),ae("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=me({},r,{value:void 0}),ae("invalid",e);break;case"textarea":oc(e,r),s=Io(e,r),ae("invalid",e);break;default:s=r}Fo(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Nf(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jf(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ys(e,l):typeof l=="number"&&ys(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ae("scroll",e):l!=null&&Wl(e,i,l,a))}switch(n){case"input":ti(e),ac(e,r,!1);break;case"textarea":ti(e),lc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?hr(e,!!r.multiple,i,!1):r.defaultValue!=null&&hr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Yi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)Jh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(n=Dn(Ps.current),Dn(Ot.current),ci(t)){if(r=t.stateNode,n=t.memoizedProps,r[Et]=t,(i=r.nodeValue!==n)&&(e=Xe,e!==null))switch(e.tag){case 3:ui(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ui(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Et]=t,t.stateNode=r}return De(t),null;case 13:if(le(fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&Je!==null&&t.mode&1&&!(t.flags&128))ph(),br(),t.flags|=98560,i=!1;else if(i=ci(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(j(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[Et]=t}else br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),i=!1}else vt!==null&&(_l(vt),vt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?ke===0&&(ke=3):Su())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return Er(),fl(e,t),e===null&&Es(t.stateNode.containerInfo),De(t),null;case 10:return ou(t.type._context),De(t),null;case 17:return Ve(t.type)&&qi(),De(t),null;case 19:if(le(fe),i=t.memoizedState,i===null)return De(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)qr(i,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ea(e),a!==null){for(t.flags|=128,qr(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(fe,fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&ve()>Cr&&(t.flags|=128,r=!0,qr(i,!1),t.lanes=4194304)}else{if(!r)if(e=ea(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ue)return De(t),null}else 2*ve()-i.renderingStartTime>Cr&&n!==1073741824&&(t.flags|=128,r=!0,qr(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ve(),t.sibling=null,n=fe.current,se(fe,r?n&1|2:n&1),t):(De(t),null);case 22:case 23:return bu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ge&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function Ig(e,t){switch(ru(t),t.tag){case 1:return Ve(t.type)&&qi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Er(),le(He),le(Re),fu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return du(t),null;case 13:if(le(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(fe),null;case 4:return Er(),null;case 10:return ou(t.type._context),null;case 22:case 23:return bu(),null;case 24:return null;default:return null}}var hi=!1,Me=!1,Ag=typeof WeakSet=="function"?WeakSet:Set,M=null;function dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(e,t,r)}else n.current=null}function hl(e,t,n){try{n()}catch(r){pe(e,t,r)}}var Jc=!1;function Fg(e,t){if(Go=Bi,e=nh(),tu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(o=a+s),f!==i||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===s&&(o=a),h===i&&++c===r&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jo={focusedElem:e,selectionRange:n},Bi=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,x=y.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?_:ht(t.type,_),x);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(k){pe(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return y=Jc,Jc=!1,y}function ds(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&hl(t,n,i)}s=s.next}while(s!==r)}}function Sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ml(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Xh(e){var t=e.alternate;t!==null&&(e.alternate=null,Xh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Et],delete t[Cs],delete t[el],delete t[xg],delete t[kg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zh(e){return e.tag===5||e.tag===3||e.tag===4}function Xc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yi));else if(r!==4&&(e=e.child,e!==null))for(pl(e,t,n),e=e.sibling;e!==null;)pl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vl(e,t,n),e=e.sibling;e!==null;)vl(e,t,n),e=e.sibling}var Ne=null,mt=!1;function Yt(e,t,n){for(n=n.child;n!==null;)em(e,t,n),n=n.sibling}function em(e,t,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(va,n)}catch{}switch(n.tag){case 5:Me||dr(n,t);case 6:var r=Ne,s=mt;Ne=null,Yt(e,t,n),Ne=r,mt=s,Ne!==null&&(mt?(e=Ne,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(mt?(e=Ne,n=n.stateNode,e.nodeType===8?so(e.parentNode,n):e.nodeType===1&&so(e,n),ks(e)):so(Ne,n.stateNode));break;case 4:r=Ne,s=mt,Ne=n.stateNode.containerInfo,mt=!0,Yt(e,t,n),Ne=r,mt=s;break;case 0:case 11:case 14:case 15:if(!Me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&hl(n,t,a),s=s.next}while(s!==r)}Yt(e,t,n);break;case 1:if(!Me&&(dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){pe(n,t,o)}Yt(e,t,n);break;case 21:Yt(e,t,n);break;case 22:n.mode&1?(Me=(r=Me)||n.memoizedState!==null,Yt(e,t,n),Me=r):Yt(e,t,n);break;default:Yt(e,t,n)}}function Zc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ag),t.forEach(function(r){var s=Qg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ne=o.stateNode,mt=!1;break e;case 3:Ne=o.stateNode.containerInfo,mt=!0;break e;case 4:Ne=o.stateNode.containerInfo,mt=!0;break e}o=o.return}if(Ne===null)throw Error(j(160));em(i,a,s),Ne=null,mt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){pe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tm(t,e),t=t.sibling}function tm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dt(t,e),bt(e),r&4){try{ds(3,e,e.return),Sa(3,e)}catch(_){pe(e,e.return,_)}try{ds(5,e,e.return)}catch(_){pe(e,e.return,_)}}break;case 1:dt(t,e),bt(e),r&512&&n!==null&&dr(n,n.return);break;case 5:if(dt(t,e),bt(e),r&512&&n!==null&&dr(n,n.return),e.flags&32){var s=e.stateNode;try{ys(s,"")}catch(_){pe(e,e.return,_)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&bf(s,i),Uo(o,a);var u=Uo(o,i);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?Nf(s,f):c==="dangerouslySetInnerHTML"?jf(s,f):c==="children"?ys(s,f):Wl(s,c,f,u)}switch(o){case"input":$o(s,i);break;case"textarea":Sf(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?hr(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?hr(s,!!i.multiple,i.defaultValue,!0):hr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Cs]=i}catch(_){pe(e,e.return,_)}}break;case 6:if(dt(t,e),bt(e),r&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(_){pe(e,e.return,_)}}break;case 3:if(dt(t,e),bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ks(t.containerInfo)}catch(_){pe(e,e.return,_)}break;case 4:dt(t,e),bt(e);break;case 13:dt(t,e),bt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xu=ve())),r&4&&Zc(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Me=(u=Me)||c,dt(t,e),Me=u):dt(t,e),bt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(M=e,c=e.child;c!==null;){for(f=M=c;M!==null;){switch(h=M,p=h.child,h.tag){case 0:case 11:case 14:case 15:ds(4,h,h.return);break;case 1:dr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(_){pe(r,n,_)}}break;case 5:dr(h,h.return);break;case 22:if(h.memoizedState!==null){td(f);continue}}p!==null?(p.return=h,M=p):td(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Cf("display",a))}catch(_){pe(e,e.return,_)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){pe(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:dt(t,e),bt(e),r&4&&Zc(e);break;case 21:break;default:dt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Zh(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ys(s,""),r.flags&=-33);var i=Xc(e);vl(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Xc(e);pl(e,o,a);break;default:throw Error(j(161))}}catch(l){pe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ug(e,t,n){M=e,nm(e)}function nm(e,t,n){for(var r=(e.mode&1)!==0;M!==null;){var s=M,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||hi;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Me;o=hi;var u=Me;if(hi=a,(Me=l)&&!u)for(M=s;M!==null;)a=M,l=a.child,a.tag===22&&a.memoizedState!==null?nd(s):l!==null?(l.return=a,M=l):nd(s);for(;i!==null;)M=i,nm(i),i=i.sibling;M=s,hi=o,Me=u}ed(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,M=i):ed(e)}}function ed(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||Sa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Me)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ht(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ac(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ac(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ks(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Me||t.flags&512&&ml(t)}catch(h){pe(t,t.return,h)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function td(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function nd(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sa(4,t)}catch(l){pe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){pe(t,s,l)}}var i=t.return;try{ml(t)}catch(l){pe(t,i,l)}break;case 5:var a=t.return;try{ml(t)}catch(l){pe(t,a,l)}}}catch(l){pe(t,t.return,l)}if(t===e){M=null;break}var o=t.sibling;if(o!==null){o.return=t.return,M=o;break}M=t.return}}var zg=Math.ceil,ra=Ht.ReactCurrentDispatcher,wu=Ht.ReactCurrentOwner,at=Ht.ReactCurrentBatchConfig,J=0,Ee=null,ye=null,Pe=0,Ge=0,fr=wn(0),ke=0,Ms=null,An=0,Ea=0,_u=0,fs=null,ze=null,xu=0,Cr=1/0,Rt=null,sa=!1,gl=null,fn=null,mi=!1,sn=null,ia=0,hs=0,yl=null,Ti=-1,Di=0;function Ie(){return J&6?ve():Ti!==-1?Ti:Ti=ve()}function hn(e){return e.mode&1?J&2&&Pe!==0?Pe&-Pe:Sg.transition!==null?(Di===0&&(Di=Uf()),Di):(e=te,e!==0||(e=window.event,e=e===void 0?16:qf(e.type)),e):1}function yt(e,t,n,r){if(50<hs)throw hs=0,yl=null,Error(j(185));Fs(e,n,r),(!(J&2)||e!==Ee)&&(e===Ee&&(!(J&2)&&(Ea|=n),ke===4&&en(e,Pe)),Ye(e,r),n===1&&J===0&&!(t.mode&1)&&(Cr=ve()+500,xa&&_n()))}function Ye(e,t){var n=e.callbackNode;Sv(e,t);var r=Wi(e,e===Ee?Pe:0);if(r===0)n!==null&&dc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&dc(n),t===1)e.tag===0?bg(rd.bind(null,e)):fh(rd.bind(null,e)),wg(function(){!(J&6)&&_n()}),n=null;else{switch(zf(r)){case 1:n=ql;break;case 4:n=Af;break;case 16:n=zi;break;case 536870912:n=Ff;break;default:n=zi}n=cm(n,rm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rm(e,t){if(Ti=-1,Di=0,J&6)throw Error(j(327));var n=e.callbackNode;if(yr()&&e.callbackNode!==n)return null;var r=Wi(e,e===Ee?Pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=aa(e,r);else{t=r;var s=J;J|=2;var i=im();(Ee!==e||Pe!==t)&&(Rt=null,Cr=ve()+500,Mn(e,t));do try{Hg();break}catch(o){sm(e,o)}while(!0);au(),ra.current=i,J=s,ye!==null?t=0:(Ee=null,Pe=0,t=ke)}if(t!==0){if(t===2&&(s=Vo(e),s!==0&&(r=s,t=wl(e,s))),t===1)throw n=Ms,Mn(e,0),en(e,r),Ye(e,ve()),n;if(t===6)en(e,r);else{if(s=e.current.alternate,!(r&30)&&!Wg(s)&&(t=aa(e,r),t===2&&(i=Vo(e),i!==0&&(r=i,t=wl(e,i))),t===1))throw n=Ms,Mn(e,0),en(e,r),Ye(e,ve()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(j(345));case 2:jn(e,ze,Rt);break;case 3:if(en(e,r),(r&130023424)===r&&(t=xu+500-ve(),10<t)){if(Wi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Zo(jn.bind(null,e,ze,Rt),t);break}jn(e,ze,Rt);break;case 4:if(en(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-gt(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zg(r/1960))-r,10<r){e.timeoutHandle=Zo(jn.bind(null,e,ze,Rt),r);break}jn(e,ze,Rt);break;case 5:jn(e,ze,Rt);break;default:throw Error(j(329))}}}return Ye(e,ve()),e.callbackNode===n?rm.bind(null,e):null}function wl(e,t){var n=fs;return e.current.memoizedState.isDehydrated&&(Mn(e,t).flags|=256),e=aa(e,t),e!==2&&(t=ze,ze=n,t!==null&&_l(t)),e}function _l(e){ze===null?ze=e:ze.push.apply(ze,e)}function Wg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_t(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function en(e,t){for(t&=~_u,t&=~Ea,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),r=1<<n;e[n]=-1,t&=~r}}function rd(e){if(J&6)throw Error(j(327));yr();var t=Wi(e,0);if(!(t&1))return Ye(e,ve()),null;var n=aa(e,t);if(e.tag!==0&&n===2){var r=Vo(e);r!==0&&(t=r,n=wl(e,r))}if(n===1)throw n=Ms,Mn(e,0),en(e,t),Ye(e,ve()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,ze,Rt),Ye(e,ve()),null}function ku(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(Cr=ve()+500,xa&&_n())}}function Fn(e){sn!==null&&sn.tag===0&&!(J&6)&&yr();var t=J;J|=1;var n=at.transition,r=te;try{if(at.transition=null,te=1,e)return e()}finally{te=r,at.transition=n,J=t,!(J&6)&&_n()}}function bu(){Ge=fr.current,le(fr)}function Mn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yg(n)),ye!==null)for(n=ye.return;n!==null;){var r=n;switch(ru(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qi();break;case 3:Er(),le(He),le(Re),fu();break;case 5:du(r);break;case 4:Er();break;case 13:le(fe);break;case 19:le(fe);break;case 10:ou(r.type._context);break;case 22:case 23:bu()}n=n.return}if(Ee=e,ye=e=mn(e.current,null),Pe=Ge=t,ke=0,Ms=null,_u=Ea=An=0,ze=fs=null,Tn!==null){for(t=0;t<Tn.length;t++)if(n=Tn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Tn=null}return e}function sm(e,t){do{var n=ye;try{if(au(),Ni.current=na,ta){for(var r=he.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ta=!1}if(In=0,Se=_e=he=null,cs=!1,Os=0,wu.current=null,n===null||n.return===null){ke=1,Ms=t,ye=null;break}e:{var i=e,a=n.return,o=n,l=t;if(t=Pe,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Hc(a);if(p!==null){p.flags&=-257,Vc(p,a,o,i,t),p.mode&1&&Bc(i,u,t),t=p,l=u;var y=t.updateQueue;if(y===null){var _=new Set;_.add(l),t.updateQueue=_}else y.add(l);break e}else{if(!(t&1)){Bc(i,u,t),Su();break e}l=Error(j(426))}}else if(ue&&o.mode&1){var x=Hc(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Vc(x,a,o,i,t),su(jr(l,o));break e}}i=l=jr(l,o),ke!==4&&(ke=2),fs===null?fs=[i]:fs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=zh(i,l,t);Ic(i,v);break e;case 1:o=l;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(fn===null||!fn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Wh(i,o,t);Ic(i,k);break e}}i=i.return}while(i!==null)}om(n)}catch(S){t=S,ye===n&&n!==null&&(ye=n=n.return);continue}break}while(!0)}function im(){var e=ra.current;return ra.current=na,e===null?na:e}function Su(){(ke===0||ke===3||ke===2)&&(ke=4),Ee===null||!(An&268435455)&&!(Ea&268435455)||en(Ee,Pe)}function aa(e,t){var n=J;J|=2;var r=im();(Ee!==e||Pe!==t)&&(Rt=null,Mn(e,t));do try{Bg();break}catch(s){sm(e,s)}while(!0);if(au(),J=n,ra.current=r,ye!==null)throw Error(j(261));return Ee=null,Pe=0,ke}function Bg(){for(;ye!==null;)am(ye)}function Hg(){for(;ye!==null&&!pv();)am(ye)}function am(e){var t=um(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?om(e):ye=t,wu.current=null}function om(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ig(n,t),n!==null){n.flags&=32767,ye=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,ye=null;return}}else if(n=Lg(n,t,Ge),n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);ke===0&&(ke=5)}function jn(e,t,n){var r=te,s=at.transition;try{at.transition=null,te=1,Vg(e,t,n,r)}finally{at.transition=s,te=r}return null}function Vg(e,t,n,r){do yr();while(sn!==null);if(J&6)throw Error(j(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ev(e,i),e===Ee&&(ye=Ee=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mi||(mi=!0,cm(zi,function(){return yr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=at.transition,at.transition=null;var a=te;te=1;var o=J;J|=4,wu.current=null,Fg(e,n),tm(n,e),dg(Jo),Bi=!!Go,Jo=Go=null,e.current=n,Ug(n),vv(),J=o,te=a,at.transition=i}else e.current=n;if(mi&&(mi=!1,sn=e,ia=s),i=e.pendingLanes,i===0&&(fn=null),wv(n.stateNode),Ye(e,ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sa)throw sa=!1,e=gl,gl=null,e;return ia&1&&e.tag!==0&&yr(),i=e.pendingLanes,i&1?e===yl?hs++:(hs=0,yl=e):hs=0,_n(),null}function yr(){if(sn!==null){var e=zf(ia),t=at.transition,n=te;try{if(at.transition=null,te=16>e?16:e,sn===null)var r=!1;else{if(e=sn,sn=null,ia=0,J&6)throw Error(j(331));var s=J;for(J|=4,M=e.current;M!==null;){var i=M,a=i.child;if(M.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(M=u;M!==null;){var c=M;switch(c.tag){case 0:case 11:case 15:ds(8,c,i)}var f=c.child;if(f!==null)f.return=c,M=f;else for(;M!==null;){c=M;var h=c.sibling,p=c.return;if(Xh(c),c===u){M=null;break}if(h!==null){h.return=p,M=h;break}M=p}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}M=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,M=a;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ds(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,M=v;break e}M=i.return}}var m=e.current;for(M=m;M!==null;){a=M;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,M=g;else e:for(a=m;M!==null;){if(o=M,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Sa(9,o)}}catch(S){pe(o,o.return,S)}if(o===a){M=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,M=k;break e}M=o.return}}if(J=s,_n(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(va,e)}catch{}r=!0}return r}finally{te=n,at.transition=t}}return!1}function sd(e,t,n){t=jr(n,t),t=zh(e,t,1),e=dn(e,t,1),t=Ie(),e!==null&&(Fs(e,1,t),Ye(e,t))}function pe(e,t,n){if(e.tag===3)sd(e,e,n);else for(;t!==null;){if(t.tag===3){sd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fn===null||!fn.has(r))){e=jr(n,e),e=Wh(t,e,1),t=dn(t,e,1),e=Ie(),t!==null&&(Fs(t,1,e),Ye(t,e));break}}t=t.return}}function Yg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(Pe&n)===n&&(ke===4||ke===3&&(Pe&130023424)===Pe&&500>ve()-xu?Mn(e,0):_u|=n),Ye(e,t)}function lm(e,t){t===0&&(e.mode&1?(t=si,si<<=1,!(si&130023424)&&(si=4194304)):t=1);var n=Ie();e=zt(e,t),e!==null&&(Fs(e,t,n),Ye(e,n))}function qg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lm(e,n)}function Qg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(t),lm(e,n)}var um;um=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,$g(e,t,n);Be=!!(e.flags&131072)}else Be=!1,ue&&t.flags&1048576&&hh(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Oi(e,t),e=t.pendingProps;var s=kr(t,Re.current);gr(t,n),s=mu(null,t,r,e,s,n);var i=pu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(r)?(i=!0,Qi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uu(t),s.updater=ba,t.stateNode=s,s._reactInternals=t,al(t,r,e,n),t=ul(null,t,r,!0,i,n)):(t.tag=0,ue&&i&&nu(t),$e(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Oi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Gg(r),e=ht(r,e),s){case 0:t=ll(null,t,r,e,n);break e;case 1:t=Qc(null,t,r,e,n);break e;case 11:t=Yc(null,t,r,e,n);break e;case 14:t=qc(null,t,r,ht(r.type,e),n);break e}throw Error(j(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),ll(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),Qc(e,t,r,s,n);case 3:e:{if(Yh(t),e===null)throw Error(j(387));r=t.pendingProps,i=t.memoizedState,s=i.element,wh(e,t),Zi(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=jr(Error(j(423)),t),t=Kc(e,t,r,n,s);break e}else if(r!==s){s=jr(Error(j(424)),t),t=Kc(e,t,r,n,s);break e}else for(Je=cn(t.stateNode.containerInfo.firstChild),Xe=t,ue=!0,vt=null,n=gh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(br(),r===s){t=Wt(e,t,n);break e}$e(e,t,r,n)}t=t.child}return t;case 5:return _h(t),e===null&&rl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Xo(r,s)?a=null:i!==null&&Xo(r,i)&&(t.flags|=32),Vh(e,t),$e(e,t,a,n),t.child;case 6:return e===null&&rl(t),null;case 13:return qh(e,t,n);case 4:return cu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Sr(t,null,r,n):$e(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),Yc(e,t,r,s,n);case 7:return $e(e,t,t.pendingProps,n),t.child;case 8:return $e(e,t,t.pendingProps.children,n),t.child;case 12:return $e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,se(Ji,r._currentValue),r._currentValue=a,i!==null)if(_t(i.value,a)){if(i.children===s.children&&!He.current){t=Wt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=At(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),sl(i.return,n,t),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(j(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),sl(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}$e(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,gr(t,n),s=lt(s),r=r(s),t.flags|=1,$e(e,t,r,n),t.child;case 14:return r=t.type,s=ht(r,t.pendingProps),s=ht(r.type,s),qc(e,t,r,s,n);case 15:return Bh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),Oi(e,t),t.tag=1,Ve(r)?(e=!0,Qi(t)):e=!1,gr(t,n),Uh(t,r,s),al(t,r,s,n),ul(null,t,r,!0,e,n);case 19:return Qh(e,t,n);case 22:return Hh(e,t,n)}throw Error(j(156,t.tag))};function cm(e,t){return If(e,t)}function Kg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,n,r){return new Kg(e,t,n,r)}function Eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gg(e){if(typeof e=="function")return Eu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hl)return 11;if(e===Vl)return 14}return 2}function mn(e,t){var n=e.alternate;return n===null?(n=it(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mi(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Eu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case nr:return Rn(n.children,s,i,t);case Bl:a=8,s|=8;break;case Oo:return e=it(12,n,t,s|2),e.elementType=Oo,e.lanes=i,e;case To:return e=it(13,n,t,s),e.elementType=To,e.lanes=i,e;case Do:return e=it(19,n,t,s),e.elementType=Do,e.lanes=i,e;case _f:return ja(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yf:a=10;break e;case wf:a=9;break e;case Hl:a=11;break e;case Vl:a=14;break e;case Gt:a=16,r=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=it(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Rn(e,t,n,r){return e=it(7,e,r,t),e.lanes=n,e}function ja(e,t,n,r){return e=it(22,e,r,t),e.elementType=_f,e.lanes=n,e.stateNode={isHidden:!1},e}function ho(e,t,n){return e=it(6,e,null,t),e.lanes=n,e}function mo(e,t,n){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qa(0),this.expirationTimes=qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ju(e,t,n,r,s,i,a,o,l){return e=new Jg(e,t,n,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=it(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uu(i),e}function Xg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function dm(e){if(!e)return gn;e=e._reactInternals;e:{if(Wn(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(Ve(n))return dh(e,n,t)}return t}function fm(e,t,n,r,s,i,a,o,l){return e=ju(n,r,!0,e,s,i,a,o,l),e.context=dm(null),n=e.current,r=Ie(),s=hn(n),i=At(r,s),i.callback=t??null,dn(n,i,s),e.current.lanes=s,Fs(e,s,r),Ye(e,r),e}function Ca(e,t,n,r){var s=t.current,i=Ie(),a=hn(s);return n=dm(n),t.context===null?t.context=n:t.pendingContext=n,t=At(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=dn(s,t,a),e!==null&&(yt(e,s,a,i),Ci(e,s,a)),a}function oa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function id(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cu(e,t){id(e,t),(e=e.alternate)&&id(e,t)}function Zg(){return null}var hm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nu(e){this._internalRoot=e}Na.prototype.render=Nu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));Ca(e,t,null,null)};Na.prototype.unmount=Nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fn(function(){Ca(null,e,null,null)}),t[Ut]=null}};function Na(e){this._internalRoot=e}Na.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&Yf(e)}};function Pu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ad(){}function ey(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=oa(a);i.call(u)}}var a=fm(t,r,e,0,null,!1,!1,"",ad);return e._reactRootContainer=a,e[Ut]=a.current,Es(e.nodeType===8?e.parentNode:e),Fn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=oa(l);o.call(u)}}var l=ju(e,0,!1,null,null,!1,!1,"",ad);return e._reactRootContainer=l,e[Ut]=l.current,Es(e.nodeType===8?e.parentNode:e),Fn(function(){Ca(t,l,n,r)}),l}function Oa(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=oa(a);o.call(l)}}Ca(t,a,e,s)}else a=ey(n,t,e,s,r);return oa(a)}Wf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ts(t.pendingLanes);n!==0&&(Ql(t,n|1),Ye(t,ve()),!(J&6)&&(Cr=ve()+500,_n()))}break;case 13:Fn(function(){var r=zt(e,1);if(r!==null){var s=Ie();yt(r,e,1,s)}}),Cu(e,1)}};Kl=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var n=Ie();yt(t,e,134217728,n)}Cu(e,134217728)}};Bf=function(e){if(e.tag===13){var t=hn(e),n=zt(e,t);if(n!==null){var r=Ie();yt(n,e,t,r)}Cu(e,t)}};Hf=function(){return te};Vf=function(e,t){var n=te;try{return te=e,t()}finally{te=n}};Wo=function(e,t,n){switch(t){case"input":if($o(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=_a(r);if(!s)throw Error(j(90));kf(r),$o(r,s)}}}break;case"textarea":Sf(e,n);break;case"select":t=n.value,t!=null&&hr(e,!!n.multiple,t,!1)}};Tf=ku;Df=Fn;var ty={usingClientEntryPoint:!1,Events:[zs,ar,_a,Pf,Of,ku]},Qr={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ny={bundleType:Qr.bundleType,version:Qr.version,rendererPackageName:Qr.rendererPackageName,rendererConfig:Qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$f(e),e===null?null:e.stateNode},findFiberByHostInstance:Qr.findFiberByHostInstance||Zg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pi.isDisabled&&pi.supportsFiber)try{va=pi.inject(ny),Pt=pi}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ty;tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pu(t))throw Error(j(200));return Xg(e,t,null,n)};tt.createRoot=function(e,t){if(!Pu(e))throw Error(j(299));var n=!1,r="",s=hm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ju(e,1,!1,null,null,n,!1,r,s),e[Ut]=t.current,Es(e.nodeType===8?e.parentNode:e),new Nu(t)};tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=$f(t),e=e===null?null:e.stateNode,e};tt.flushSync=function(e){return Fn(e)};tt.hydrate=function(e,t,n){if(!Pa(t))throw Error(j(200));return Oa(null,e,t,!0,n)};tt.hydrateRoot=function(e,t,n){if(!Pu(e))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=hm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=fm(t,null,e,1,n??null,s,!1,i,a),e[Ut]=t.current,Es(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Na(t)};tt.render=function(e,t,n){if(!Pa(t))throw Error(j(200));return Oa(null,e,t,!1,n)};tt.unmountComponentAtNode=function(e){if(!Pa(e))throw Error(j(40));return e._reactRootContainer?(Fn(function(){Oa(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};tt.unstable_batchedUpdates=ku;tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pa(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Oa(e,t,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function mm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mm)}catch(e){console.error(e)}}mm(),mf.exports=tt;var ry=mf.exports,pm,od=ry;pm=od.createRoot,od.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rs.apply(this,arguments)}var an;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(an||(an={}));const ld="popstate";function sy(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:o}=r.location;return xl("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:la(s)}return ay(t,n,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iy(){return Math.random().toString(36).substr(2,8)}function ud(e,t){return{usr:e.state,key:e.key,idx:t}}function xl(e,t,n,r){return n===void 0&&(n=null),Rs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$r(t):t,{state:n,key:t&&t.key||r||iy()})}function la(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $r(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ay(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=an.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Rs({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){o=an.Pop;let x=c(),v=x==null?null:x-u;u=x,l&&l({action:o,location:_.location,delta:v})}function h(x,v){o=an.Push;let m=xl(_.location,x,v);u=c()+1;let g=ud(m,u),k=_.createHref(m);try{a.pushState(g,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(k)}i&&l&&l({action:o,location:_.location,delta:1})}function p(x,v){o=an.Replace;let m=xl(_.location,x,v);u=c();let g=ud(m,u),k=_.createHref(m);a.replaceState(g,"",k),i&&l&&l({action:o,location:_.location,delta:0})}function y(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:la(x);return m=m.replace(/ $/,"%20"),ge(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let _={get action(){return o},get location(){return e(s,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ld,f),l=x,()=>{s.removeEventListener(ld,f),l=null}},createHref(x){return t(s,x)},createURL:y,encodeLocation(x){let v=y(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(x){return a.go(x)}};return _}var cd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cd||(cd={}));function oy(e,t,n){return n===void 0&&(n="/"),ly(e,t,n,!1)}function ly(e,t,n,r){let s=typeof t=="string"?$r(t):t,i=Ou(s.pathname||"/",n);if(i==null)return null;let a=gm(e);uy(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=_y(i);o=yy(a[l],u,r)}return o}function gm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(ge(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=pn([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(ge(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gm(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:vy(u,i.index),routesMeta:c})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of ym(i.path))s(i,a,l)}),t}function ym(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=ym(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function uy(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:gy(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cy=/^:[\w-]+$/,dy=3,fy=2,hy=1,my=10,py=-2,dd=e=>e==="*";function vy(e,t){let n=e.split("/"),r=n.length;return n.some(dd)&&(r+=py),t&&(r+=fy),n.filter(s=>!dd(s)).reduce((s,i)=>s+(cy.test(i)?dy:i===""?hy:my),r)}function gy(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function yy(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",f=fd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=fd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:pn([i,f.pathname]),pathnameBase:Sy(pn([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=pn([i,f.pathnameBase]))}return a}function fd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=wy(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let _=o[f]||"";a=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const y=o[f];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function wy(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),vm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function _y(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ou(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function xy(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?$r(e):e;return{pathname:n?n.startsWith("/")?n:ky(n,t):t,search:Ey(r),hash:jy(s)}}function ky(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function po(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function by(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Tu(e,t){let n=by(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Du(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=$r(e):(s=Rs({},e),ge(!s.pathname||!s.pathname.includes("?"),po("?","pathname","search",s)),ge(!s.pathname||!s.pathname.includes("#"),po("#","pathname","hash",s)),ge(!s.search||!s.search.includes("#"),po("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=xy(s,o),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const pn=e=>e.join("/").replace(/\/\/+/g,"/"),Sy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ey=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Cy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wm=["post","put","patch","delete"];new Set(wm);const Ny=["get",...wm];new Set(Ny);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$s.apply(this,arguments)}const Mu=w.createContext(null),Py=w.createContext(null),xn=w.createContext(null),Ta=w.createContext(null),Vt=w.createContext({outlet:null,matches:[],isDataRoute:!1}),_m=w.createContext(null);function Oy(e,t){let{relative:n}=t===void 0?{}:t;Lr()||ge(!1);let{basename:r,navigator:s}=w.useContext(xn),{hash:i,pathname:a,search:o}=bm(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:pn([r,a])),s.createHref({pathname:l,search:o,hash:i})}function Lr(){return w.useContext(Ta)!=null}function Bs(){return Lr()||ge(!1),w.useContext(Ta).location}function xm(e){w.useContext(xn).static||w.useLayoutEffect(e)}function Ir(){let{isDataRoute:e}=w.useContext(Vt);return e?By():Ty()}function Ty(){Lr()||ge(!1);let e=w.useContext(Mu),{basename:t,future:n,navigator:r}=w.useContext(xn),{matches:s}=w.useContext(Vt),{pathname:i}=Bs(),a=JSON.stringify(Tu(s,n.v7_relativeSplatPath)),o=w.useRef(!1);return xm(()=>{o.current=!0}),w.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=Du(u,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:pn([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,a,i,e])}function km(){let{matches:e}=w.useContext(Vt),t=e[e.length-1];return t?t.params:{}}function bm(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(xn),{matches:s}=w.useContext(Vt),{pathname:i}=Bs(),a=JSON.stringify(Tu(s,r.v7_relativeSplatPath));return w.useMemo(()=>Du(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function Dy(e,t){return My(e,t)}function My(e,t,n,r){Lr()||ge(!1);let{navigator:s}=w.useContext(xn),{matches:i}=w.useContext(Vt),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Bs(),c;if(t){var f;let x=typeof t=="string"?$r(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||ge(!1),c=x}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=oy(e,{pathname:p}),_=Ay(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:pn([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:pn([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&_?w.createElement(Ta.Provider,{value:{location:$s({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:an.Pop}},_):_}function Ry(){let e=Wy(),t=Cy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const $y=w.createElement(Ry,null);class Ly extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Vt.Provider,{value:this.props.routeContext},w.createElement(_m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Iy(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(Mu);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Vt.Provider,{value:t},r)}function Ay(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let c=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);c>=0||ge(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,h)=>{let p,y=!1,_=null,x=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,_=f.route.errorElement||$y,l&&(u<0&&h===0?(y=!0,x=null):u===h&&(y=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,h+1)),m=()=>{let g;return p?g=_:y?g=x:f.route.Component?g=w.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=c,w.createElement(Iy,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(Ly,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var Sm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Sm||{}),ua=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ua||{});function Fy(e){let t=w.useContext(Mu);return t||ge(!1),t}function Uy(e){let t=w.useContext(Py);return t||ge(!1),t}function zy(e){let t=w.useContext(Vt);return t||ge(!1),t}function Em(e){let t=zy(),n=t.matches[t.matches.length-1];return n.route.id||ge(!1),n.route.id}function Wy(){var e;let t=w.useContext(_m),n=Uy(ua.UseRouteError),r=Em(ua.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function By(){let{router:e}=Fy(Sm.UseNavigateStable),t=Em(ua.UseNavigateStable),n=w.useRef(!1);return xm(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,$s({fromRouteId:t},i)))},[e,t])}const hd={};function Hy(e,t){hd[t]||(hd[t]=!0,console.warn(t))}const md=(e,t,n)=>Hy(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Vy(e,t){e!=null&&e.v7_startTransition||md("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&md("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Yy(e){let{to:t,replace:n,state:r,relative:s}=e;Lr()||ge(!1);let{future:i,static:a}=w.useContext(xn),{matches:o}=w.useContext(Vt),{pathname:l}=Bs(),u=Ir(),c=Du(t,Tu(o,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(c);return w.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function rs(e){ge(!1)}function qy(e){let{basename:t="/",children:n=null,location:r,navigationType:s=an.Pop,navigator:i,static:a=!1,future:o}=e;Lr()&&ge(!1);let l=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:i,static:a,future:$s({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=$r(r));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:y="default"}=r,_=w.useMemo(()=>{let x=Ou(c,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:y},navigationType:s}},[l,c,f,h,p,y,s]);return _==null?null:w.createElement(xn.Provider,{value:u},w.createElement(Ta.Provider,{children:n,value:_}))}function Qy(e){let{children:t,location:n}=e;return Dy(kl(t),n)}new Promise(()=>{});function kl(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let i=[...t,s];if(r.type===w.Fragment){n.push.apply(n,kl(r.props.children,i));return}r.type!==rs&&ge(!1),!r.props.index||!r.props.children||ge(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=kl(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bl.apply(this,arguments)}function Ky(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Gy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Jy(e,t){return e.button===0&&(!t||t==="_self")&&!Gy(e)}const Xy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Zy="6";try{window.__reactRouterVersion=Zy}catch{}const e0="startTransition",pd=Yp[e0];function t0(e){let{basename:t,children:n,future:r,window:s}=e,i=w.useRef();i.current==null&&(i.current=sy({window:s,v5Compat:!0}));let a=i.current,[o,l]=w.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=w.useCallback(f=>{u&&pd?pd(()=>l(f)):l(f)},[l,u]);return w.useLayoutEffect(()=>a.listen(c),[a,c]),w.useEffect(()=>Vy(r),[r]),w.createElement(qy,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const n0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",r0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ms=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f}=t,h=Ky(t,Xy),{basename:p}=w.useContext(xn),y,_=!1;if(typeof u=="string"&&r0.test(u)&&(y=u,n0))try{let g=new URL(window.location.href),k=u.startsWith("//")?new URL(g.protocol+u):new URL(u),S=Ou(k.pathname,p);k.origin===g.origin&&S!=null?u=S+k.search+k.hash:_=!0}catch{}let x=Oy(u,{relative:s}),v=s0(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:s,viewTransition:f});function m(g){r&&r(g),g.defaultPrevented||v(g)}return w.createElement("a",bl({},h,{href:y||x,onClick:_||i?r:m,ref:n,target:l}))});var vd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vd||(vd={}));var gd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gd||(gd={}));function s0(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=Ir(),u=Bs(),c=bm(e,{relative:a});return w.useCallback(f=>{if(Jy(f,n)){f.preventDefault();let h=r!==void 0?r:la(u)===la(c);l(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,c,r,s,n,e,i,a,o])}let i0={data:""},a0=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||i0,o0=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,l0=/\/\*[^]*?\*\/|  +/g,yd=/\n+/g,tn=(e,t)=>{let n="",r="",s="";for(let i in e){let a=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":r+=i[1]=="f"?tn(a,i):i+"{"+tn(a,i[1]=="k"?"":t)+"}":typeof a=="object"?r+=tn(a,t?t.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=tn.p?tn.p(i,a):i+":"+a+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Dt={},jm=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+jm(e[n]);return t}return e},u0=(e,t,n,r,s)=>{let i=jm(e),a=Dt[i]||(Dt[i]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(i));if(!Dt[a]){let l=i!==e?e:(u=>{let c,f,h=[{}];for(;c=o0.exec(u.replace(l0,""));)c[4]?h.shift():c[3]?(f=c[3].replace(yd," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][c[1]]=c[2].replace(yd," ").trim();return h[0]})(e);Dt[a]=tn(s?{["@keyframes "+a]:l}:l,n?"":"."+a)}let o=n&&Dt.g?Dt.g:null;return n&&(Dt.g=Dt[a]),((l,u,c,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Dt[a],t,r,o),a},c0=(e,t,n)=>e.reduce((r,s,i)=>{let a=t[i];if(a&&a.call){let o=a(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":tn(o,""):o===!1?"":o}return r+s+(a??"")},"");function Da(e){let t=this||{},n=e.call?e(t.p):e;return u0(n.unshift?n.raw?c0(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,a0(t.target),t.g,t.o,t.k)}let Cm,Sl,El;Da.bind({g:1});let Bt=Da.bind({k:1});function d0(e,t,n,r){tn.p=t,Cm=e,Sl=n,El=r}function kn(e,t){let n=this||{};return function(){let r=arguments;function s(i,a){let o=Object.assign({},i),l=o.className||s.className;n.p=Object.assign({theme:Sl&&Sl()},o),n.o=/ *go\d+/.test(l),o.className=Da.apply(n,r)+(l?" "+l:"");let u=e;return e[0]&&(u=o.as||e,delete o.as),El&&u[0]&&El(o),Cm(u,o)}return s}}var f0=e=>typeof e=="function",ca=(e,t)=>f0(e)?e(t):e,h0=(()=>{let e=0;return()=>(++e).toString()})(),Nm=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),m0=20,Ri=new Map,p0=1e3,wd=e=>{if(Ri.has(e))return;let t=setTimeout(()=>{Ri.delete(e),Bn({type:4,toastId:e})},p0);Ri.set(e,t)},v0=e=>{let t=Ri.get(e);t&&clearTimeout(t)},jl=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,m0)};case 1:return t.toast.id&&v0(t.toast.id),{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return e.toasts.find(i=>i.id===n.id)?jl(e,{type:1,toast:n}):jl(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?wd(r):e.toasts.forEach(i=>{wd(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},$i=[],Li={toasts:[],pausedAt:void 0},Bn=e=>{Li=jl(Li,e),$i.forEach(t=>{t(Li)})},g0={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},y0=(e={})=>{let[t,n]=w.useState(Li);w.useEffect(()=>($i.push(n),()=>{let s=$i.indexOf(n);s>-1&&$i.splice(s,1)}),[t]);let r=t.toasts.map(s=>{var i,a;return{...e,...e[s.type],...s,duration:s.duration||((i=e[s.type])==null?void 0:i.duration)||(e==null?void 0:e.duration)||g0[s.type],style:{...e.style,...(a=e[s.type])==null?void 0:a.style,...s.style}}});return{...t,toasts:r}},w0=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||h0()}),Hs=e=>(t,n)=>{let r=w0(t,e,n);return Bn({type:2,toast:r}),r.id},B=(e,t)=>Hs("blank")(e,t);B.error=Hs("error");B.success=Hs("success");B.loading=Hs("loading");B.custom=Hs("custom");B.dismiss=e=>{Bn({type:3,toastId:e})};B.remove=e=>Bn({type:4,toastId:e});B.promise=(e,t,n)=>{let r=B.loading(t.loading,{...n,...n==null?void 0:n.loading});return e.then(s=>(B.success(ca(t.success,s),{id:r,...n,...n==null?void 0:n.success}),s)).catch(s=>{B.error(ca(t.error,s),{id:r,...n,...n==null?void 0:n.error})}),e};var _0=(e,t)=>{Bn({type:1,toast:{id:e,height:t}})},x0=()=>{Bn({type:5,time:Date.now()})},k0=e=>{let{toasts:t,pausedAt:n}=y0(e);w.useEffect(()=>{if(n)return;let i=Date.now(),a=t.map(o=>{if(o.duration===1/0)return;let l=(o.duration||0)+o.pauseDuration-(i-o.createdAt);if(l<0){o.visible&&B.dismiss(o.id);return}return setTimeout(()=>B.dismiss(o.id),l)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[t,n]);let r=w.useCallback(()=>{n&&Bn({type:6,time:Date.now()})},[n]),s=w.useCallback((i,a)=>{let{reverseOrder:o=!1,gutter:l=8,defaultPosition:u}=a||{},c=t.filter(p=>(p.position||u)===(i.position||u)&&p.height),f=c.findIndex(p=>p.id===i.id),h=c.filter((p,y)=>y<f&&p.visible).length;return c.filter(p=>p.visible).slice(...o?[h+1]:[0,h]).reduce((p,y)=>p+(y.height||0)+l,0)},[t]);return{toasts:t,handlers:{updateHeight:_0,startPause:x0,endPause:r,calculateOffset:s}}},b0=Bt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,S0=Bt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,E0=Bt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,j0=kn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${b0} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${S0} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${E0} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,C0=Bt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,N0=kn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${C0} 1s linear infinite;
`,P0=Bt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,O0=Bt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,T0=kn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${P0} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${O0} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,D0=kn("div")`
  position: absolute;
`,M0=kn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,R0=Bt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$0=kn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${R0} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,L0=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?w.createElement($0,null,t):t:n==="blank"?null:w.createElement(M0,null,w.createElement(N0,{...r}),n!=="loading"&&w.createElement(D0,null,n==="error"?w.createElement(j0,{...r}):w.createElement(T0,{...r})))},I0=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,A0=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,F0="0%{opacity:0;} 100%{opacity:1;}",U0="0%{opacity:1;} 100%{opacity:0;}",z0=kn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,W0=kn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,B0=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Nm()?[F0,U0]:[I0(n),A0(n)];return{animation:t?`${Bt(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Bt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},H0=w.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?B0(e.position||t||"top-center",e.visible):{opacity:0},i=w.createElement(L0,{toast:e}),a=w.createElement(W0,{...e.ariaProps},ca(e.message,e));return w.createElement(z0,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:a}):w.createElement(w.Fragment,null,i,a))});d0(w.createElement);var V0=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=w.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;r(e,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return w.createElement("div",{ref:i,className:t,style:n},s)},Y0=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Nm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},q0=Da`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,vi=16,Q0=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:o,handlers:l}=k0(n);return w.createElement("div",{style:{position:"fixed",zIndex:9999,top:vi,left:vi,right:vi,bottom:vi,pointerEvents:"none",...i},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},o.map(u=>{let c=u.position||t,f=l.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),h=Y0(c,f);return w.createElement(V0,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?q0:"",style:h},u.type==="custom"?ca(u.message,u):s?s(u):w.createElement(H0,{toast:u,position:c}))}))};const K0="modulepreload",G0=function(e){return"/"+e},_d={},Nr=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=G0(l),l in _d)return;_d[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":K0,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},J0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Nr(async()=>{const{default:r}=await Promise.resolve().then(()=>Ar);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Ru extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class X0 extends Ru{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Z0 extends Ru{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ew extends Ru{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Cl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cl||(Cl={}));var tw=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};class nw{constructor(t,{headers:n={},customFetch:r,region:s=Cl.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=J0(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return tw(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let o={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(y=>{throw new X0(y)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new Z0(c);if(!c.ok)throw new ew(c);let h=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield c.json():h==="application/octet-stream"?p=yield c.blob():h==="text/event-stream"?p=c:h==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var We={},$u={},Ma={},Vs={},Ra={},$a={},rw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pr=rw();const sw=Pr.fetch,Pm=Pr.fetch.bind(Pr),Om=Pr.Headers,iw=Pr.Request,aw=Pr.Response,Ar=Object.freeze(Object.defineProperty({__proto__:null,Headers:Om,Request:iw,Response:aw,default:Pm,fetch:sw},Symbol.toStringTag,{value:"Module"})),ow=Op(Ar);var La={};Object.defineProperty(La,"__esModule",{value:!0});class lw extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}La.default=lw;var Tm=ot&&ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($a,"__esModule",{value:!0});const uw=Tm(ow),cw=Tm(La);let dw=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=uw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let u=null,c=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=v:c=JSON.parse(v))}const _=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");_&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,h=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const _=await i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(c=[],u=null,h=200,p="OK")}catch{i.status===404&&_===""?(h=204,p="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new cw.default(u)}return{error:u,data:c,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}};$a.default=dw;var fw=ot&&ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ra,"__esModule",{value:!0});const hw=fw($a);let mw=class extends hw.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ra.default=mw;var pw=ot&&ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vs,"__esModule",{value:!0});const vw=pw(Ra);let gw=class extends vw.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Vs.default=gw;var yw=ot&&ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ma,"__esModule",{value:!0});const Kr=yw(Vs);let ww=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Kr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Kr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Kr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Kr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Kr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ma.default=ww;var Ia={},Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.version=void 0;Aa.version="0.0.0-automated";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.DEFAULT_HEADERS=void 0;const _w=Aa;Ia.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${_w.version}`};var Dm=ot&&ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($u,"__esModule",{value:!0});const xw=Dm(Ma),kw=Dm(Vs),bw=Ia;let Sw=class Mm{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},bw.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new xw.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Mm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let l;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{o.searchParams.append(c,f)})):(a="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new kw.default({method:a,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};$u.default=Sw;var Fr=ot&&ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(We,"__esModule",{value:!0});We.PostgrestError=We.PostgrestBuilder=We.PostgrestTransformBuilder=We.PostgrestFilterBuilder=We.PostgrestQueryBuilder=We.PostgrestClient=void 0;const Rm=Fr($u);We.PostgrestClient=Rm.default;const $m=Fr(Ma);We.PostgrestQueryBuilder=$m.default;const Lm=Fr(Vs);We.PostgrestFilterBuilder=Lm.default;const Im=Fr(Ra);We.PostgrestTransformBuilder=Im.default;const Am=Fr($a);We.PostgrestBuilder=Am.default;const Fm=Fr(La);We.PostgrestError=Fm.default;var Ew=We.default={PostgrestClient:Rm.default,PostgrestQueryBuilder:$m.default,PostgrestFilterBuilder:Lm.default,PostgrestTransformBuilder:Im.default,PostgrestBuilder:Am.default,PostgrestError:Fm.default};const{PostgrestClient:jw,PostgrestQueryBuilder:OS,PostgrestFilterBuilder:TS,PostgrestTransformBuilder:DS,PostgrestBuilder:MS}=Ew,Cw="2.10.7",Nw={"X-Client-Info":`realtime-js/${Cw}`},Pw="1.0.0",Um=1e4,Ow=1e3;var wr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wr||(wr={}));var Ke;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ke||(Ke={}));var pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pt||(pt={}));var Nl;(function(e){e.websocket="websocket"})(Nl||(Nl={}));var Pn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Pn||(Pn={}));class Tw{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(t.slice(a,a+s));a=a+s;const l=r.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class zm{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(re||(re={}));const xd=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,a)=>(i[a]=Dw(a,e,t,s),i),{})},Dw=(e,t,n,r)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?Wm(i,a):Pl(a)},Wm=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Lw(t,n)}switch(e){case re.bool:return Mw(t);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return Rw(t);case re.json:case re.jsonb:return $w(t);case re.timestamp:return Iw(t);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return Pl(t);default:return Pl(t)}},Pl=e=>e,Mw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Rw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$w=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Lw=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Wm(t,o))}return e},Iw=e=>typeof e=="string"?e.replace(" ","T"):e,Bm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class vo{constructor(t,n,r={},s=Um){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var kd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(kd||(kd={}));class ps{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ps.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=ps.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ps.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),o={},l={};return this.map(i,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const f=i[u];if(f){const h=c.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),y=c.filter(x=>p.indexOf(x.presence_ref)<0),_=f.filter(x=>h.indexOf(x.presence_ref)<0);y.length>0&&(o[u]=y),_.length>0&&(l[u]=_)}else o[u]=c}),this.syncDiff(i,{joins:o,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const c=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),c.length>0){const f=t[o].map(p=>p.presence_ref),h=c.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}r(o,c,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[o]=u,s(o,u,l),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(bd||(bd={}));var Sd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Sd||(Sd={}));var Ed;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ed||(Ed={}));class Lu{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vo(this,pt.join,this.params,this.timeout),this.rejoinTimer=new zm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ps(this),this.broadcastEndpointURL=Bm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(c=>t&&t("CHANNEL_ERROR",c)),this._onClose(()=>t&&t("CLOSED"));const l={},u={broadcast:i,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:c})=>{var f;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){t&&t("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let _=0;_<p;_++){const x=h[_],{filter:{event:v,schema:m,table:g,filter:k}}=x,S=c&&c[_];if(S&&S.event===v&&S.schema===m&&S.table===g&&S.filter===k)y.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t("SUBSCRIBED");return}}).receive("error",c=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,o={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ke.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new vo(this,pt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new vo(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=pt;if(r&&[o,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,_,x;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(_=p.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(p=>p.callback(h,r)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var y,_,x,v,m,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const k=p.id,S=(y=p.filter)===null||y===void 0?void 0:y.event;return k&&((_=n.ids)===null||_===void 0?void 0:_.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const k=(m=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return k==="*"||k===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:_,table:x,commit_timestamp:v,type:m,errors:g}=y;h=Object.assign(Object.assign({},{schema:_,table:x,commit_timestamp:v,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(y))}p.callback(h,r)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Lu.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pt.close,{},t)}_onError(t){this._on(pt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=xd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=xd(t.columns,t.old_record)),n}}const Aw=()=>{},Fw=typeof WebSocket<"u",Uw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zw{constructor(t,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Nw,this.params={},this.timeout=Um,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Aw,this.conn=null,this.sendBuffer=[],this.serializer=new Tw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Nr(async()=>{const{default:l}=await Promise.resolve().then(()=>Ar);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${Nl.websocket}`,this.httpEndpoint=Bm(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new zm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Fw){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Ww(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Nr(async()=>{const{default:t}=await import("./browser-DRYnBGVA.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wr.connecting:return Pn.Connecting;case wr.open:return Pn.Open;case wr.closing:return Pn.Closing;default:return Pn.Closed}}isConnected(){return this.connectionState()===Pn.Open}channel(t,n={config:{}}){const r=new Lu(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(pt.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pw}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:a}=n;(a&&a===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Ow,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Uw],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Ww{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=wr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Iu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Bw extends Iu{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ol extends Iu{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Hw=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};const Hm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Nr(async()=>{const{default:r}=await Promise.resolve().then(()=>Ar);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Vw=()=>Hw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nr(()=>Promise.resolve().then(()=>Ar),void 0)).Response:Response}),Tl=e=>{if(Array.isArray(e))return e.map(n=>Tl(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Tl(r)}),t};var Hn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};const go=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yw=(e,t,n)=>Hn(void 0,void 0,void 0,function*(){const r=yield Vw();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Bw(go(s),e.status||500))}).catch(s=>{t(new Ol(go(s),s))}):t(new Ol(go(e),e))}),qw=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Ys(e,t,n,r,s,i){return Hn(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,qw(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Yw(l,o,r))})})}function da(e,t,n,r){return Hn(this,void 0,void 0,function*(){return Ys(e,"GET",t,n,r)})}function Xt(e,t,n,r,s){return Hn(this,void 0,void 0,function*(){return Ys(e,"POST",t,r,s,n)})}function Qw(e,t,n,r,s){return Hn(this,void 0,void 0,function*(){return Ys(e,"PUT",t,r,s,n)})}function Kw(e,t,n,r){return Hn(this,void 0,void 0,function*(){return Ys(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Vm(e,t,n,r,s){return Hn(this,void 0,void 0,function*(){return Ys(e,"DELETE",t,r,s,n)})}var Ue=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};const Gw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jw{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Hm(s)}uploadOrUpdate(t,n,r,s){return Ue(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},jd),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(be(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ue(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:jd.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:c}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(be(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Xt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Iu("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Xt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Xt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ue(this,void 0,void 0,function*(){try{const s=yield Xt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}download(t,n){return Ue(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield da(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(be(o))return{data:null,error:o};throw o}})}info(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield da(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Tl(r),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}exists(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Kw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(be(r)&&r instanceof Ol){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Vm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ue(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Gw),n),{prefix:t||""});return{data:yield Xt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Xw="2.7.1",Zw={"X-Client-Info":`storage-js/${Xw}`};var Jn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};class e1{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Zw),n),this.fetch=Hm(r)}listBuckets(){return Jn(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(be(t))return{data:null,error:t};throw t}})}getBucket(t){return Jn(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Jn(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Jn(this,void 0,void 0,function*(){try{return{data:yield Qw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Jn(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Jn(this,void 0,void 0,function*(){try{return{data:yield Vm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}}class t1 extends e1{constructor(t,n={},r){super(t,n,r)}from(t){return new Jw(this.url,this.headers,t,this.fetch)}}const n1="2.46.1";let ss="";typeof Deno<"u"?ss="deno":typeof document<"u"?ss="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ss="react-native":ss="node";const r1={"X-Client-Info":`supabase-js-${ss}/${n1}`},s1={headers:r1},i1={schema:"public"},a1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},o1={};var l1=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};const u1=e=>{let t;return e?t=e:typeof fetch>"u"?t=Pm:t=fetch,(...n)=>t(...n)},c1=()=>typeof Headers>"u"?Om:Headers,d1=(e,t,n)=>{const r=u1(n),s=c1();return(i,a)=>l1(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},a),{headers:u}))})};var f1=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};function h1(e){return e.replace(/\/$/,"")}function m1(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:a,auth:o,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},a),n),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>f1(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const Ym="2.65.1",p1="http://localhost:9999",v1="supabase.auth.token",g1={"X-Client-Info":`gotrue-js/${Ym}`},Cd=10,Dl="X-Supabase-Api-Version",qm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function y1(e){return Math.round(Date.now()/1e3)+e}function w1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ft=()=>typeof document<"u",Sn={tested:!1,writable:!1},vs=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sn.tested)return Sn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Sn.tested=!0,Sn.writable=!0}catch{Sn.tested=!0,Sn.writable=!1}return Sn.writable};function yo(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Qm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Nr(async()=>{const{default:r}=await Promise.resolve().then(()=>Ar);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Km=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},gi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yi=async(e,t)=>{await e.removeItem(t)};function x1(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,a,o,l,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)a=t.indexOf(e.charAt(c++)),o=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),r=a<<2|o>>4,s=(o&15)<<4|l>>2,i=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Fa{constructor(){this.promise=new Fa.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Fa.promiseConstructor=Promise;function Nd(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(x1(r))}async function k1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function b1(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function S1(e){return("0"+e.toString(16)).substr(-2)}function E1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,S1).join("")}async function j1(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function C1(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function N1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await j1(e);return C1(n)}async function Xn(e,t,n=!1){const r=E1();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Km(e,`${t}-code-verifier`,s);const i=await N1(r);return[i,r===i?"plain":"s256"]}const P1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function O1(e){const t=e.headers.get(Dl);if(!t||!t.match(P1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Au extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class T1 extends Au{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function D1(e){return q(e)&&e.name==="AuthApiError"}class Gm extends Au{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Vn extends Au{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Qt extends Vn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function M1(e){return q(e)&&e.name==="AuthSessionMissingError"}class wo extends Vn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wi extends Vn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _i extends Vn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pd extends Vn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ml extends Vn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function _o(e){return q(e)&&e.name==="AuthRetryableFetchError"}class Od extends Vn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var R1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Cn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$1=[502,503,504];async function Td(e){var t;if(!_1(e))throw new Ml(Cn(e),0);if($1.includes(e.status))throw new Ml(Cn(e),e.status);let n;try{n=await e.json()}catch(i){throw new Gm(Cn(i),i)}let r;const s=O1(e);if(s&&s.getTime()>=qm["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Od(Cn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Qt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Od(Cn(n),e.status,n.weak_password.reasons);throw new T1(Cn(n),e.status||500,r)}const L1=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function G(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Dl]||(i[Dl]=qm["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await I1(e,t,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function I1(e,t,n,r,s,i){const a=L1(t,r,s,i);let o;try{o=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new Ml(Cn(l),0)}if(o.ok||await Td(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await Td(l)}}function Kt(e){var t;let n=null;z1(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=y1(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Dd(e){const t=Kt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function nn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function A1(e){return{data:e,error:null}}function F1(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=R1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function U1(e){return e}function z1(e){return e.access_token&&e.refresh_token&&e.expires_in}var W1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class B1{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Qm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:nn})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=W1(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:F1,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:nn})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:U1});if(c.error)throw c.error;const f=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=_}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await G(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:nn})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:nn})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:nn})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await G(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}const H1={getItem:e=>vs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{vs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{vs()&&globalThis.localStorage.removeItem(e)}};function Md(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function V1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zn={debug:!!(globalThis&&vs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Y1 extends Jm{}async function q1(e,t,n){Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Y1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}V1();const Q1={url:p1,storageKey:v1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:g1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Gr=30*1e3,Rd=3;async function $d(e,t,n){return await n()}class Ls{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ls.nextInstanceID,Ls.nextInstanceID+=1,this.instanceID>0&&ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Q1),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new B1({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Qm(s.fetch),this.lock=s.lock||$d,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ft()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=q1:this.lock=$d,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:vs()?this.storage=H1:(this.memoryStorage={},this.storage=Md(this.memoryStorage)):(this.memoryStorage={},this.storage=Md(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ym}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=ft()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return q(t)?{error:t}:{error:new Gm("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Kt}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Xn(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:Kt})}else if("phone"in t){const{phone:c,password:f,options:h}=t;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Kt})}else throw new wi("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:o}=t;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Dd})}else if("phone"in t){const{phone:i,password:a,options:o}=t;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Dd})}else throw new wi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new wo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await gi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Kt});if(await yi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new wo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,o=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kt}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new wo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Xn(this.storage,this.storageKey));const{error:f}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:c}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new wi("You must provide either an email or phone number.")}catch(o){if(q(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Kt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Xn(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:A1})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Qt;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await G(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:o}=await G(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new wi("You must provide either an email or phone number and a type")}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await gi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:nn}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:nn})})}catch(n){if(q(n))return M1(n)&&(await this._removeSession(),await yi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Qt;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Xn(this.storage,this.storageKey));const{data:u,error:c}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:nn});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Nd(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const a=Nd(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Qt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!ft())throw new _i("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new _i("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Pd("Not a valid PKCE flow url.");const n=yo(window.location.href);if(t){if(!n.code)throw new Pd("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(n.code);if(g)throw g;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:m.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new _i(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=n;if(!i||!o||!a||!u)throw new _i("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(o);let h=c+f;l&&(h=parseInt(l));const p=h-c;p*1e3<=Gr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:_,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:n.type},error:null}}catch(n){if(q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=yo(window.location.href);return!!(ft()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=yo(window.location.href),n=await gi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(D1(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await yi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=w1(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Xn(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,l,u,c;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ft()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(q(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await b1(async s=>(s>0&&await k1(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&_o(i)&&Date.now()+a-r<Gr})}catch(r){if(this._debug(n,"error",r),q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ft()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await gi(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+Cd;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Cd}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),_o(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Fa;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Qt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),q(i)){const a={session:null,error:i};return _o(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Km(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await yi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Gr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Gr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Gr}ms, refresh threshold is ${Rd} ticks`),s<=Rd&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Jm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Xn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await G(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:o}=await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Ls.nextInstanceID=0;const K1=Ls;class G1 extends K1{constructor(t){super(t)}}var J1=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};class X1{constructor(t,n,r){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=h1(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:i1,realtime:o1,auth:Object.assign(Object.assign({},a1),{storageKey:l}),global:s1},c=m1(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=c.auth)!==null&&a!==void 0?a:{},this.headers,c.global.fetch),this.fetch=d1(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},c.realtime)),this.rest=new jw(`${o}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new nw(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new t1(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return J1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:o,debug:l},u,c){var f;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new G1({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:o,debug:l,fetch:c,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(t){return new zw(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Z1=(e,t,n)=>new X1(e,t,n),e_="https://vrzgwnchqdxwgennshmu.supabase.co",t_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZyemd3bmNocWR4d2dlbm5zaG11Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE1NTEzMzYsImV4cCI6MjA0NzEyNzMzNn0.U8KLDcO9sabudduU9xTFgmbwDBmgULvH0jKY9QN0eeE",Y=Z1(e_,t_,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce",redirectTo:"https://nimble-alfajores-99f196.netlify.app"}}),n_={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Ld=e=>{let t;const n=new Set,r=(c,f)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,p))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(n_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,l);return l},r_=e=>e?Ld(e):Ld;var Xm={exports:{}},Zm={},ep={exports:{}},tp={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=w;function s_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var i_=typeof Object.is=="function"?Object.is:s_,a_=Or.useState,o_=Or.useEffect,l_=Or.useLayoutEffect,u_=Or.useDebugValue;function c_(e,t){var n=t(),r=a_({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return l_(function(){s.value=n,s.getSnapshot=t,xo(s)&&i({inst:s})},[e,n,t]),o_(function(){return xo(s)&&i({inst:s}),e(function(){xo(s)&&i({inst:s})})},[e]),u_(n),n}function xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i_(e,n)}catch{return!0}}function d_(e,t){return t()}var f_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d_:c_;tp.useSyncExternalStore=Or.useSyncExternalStore!==void 0?Or.useSyncExternalStore:f_;ep.exports=tp;var h_=ep.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ua=w,m_=h_;function p_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var v_=typeof Object.is=="function"?Object.is:p_,g_=m_.useSyncExternalStore,y_=Ua.useRef,w_=Ua.useEffect,__=Ua.useMemo,x_=Ua.useDebugValue;Zm.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=y_(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=__(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),s!==void 0&&a.hasValue){var y=a.value;if(s(y,p))return f=y}return f=p}if(y=f,v_(c,p))return y;var _=r(p);return s!==void 0&&s(y,_)?y:(c=p,f=_)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,s]);var o=g_(e,i[0],i[1]);return w_(function(){a.hasValue=!0,a.value=o},[o]),x_(o),o};Xm.exports=Zm;var k_=Xm.exports;const b_=ef(k_),np={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:S_}=ff,{useSyncExternalStoreWithSelector:E_}=b_;let Id=!1;const j_=e=>e;function C_(e,t=j_,n){(np?"production":void 0)!=="production"&&n&&!Id&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Id=!0);const r=E_(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return S_(r),r}const Ad=e=>{(np?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?r_(e):e,n=(r,s)=>C_(t,r,s);return Object.assign(n,t),n},N_=e=>e?Ad(e):Ad,ct=N_(e=>({user:null,session:null,loading:!0,setUser:t=>e({user:t,loading:!1}),setSession:t=>e({session:t}),signOut:async()=>{await Y.auth.signOut(),e({user:null,session:null})}}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Qe=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...u},c)=>w.createElement("svg",{ref:c,...P_,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${O_(e)}`,o].join(" "),...u},[...t.map(([f,h])=>w.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Qe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=Qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Qe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Qe("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Qe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Qe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function L_(){const{user:e,signOut:t}=ct(),n=Ir(),r=async()=>{await t(),n("/login")};return d.jsx("nav",{className:"bg-indigo-600 text-white shadow-lg",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsxs(ms,{to:"/",className:"flex items-center space-x-2",children:[d.jsx($_,{className:"h-8 w-8"}),d.jsx("span",{className:"font-bold text-xl",children:"Band Manager"})]}),d.jsx("div",{className:"flex items-center space-x-4",children:e?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-sm",children:e.email}),d.jsxs("button",{onClick:r,className:"flex items-center space-x-1 hover:text-indigo-200 transition-colors",children:[d.jsx(R_,{className:"h-5 w-5"}),d.jsx("span",{children:"Sign Out"})]})]}):d.jsxs("div",{className:"space-x-4",children:[d.jsx(ms,{to:"/login",className:"hover:text-indigo-200 transition-colors",children:"Login"}),d.jsx(ms,{to:"/register",className:"hover:text-indigo-200 transition-colors",children:"Register"})]})})]})})})}function wt({label:e,error:t,className:n="",...r}){return d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),d.jsx("input",{className:`
          w-full px-3 py-2 border rounded-lg shadow-sm
          focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500
          ${t?"border-red-500":"border-gray-300"}
          ${n}
        `,...r}),t&&d.jsx("p",{className:"text-sm text-red-600",children:t})]})}function xe({children:e,loading:t,variant:n="primary",fullWidth:r,className:s="",...i}){const a="flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",o={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500"};return d.jsxs("button",{className:`${a} ${o[n]} ${r?"w-full":""} ${s}`,disabled:t,...i,children:[t&&d.jsx(fa,{className:"w-4 h-4 mr-2 animate-spin"}),e]})}function I_(){const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(!1),a=Ir(),{user:o,setUser:l}=ct();w.useEffect(()=>{o&&a("/")},[o,a]);const u=async c=>{c.preventDefault(),i(!0);try{const{data:f,error:h}=await Y.auth.signInWithPassword({email:e,password:n});if(h)throw h;l(f.user),B.success("Successfully logged in!"),a("/")}catch(f){B.error(f.message||"Failed to login")}finally{i(!1)}};return o?null:d.jsx("div",{className:"max-w-md mx-auto mt-16",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[d.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Welcome Back"}),d.jsxs("form",{onSubmit:u,className:"space-y-6",children:[d.jsx(wt,{label:"Email",type:"email",value:e,onChange:c=>t(c.target.value),required:!0,placeholder:"your@email.com"}),d.jsx(wt,{label:"Password",type:"password",value:n,onChange:c=>r(c.target.value),required:!0,placeholder:"••••••••"}),d.jsx(xe,{type:"submit",loading:s,fullWidth:!0,children:"Sign In"})]}),d.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Don't have an account?"," ",d.jsx(ms,{to:"/register",className:"text-indigo-600 hover:text-indigo-500",children:"Register here"})]})]})})}function A_(){const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(""),[a,o]=w.useState(!1),l=Ir(),{user:u}=ct();w.useEffect(()=>{u&&l("/")},[u,l]);const c=async f=>{f.preventDefault(),o(!0);try{const{data:h,error:p}=await Y.auth.signUp({email:e,password:n,options:{data:{name:s,role:"user"}}});if(p)throw p;if(h.user){const{data:y,error:_}=await Y.rpc("create_new_user",{user_id:h.user.id,user_email:e,user_name:s,user_role:"user"});if(_)throw _;B.success("Registration successful! Please check your email to confirm your account."),l("/login")}}catch(h){console.error("Registration error:",h),h.message.includes("User already registered")?B.error("This email is already registered. Please try logging in instead."):h.message.includes("rate limit")?B.error("Too many registration attempts. Please try again in a few minutes."):B.error("Registration failed. Please try again.")}finally{o(!1)}};return u?null:d.jsx("div",{className:"max-w-md mx-auto mt-16",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[d.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Create an Account"}),d.jsxs("form",{onSubmit:c,className:"space-y-6",children:[d.jsx(wt,{label:"Name",type:"text",value:s,onChange:f=>i(f.target.value),required:!0,placeholder:"John Doe"}),d.jsx(wt,{label:"Email",type:"email",value:e,onChange:f=>t(f.target.value),required:!0,placeholder:"your@email.com"}),d.jsx(wt,{label:"Password",type:"password",value:n,onChange:f=>r(f.target.value),required:!0,placeholder:"••••••••",minLength:6}),d.jsx(xe,{type:"submit",loading:a,fullWidth:!0,children:"Register"})]}),d.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Already have an account?"," ",d.jsx(ms,{to:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"Sign in here"})]})]})})}function F_({isOpen:e,onClose:t,onBandCreated:n,isAdmin:r}){const[s,i]=w.useState(""),[a,o]=w.useState(!1),{user:l}=ct();if(!e)return null;const u=async c=>{if(c.preventDefault(),!l||!r){B.error("Only administrators can create bands");return}o(!0);try{const{error:f}=await Y.from("bands").insert([{name:s,created_by:l.id}]);if(f)throw f;B.success("Band created successfully!"),n(),t(),i("")}catch(f){B.error(f.message||"Failed to create band")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Create New Band"}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:d.jsx(Qs,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[d.jsx(wt,{label:"Band Name",value:s,onChange:c=>i(c.target.value),required:!0,placeholder:"Enter band name"}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx(xe,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(xe,{type:"submit",loading:a,children:"Create Band"})]})]})]})})}function U_(){const[e,t]=w.useState([]),[n,r]=w.useState(!1),[s,i]=w.useState(!0),[a,o]=w.useState(!1),{user:l}=ct(),u=Ir();w.useEffect(()=>{f(),l&&c()},[l]);const c=async()=>{try{const{data:p,error:y}=await Y.from("users").select("role").eq("id",l==null?void 0:l.id).single();if(y)throw y;o(p.role==="admin")}catch(p){console.error("Error checking admin role:",p)}},f=async()=>{try{const{data:p,error:y}=await Y.from("bands").select("*");if(y)throw y;t(p||[])}catch(p){console.error("Error fetching bands:",p.message)}finally{i(!1)}},h=p=>{u(`/band/${p}`)};return d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bands"}),a&&d.jsxs(xe,{onClick:()=>r(!0),className:"flex items-center space-x-2",children:[d.jsx(Fu,{className:"w-5 h-5"}),d.jsx("span",{children:"Create Band"})]})]}),s?d.jsx("div",{className:"text-center",children:"Loading bands..."}):e.length===0?d.jsxs("div",{className:"text-center text-gray-500",children:["No bands available. ",a?"Create one to get started!":"Please wait for an admin to create one."]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(p=>d.jsxs("div",{onClick:()=>h(p.id),className:"bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p.name}),d.jsx(ip,{className:"w-6 h-6 text-indigo-600"})]}),d.jsx("p",{className:"text-sm text-gray-500",children:"Click to manage band members and instruments"})]},p.id))}),d.jsx(F_,{isOpen:n,onClose:()=>r(!1),onBandCreated:f,isAdmin:a})]})}function z_({isOpen:e,onClose:t,bandId:n,instruments:r,onMemberAdded:s,isEmptyBand:i,userRole:a}){const[o,l]=w.useState(""),[u,c]=w.useState("principal"),[f,h]=w.useState([]),[p,y]=w.useState(""),[_,x]=w.useState(!1),[v,m]=w.useState(!1),[g,k]=w.useState(r),[S,P]=w.useState(!1),{user:N}=ct();w.useEffect(()=>{k(r)},[r]),w.useEffect(()=>{N&&(O(),a==="user"&&!S?L():l(""))},[N,a,S]);const O=async()=>{var D;if(N)try{const{data:W,error:V}=await Y.from("band_members").select("role_in_band").eq("band_id",n).eq("user_id",N.id);if(V)throw V;P(((D=W==null?void 0:W[0])==null?void 0:D.role_in_band)==="principal")}catch(W){console.error("Error checking principal status:",W),P(!1)}},L=async()=>{if(N)try{const{data:D,error:W}=await Y.from("users").select("name").eq("id",N.id).single();if(W)throw W;D!=null&&D.name&&l(D.name)}catch(D){console.error("Error fetching user name:",D)}};if(!e||!N)return null;const H=()=>{if(!p.trim()){B.error("Please enter an instrument name");return}if(g.some(C=>C.name.toLowerCase()===p.trim().toLowerCase())){B.error("This instrument already exists");return}const W=`new-${Date.now()}`,V={id:W,name:p.trim(),isNew:!0};k([...g,V]),h([...f,W]),y(""),x(!1),B.success("Instrument added and selected")},Z=async D=>{if(D.preventDefault(),!o.trim()){B.error("Please enter a member name");return}if(f.length===0){B.error("Please select at least one instrument");return}m(!0);try{const W=f.filter($=>!$.startsWith("new-")),V=g.filter($=>"isNew"in $&&$.isNew&&f.includes($.id)).map($=>$.name),{data:C,error:b}=await Y.rpc("add_band_member_with_instruments",{p_band_id:n,p_name:o,p_role:i?"principal":u,p_user_id:a==="user"&&!S?N.id:null,p_instruments:W,p_new_instruments:V});if(b)throw b;if(!C)throw new Error("Failed to add band member");B.success(a==="user"&&!S?"Successfully joined the band!":"Member added successfully!"),s(),t(),je()}catch(W){console.error("Error adding member:",W),W.message.includes("permission denied")?B.error("You do not have permission to perform this action"):B.error(W.message||"Failed to add member")}finally{m(!1)}},je=()=>{l(""),c("principal"),h([]),y(""),x(!1),k(r)},Ce=a==="user"&&!S;return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold",children:Ce?"Join Band":"Add New Member"}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:d.jsx(Qs,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:Z,className:"p-6 space-y-4",children:[d.jsx(wt,{label:"Name",value:o,onChange:D=>l(D.target.value),required:!0,placeholder:"Enter member name",disabled:Ce}),!i&&a==="admin"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),d.jsxs("select",{value:u,onChange:D=>c(D.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[d.jsx("option",{value:"principal",children:"Principal"}),d.jsx("option",{value:"sustituto",children:"Sustituto"})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Instruments"}),!_&&(a==="admin"||i||S)&&d.jsxs(xe,{type:"button",variant:"secondary",onClick:()=>x(!0),className:"text-sm py-1",children:[d.jsx(Fu,{className:"w-4 h-4 mr-1"}),"Add New"]})]}),_&&d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx(wt,{label:"",value:p,onChange:D=>y(D.target.value),placeholder:"Enter instrument name",className:"flex-1"}),d.jsxs("div",{className:"flex gap-2 mt-1",children:[d.jsx(xe,{type:"button",onClick:H,className:"whitespace-nowrap",children:"Add"}),d.jsx(xe,{type:"button",variant:"secondary",onClick:()=>{x(!1),y("")},className:"whitespace-nowrap",children:"Cancel"})]})]}),d.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-3",children:g.length===0?d.jsx("p",{className:"text-sm text-gray-500",children:"No instruments available. Add one above."}):g.map(D=>d.jsxs("label",{className:"flex items-center space-x-2 hover:bg-gray-50 p-1 rounded",children:[d.jsx("input",{type:"checkbox",checked:f.includes(D.id),onChange:W=>{W.target.checked?h([...f,D.id]):h(f.filter(V=>V!==D.id))},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsxs("span",{className:"flex items-center capitalize",children:[d.jsx(qs,{className:"w-3 h-3 mr-1"}),D.name,"isNew"in D&&d.jsx("span",{className:"ml-2 text-xs text-indigo-600",children:"(New)"})]})]},D.id))})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx(xe,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(xe,{type:"submit",loading:v,children:Ce?"Join Band":"Add Member"})]})]})]})})}function W_({isOpen:e,onClose:t,member:n,instruments:r,onMemberUpdated:s,userRole:i}){const[a,o]=w.useState(n.name),[l,u]=w.useState(n.role_in_band),[c,f]=w.useState([]),[h,p]=w.useState(!1),{user:y}=ct();if(w.useEffect(()=>{n&&(o(n.name),u(n.role_in_band),f(n.instruments.map(v=>v.id)))},[n]),!e||!y)return null;const _=i==="admin"||n.user_id===y.id,x=async v=>{if(v.preventDefault(),!_){B.error("You do not have permission to edit this member");return}if(!a.trim()){B.error("Please enter a member name");return}if(c.length===0){B.error("Please select at least one instrument");return}p(!0);try{const{error:m}=await Y.from("band_members").update({name:a.trim(),role_in_band:l}).eq("id",n.id);if(m)throw m;const{error:g}=await Y.from("band_member_instruments").delete().eq("band_member_id",n.id);if(g)throw g;const{error:k}=await Y.from("band_member_instruments").insert(c.map(S=>({band_member_id:n.id,instrument_id:S,created_by:y.id})));if(k)throw k;B.success("Member updated successfully!"),s(),t()}catch(m){console.error("Error updating member:",m),B.error(m.message||"Failed to update member")}finally{p(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Edit Member"}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:d.jsx(Qs,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[d.jsx(wt,{label:"Name",value:a,onChange:v=>o(v.target.value),required:!0,placeholder:"Enter member name",disabled:!_}),i==="admin"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),d.jsxs("select",{value:l,onChange:v=>u(v.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-indigo-500 focus:ring-indigo-500",disabled:!_,children:[d.jsx("option",{value:"principal",children:"Principal"}),d.jsx("option",{value:"sustituto",children:"Sustituto"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instruments"}),d.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-3",children:r.map(v=>d.jsxs("label",{className:"flex items-center space-x-2 hover:bg-gray-50 p-1 rounded",children:[d.jsx("input",{type:"checkbox",checked:c.includes(v.id),onChange:m=>{m.target.checked?f([...c,v.id]):f(c.filter(g=>g!==v.id))},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",disabled:!_}),d.jsxs("span",{className:"flex items-center",children:[d.jsx(qs,{className:"w-3 h-3 mr-1"}),v.name]})]},v.id))})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx(xe,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),_&&d.jsx(xe,{type:"submit",loading:h,children:"Save Changes"})]})]})]})})}const zd=3,B_=1e3;async function oe(e,t="An error occurred"){let n=0;for(;n<zd;)try{const{data:r,error:s}=await e();if(s)throw s;return r}catch(r){if(n++,n===zd)return console.error(t,r),B.error(t),null;await new Promise(s=>setTimeout(s,B_*n))}return null}function X(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function et(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Le(e,t){const n=X(e);return isNaN(t)?et(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function xt(e,t){const n=X(e);if(isNaN(t))return et(e,NaN);if(!t)return n;const r=n.getDate(),s=et(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const Uu=6048e5,H_=864e5,ap=6e4,op=36e5;let V_={};function Ks(){return V_}function Tt(e,t){var o,l,u,c;const n=Ks(),r=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=X(e),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Un(e){return Tt(e,{weekStartsOn:1})}function lp(e){const t=X(e),n=t.getFullYear(),r=et(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Un(r),i=et(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Un(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Tr(e){const t=X(e);return t.setHours(0,0,0,0),t}function ha(e){const t=X(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Nt(e,t){const n=Tr(e),r=Tr(t),s=+n-ha(n),i=+r-ha(r);return Math.round((s-i)/H_)}function Y_(e){const t=lp(e),n=et(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Un(n)}function Rl(e,t){const n=t*7;return Le(e,n)}function q_(e,t){return xt(e,t*12)}function Q_(e){let t;return e.forEach(function(n){const r=X(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function K_(e){let t;return e.forEach(n=>{const r=X(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function ne(e,t){const n=Tr(e),r=Tr(t);return+n==+r}function zu(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function G_(e){if(!zu(e)&&typeof e!="number")return!1;const t=X(e);return!isNaN(Number(t))}function Is(e,t){const n=X(e),r=X(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function J_(e,t,n){const r=Tt(e,n),s=Tt(t,n),i=+r-ha(r),a=+s-ha(s);return Math.round((i-a)/Uu)}function Wu(e){const t=X(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function qe(e){const t=X(e);return t.setDate(1),t.setHours(0,0,0,0),t}function up(e){const t=X(e),n=et(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Bu(e,t){var o,l,u,c;const n=Ks(),r=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=X(e),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function cp(e){return Bu(e,{weekStartsOn:1})}const X_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Z_=(e,t,n)=>{let r;const s=X_[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function _r(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ex={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tx={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rx={date:_r({formats:ex,defaultWidth:"full"}),time:_r({formats:tx,defaultWidth:"full"}),dateTime:_r({formats:nx,defaultWidth:"full"})},sx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ix=(e,t,n,r)=>sx[e];function jt(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const ax={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ox={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ux={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fx=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},hx={ordinalNumber:fx,era:jt({values:ax,defaultWidth:"wide"}),quarter:jt({values:ox,defaultWidth:"wide",argumentCallback:e=>e-1}),month:jt({values:lx,defaultWidth:"wide"}),day:jt({values:ux,defaultWidth:"wide"}),dayPeriod:jt({values:cx,defaultWidth:"wide",formattingValues:dx,defaultFormattingWidth:"wide"})};function Ct(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?px(o,f=>f.test(a)):mx(o,f=>f.test(a));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=t.slice(a.length);return{value:u,rest:c}}}function mx(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function px(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function dp(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const vx=/^(\d+)(th|st|nd|rd)?/i,gx=/\d+/i,yx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wx={any:[/^b/i,/^(a|c)/i]},_x={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xx={any:[/1/i,/2/i,/3/i,/4/i]},kx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Sx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ex={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nx={ordinalNumber:dp({matchPattern:vx,parsePattern:gx,valueCallback:e=>parseInt(e,10)}),era:Ct({matchPatterns:yx,defaultMatchWidth:"wide",parsePatterns:wx,defaultParseWidth:"any"}),quarter:Ct({matchPatterns:_x,defaultMatchWidth:"wide",parsePatterns:xx,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ct({matchPatterns:kx,defaultMatchWidth:"wide",parsePatterns:bx,defaultParseWidth:"any"}),day:Ct({matchPatterns:Sx,defaultMatchWidth:"wide",parsePatterns:Ex,defaultParseWidth:"any"}),dayPeriod:Ct({matchPatterns:jx,defaultMatchWidth:"any",parsePatterns:Cx,defaultParseWidth:"any"})},fp={code:"en-US",formatDistance:Z_,formatLong:rx,formatRelative:ix,localize:hx,match:Nx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Px(e){const t=X(e);return Nt(t,up(t))+1}function hp(e){const t=X(e),n=+Un(t)-+Y_(t);return Math.round(n/Uu)+1}function mp(e,t){var c,f,h,p;const n=X(e),r=n.getFullYear(),s=Ks(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=et(e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=Tt(a,t),l=et(e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=Tt(l,t);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Ox(e,t){var o,l,u,c;const n=Ks(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,s=mp(e,t),i=et(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Tt(i,t)}function pp(e,t){const n=X(e),r=+Tt(n,t)-+Ox(n,t);return Math.round(r/Uu)+1}function ee(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const qt={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ee(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ee(n+1,2)},d(e,t){return ee(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ee(e.getHours()%12||12,t.length)},H(e,t){return ee(e.getHours(),t.length)},m(e,t){return ee(e.getMinutes(),t.length)},s(e,t){return ee(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ee(s,t.length)}},er={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wd={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return qt.y(e,t)},Y:function(e,t,n,r){const s=mp(e,r),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return ee(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):ee(i,t.length)},R:function(e,t){const n=lp(e);return ee(n,t.length)},u:function(e,t){const n=e.getFullYear();return ee(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ee(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ee(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return qt.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ee(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=pp(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):ee(s,t.length)},I:function(e,t,n){const r=hp(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ee(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):qt.d(e,t)},D:function(e,t,n){const r=Px(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ee(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ee(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ee(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return ee(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=er.noon:r===0?s=er.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=er.evening:r>=12?s=er.afternoon:r>=4?s=er.morning:s=er.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return qt.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):qt.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ee(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ee(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):qt.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):qt.s(e,t)},S:function(e,t){return qt.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Hd(r);case"XXXX":case"XX":return Nn(r);case"XXXXX":case"XXX":default:return Nn(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Hd(r);case"xxxx":case"xx":return Nn(r);case"xxxxx":case"xxx":default:return Nn(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Bd(r,":");case"OOOO":default:return"GMT"+Nn(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Bd(r,":");case"zzzz":default:return"GMT"+Nn(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ee(r,t.length)},T:function(e,t,n){const r=e.getTime();return ee(r,t.length)}};function Bd(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+ee(i,2)}function Hd(e,t){return e%60===0?(e>0?"-":"+")+ee(Math.abs(e)/60,2):Nn(e,t)}function Nn(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=ee(Math.trunc(r/60),2),i=ee(r%60,2);return n+s+t+i}const Vd=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},vp=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Tx=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Vd(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Vd(r,t)).replace("{{time}}",vp(s,t))},Dx={p:vp,P:Tx},Mx=/^D+$/,Rx=/^Y+$/,$x=["D","DD","YY","YYYY"];function Lx(e){return Mx.test(e)}function Ix(e){return Rx.test(e)}function Ax(e,t,n){const r=Fx(e,t,n);if(console.warn(r),$x.includes(e))throw new RangeError(r)}function Fx(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ux=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wx=/^'([^]*?)'?$/,Bx=/''/g,Hx=/[a-zA-Z]/;function we(e,t,n){var c,f,h,p,y,_,x,v;const r=Ks(),s=(n==null?void 0:n.locale)??r.locale??fp,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((_=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((v=(x=r.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,o=X(e);if(!G_(o))throw new RangeError("Invalid time value");let l=t.match(zx).map(m=>{const g=m[0];if(g==="p"||g==="P"){const k=Dx[g];return k(m,s.formatLong)}return m}).join("").match(Ux).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:Vx(m)};if(Wd[g])return{isToken:!0,value:m};if(g.match(Hx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(m=>{if(!m.isToken)return m.value;const g=m.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Ix(g)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Lx(g))&&Ax(g,t,String(e));const k=Wd[g[0]];return k(o,g,s.localize,u)}).join("")}function Vx(e){const t=e.match(Wx);return t?t[1].replace(Bx,"'"):e}function Yx(e){const t=X(e),n=t.getFullYear(),r=t.getMonth(),s=et(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function qx(e){return Math.trunc(+X(e)/1e3)}function Qx(e){const t=X(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Kx(e,t){return J_(Qx(e),qe(e),t)+1}function $l(e,t){const n=X(e),r=X(t);return n.getTime()>r.getTime()}function gp(e,t){const n=X(e),r=X(t);return+n<+r}function Hu(e,t){const n=X(e),r=X(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Gx(e,t){const n=X(e),r=X(t);return n.getFullYear()===r.getFullYear()}function ko(e,t){return Le(e,-t)}function Jr(e,t){const r=ek(e);let s;if(r.date){const l=tk(r.date,2);s=nk(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let a=0,o;if(r.time&&(a=rk(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(o=sk(r.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(i+a),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+a+o)}const xi={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Jx=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Xx=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Zx=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ek(e){const t={},n=e.split(xi.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],xi.timeZoneDelimiter.test(t.date)&&(t.date=e.split(xi.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=xi.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function tk(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function nk(e,t){if(t===null)return new Date(NaN);const n=e.match(Jx);if(!n)return new Date(NaN);const r=!!n[4],s=Xr(n[1]),i=Xr(n[2])-1,a=Xr(n[3]),o=Xr(n[4]),l=Xr(n[5])-1;if(r)return uk(t,o,l)?ik(t,o,l):new Date(NaN);{const u=new Date(0);return!ok(t,i,a)||!lk(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,a)),u)}}function Xr(e){return e?parseInt(e):1}function rk(e){const t=e.match(Xx);if(!t)return NaN;const n=bo(t[1]),r=bo(t[2]),s=bo(t[3]);return ck(n,r,s)?n*op+r*ap+s*1e3:NaN}function bo(e){return e&&parseFloat(e.replace(",","."))||0}function sk(e){if(e==="Z")return 0;const t=e.match(Zx);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return dk(r,s)?n*(r*op+s*ap):NaN}function ik(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const ak=[31,null,31,30,31,30,31,31,30,31,30,31];function yp(e){return e%400===0||e%4===0&&e%100!==0}function ok(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(ak[t]||(yp(e)?29:28))}function lk(e,t){return t>=1&&t<=(yp(e)?366:365)}function uk(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function ck(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function dk(e,t){return t>=0&&t<=59}function So(e,t){const n=X(e),r=n.getFullYear(),s=n.getDate(),i=et(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const a=Yx(i);return n.setMonth(t,Math.min(s,a)),n}function Yd(e,t){const n=X(e);return isNaN(+n)?et(e,NaN):(n.setFullYear(t),n)}const fk={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},hk=(e,t,n)=>{let r;const s=fk[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},mk={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},pk={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},vk={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gk={date:_r({formats:mk,defaultWidth:"full"}),time:_r({formats:pk,defaultWidth:"full"}),dateTime:_r({formats:vk,defaultWidth:"full"})},yk={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},wk={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},_k=(e,t,n,r)=>t.getHours()!==1?wk[e]:yk[e],xk={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},kk={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},bk={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Sk={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},Ek={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},jk={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Ck=(e,t)=>Number(e)+"º",Nk={ordinalNumber:Ck,era:jt({values:xk,defaultWidth:"wide"}),quarter:jt({values:kk,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:jt({values:bk,defaultWidth:"wide"}),day:jt({values:Sk,defaultWidth:"wide"}),dayPeriod:jt({values:Ek,defaultWidth:"wide",formattingValues:jk,defaultFormattingWidth:"wide"})},Pk=/^(\d+)(º)?/i,Ok=/\d+/i,Tk={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},Dk={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},Mk={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Rk={any:[/1/i,/2/i,/3/i,/4/i]},$k={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Lk={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Ik={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},Ak={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Fk={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},Uk={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},zk={ordinalNumber:dp({matchPattern:Pk,parsePattern:Ok,valueCallback:function(e){return parseInt(e,10)}}),era:Ct({matchPatterns:Tk,defaultMatchWidth:"wide",parsePatterns:Dk,defaultParseWidth:"any"}),quarter:Ct({matchPatterns:Mk,defaultMatchWidth:"wide",parsePatterns:Rk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ct({matchPatterns:$k,defaultMatchWidth:"wide",parsePatterns:Lk,defaultParseWidth:"any"}),day:Ct({matchPatterns:Ik,defaultMatchWidth:"wide",parsePatterns:Ak,defaultParseWidth:"any"}),dayPeriod:Ct({matchPatterns:Fk,defaultMatchWidth:"any",parsePatterns:Uk,defaultParseWidth:"any"})},qd={code:"es",formatDistance:hk,formatLong:gk,formatRelative:_k,localize:Nk,match:zk,options:{weekStartsOn:1,firstWeekContainsDate:1}};var z=function(){return z=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},z.apply(this,arguments)};function Wk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function wp(e,t,n){for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Gs(e){return e.mode==="multiple"}function Js(e){return e.mode==="range"}function za(e){return e.mode==="single"}var Bk={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Hk(e,t){return we(e,"LLLL y",t)}function Vk(e,t){return we(e,"d",t)}function Yk(e,t){return we(e,"LLLL",t)}function qk(e){return"".concat(e)}function Qk(e,t){return we(e,"cccccc",t)}function Kk(e,t){return we(e,"yyyy",t)}var Gk=Object.freeze({__proto__:null,formatCaption:Hk,formatDay:Vk,formatMonthCaption:Yk,formatWeekNumber:qk,formatWeekdayName:Qk,formatYearCaption:Kk}),Jk=function(e,t,n){return we(e,"do MMMM (EEEE)",n)},Xk=function(){return"Month: "},Zk=function(){return"Go to next month"},eb=function(){return"Go to previous month"},tb=function(e,t){return we(e,"cccc",t)},nb=function(e){return"Week n. ".concat(e)},rb=function(){return"Year: "},sb=Object.freeze({__proto__:null,labelDay:Jk,labelMonthDropdown:Xk,labelNext:Zk,labelPrevious:eb,labelWeekNumber:nb,labelWeekday:tb,labelYearDropdown:rb});function ib(){var e="buttons",t=Bk,n=fp,r={},s={},i=1,a={},o=new Date;return{captionLayout:e,classNames:t,formatters:Gk,labels:sb,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:a,today:o,mode:"default"}}function ab(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,i=e.fromDate,a=e.toDate;return r?i=qe(r):t&&(i=new Date(t,0,1)),s?a=Wu(s):n&&(a=new Date(n,11,31)),{fromDate:i?Tr(i):void 0,toDate:a?Tr(a):void 0}}var _p=w.createContext(void 0);function ob(e){var t,n=e.initialProps,r=ib(),s=ab(n),i=s.fromDate,a=s.toDate,o=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;o!=="buttons"&&(!i||!a)&&(o="buttons");var l;(za(n)||Gs(n)||Js(n))&&(l=n.onSelect);var u=z(z(z({},r),n),{captionLayout:o,classNames:z(z({},r.classNames),n.classNames),components:z({},n.components),formatters:z(z({},r.formatters),n.formatters),fromDate:i,labels:z(z({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:z(z({},r.modifiers),n.modifiers),modifiersClassNames:z(z({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:z(z({},r.styles),n.styles),toDate:a});return d.jsx(_p.Provider,{value:u,children:e.children})}function ie(){var e=w.useContext(_p);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function xp(e){var t=ie(),n=t.locale,r=t.classNames,s=t.styles,i=t.formatters.formatCaption;return d.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function lb(e){return d.jsx("svg",z({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:d.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function kp(e){var t,n,r=e.onChange,s=e.value,i=e.children,a=e.caption,o=e.className,l=e.style,u=ie(),c=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:lb;return d.jsxs("div",{className:o,style:l,children:[d.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),d.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:i}),d.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,d.jsx(c,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function ub(e){var t,n=ie(),r=n.fromDate,s=n.toDate,i=n.styles,a=n.locale,o=n.formatters.formatMonthCaption,l=n.classNames,u=n.components,c=n.labels.labelMonthDropdown;if(!r)return d.jsx(d.Fragment,{});if(!s)return d.jsx(d.Fragment,{});var f=[];if(Gx(r,s))for(var h=qe(r),p=r.getMonth();p<=s.getMonth();p++)f.push(So(h,p));else for(var h=qe(new Date),p=0;p<=11;p++)f.push(So(h,p));var y=function(x){var v=Number(x.target.value),m=So(qe(e.displayMonth),v);e.onChange(m)},_=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:kp;return d.jsx(_,{name:"months","aria-label":c(),className:l.dropdown_month,style:i.dropdown_month,onChange:y,value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:a}),children:f.map(function(x){return d.jsx("option",{value:x.getMonth(),children:o(x,{locale:a})},x.getMonth())})})}function cb(e){var t,n=e.displayMonth,r=ie(),s=r.fromDate,i=r.toDate,a=r.locale,o=r.styles,l=r.classNames,u=r.components,c=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!s)return d.jsx(d.Fragment,{});if(!i)return d.jsx(d.Fragment,{});for(var p=s.getFullYear(),y=i.getFullYear(),_=p;_<=y;_++)h.push(Yd(up(new Date),_));var x=function(m){var g=Yd(qe(n),Number(m.target.value));e.onChange(g)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:kp;return d.jsx(v,{name:"years","aria-label":f(),className:l.dropdown_year,style:o.dropdown_year,onChange:x,value:n.getFullYear(),caption:c(n,{locale:a}),children:h.map(function(m){return d.jsx("option",{value:m.getFullYear(),children:c(m,{locale:a})},m.getFullYear())})})}function db(e,t){var n=w.useState(e),r=n[0],s=n[1],i=t===void 0?r:t;return[i,s]}function fb(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,i=e.toDate,a=e.fromDate,o=e.numberOfMonths,l=o===void 0?1:o;if(i&&Is(i,s)<0){var u=-1*(l-1);s=xt(i,u)}return a&&Is(s,a)<0&&(s=a),qe(s)}function hb(){var e=ie(),t=fb(e),n=db(t,e.month),r=n[0],s=n[1],i=function(a){var o;if(!e.disableNavigation){var l=qe(a);s(l),(o=e.onMonthChange)===null||o===void 0||o.call(e,l)}};return[r,i]}function mb(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=qe(e),i=qe(xt(s,r)),a=Is(i,s),o=[],l=0;l<a;l++){var u=xt(s,l);o.push(u)}return n&&(o=o.reverse()),o}function pb(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=r?i:1,o=qe(e);if(!n)return xt(o,a);var l=Is(n,e);if(!(l<i))return xt(o,a)}}function vb(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=r?i:1,o=qe(e);if(!n)return xt(o,-a);var l=Is(o,n);if(!(l<=0))return xt(o,-a)}}var bp=w.createContext(void 0);function gb(e){var t=ie(),n=hb(),r=n[0],s=n[1],i=mb(r,t),a=pb(r,t),o=vb(r,t),l=function(f){return i.some(function(h){return Hu(f,h)})},u=function(f,h){l(f)||(h&&gp(f,h)?s(xt(f,1+t.numberOfMonths*-1)):s(f))},c={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:o,nextMonth:a,isDateDisplayed:l};return d.jsx(bp.Provider,{value:c,children:e.children})}function Xs(){var e=w.useContext(bp);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Qd(e){var t,n=ie(),r=n.classNames,s=n.styles,i=n.components,a=Xs().goToMonth,o=function(c){a(xt(c,e.displayIndex?-e.displayIndex:0))},l=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:xp,u=d.jsx(l,{id:e.id,displayMonth:e.displayMonth});return d.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[d.jsx("div",{className:r.vhidden,children:u}),d.jsx(ub,{onChange:o,displayMonth:e.displayMonth}),d.jsx(cb,{onChange:o,displayMonth:e.displayMonth})]})}function yb(e){return d.jsx("svg",z({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:d.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function wb(e){return d.jsx("svg",z({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:d.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ma=w.forwardRef(function(e,t){var n=ie(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var a=i.join(" "),o=z(z({},s.button_reset),s.button);return e.style&&Object.assign(o,e.style),d.jsx("button",z({},e,{ref:t,type:"button",className:a,style:o}))});function _b(e){var t,n,r=ie(),s=r.dir,i=r.locale,a=r.classNames,o=r.styles,l=r.labels,u=l.labelPrevious,c=l.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return d.jsx(d.Fragment,{});var h=u(e.previousMonth,{locale:i}),p=[a.nav_button,a.nav_button_previous].join(" "),y=c(e.nextMonth,{locale:i}),_=[a.nav_button,a.nav_button_next].join(" "),x=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:wb,v=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:yb;return d.jsxs("div",{className:a.nav,style:o.nav,children:[!e.hidePrevious&&d.jsx(ma,{name:"previous-month","aria-label":h,className:p,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?d.jsx(x,{className:a.nav_icon,style:o.nav_icon}):d.jsx(v,{className:a.nav_icon,style:o.nav_icon})}),!e.hideNext&&d.jsx(ma,{name:"next-month","aria-label":y,className:_,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?d.jsx(v,{className:a.nav_icon,style:o.nav_icon}):d.jsx(x,{className:a.nav_icon,style:o.nav_icon})})]})}function Kd(e){var t=ie().numberOfMonths,n=Xs(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,a=n.displayMonths,o=a.findIndex(function(y){return Hu(e.displayMonth,y)}),l=o===0,u=o===a.length-1,c=t>1&&(l||!u),f=t>1&&(u||!l),h=function(){r&&i(r)},p=function(){s&&i(s)};return d.jsx(_b,{displayMonth:e.displayMonth,hideNext:c,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:h,onNextClick:p})}function xb(e){var t,n=ie(),r=n.classNames,s=n.disableNavigation,i=n.styles,a=n.captionLayout,o=n.components,l=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:xp,u;return s?u=d.jsx(l,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?u=d.jsx(Qd,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?u=d.jsxs(d.Fragment,{children:[d.jsx(Qd,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),d.jsx(Kd,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=d.jsxs(d.Fragment,{children:[d.jsx(l,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),d.jsx(Kd,{displayMonth:e.displayMonth,id:e.id})]}),d.jsx("div",{className:r.caption,style:i.caption,children:u})}function kb(e){var t=ie(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?d.jsx("tfoot",{className:s,style:r.tfoot,children:d.jsx("tr",{children:d.jsx("td",{colSpan:8,children:n})})}):d.jsx(d.Fragment,{})}function bb(e,t,n){for(var r=n?Un(new Date):Tt(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var a=Le(r,i);s.push(a)}return s}function Sb(){var e=ie(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,a=e.ISOWeek,o=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,u=bb(s,i,a);return d.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&d.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(c,f){return d.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":l(c,{locale:s}),children:o(c,{locale:s})},f)})]})}function Eb(){var e,t=ie(),n=t.classNames,r=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:Sb;return d.jsx("thead",{style:r.head,className:n.head,children:d.jsx(i,{})})}function jb(e){var t=ie(),n=t.locale,r=t.formatters.formatDay;return d.jsx(d.Fragment,{children:r(e.date,{locale:n})})}var Vu=w.createContext(void 0);function Cb(e){if(!Gs(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return d.jsx(Vu.Provider,{value:t,children:e.children})}return d.jsx(Nb,{initialProps:e.initialProps,children:e.children})}function Nb(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,i=t.max,a=function(u,c,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,c,f);var y=!!(c.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var _=!!(!c.selected&&i&&(r==null?void 0:r.length)===i);if(!_){var x=r?wp([],r):[];if(c.selected){var v=x.findIndex(function(m){return ne(u,m)});x.splice(v,1)}else x.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,x,u,c,f)}}},o={disabled:[]};r&&o.disabled.push(function(u){var c=i&&r.length>i-1,f=r.some(function(h){return ne(h,u)});return!!(c&&!f)});var l={selected:r,onDayClick:a,modifiers:o};return d.jsx(Vu.Provider,{value:l,children:n})}function Yu(){var e=w.useContext(Vu);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Pb(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?ne(s,e)&&ne(r,e)?void 0:ne(s,e)?{from:s,to:void 0}:ne(r,e)?void 0:$l(r,e)?{from:e,to:s}:{from:r,to:e}:s?$l(e,s)?{from:s,to:e}:{from:e,to:s}:r?gp(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var qu=w.createContext(void 0);function Ob(e){if(!Js(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return d.jsx(qu.Provider,{value:t,children:e.children})}return d.jsx(Tb,{initialProps:e.initialProps,children:e.children})}function Tb(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},i=s.from,a=s.to,o=t.min,l=t.max,u=function(p,y,_){var x,v;(x=t.onDayClick)===null||x===void 0||x.call(t,p,y,_);var m=Pb(p,r);(v=t.onSelect)===null||v===void 0||v.call(t,m,p,y,_)},c={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(c.range_start=[i],a?(c.range_end=[a],ne(i,a)||(c.range_middle=[{after:i,before:a}])):c.range_end=[i]):a&&(c.range_start=[a],c.range_end=[a]),o&&(i&&!a&&c.disabled.push({after:ko(i,o-1),before:Le(i,o-1)}),i&&a&&c.disabled.push({after:i,before:Le(i,o-1)}),!i&&a&&c.disabled.push({after:ko(a,o-1),before:Le(a,o-1)})),l){if(i&&!a&&(c.disabled.push({before:Le(i,-l+1)}),c.disabled.push({after:Le(i,l-1)})),i&&a){var f=Nt(a,i)+1,h=l-f;c.disabled.push({before:ko(i,h)}),c.disabled.push({after:Le(a,h)})}!i&&a&&(c.disabled.push({before:Le(a,-l+1)}),c.disabled.push({after:Le(a,l-1)}))}return d.jsx(qu.Provider,{value:{selected:r,onDayClick:u,modifiers:c},children:n})}function Qu(){var e=w.useContext(qu);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ii(e){return Array.isArray(e)?wp([],e):e!==void 0?[e]:[]}function Db(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=Ii(s)}),t}var kt;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(kt||(kt={}));var Mb=kt.Selected,Mt=kt.Disabled,Rb=kt.Hidden,$b=kt.Today,Eo=kt.RangeEnd,jo=kt.RangeMiddle,Co=kt.RangeStart,Lb=kt.Outside;function Ib(e,t,n){var r,s=(r={},r[Mb]=Ii(e.selected),r[Mt]=Ii(e.disabled),r[Rb]=Ii(e.hidden),r[$b]=[e.today],r[Eo]=[],r[jo]=[],r[Co]=[],r[Lb]=[],r);return e.fromDate&&s[Mt].push({before:e.fromDate}),e.toDate&&s[Mt].push({after:e.toDate}),Gs(e)?s[Mt]=s[Mt].concat(t.modifiers[Mt]):Js(e)&&(s[Mt]=s[Mt].concat(n.modifiers[Mt]),s[Co]=n.modifiers[Co],s[jo]=n.modifiers[jo],s[Eo]=n.modifiers[Eo]),s}var Sp=w.createContext(void 0);function Ab(e){var t=ie(),n=Yu(),r=Qu(),s=Ib(t,n,r),i=Db(t.modifiers),a=z(z({},s),i);return d.jsx(Sp.Provider,{value:a,children:e.children})}function Ep(){var e=w.useContext(Sp);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Fb(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Ub(e){return!!(e&&typeof e=="object"&&"from"in e)}function zb(e){return!!(e&&typeof e=="object"&&"after"in e)}function Wb(e){return!!(e&&typeof e=="object"&&"before"in e)}function Bb(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Hb(e,t){var n,r=t.from,s=t.to;if(r&&s){var i=Nt(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var a=Nt(e,r)>=0&&Nt(s,e)>=0;return a}return s?ne(s,e):r?ne(r,e):!1}function Vb(e){return zu(e)}function Yb(e){return Array.isArray(e)&&e.every(zu)}function qb(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(Vb(n))return ne(e,n);if(Yb(n))return n.includes(e);if(Ub(n))return Hb(e,n);if(Bb(n))return n.dayOfWeek.includes(e.getDay());if(Fb(n)){var r=Nt(n.before,e),s=Nt(n.after,e),i=r>0,a=s<0,o=$l(n.before,n.after);return o?a&&i:i||a}return zb(n)?Nt(e,n.after)>0:Wb(n)?Nt(n.before,e)>0:typeof n=="function"?n(e):!1})}function Ku(e,t,n){var r=Object.keys(t).reduce(function(i,a){var o=t[a];return qb(e,o)&&i.push(a),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!Hu(e,n)&&(s.outside=!0),s}function Qb(e,t){for(var n=qe(e[0]),r=Wu(e[e.length-1]),s,i,a=n;a<=r;){var o=Ku(a,t),l=!o.disabled&&!o.hidden;if(!l){a=Le(a,1);continue}if(o.selected)return a;o.today&&!i&&(i=a),s||(s=a),a=Le(a,1)}return i||s}var Kb=365;function jp(e,t){var n=t.moveBy,r=t.direction,s=t.context,i=t.modifiers,a=t.retry,o=a===void 0?{count:0,lastFocused:e}:a,l=s.weekStartsOn,u=s.fromDate,c=s.toDate,f=s.locale,h={day:Le,week:Rl,month:xt,year:q_,startOfWeek:function(x){return s.ISOWeek?Un(x):Tt(x,{locale:f,weekStartsOn:l})},endOfWeek:function(x){return s.ISOWeek?cp(x):Bu(x,{locale:f,weekStartsOn:l})}},p=h[n](e,r==="after"?1:-1);r==="before"&&u?p=Q_([u,p]):r==="after"&&c&&(p=K_([c,p]));var y=!0;if(i){var _=Ku(p,i);y=!_.disabled&&!_.hidden}return y?p:o.count>Kb?o.lastFocused:jp(p,{moveBy:n,direction:r,context:s,modifiers:i,retry:z(z({},o),{count:o.count+1})})}var Cp=w.createContext(void 0);function Gb(e){var t=Xs(),n=Ep(),r=w.useState(),s=r[0],i=r[1],a=w.useState(),o=a[0],l=a[1],u=Qb(t.displayMonths,n),c=s??(o&&t.isDateDisplayed(o))?o:u,f=function(){l(s),i(void 0)},h=function(x){i(x)},p=ie(),y=function(x,v){if(s){var m=jp(s,{moveBy:x,direction:v,context:p,modifiers:n});ne(s,m)||(t.goToDate(m,s),h(m))}},_={focusedDay:s,focusTarget:c,blur:f,focus:h,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return d.jsx(Cp.Provider,{value:_,children:e.children})}function Gu(){var e=w.useContext(Cp);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Jb(e,t){var n=Ep(),r=Ku(e,n,t);return r}var Ju=w.createContext(void 0);function Xb(e){if(!za(e.initialProps)){var t={selected:void 0};return d.jsx(Ju.Provider,{value:t,children:e.children})}return d.jsx(Zb,{initialProps:e.initialProps,children:e.children})}function Zb(e){var t=e.initialProps,n=e.children,r=function(i,a,o){var l,u,c;if((l=t.onDayClick)===null||l===void 0||l.call(t,i,a,o),a.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,a,o);return}(c=t.onSelect)===null||c===void 0||c.call(t,i,i,a,o)},s={selected:t.selected,onDayClick:r};return d.jsx(Ju.Provider,{value:s,children:n})}function Np(){var e=w.useContext(Ju);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function eS(e,t){var n=ie(),r=Np(),s=Yu(),i=Qu(),a=Gu(),o=a.focusDayAfter,l=a.focusDayBefore,u=a.focusWeekAfter,c=a.focusWeekBefore,f=a.blur,h=a.focus,p=a.focusMonthBefore,y=a.focusMonthAfter,_=a.focusYearBefore,x=a.focusYearAfter,v=a.focusStartOfWeek,m=a.focusEndOfWeek,g=function(C){var b,$,E,T;za(n)?(b=r.onDayClick)===null||b===void 0||b.call(r,e,t,C):Gs(n)?($=s.onDayClick)===null||$===void 0||$.call(s,e,t,C):Js(n)?(E=i.onDayClick)===null||E===void 0||E.call(i,e,t,C):(T=n.onDayClick)===null||T===void 0||T.call(n,e,t,C)},k=function(C){var b;h(e),(b=n.onDayFocus)===null||b===void 0||b.call(n,e,t,C)},S=function(C){var b;f(),(b=n.onDayBlur)===null||b===void 0||b.call(n,e,t,C)},P=function(C){var b;(b=n.onDayMouseEnter)===null||b===void 0||b.call(n,e,t,C)},N=function(C){var b;(b=n.onDayMouseLeave)===null||b===void 0||b.call(n,e,t,C)},O=function(C){var b;(b=n.onDayPointerEnter)===null||b===void 0||b.call(n,e,t,C)},L=function(C){var b;(b=n.onDayPointerLeave)===null||b===void 0||b.call(n,e,t,C)},H=function(C){var b;(b=n.onDayTouchCancel)===null||b===void 0||b.call(n,e,t,C)},Z=function(C){var b;(b=n.onDayTouchEnd)===null||b===void 0||b.call(n,e,t,C)},je=function(C){var b;(b=n.onDayTouchMove)===null||b===void 0||b.call(n,e,t,C)},Ce=function(C){var b;(b=n.onDayTouchStart)===null||b===void 0||b.call(n,e,t,C)},D=function(C){var b;(b=n.onDayKeyUp)===null||b===void 0||b.call(n,e,t,C)},W=function(C){var b;switch(C.key){case"ArrowLeft":C.preventDefault(),C.stopPropagation(),n.dir==="rtl"?o():l();break;case"ArrowRight":C.preventDefault(),C.stopPropagation(),n.dir==="rtl"?l():o();break;case"ArrowDown":C.preventDefault(),C.stopPropagation(),u();break;case"ArrowUp":C.preventDefault(),C.stopPropagation(),c();break;case"PageUp":C.preventDefault(),C.stopPropagation(),C.shiftKey?_():p();break;case"PageDown":C.preventDefault(),C.stopPropagation(),C.shiftKey?x():y();break;case"Home":C.preventDefault(),C.stopPropagation(),v();break;case"End":C.preventDefault(),C.stopPropagation(),m();break}(b=n.onDayKeyDown)===null||b===void 0||b.call(n,e,t,C)},V={onClick:g,onFocus:k,onBlur:S,onKeyDown:W,onKeyUp:D,onMouseEnter:P,onMouseLeave:N,onPointerEnter:O,onPointerLeave:L,onTouchCancel:H,onTouchEnd:Z,onTouchMove:je,onTouchStart:Ce};return V}function tS(){var e=ie(),t=Np(),n=Yu(),r=Qu(),s=za(e)?t.selected:Gs(e)?n.selected:Js(e)?r.selected:void 0;return s}function nS(e){return Object.values(kt).includes(e)}function rS(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(nS(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function sS(e,t){var n=z({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=z(z({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function iS(e,t,n){var r,s,i,a=ie(),o=Gu(),l=Jb(e,t),u=eS(e,l),c=tS(),f=!!(a.onDayClick||a.mode!=="default");w.useEffect(function(){var P;l.outside||o.focusedDay&&f&&ne(o.focusedDay,e)&&((P=n.current)===null||P===void 0||P.focus())},[o.focusedDay,e,n,f,l.outside]);var h=rS(a,l).join(" "),p=sS(a,l),y=!!(l.outside&&!a.showOutsideDays||l.hidden),_=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:jb,x=d.jsx(_,{date:e,displayMonth:t,activeModifiers:l}),v={style:p,className:h,children:x,role:"gridcell"},m=o.focusTarget&&ne(o.focusTarget,e)&&!l.outside,g=o.focusedDay&&ne(o.focusedDay,e),k=z(z(z({},v),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=g||m?0:-1,r)),u),S={isButton:f,isHidden:y,activeModifiers:l,selectedDays:c,buttonProps:k,divProps:v};return S}function aS(e){var t=w.useRef(null),n=iS(e.date,e.displayMonth,t);return n.isHidden?d.jsx("div",{role:"gridcell"}):n.isButton?d.jsx(ma,z({name:"day",ref:t},n.buttonProps)):d.jsx("div",z({},n.divProps))}function oS(e){var t=e.number,n=e.dates,r=ie(),s=r.onWeekNumberClick,i=r.styles,a=r.classNames,o=r.locale,l=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,c=u(Number(t),{locale:o});if(!s)return d.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:c});var f=l(Number(t),{locale:o}),h=function(p){s(t,n,p)};return d.jsx(ma,{name:"week-number","aria-label":f,className:a.weeknumber,style:i.weeknumber,onClick:h,children:c})}function lS(e){var t,n,r=ie(),s=r.styles,i=r.classNames,a=r.showWeekNumber,o=r.components,l=(t=o==null?void 0:o.Day)!==null&&t!==void 0?t:aS,u=(n=o==null?void 0:o.WeekNumber)!==null&&n!==void 0?n:oS,c;return a&&(c=d.jsx("td",{className:i.cell,style:s.cell,children:d.jsx(u,{number:e.weekNumber,dates:e.dates})})),d.jsxs("tr",{className:i.row,style:s.row,children:[c,e.dates.map(function(f){return d.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:d.jsx(l,{displayMonth:e.displayMonth,date:f})},qx(f))})]})}function Gd(e,t,n){for(var r=n!=null&&n.ISOWeek?cp(t):Bu(t,n),s=n!=null&&n.ISOWeek?Un(e):Tt(e,n),i=Nt(r,s),a=[],o=0;o<=i;o++)a.push(Le(s,o));var l=a.reduce(function(u,c){var f=n!=null&&n.ISOWeek?hp(c):pp(c,n),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(c),u):(u.push({weekNumber:f,dates:[c]}),u)},[]);return l}function uS(e,t){var n=Gd(qe(e),Wu(e),t);if(t!=null&&t.useFixedWeeks){var r=Kx(e,t);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],a=Rl(i,6-r),o=Gd(Rl(i,1),a,t);n.push.apply(n,o)}}return n}function cS(e){var t,n,r,s=ie(),i=s.locale,a=s.classNames,o=s.styles,l=s.hideHead,u=s.fixedWeeks,c=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,p=s.ISOWeek,y=uS(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),_=(t=c==null?void 0:c.Head)!==null&&t!==void 0?t:Eb,x=(n=c==null?void 0:c.Row)!==null&&n!==void 0?n:lS,v=(r=c==null?void 0:c.Footer)!==null&&r!==void 0?r:kb;return d.jsxs("table",{id:e.id,className:a.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&d.jsx(_,{}),d.jsx("tbody",{className:a.tbody,style:o.tbody,children:y.map(function(m){return d.jsx(x,{displayMonth:e.displayMonth,dates:m.dates,weekNumber:m.weekNumber},m.weekNumber)})}),d.jsx(v,{displayMonth:e.displayMonth})]})}function dS(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var fS=dS()?w.useLayoutEffect:w.useEffect,No=!1,hS=0;function Jd(){return"react-day-picker-".concat(++hS)}function mS(e){var t,n=e??(No?Jd():null),r=w.useState(n),s=r[0],i=r[1];return fS(function(){s===null&&i(Jd())},[]),w.useEffect(function(){No===!1&&(No=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function pS(e){var t,n,r=ie(),s=r.dir,i=r.classNames,a=r.styles,o=r.components,l=Xs().displayMonths,u=mS(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),c=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=a.month,p=e.displayIndex===0,y=e.displayIndex===l.length-1,_=!p&&!y;s==="rtl"&&(t=[p,y],y=t[0],p=t[1]),p&&(f.push(i.caption_start),h=z(z({},h),a.caption_start)),y&&(f.push(i.caption_end),h=z(z({},h),a.caption_end)),_&&(f.push(i.caption_between),h=z(z({},h),a.caption_between));var x=(n=o==null?void 0:o.Caption)!==null&&n!==void 0?n:xb;return d.jsxs("div",{className:f.join(" "),style:h,children:[d.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),d.jsx(cS,{id:c,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function vS(e){var t=ie(),n=t.classNames,r=t.styles;return d.jsx("div",{className:n.months,style:r.months,children:e.children})}function gS(e){var t,n,r=e.initialProps,s=ie(),i=Gu(),a=Xs(),o=w.useState(!1),l=o[0],u=o[1];w.useEffect(function(){s.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,l,i.focus,i.focusTarget,i]);var c=[s.classNames.root,s.className];s.numberOfMonths>1&&c.push(s.classNames.multiple_months),s.showWeekNumber&&c.push(s.classNames.with_weeknumber);var f=z(z({},s.styles.root),s.style),h=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,_){var x;return z(z({},y),(x={},x[_]=r[_],x))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:vS;return d.jsx("div",z({className:c.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:d.jsx(p,{children:a.displayMonths.map(function(y,_){return d.jsx(pS,{displayIndex:_,displayMonth:y},_)})})}))}function yS(e){var t=e.children,n=Wk(e,["children"]);return d.jsx(ob,{initialProps:n,children:d.jsx(gb,{children:d.jsx(Xb,{initialProps:n,children:d.jsx(Cb,{initialProps:n,children:d.jsx(Ob,{initialProps:n,children:d.jsx(Ab,{children:d.jsx(Gb,{children:t})})})})})})})}function wS(e){return d.jsx(yS,z({},e,{children:d.jsx(gS,{initialProps:e})}))}function _S({members:e,onAvailableDatesChange:t}){const{id:n}=km(),[r,s]=w.useState([]),[i,a]=w.useState(void 0),[o,l]=w.useState(!0),[u,c]=w.useState(!1),[f,h]=w.useState(null),[p,y]=w.useState(!1),[_,x]=w.useState([]),[v,m]=w.useState([]),[g,k]=w.useState([]),[S,P]=w.useState([]),[N,O]=w.useState([]),{user:L}=ct();w.useEffect(()=>{L&&(H(),D(),je(),Z(),Ce())},[L,n]),w.useEffect(()=>{V()},[r,v,g,S]),w.useEffect(()=>{t&&t(_)},[_,t]);const H=async()=>{const E=await oe(()=>Y.from("users").select("role").eq("id",L==null?void 0:L.id).single(),"Error checking admin status");E&&y(E.role==="admin")},Z=async()=>{const E=await oe(()=>Y.from("events").select(`
          id,
          date,
          name,
          band_id,
          event_members (
            user_id
          )
        `),"Error al obtener los eventos");if(E){const T=[];E.forEach(R=>{var I;(I=R.event_members)==null||I.forEach(F=>{T.push({event_id:R.id,date:R.date,user_id:F.user_id,name:R.name,band_id:R.band_id})})}),m(T)}},je=async()=>{const E=await oe(()=>Y.from("events").select(`
          id,
          date,
          name,
          band_id,
          event_members (
            user_id
          )
        `).eq("band_id",n),"Error fetching band events");if(E){const T=[];E.forEach(R=>{var I;(I=R.event_members)==null||I.forEach(F=>{T.push({event_id:R.id,date:R.date,user_id:F.user_id,name:R.name,band_id:R.band_id})})}),k(T)}},Ce=async()=>{const E=await oe(()=>Y.from("events").select(`
          date,
          band_id,
          event_members (
            user_id
          )
        `).neq("band_id",n),"Error fetching member external events");if(E){const T=[];E.forEach(R=>{var I;(I=R.event_members)==null||I.forEach(F=>{T.push({user_id:F.user_id,date:R.date})})}),P(T)}},D=async()=>{if(n){l(!0);try{const E=e.filter(R=>R.user_id).map(R=>R.user_id),T=await oe(()=>Y.from("member_availability").select("user_id, date").in("user_id",E).order("date"),"Error fetching availabilities");if(T){const R=new Map;T.forEach(F=>{const A=R.get(F.user_id)||[];A.push(new Date(F.date)),R.set(F.user_id,A)});const I=Array.from(R.entries()).map(([F,A])=>{const U=e.find(ce=>ce.user_id===F);return{userId:F,memberName:(U==null?void 0:U.name)||"Unknown Member",dates:A,instruments:(U==null?void 0:U.instruments)||[],roleInBand:(U==null?void 0:U.role_in_band)||"principal"}});s(I)}}finally{l(!1)}}},W=E=>g.filter(T=>ne(new Date(T.date),E)),V=()=>{const E=new Set;r.forEach(U=>{U.dates.forEach(ce=>{E.add(we(ce,"yyyy-MM-dd"))})}),S.forEach(U=>{E.add(we(new Date(U.date),"yyyy-MM-dd"))});const T=Array.from(E).map(U=>new Date(U)),R=e.filter(U=>U.role_in_band==="principal"),I=e.filter(U=>U.role_in_band==="sustituto"),F=[],A=[];T.forEach(U=>{we(U,"yyyy-MM-dd");const ce=R.filter(Q=>{var qn;const bn=((qn=r.find(de=>de.userId===Q.user_id))==null?void 0:qn.dates.some(de=>ne(de,U)))??!1,Yn=S.some(de=>de.user_id===Q.user_id&&ne(new Date(de.date),U));return!bn||Yn});ce.length===0||ce.every(bn=>{const Yn=bn.instruments.map(de=>de.id);return I.filter(de=>{var Xu;const Qn=((Xu=r.find(Kn=>Kn.userId===de.user_id))==null?void 0:Xu.dates.some(Kn=>ne(Kn,U)))??!1,Ur=S.some(Kn=>Kn.user_id===de.user_id&&ne(new Date(Kn.date),U));return Qn&&!Ur}).some(de=>{const Qn=de.instruments.map(Ur=>Ur.id);return Yn.every(Ur=>Qn.includes(Ur))})})?F.push(U):A.push(U)}),x(F),O(A)},C=async E=>{var F;if(!L)return;if(!(p||e.some(A=>A.user_id===L.id))){B.error("Solo puedes gestionar tu propia disponibilidad");return}const R=f||L.id;if(v.some(A=>A.user_id===R&&ne(new Date(A.date),E))){B.error("No puedes cambiar tu disponibilidad en fechas con eventos programados");return}c(!0);try{const A=e.find(Q=>Q.user_id===R);if(!A){B.error("Miembro no encontrado");return}const U=(F=r.find(Q=>Q.userId===A.user_id))==null?void 0:F.dates.some(Q=>ne(Q,E)),ce=we(E,"yyyy-MM-dd");U?await oe(()=>Y.from("member_availability").delete().eq("user_id",A.user_id).eq("date",ce),"Error al actualizar la disponibilidad"):await oe(()=>Y.from("member_availability").insert([{user_id:A.user_id,date:ce}]),"Error al actualizar la disponibilidad"),await D()}finally{c(!1)}};function b(E){return e.filter(T=>{var F;const R=((F=r.find(A=>A.userId===T.user_id))==null?void 0:F.dates.some(A=>ne(A,E)))??!1,I=g.some(A=>A.user_id===T.user_id&&ne(new Date(A.date),E));return R||I})}const $=({date:E})=>{const T=b(E),R=T.some(Q=>Q.user_id===(f||(L==null?void 0:L.id))),I=T.filter(Q=>Q.user_id!==(f||(L==null?void 0:L.id))).length,F=_.some(Q=>ne(Q,E)),A=N.some(Q=>ne(Q,E)),U=W(E),ce=U.length>0;return d.jsxs("div",{className:`day-content ${F?"band-available":""} ${A?"band-not-available":""} ${ce?"has-event":""}`,children:[d.jsx("span",{children:E.getDate()}),(R||I>0||ce)&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"availability-dots",children:[R&&d.jsx("div",{className:"availability-dot you"}),[...Array(Math.min(I,3))].map((Q,bn)=>d.jsx("div",{className:"availability-dot others"},bn))]}),d.jsxs("div",{className:"day-tooltip",children:[d.jsxs("div",{className:"text-sm font-medium text-gray-900 mb-2",children:[we(E,"MMMM d, yyyy"),d.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[F&&d.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Banda Disponible"}),ce&&d.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-0.5 rounded-full",children:U.length>1?`${U[0].name} y más`:U[0].name})]})]}),T.length>0&&d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Miembros:"}),T.map(Q=>{var qn;const bn=((qn=r.find(de=>de.userId===Q.user_id))==null?void 0:qn.dates.some(de=>ne(de,E)))??!1,Yn=S.some(de=>de.user_id===Q.user_id&&ne(new Date(de.date),E));return d.jsx("div",{className:`tooltip-member ${Q.user_id===(f||(L==null?void 0:L.id))?"you":"other"}`,children:d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between w-full",children:[d.jsx("span",{className:"font-medium",children:Q.name}),d.jsxs("div",{className:"flex items-center gap-2",children:[Q.role_in_band==="sustituto"&&d.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-1.5 py-0.5 rounded-full",children:"Sustituto"}),bn&&!Yn&&d.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-1.5 py-0.5 rounded-full",children:"Disponible"}),Yn&&d.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-1.5 py-0.5 rounded-full",children:"Con Evento"}),Q.user_id===(f||(L==null?void 0:L.id))&&d.jsx("span",{className:"text-xs bg-indigo-200 px-1.5 py-0.5 rounded-full",children:"Tú"})]})]}),Q.instruments.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Q.instruments.map((de,Qn)=>d.jsxs("span",{className:"inline-flex items-center text-xs text-gray-600",children:[d.jsx(qs,{className:"w-3 h-3 mr-1"}),de.name,Qn<Q.instruments.length-1&&", "]},`${Q.id}-${de.id}-${Qn}`))})]})},Q.id)})]})]})]})]})};return o?d.jsx("div",{className:"flex justify-center items-center py-8",children:d.jsx(fa,{className:"w-6 h-6 animate-spin text-indigo-600"})}):d.jsxs("div",{className:"space-y-6",children:[p&&e.length>0&&d.jsxs("div",{children:[d.jsx("label",{htmlFor:"member-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Managing availability for:"}),d.jsxs("div",{className:"relative w-full max-w-xs",children:[d.jsx("select",{id:"member-select",value:f||(L==null?void 0:L.id)||"",onChange:E=>h(E.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md shadow-sm",children:e.map(E=>d.jsxs("option",{value:E.user_id,children:[E.name," ",E.user_id===(L==null?void 0:L.id)?"(You)":""]},E.id))}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:d.jsx(D_,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"flex justify-center relative bg-white rounded-lg shadow-sm p-4",children:[u&&d.jsx("div",{className:"absolute inset-0 bg-white/50 flex items-center justify-center z-10 rounded-lg",children:d.jsx(fa,{className:"w-6 h-6 animate-spin text-indigo-600"})}),d.jsx(wS,{mode:"single",selected:i,onSelect:a,onDayClick:C,fromDate:new Date,components:{DayContent:$}})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[d.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Legend:"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-3",children:[d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full bg-indigo-600"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Your availability"})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full bg-indigo-200"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Other members"})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Band available"})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Event scheduled"})]})]})]})]})}function xS({members:e,selectedMembers:t,onMemberSelectionChange:n,validationError:r}){const s=t.filter(o=>{const l=e.find(u=>u.id===o.memberId);return(l==null?void 0:l.role_in_band)==="principal"}),i=t.filter(o=>{const l=e.find(u=>u.id===o.memberId);return(l==null?void 0:l.role_in_band)==="sustituto"}),a=(o,l)=>d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700",children:l}),o.map(u=>{const c=e.find(f=>f.id===u.memberId);return c?d.jsx("div",{className:`flex items-center justify-between p-2 rounded-lg transition-colors ${u.isAvailable?"bg-gray-50 hover:bg-gray-100":"bg-red-50"}`,children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"checkbox",checked:u.selected,onChange:f=>n(u.memberId,f.target.checked),className:`rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 ${!u.isAvailable&&!u.selected?"opacity-50":""}`,disabled:!u.isAvailable&&!u.selected}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-medium text-gray-900",children:c.name}),!u.isAvailable&&d.jsxs("span",{className:"inline-flex items-center text-xs text-red-700 bg-red-100 px-2 py-0.5 rounded-full",children:[d.jsx(Fd,{className:"w-3 h-3 mr-1"}),"No disponible"]})]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[d.jsx(qs,{className:"w-3 h-3 mr-1"}),c.instruments.map(f=>f.name).join(", ")]})]})]})},u.memberId):null})]});return d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Miembros"}),d.jsxs("div",{className:"space-y-6",children:[a(s,"Miembros Principales"),i.length>0&&a(i,"Sustitutos")]}),r&&d.jsxs("div",{className:"mt-2 text-sm text-red-600 bg-red-50 p-3 rounded-lg flex items-start",children:[d.jsx(Fd,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),d.jsx("p",{children:"Por favor, asegúrate de que todos los instrumentos estén cubiertos por los miembros seleccionados. Si un miembro principal no está disponible, debes seleccionar un sustituto que cubra sus instrumentos."})]})]})}function Xd({isOpen:e,onClose:t,bandId:n,selectedDate:r,event:s,onEventSaved:i,availableDates:a,members:o}){const[l,u]=w.useState(""),[c,f]=w.useState(""),[h,p]=w.useState(""),[y,_]=w.useState(""),[x,v]=w.useState(!1),[m,g]=w.useState([]),[k,S]=w.useState(!1),{user:P}=ct();w.useEffect(()=>{if(s)u(s.name),f(s.date),p(s.time),_(s.notes||""),N();else if(r){const D=we(r,"yyyy-MM-dd");f(D),p("20:00"),O(D)}},[s,r]);const N=async()=>{if(s)try{const D=await oe(()=>Y.from("event_members").select("band_member_id, user_id").eq("event_id",s.id),"Error loading event members");if(D){const W=L(s.date),V=new Set(D.map(b=>b.band_member_id)),C=o.map(b=>({memberId:b.id,userId:b.user_id,selected:V.has(b.id),isAvailable:W.some($=>$.id===b.id)||V.has(b.id)}));g(C)}}catch(D){console.error("Error loading event members:",D)}},O=async(D,W)=>{try{const V=await oe(()=>Y.from("events").select(`
            date,
            event_members (
              user_id
            )
          `).neq("band_id",n).eq("date",D),"Error loading external events"),C=new Set;V==null||V.forEach(T=>{var R;(R=T.event_members)==null||R.forEach(I=>{C.add(I.user_id)})});const b=await oe(()=>Y.from("member_availability").select("user_id").eq("date",D),"Error loading member availability"),$=new Set((b==null?void 0:b.map(T=>T.user_id))||[]),E=o.map(T=>{const R=T.user_id?$.has(T.user_id)&&!C.has(T.user_id):!0;return{memberId:T.id,userId:T.user_id,selected:W?W.includes(T.id):T.role_in_band==="principal"&&R,isAvailable:R}});g(E)}catch(V){console.error("Error loading available members:",V)}},L=D=>{const W=new Date(D);return o.filter(V=>a.some(C=>ne(C,W)))};w.useEffect(()=>{H()},[m]);const H=()=>{const D=o.filter(C=>C.role_in_band==="principal"),W=m.filter(C=>C.selected).map(C=>C.memberId),V=new Set;return D.forEach(C=>{W.includes(C.id)||C.instruments.forEach(b=>{m.filter(E=>E.selected).some(E=>{const T=o.find(R=>R.id===E.memberId);return T==null?void 0:T.instruments.some(R=>R.id===b.id)})||V.add(b.name)})}),S(V.size>0),V},Z=(D,W)=>{g(V=>V.map(C=>C.memberId===D?{...C,selected:W}:C))},je=async D=>{if(D.preventDefault(),!l.trim()){B.error("Please enter an event name");return}if(!c){B.error("Please select a date");return}const W=H();if(W.size>0){B.error(`Missing instruments: ${Array.from(W).join(", ")}`);return}if(!P){B.error("You must be logged in to create events");return}v(!0);try{const V=m.filter(C=>C.selected).map(C=>({memberId:C.memberId,userId:C.userId}));if(s)await oe(()=>Y.from("events").update({name:l.trim(),time:h,notes:y.trim()||null}).eq("id",s.id),"Error updating event")!==null&&(await oe(()=>Y.from("event_members").delete().eq("event_id",s.id),"Error updating event members"),await oe(()=>Y.from("event_members").insert(V.map(b=>({event_id:s.id,band_member_id:b.memberId,user_id:b.userId,created_by:P.id}))),"Error adding event members"),B.success("Event updated successfully!"));else{const C=await oe(()=>Y.from("events").insert([{band_id:n,name:l.trim(),date:c,time:h,notes:y.trim()||null,created_by:P.id}]).select().single(),"Error creating event");C&&(await oe(()=>Y.from("event_members").insert(V.map(b=>({event_id:C.id,band_member_id:b.memberId,user_id:b.userId,created_by:P.id}))),"Error adding event members"),B.success("Event created successfully!"))}i(),t(),Ce()}catch(V){console.error("Error saving event:",V)}finally{v(!1)}},Ce=()=>{u(""),f(""),p(""),_(""),g([])};return e?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-white flex justify-between items-center p-4 border-b z-10",children:[d.jsx("h2",{className:"text-xl font-semibold",children:s?"Edit Event":"Create Event"}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:d.jsx(Qs,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:je,className:"p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsx(wt,{label:"Event Name",value:l,onChange:D=>u(D.target.value),required:!0,placeholder:"Enter event name"}),d.jsx(wt,{label:"Time",type:"time",value:h,onChange:D=>p(D.target.value),required:!0})]}),!s&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Date"}),d.jsxs("select",{value:c,onChange:D=>{f(D.target.value),O(D.target.value)},className:"w-full border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 p-2",children:[d.jsx("option",{value:"",disabled:!0,children:"Select a date"}),a.map((D,W)=>{const V=we(D,"yyyy-MM-dd");return d.jsx("option",{value:V,children:we(D,"EEEE, d MMMM yyyy",{locale:qd})},W)})]})]}),s&&d.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:d.jsxs("span",{className:"text-sm text-gray-600",children:["Event date: ",we(new Date(s.date),"EEEE, d MMMM yyyy",{locale:qd})]})}),c&&d.jsx(xS,{members:o,selectedMembers:m,onMemberSelectionChange:Z,validationError:k}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),d.jsx("textarea",{value:y,onChange:D=>_(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",rows:2,placeholder:"Add additional notes..."})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx(xe,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(xe,{type:"submit",loading:x,disabled:!c||k,children:s?"Save Changes":"Create Event"})]})]})]})}):null}function kS({bandId:e,canManageEvents:t,availableDates:n,members:r}){const[s,i]=w.useState([]),[a,o]=w.useState(!0),[l,u]=w.useState(null),[c,f]=w.useState(!1),[h,p]=w.useState(!1);w.useEffect(()=>{y()},[e]);const y=async()=>{try{const m=await oe(()=>Y.from("events").select("*").eq("band_id",e).order("date").order("time"),"Error loading events");if(m){const g=await Promise.all(m.map(async k=>{const S=await oe(()=>Y.from("event_members").select("band_member_id, user_id").eq("event_id",k.id),"Error loading event members"),P=(S==null?void 0:S.map(N=>{const O=r.find(L=>L.id===N.band_member_id);return{band_member_id:N.band_member_id,user_id:N.user_id,member_name:(O==null?void 0:O.name)||"Unknown Member",role_in_band:(O==null?void 0:O.role_in_band)||"principal"}}))||[];return{...k,members:P}}));i(g)}}catch(m){console.error("Error fetching events:",m)}finally{o(!1)}},_=async m=>{if(window.confirm("¿Estás seguro de que quieres eliminar este evento?"))try{await oe(()=>Y.from("event_members").delete().eq("event_id",m),"Error deleting event members"),await oe(()=>Y.from("events").delete().eq("id",m),"Error deleting event"),B.success("Evento eliminado correctamente"),y()}catch(g){console.error("Error deleting event:",g)}},x=m=>{u(m),p(!0)};if(a)return d.jsx("div",{className:"text-center py-4",children:"Cargando eventos..."});const v=()=>{const m=s.reduce((g,k)=>{const S=we(Jr(k.date),"MMMM yyyy");return g[S]||(g[S]=[]),g[S].push(k),g},{});return Object.entries(m)};return d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100",children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Eventos"}),t&&d.jsx(xe,{onClick:()=>f(!0),children:"Añadir Evento"})]}),s.length===0?d.jsxs("div",{className:"text-center py-6 text-gray-500",children:[d.jsx(T_,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),d.jsx("p",{children:"No hay eventos programados"})]}):d.jsx("div",{className:"mt-4 space-y-6",children:v().map(([m,g])=>d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:m}),d.jsx("div",{className:"space-y-1",children:g.map(k=>d.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 hover:border-gray-200 transition-colors",children:d.jsx("div",{className:"p-3",children:d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex-shrink-0 w-12 text-center",children:[d.jsx("div",{className:"text-lg font-bold text-gray-900",children:we(Jr(k.date),"d")}),d.jsx("div",{className:"text-xs text-gray-500 uppercase",children:we(Jr(k.date),"EEE")})]}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:k.name}),d.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mt-0.5",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(M_,{className:"w-3 h-3 mr-1"}),we(Jr(`2000-01-01T${k.time}`),"h:mm a")]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(ip,{className:"w-3 h-3 mr-1"}),k.members.length]})]})]})]}),d.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1",children:k.members.map(S=>d.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${S.role_in_band==="principal"?"bg-indigo-50 text-indigo-700":"bg-yellow-50 text-yellow-700"}`,children:S.member_name},S.band_member_id))}),k.notes&&d.jsx("p",{className:"mt-1 text-xs text-gray-500 line-clamp-1",children:k.notes})]}),t&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>x(k),className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",title:"Editar evento",children:d.jsx(rp,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>_(k.id),className:"p-1 text-red-400 hover:text-red-600 rounded-full hover:bg-red-50",title:"Eliminar evento",children:d.jsx(sp,{className:"w-4 h-4"})})]})]})})},k.id))})]},m))})]})}),d.jsx(Xd,{isOpen:c,onClose:()=>f(!1),bandId:e,onEventSaved:()=>{y(),f(!1)},availableDates:n,members:r}),l&&d.jsx(Xd,{isOpen:h,onClose:()=>{p(!1),u(null)},bandId:e,event:l,onEventSaved:()=>{y(),p(!1),u(null)},availableDates:[...n,Jr(l.date)],members:r})]})}function bS({isOpen:e,onClose:t,onConfirm:n,title:r,message:s}){return e?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-red-600",children:r}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:d.jsx(Qs,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("p",{className:"text-gray-700 mb-6",children:s}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx(xe,{variant:"secondary",onClick:t,children:"Cancelar"}),d.jsx(xe,{onClick:n,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500",children:"Eliminar"})]})]})]})}):null}function SS(){const{id:e}=km(),[t,n]=w.useState(null),[r,s]=w.useState([]),[i,a]=w.useState([]),[o,l]=w.useState(!1),[u,c]=w.useState(!1),[f,h]=w.useState(!1),[p,y]=w.useState(null),[_,x]=w.useState(null),[v,m]=w.useState(!0),[g,k]=w.useState(!1),[S,P]=w.useState(null),[N,O]=w.useState(!1),[L,H]=w.useState([]),{user:Z}=ct(),[je,Ce]=w.useState(!1);w.useEffect(()=>{e&&W()},[e,Z]),w.useEffect(()=>{e&&Z&&D()},[e,Z,r]);const D=async()=>{if(Z)try{const I=await oe(()=>Y.from("users").select("role").eq("id",Z.id).single(),"Error checking permissions");I&&(P(I.role),k(I.role==="admin"));const F=r.find(A=>A.user_id===Z.id);Ce(!!F),O((F==null?void 0:F.role_in_band)==="principal"||!1),(F==null?void 0:F.role_in_band)==="principal"&&k(!0)}catch(I){console.error("Error checking permissions:",I)}},W=async()=>{try{const I=await oe(()=>Y.from("bands").select("*").eq("id",e).single(),"Error loading band");I&&n(I);const F=await oe(()=>Y.from("band_members").select(`
            *,
            band_member_instruments!left (
              instrument:instruments!inner (
                id,
                name
              )
            )
          `).eq("band_id",e).order("role_in_band",{ascending:!1}).order("name"),"Error loading members");if(F){const U=F.map(ce=>({...ce,instruments:(ce.band_member_instruments||[]).filter(Q=>Q==null?void 0:Q.instrument).map(Q=>({id:Q.instrument.id,name:Q.instrument.name}))}));s(U)}const A=await oe(()=>Y.from("instruments").select("*").order("name"),"Error loading instruments");A&&a(A)}catch(I){console.error("Error fetching band data:",I)}finally{m(!1)}},V=async I=>{if(!(!Z||!e))try{await oe(()=>Y.rpc("link_band_member",{p_member_id:I,p_user_id:Z.id,p_band_id:e}),"Error linking member"),B.success("¡Te has vinculado correctamente!"),await W(),await D()}catch(F){console.error("Error linking member:",F)}},C=I=>{y(I),c(!0)},b=I=>{x(I),h(!0)},$=async()=>{if(_)try{await oe(()=>Y.from("band_members").delete().eq("id",_.id),"Error deleting member"),B.success("Miembro eliminado correctamente"),h(!1),x(null),W()}catch(I){console.error("Error deleting member:",I)}},E=r.filter(I=>I.role_in_band==="principal"),T=r.filter(I=>I.role_in_band==="sustituto"),R=(I,F)=>d.jsxs("div",{children:[d.jsx("div",{className:"bg-gray-50 px-3 py-2",children:d.jsx("h3",{className:"text-sm font-medium text-gray-700",children:F})}),d.jsx("div",{className:"divide-y",children:I.map(A=>d.jsxs("div",{className:"p-3 hover:bg-gray-50",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-medium text-gray-900",children:A.name}),d.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${A.role_in_band==="principal"?"bg-indigo-100 text-indigo-700":"bg-yellow-100 text-yellow-700"}`,children:A.role_in_band==="principal"?"Principal":"Sustituto"}),!A.user_id&&d.jsx("span",{className:"text-xs text-gray-500",children:"(Sin vincular)"})]}),A.instruments.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:A.instruments.map((U,ce)=>d.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[d.jsx(qs,{className:"w-3 h-3 mr-1"}),U.name]},`${A.id}-${U.id}-${ce}`))})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[(S==="admin"||A.user_id===(Z==null?void 0:Z.id))&&d.jsx("button",{onClick:()=>C(A),className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",title:"Editar miembro",children:d.jsx(rp,{className:"w-4 h-4"})}),(S==="admin"||N)&&d.jsx("button",{onClick:()=>b(A),className:"p-1 text-red-400 hover:text-red-600 rounded-full hover:bg-red-50",title:"Eliminar miembro",children:d.jsx(sp,{className:"w-4 h-4"})})]})]}),!A.user_id&&!je&&d.jsxs(xe,{onClick:()=>V(A.id),variant:"secondary",className:"w-full mt-2 text-sm py-1",children:[d.jsx(Ud,{className:"w-3 h-3 mr-1"}),"Soy este miembro"]})]},A.id))})]});return v?d.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:d.jsx(fa,{className:"w-8 h-8 animate-spin text-indigo-600"})}):t?d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),d.jsx("p",{className:"text-gray-500 mt-1",children:"Gestiona miembros y disponibilidad"})]}),(g||N)&&(!je||S==="admin"||N)&&d.jsxs(xe,{onClick:()=>l(!0),className:"flex items-center space-x-2",children:[d.jsx(Fu,{className:"w-5 h-5"}),d.jsx("span",{children:S==="admin"||N?"Añadir Miembro":"Unirse a la Banda"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-lg font-semibold",children:"Miembros de la Banda"})}),r.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsx(Ud,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),d.jsxs("p",{className:"text-gray-500",children:["No hay miembros aún. ",g?'¡Haz clic en "Unirse a la Banda" para ser el primer miembro!':"Espera a que alguien se una a la banda."]})]}):d.jsxs("div",{className:"divide-y divide-gray-200",children:[E.length>0&&R(E,"Miembros Principales"),T.length>0&&R(T,"Miembros Sustitutos")]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-lg font-semibold",children:"Disponibilidad"})}),d.jsx("div",{className:"p-4",children:d.jsx(_S,{members:r,onAvailableDatesChange:H})})]})]}),t&&d.jsx("div",{className:"mt-6 bg-white rounded-lg shadow-md",children:d.jsx(kS,{bandId:t.id,canManageEvents:S==="admin"||N,availableDates:L,members:r})}),t&&(g||N)&&(!je||S==="admin"||N)&&d.jsx(z_,{isOpen:o,onClose:()=>l(!1),bandId:t.id,instruments:i,onMemberAdded:W,isEmptyBand:r.length===0,userRole:S}),p&&d.jsx(W_,{isOpen:u,onClose:()=>{c(!1),y(null)},member:p,instruments:i,onMemberUpdated:W,userRole:S}),d.jsx(bS,{isOpen:f,onClose:()=>{h(!1),x(null)},onConfirm:$,title:"Eliminar Miembro",message:`¿Estás seguro de que quieres eliminar a ${_==null?void 0:_.name}? Esta acción no se puede deshacer.`})]}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Banda no encontrada"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"La banda que buscas no existe o no tienes acceso a ella."})]})}function Zd({children:e}){const{user:t}=ct();return t?d.jsx(d.Fragment,{children:e}):d.jsx(Yy,{to:"/login"})}function ES(){const{setUser:e,setSession:t}=ct();return w.useEffect(()=>{Y.auth.getSession().then(({data:{session:r}})=>{t(r),e((r==null?void 0:r.user)??null)});const{data:{subscription:n}}=Y.auth.onAuthStateChange((r,s)=>{t(s),e((s==null?void 0:s.user)??null)});return()=>n.unsubscribe()},[e,t]),d.jsx(t0,{children:d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx(L_,{}),d.jsx("main",{className:"container mx-auto px-4 py-8",children:d.jsxs(Qy,{children:[d.jsx(rs,{path:"/login",element:d.jsx(I_,{})}),d.jsx(rs,{path:"/register",element:d.jsx(A_,{})}),d.jsx(rs,{path:"/",element:d.jsx(Zd,{children:d.jsx(U_,{})})}),d.jsx(rs,{path:"/band/:id",element:d.jsx(Zd,{children:d.jsx(SS,{})})})]})}),d.jsx(Q0,{position:"top-right"})]})})}pm(document.getElementById("root")).render(d.jsx(w.StrictMode,{children:d.jsx(ES,{})}));export{ef as g};
