function l4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function N1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function u4(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var j1={exports:{}},Dd={},C1={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hl=Symbol.for("react.element"),c4=Symbol.for("react.portal"),d4=Symbol.for("react.fragment"),f4=Symbol.for("react.strict_mode"),h4=Symbol.for("react.profiler"),p4=Symbol.for("react.provider"),m4=Symbol.for("react.context"),g4=Symbol.for("react.forward_ref"),v4=Symbol.for("react.suspense"),y4=Symbol.for("react.memo"),x4=Symbol.for("react.lazy"),Yy=Symbol.iterator;function w4(e){return e===null||typeof e!="object"?null:(e=Yy&&e[Yy]||e["@@iterator"],typeof e=="function"?e:null)}var k1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P1=Object.assign,D1={};function ca(e,t,n){this.props=e,this.context=t,this.refs=D1,this.updater=n||k1}ca.prototype.isReactComponent={};ca.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ca.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function T1(){}T1.prototype=ca.prototype;function Bm(e,t,n){this.props=e,this.context=t,this.refs=D1,this.updater=n||k1}var Hm=Bm.prototype=new T1;Hm.constructor=Bm;P1(Hm,ca.prototype);Hm.isPureReactComponent=!0;var Ky=Array.isArray,O1=Object.prototype.hasOwnProperty,qm={current:null},M1={key:!0,ref:!0,__self:!0,__source:!0};function R1(e,t,n){var r,i={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)O1.call(t,r)&&!M1.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Hl,type:e,key:o,ref:l,props:i,_owner:qm.current}}function _4(e,t){return{$$typeof:Hl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hl}function b4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qy=/\/+/g;function Ch(e,t){return typeof e=="object"&&e!==null&&e.key!=null?b4(""+e.key):t.toString(36)}function Sc(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Hl:case c4:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+Ch(l,0):r,Ky(i)?(n="",e!=null&&(n=e.replace(Qy,"$&/")+"/"),Sc(i,t,n,"",function(h){return h})):i!=null&&(Gm(i)&&(i=_4(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Qy,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",Ky(e))for(var u=0;u<e.length;u++){o=e[u];var c=r+Ch(o,u);l+=Sc(o,t,n,c,i)}else if(c=w4(e),typeof c=="function")for(e=c.call(e),u=0;!(o=e.next()).done;)o=o.value,c=r+Ch(o,u++),l+=Sc(o,t,n,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Xu(e,t,n){if(e==null)return e;var r=[],i=0;return Sc(e,r,"","",function(o){return t.call(n,o,i++)}),r}function S4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mn={current:null},Ec={transition:null},E4={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Ec,ReactCurrentOwner:qm};function $1(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:Xu,forEach:function(e,t,n){Xu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xu(e,function(){t++}),t},toArray:function(e){return Xu(e,function(t){return t})||[]},only:function(e){if(!Gm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Be.Component=ca;Be.Fragment=d4;Be.Profiler=h4;Be.PureComponent=Bm;Be.StrictMode=f4;Be.Suspense=v4;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E4;Be.act=$1;Be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=P1({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=qm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)O1.call(t,c)&&!M1.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:Hl,type:e.type,key:i,ref:o,props:r,_owner:l}};Be.createContext=function(e){return e={$$typeof:m4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:p4,_context:e},e.Consumer=e};Be.createElement=R1;Be.createFactory=function(e){var t=R1.bind(null,e);return t.type=e,t};Be.createRef=function(){return{current:null}};Be.forwardRef=function(e){return{$$typeof:g4,render:e}};Be.isValidElement=Gm;Be.lazy=function(e){return{$$typeof:x4,_payload:{_status:-1,_result:e},_init:S4}};Be.memo=function(e,t){return{$$typeof:y4,type:e,compare:t===void 0?null:t}};Be.startTransition=function(e){var t=Ec.transition;Ec.transition={};try{e()}finally{Ec.transition=t}};Be.unstable_act=$1;Be.useCallback=function(e,t){return mn.current.useCallback(e,t)};Be.useContext=function(e){return mn.current.useContext(e)};Be.useDebugValue=function(){};Be.useDeferredValue=function(e){return mn.current.useDeferredValue(e)};Be.useEffect=function(e,t){return mn.current.useEffect(e,t)};Be.useId=function(){return mn.current.useId()};Be.useImperativeHandle=function(e,t,n){return mn.current.useImperativeHandle(e,t,n)};Be.useInsertionEffect=function(e,t){return mn.current.useInsertionEffect(e,t)};Be.useLayoutEffect=function(e,t){return mn.current.useLayoutEffect(e,t)};Be.useMemo=function(e,t){return mn.current.useMemo(e,t)};Be.useReducer=function(e,t,n){return mn.current.useReducer(e,t,n)};Be.useRef=function(e){return mn.current.useRef(e)};Be.useState=function(e){return mn.current.useState(e)};Be.useSyncExternalStore=function(e,t,n){return mn.current.useSyncExternalStore(e,t,n)};Be.useTransition=function(){return mn.current.useTransition()};Be.version="18.3.1";C1.exports=Be;var v=C1.exports;const xe=N1(v),wp=l4({__proto__:null,default:xe},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N4=v,j4=Symbol.for("react.element"),C4=Symbol.for("react.fragment"),k4=Object.prototype.hasOwnProperty,P4=N4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D4={key:!0,ref:!0,__self:!0,__source:!0};function A1(e,t,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)k4.call(t,r)&&!D4.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:j4,type:e,key:o,ref:l,props:i,_owner:P4.current}}Dd.Fragment=C4;Dd.jsx=A1;Dd.jsxs=A1;j1.exports=Dd;var d=j1.exports,L1={exports:{}},qn={},I1={exports:{}},F1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,F){var te=T.length;T.push(F);e:for(;0<te;){var se=te-1>>>1,_e=T[se];if(0<i(_e,F))T[se]=F,T[te]=_e,te=se;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var F=T[0],te=T.pop();if(te!==F){T[0]=te;e:for(var se=0,_e=T.length,ge=_e>>>1;se<ge;){var $e=2*(se+1)-1,ke=T[$e],Oe=$e+1,Q=T[Oe];if(0>i(ke,te))Oe<_e&&0>i(Q,ke)?(T[se]=Q,T[Oe]=te,se=Oe):(T[se]=ke,T[$e]=te,se=$e);else if(Oe<_e&&0>i(Q,te))T[se]=Q,T[Oe]=te,se=Oe;else break e}}return F}function i(T,F){var te=T.sortIndex-F.sortIndex;return te!==0?te:T.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],h=[],p=1,m=null,y=3,x=!1,S=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(T){for(var F=n(h);F!==null;){if(F.callback===null)r(h);else if(F.startTime<=T)r(h),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(h)}}function P(T){if(C=!1,N(T),!S)if(n(c)!==null)S=!0,Me(R);else{var F=n(h);F!==null&&$(P,F.startTime-T)}}function R(T,F){S=!1,C&&(C=!1,b(W),W=-1),x=!0;var te=y;try{for(N(F),m=n(c);m!==null&&(!(m.expirationTime>F)||T&&!q());){var se=m.callback;if(typeof se=="function"){m.callback=null,y=m.priorityLevel;var _e=se(m.expirationTime<=F);F=e.unstable_now(),typeof _e=="function"?m.callback=_e:m===n(c)&&r(c),N(F)}else r(c);m=n(c)}if(m!==null)var ge=!0;else{var $e=n(h);$e!==null&&$(P,$e.startTime-F),ge=!1}return ge}finally{m=null,y=te,x=!1}}var z=!1,L=null,W=-1,ue=5,re=-1;function q(){return!(e.unstable_now()-re<ue)}function Ee(){if(L!==null){var T=e.unstable_now();re=T;var F=!0;try{F=L(!0,T)}finally{F?ne():(z=!1,L=null)}}else z=!1}var ne;if(typeof _=="function")ne=function(){_(Ee)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,be=me.port2;me.port1.onmessage=Ee,ne=function(){be.postMessage(null)}}else ne=function(){k(Ee,0)};function Me(T){L=T,z||(z=!0,ne())}function $(T,F){W=k(function(){T(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){S||x||(S=!0,Me(R))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var te=y;y=F;try{return T()}finally{y=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,F){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var te=y;y=T;try{return F()}finally{y=te}},e.unstable_scheduleCallback=function(T,F,te){var se=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?se+te:se):te=se,T){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=te+_e,T={id:p++,callback:F,priorityLevel:T,startTime:te,expirationTime:_e,sortIndex:-1},te>se?(T.sortIndex=te,t(h,T),n(c)===null&&T===n(h)&&(C?(b(W),W=-1):C=!0,$(P,te-se))):(T.sortIndex=_e,t(c,T),S||x||(S=!0,Me(R))),T},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(T){var F=y;return function(){var te=y;y=F;try{return T.apply(this,arguments)}finally{y=te}}}})(F1);I1.exports=F1;var T4=I1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O4=v,Bn=T4;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U1=new Set,wl={};function no(e,t){Zo(e,t),Zo(e+"Capture",t)}function Zo(e,t){for(wl[e]=t,e=0;e<t.length;e++)U1.add(t[e])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_p=Object.prototype.hasOwnProperty,M4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xy={},Jy={};function R4(e){return _p.call(Jy,e)?!0:_p.call(Xy,e)?!1:M4.test(e)?Jy[e]=!0:(Xy[e]=!0,!1)}function $4(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A4(e,t,n,r){if(t===null||typeof t>"u"||$4(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gn(e,t,n,r,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new gn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new gn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new gn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new gn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new gn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new gn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qt[e]=new gn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qt[e]=new gn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qt[e]=new gn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vm=/[\-:]([a-z])/g;function Ym(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vm,Ym);Qt[t]=new gn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vm,Ym);Qt[t]=new gn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vm,Ym);Qt[t]=new gn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new gn(e,1,!1,e.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qt[e]=new gn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Km(e,t,n,r){var i=Qt.hasOwnProperty(t)?Qt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(A4(t,n,i,r)&&(n=null),r||i===null?R4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wi=O4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ju=Symbol.for("react.element"),To=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),Qm=Symbol.for("react.strict_mode"),bp=Symbol.for("react.profiler"),z1=Symbol.for("react.provider"),W1=Symbol.for("react.context"),Xm=Symbol.for("react.forward_ref"),Sp=Symbol.for("react.suspense"),Ep=Symbol.for("react.suspense_list"),Jm=Symbol.for("react.memo"),Ii=Symbol.for("react.lazy"),B1=Symbol.for("react.offscreen"),Zy=Symbol.iterator;function Ua(e){return e===null||typeof e!="object"?null:(e=Zy&&e[Zy]||e["@@iterator"],typeof e=="function"?e:null)}var St=Object.assign,kh;function Ja(e){if(kh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kh=t&&t[1]||""}return`
`+kh+e}var Ph=!1;function Dh(e,t){if(!e||Ph)return"";Ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,u=o.length-1;1<=l&&0<=u&&i[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==o[u]){var c=`
`+i[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=u);break}}}finally{Ph=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ja(e):""}function L4(e){switch(e.tag){case 5:return Ja(e.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 2:case 15:return e=Dh(e.type,!1),e;case 11:return e=Dh(e.type.render,!1),e;case 1:return e=Dh(e.type,!0),e;default:return""}}function Np(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oo:return"Fragment";case To:return"Portal";case bp:return"Profiler";case Qm:return"StrictMode";case Sp:return"Suspense";case Ep:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case W1:return(e.displayName||"Context")+".Consumer";case z1:return(e._context.displayName||"Context")+".Provider";case Xm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jm:return t=e.displayName||null,t!==null?t:Np(e.type)||"Memo";case Ii:t=e._payload,e=e._init;try{return Np(e(t))}catch{}}return null}function I4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Np(t);case 8:return t===Qm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function as(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function H1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function F4(e){var t=H1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zu(e){e._valueTracker||(e._valueTracker=F4(e))}function q1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jp(e,t){var n=t.checked;return St({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ex(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=as(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G1(e,t){t=t.checked,t!=null&&Km(e,"checked",t,!1)}function Cp(e,t){G1(e,t);var n=as(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kp(e,t.type,n):t.hasOwnProperty("defaultValue")&&kp(e,t.type,as(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kp(e,t,n){(t!=="number"||zc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Za=Array.isArray;function Ho(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+as(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Pp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return St({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(le(92));if(Za(n)){if(1<n.length)throw Error(le(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:as(n)}}function V1(e,t){var n=as(t.value),r=as(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Y1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Y1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ec,K1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ec=ec||document.createElement("div"),ec.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ec.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _l(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U4=["Webkit","ms","Moz","O"];Object.keys(il).forEach(function(e){U4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),il[t]=il[e]})});function Q1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||il.hasOwnProperty(e)&&il[e]?(""+t).trim():t+"px"}function X1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Q1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var z4=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tp(e,t){if(t){if(z4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function Op(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mp=null;function Zm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rp=null,qo=null,Go=null;function ix(e){if(e=Vl(e)){if(typeof Rp!="function")throw Error(le(280));var t=e.stateNode;t&&(t=$d(t),Rp(e.stateNode,e.type,t))}}function J1(e){qo?Go?Go.push(e):Go=[e]:qo=e}function Z1(){if(qo){var e=qo,t=Go;if(Go=qo=null,ix(e),t)for(e=0;e<t.length;e++)ix(t[e])}}function e_(e,t){return e(t)}function t_(){}var Th=!1;function n_(e,t,n){if(Th)return e(t,n);Th=!0;try{return e_(e,t,n)}finally{Th=!1,(qo!==null||Go!==null)&&(t_(),Z1())}}function bl(e,t){var n=e.stateNode;if(n===null)return null;var r=$d(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(le(231,t,typeof n));return n}var $p=!1;if(mi)try{var za={};Object.defineProperty(za,"passive",{get:function(){$p=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{$p=!1}function W4(e,t,n,r,i,o,l,u,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var sl=!1,Wc=null,Bc=!1,Ap=null,B4={onError:function(e){sl=!0,Wc=e}};function H4(e,t,n,r,i,o,l,u,c){sl=!1,Wc=null,W4.apply(B4,arguments)}function q4(e,t,n,r,i,o,l,u,c){if(H4.apply(this,arguments),sl){if(sl){var h=Wc;sl=!1,Wc=null}else throw Error(le(198));Bc||(Bc=!0,Ap=h)}}function ro(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function r_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sx(e){if(ro(e)!==e)throw Error(le(188))}function G4(e){var t=e.alternate;if(!t){if(t=ro(e),t===null)throw Error(le(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return sx(i),e;if(o===r)return sx(i),t;o=o.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,r=o;break}if(u===r){l=!0,r=i,n=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===n){l=!0,n=o,r=i;break}if(u===r){l=!0,r=o,n=i;break}u=u.sibling}if(!l)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?e:t}function i_(e){return e=G4(e),e!==null?s_(e):null}function s_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=s_(e);if(t!==null)return t;e=e.sibling}return null}var o_=Bn.unstable_scheduleCallback,ox=Bn.unstable_cancelCallback,V4=Bn.unstable_shouldYield,Y4=Bn.unstable_requestPaint,kt=Bn.unstable_now,K4=Bn.unstable_getCurrentPriorityLevel,eg=Bn.unstable_ImmediatePriority,a_=Bn.unstable_UserBlockingPriority,Hc=Bn.unstable_NormalPriority,Q4=Bn.unstable_LowPriority,l_=Bn.unstable_IdlePriority,Td=null,Wr=null;function X4(e){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(Td,e,void 0,(e.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:eD,J4=Math.log,Z4=Math.LN2;function eD(e){return e>>>=0,e===0?32:31-(J4(e)/Z4|0)|0}var tc=64,nc=4194304;function el(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~i;u!==0?r=el(u):(o&=l,o!==0&&(r=el(o)))}else l=n&~i,l!==0?r=el(l):o!==0&&(r=el(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nr(t),i=1<<n,r|=e[n],t&=~i;return r}function tD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Nr(o),u=1<<l,c=i[l];c===-1?(!(u&n)||u&r)&&(i[l]=tD(u,t)):c<=t&&(e.expiredLanes|=u),o&=~u}}function Lp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function u_(){var e=tc;return tc<<=1,!(tc&4194240)&&(tc=64),e}function Oh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ql(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nr(t),e[t]=n}function rD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Nr(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function tg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var st=0;function c_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var d_,ng,f_,h_,p_,Ip=!1,rc=[],Xi=null,Ji=null,Zi=null,Sl=new Map,El=new Map,Wi=[],iD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ax(e,t){switch(e){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(t.pointerId)}}function Wa(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Vl(t),t!==null&&ng(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sD(e,t,n,r,i){switch(t){case"focusin":return Xi=Wa(Xi,e,t,n,r,i),!0;case"dragenter":return Ji=Wa(Ji,e,t,n,r,i),!0;case"mouseover":return Zi=Wa(Zi,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Sl.set(o,Wa(Sl.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,El.set(o,Wa(El.get(o)||null,e,t,n,r,i)),!0}return!1}function m_(e){var t=zs(e.target);if(t!==null){var n=ro(t);if(n!==null){if(t=n.tag,t===13){if(t=r_(n),t!==null){e.blockedOn=t,p_(e.priority,function(){f_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Mp=r,n.target.dispatchEvent(r),Mp=null}else return t=Vl(n),t!==null&&ng(t),e.blockedOn=n,!1;t.shift()}return!0}function lx(e,t,n){Nc(e)&&n.delete(t)}function oD(){Ip=!1,Xi!==null&&Nc(Xi)&&(Xi=null),Ji!==null&&Nc(Ji)&&(Ji=null),Zi!==null&&Nc(Zi)&&(Zi=null),Sl.forEach(lx),El.forEach(lx)}function Ba(e,t){e.blockedOn===t&&(e.blockedOn=null,Ip||(Ip=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,oD)))}function Nl(e){function t(i){return Ba(i,e)}if(0<rc.length){Ba(rc[0],e);for(var n=1;n<rc.length;n++){var r=rc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xi!==null&&Ba(Xi,e),Ji!==null&&Ba(Ji,e),Zi!==null&&Ba(Zi,e),Sl.forEach(t),El.forEach(t),n=0;n<Wi.length;n++)r=Wi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wi.length&&(n=Wi[0],n.blockedOn===null);)m_(n),n.blockedOn===null&&Wi.shift()}var Vo=wi.ReactCurrentBatchConfig,Gc=!0;function aD(e,t,n,r){var i=st,o=Vo.transition;Vo.transition=null;try{st=1,rg(e,t,n,r)}finally{st=i,Vo.transition=o}}function lD(e,t,n,r){var i=st,o=Vo.transition;Vo.transition=null;try{st=4,rg(e,t,n,r)}finally{st=i,Vo.transition=o}}function rg(e,t,n,r){if(Gc){var i=Fp(e,t,n,r);if(i===null)Wh(e,t,r,Vc,n),ax(e,r);else if(sD(i,e,t,n,r))r.stopPropagation();else if(ax(e,r),t&4&&-1<iD.indexOf(e)){for(;i!==null;){var o=Vl(i);if(o!==null&&d_(o),o=Fp(e,t,n,r),o===null&&Wh(e,t,r,Vc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Wh(e,t,r,null,n)}}var Vc=null;function Fp(e,t,n,r){if(Vc=null,e=Zm(r),e=zs(e),e!==null)if(t=ro(e),t===null)e=null;else if(n=t.tag,n===13){if(e=r_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vc=e,null}function g_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K4()){case eg:return 1;case a_:return 4;case Hc:case Q4:return 16;case l_:return 536870912;default:return 16}default:return 16}}var Vi=null,ig=null,jc=null;function v_(){if(jc)return jc;var e,t=ig,n=t.length,r,i="value"in Vi?Vi.value:Vi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[o-r];r++);return jc=i.slice(e,1<r?1-r:void 0)}function Cc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ic(){return!0}function ux(){return!1}function Gn(e){function t(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ic:ux,this.isPropagationStopped=ux,this}return St(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ic)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ic)},persist:function(){},isPersistent:ic}),t}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sg=Gn(da),Gl=St({},da,{view:0,detail:0}),uD=Gn(Gl),Mh,Rh,Ha,Od=St({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:og,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ha&&(Ha&&e.type==="mousemove"?(Mh=e.screenX-Ha.screenX,Rh=e.screenY-Ha.screenY):Rh=Mh=0,Ha=e),Mh)},movementY:function(e){return"movementY"in e?e.movementY:Rh}}),cx=Gn(Od),cD=St({},Od,{dataTransfer:0}),dD=Gn(cD),fD=St({},Gl,{relatedTarget:0}),$h=Gn(fD),hD=St({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),pD=Gn(hD),mD=St({},da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gD=Gn(mD),vD=St({},da,{data:0}),dx=Gn(vD),yD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _D(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wD[e])?!!t[e]:!1}function og(){return _D}var bD=St({},Gl,{key:function(e){if(e.key){var t=yD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:og,charCode:function(e){return e.type==="keypress"?Cc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SD=Gn(bD),ED=St({},Od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fx=Gn(ED),ND=St({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:og}),jD=Gn(ND),CD=St({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),kD=Gn(CD),PD=St({},Od,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DD=Gn(PD),TD=[9,13,27,32],ag=mi&&"CompositionEvent"in window,ol=null;mi&&"documentMode"in document&&(ol=document.documentMode);var OD=mi&&"TextEvent"in window&&!ol,y_=mi&&(!ag||ol&&8<ol&&11>=ol),hx=" ",px=!1;function x_(e,t){switch(e){case"keyup":return TD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mo=!1;function MD(e,t){switch(e){case"compositionend":return w_(t);case"keypress":return t.which!==32?null:(px=!0,hx);case"textInput":return e=t.data,e===hx&&px?null:e;default:return null}}function RD(e,t){if(Mo)return e==="compositionend"||!ag&&x_(e,t)?(e=v_(),jc=ig=Vi=null,Mo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return y_&&t.locale!=="ko"?null:t.data;default:return null}}var $D={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$D[e.type]:t==="textarea"}function __(e,t,n,r){J1(r),t=Yc(t,"onChange"),0<t.length&&(n=new sg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var al=null,jl=null;function AD(e){O_(e,0)}function Md(e){var t=Ao(e);if(q1(t))return e}function LD(e,t){if(e==="change")return t}var b_=!1;if(mi){var Ah;if(mi){var Lh="oninput"in document;if(!Lh){var gx=document.createElement("div");gx.setAttribute("oninput","return;"),Lh=typeof gx.oninput=="function"}Ah=Lh}else Ah=!1;b_=Ah&&(!document.documentMode||9<document.documentMode)}function vx(){al&&(al.detachEvent("onpropertychange",S_),jl=al=null)}function S_(e){if(e.propertyName==="value"&&Md(jl)){var t=[];__(t,jl,e,Zm(e)),n_(AD,t)}}function ID(e,t,n){e==="focusin"?(vx(),al=t,jl=n,al.attachEvent("onpropertychange",S_)):e==="focusout"&&vx()}function FD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Md(jl)}function UD(e,t){if(e==="click")return Md(t)}function zD(e,t){if(e==="input"||e==="change")return Md(t)}function WD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cr=typeof Object.is=="function"?Object.is:WD;function Cl(e,t){if(Cr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_p.call(t,i)||!Cr(e[i],t[i]))return!1}return!0}function yx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xx(e,t){var n=yx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yx(n)}}function E_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?E_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function N_(){for(var e=window,t=zc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zc(e.document)}return t}function lg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function BD(e){var t=N_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&E_(n.ownerDocument.documentElement,n)){if(r!==null&&lg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=xx(n,o);var l=xx(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HD=mi&&"documentMode"in document&&11>=document.documentMode,Ro=null,Up=null,ll=null,zp=!1;function wx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zp||Ro==null||Ro!==zc(r)||(r=Ro,"selectionStart"in r&&lg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ll&&Cl(ll,r)||(ll=r,r=Yc(Up,"onSelect"),0<r.length&&(t=new sg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ro)))}function sc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $o={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},Ih={},j_={};mi&&(j_=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Rd(e){if(Ih[e])return Ih[e];if(!$o[e])return e;var t=$o[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in j_)return Ih[e]=t[n];return e}var C_=Rd("animationend"),k_=Rd("animationiteration"),P_=Rd("animationstart"),D_=Rd("transitionend"),T_=new Map,_x="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(e,t){T_.set(e,t),no(t,[e])}for(var Fh=0;Fh<_x.length;Fh++){var Uh=_x[Fh],qD=Uh.toLowerCase(),GD=Uh[0].toUpperCase()+Uh.slice(1);fs(qD,"on"+GD)}fs(C_,"onAnimationEnd");fs(k_,"onAnimationIteration");fs(P_,"onAnimationStart");fs("dblclick","onDoubleClick");fs("focusin","onFocus");fs("focusout","onBlur");fs(D_,"onTransitionEnd");Zo("onMouseEnter",["mouseout","mouseover"]);Zo("onMouseLeave",["mouseout","mouseover"]);Zo("onPointerEnter",["pointerout","pointerover"]);Zo("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VD=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function bx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,q4(r,t,void 0,e),e.currentTarget=null}function O_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==o&&i.isPropagationStopped())break e;bx(i,u,h),o=c}else for(l=0;l<r.length;l++){if(u=r[l],c=u.instance,h=u.currentTarget,u=u.listener,c!==o&&i.isPropagationStopped())break e;bx(i,u,h),o=c}}}if(Bc)throw e=Ap,Bc=!1,Ap=null,e}function ht(e,t){var n=t[Gp];n===void 0&&(n=t[Gp]=new Set);var r=e+"__bubble";n.has(r)||(M_(t,e,2,!1),n.add(r))}function zh(e,t,n){var r=0;t&&(r|=4),M_(n,e,r,t)}var oc="_reactListening"+Math.random().toString(36).slice(2);function kl(e){if(!e[oc]){e[oc]=!0,U1.forEach(function(n){n!=="selectionchange"&&(VD.has(n)||zh(n,!1,e),zh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oc]||(t[oc]=!0,zh("selectionchange",!1,t))}}function M_(e,t,n,r){switch(g_(t)){case 1:var i=aD;break;case 4:i=lD;break;default:i=rg}n=i.bind(null,t,n,e),i=void 0,!$p||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wh(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;u!==null;){if(l=zs(u),l===null)return;if(c=l.tag,c===5||c===6){r=o=l;continue e}u=u.parentNode}}r=r.return}n_(function(){var h=o,p=Zm(n),m=[];e:{var y=T_.get(e);if(y!==void 0){var x=sg,S=e;switch(e){case"keypress":if(Cc(n)===0)break e;case"keydown":case"keyup":x=SD;break;case"focusin":S="focus",x=$h;break;case"focusout":S="blur",x=$h;break;case"beforeblur":case"afterblur":x=$h;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=cx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=dD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=jD;break;case C_:case k_:case P_:x=pD;break;case D_:x=kD;break;case"scroll":x=uD;break;case"wheel":x=DD;break;case"copy":case"cut":case"paste":x=gD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=fx}var C=(t&4)!==0,k=!C&&e==="scroll",b=C?y!==null?y+"Capture":null:y;C=[];for(var _=h,N;_!==null;){N=_;var P=N.stateNode;if(N.tag===5&&P!==null&&(N=P,b!==null&&(P=bl(_,b),P!=null&&C.push(Pl(_,P,N)))),k)break;_=_.return}0<C.length&&(y=new x(y,S,null,n,p),m.push({event:y,listeners:C}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",y&&n!==Mp&&(S=n.relatedTarget||n.fromElement)&&(zs(S)||S[gi]))break e;if((x||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,x?(S=n.relatedTarget||n.toElement,x=h,S=S?zs(S):null,S!==null&&(k=ro(S),S!==k||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=h),x!==S)){if(C=cx,P="onMouseLeave",b="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(C=fx,P="onPointerLeave",b="onPointerEnter",_="pointer"),k=x==null?y:Ao(x),N=S==null?y:Ao(S),y=new C(P,_+"leave",x,n,p),y.target=k,y.relatedTarget=N,P=null,zs(p)===h&&(C=new C(b,_+"enter",S,n,p),C.target=N,C.relatedTarget=k,P=C),k=P,x&&S)t:{for(C=x,b=S,_=0,N=C;N;N=jo(N))_++;for(N=0,P=b;P;P=jo(P))N++;for(;0<_-N;)C=jo(C),_--;for(;0<N-_;)b=jo(b),N--;for(;_--;){if(C===b||b!==null&&C===b.alternate)break t;C=jo(C),b=jo(b)}C=null}else C=null;x!==null&&Sx(m,y,x,C,!1),S!==null&&k!==null&&Sx(m,k,S,C,!0)}}e:{if(y=h?Ao(h):window,x=y.nodeName&&y.nodeName.toLowerCase(),x==="select"||x==="input"&&y.type==="file")var R=LD;else if(mx(y))if(b_)R=zD;else{R=FD;var z=ID}else(x=y.nodeName)&&x.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(R=UD);if(R&&(R=R(e,h))){__(m,R,n,p);break e}z&&z(e,y,h),e==="focusout"&&(z=y._wrapperState)&&z.controlled&&y.type==="number"&&kp(y,"number",y.value)}switch(z=h?Ao(h):window,e){case"focusin":(mx(z)||z.contentEditable==="true")&&(Ro=z,Up=h,ll=null);break;case"focusout":ll=Up=Ro=null;break;case"mousedown":zp=!0;break;case"contextmenu":case"mouseup":case"dragend":zp=!1,wx(m,n,p);break;case"selectionchange":if(HD)break;case"keydown":case"keyup":wx(m,n,p)}var L;if(ag)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Mo?x_(e,n)&&(W="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(y_&&n.locale!=="ko"&&(Mo||W!=="onCompositionStart"?W==="onCompositionEnd"&&Mo&&(L=v_()):(Vi=p,ig="value"in Vi?Vi.value:Vi.textContent,Mo=!0)),z=Yc(h,W),0<z.length&&(W=new dx(W,e,null,n,p),m.push({event:W,listeners:z}),L?W.data=L:(L=w_(n),L!==null&&(W.data=L)))),(L=OD?MD(e,n):RD(e,n))&&(h=Yc(h,"onBeforeInput"),0<h.length&&(p=new dx("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:h}),p.data=L))}O_(m,t)})}function Pl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=bl(e,n),o!=null&&r.unshift(Pl(e,o,i)),o=bl(e,t),o!=null&&r.push(Pl(e,o,i))),e=e.return}return r}function jo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sx(e,t,n,r,i){for(var o=t._reactName,l=[];n!==null&&n!==r;){var u=n,c=u.alternate,h=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&h!==null&&(u=h,i?(c=bl(n,o),c!=null&&l.unshift(Pl(n,c,u))):i||(c=bl(n,o),c!=null&&l.push(Pl(n,c,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var YD=/\r\n?/g,KD=/\u0000|\uFFFD/g;function Ex(e){return(typeof e=="string"?e:""+e).replace(YD,`
`).replace(KD,"")}function ac(e,t,n){if(t=Ex(t),Ex(e)!==t&&n)throw Error(le(425))}function Kc(){}var Wp=null,Bp=null;function Hp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qp=typeof setTimeout=="function"?setTimeout:void 0,QD=typeof clearTimeout=="function"?clearTimeout:void 0,Nx=typeof Promise=="function"?Promise:void 0,XD=typeof queueMicrotask=="function"?queueMicrotask:typeof Nx<"u"?function(e){return Nx.resolve(null).then(e).catch(JD)}:qp;function JD(e){setTimeout(function(){throw e})}function Bh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Nl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Nl(t)}function es(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fa=Math.random().toString(36).slice(2),Ir="__reactFiber$"+fa,Dl="__reactProps$"+fa,gi="__reactContainer$"+fa,Gp="__reactEvents$"+fa,ZD="__reactListeners$"+fa,eT="__reactHandles$"+fa;function zs(e){var t=e[Ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gi]||n[Ir]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jx(e);e!==null;){if(n=e[Ir])return n;e=jx(e)}return t}e=n,n=e.parentNode}return null}function Vl(e){return e=e[Ir]||e[gi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ao(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function $d(e){return e[Dl]||null}var Vp=[],Lo=-1;function hs(e){return{current:e}}function pt(e){0>Lo||(e.current=Vp[Lo],Vp[Lo]=null,Lo--)}function ct(e,t){Lo++,Vp[Lo]=e.current,e.current=t}var ls={},rn=hs(ls),jn=hs(!1),Qs=ls;function ea(e,t){var n=e.type.contextTypes;if(!n)return ls;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Cn(e){return e=e.childContextTypes,e!=null}function Qc(){pt(jn),pt(rn)}function Cx(e,t,n){if(rn.current!==ls)throw Error(le(168));ct(rn,t),ct(jn,n)}function R_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(le(108,I4(e)||"Unknown",i));return St({},n,r)}function Xc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ls,Qs=rn.current,ct(rn,e),ct(jn,jn.current),!0}function kx(e,t,n){var r=e.stateNode;if(!r)throw Error(le(169));n?(e=R_(e,t,Qs),r.__reactInternalMemoizedMergedChildContext=e,pt(jn),pt(rn),ct(rn,e)):pt(jn),ct(jn,n)}var li=null,Ad=!1,Hh=!1;function $_(e){li===null?li=[e]:li.push(e)}function tT(e){Ad=!0,$_(e)}function ps(){if(!Hh&&li!==null){Hh=!0;var e=0,t=st;try{var n=li;for(st=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}li=null,Ad=!1}catch(i){throw li!==null&&(li=li.slice(e+1)),o_(eg,ps),i}finally{st=t,Hh=!1}}return null}var Io=[],Fo=0,Jc=null,Zc=0,ar=[],lr=0,Xs=null,ci=1,di="";function Rs(e,t){Io[Fo++]=Zc,Io[Fo++]=Jc,Jc=e,Zc=t}function A_(e,t,n){ar[lr++]=ci,ar[lr++]=di,ar[lr++]=Xs,Xs=e;var r=ci;e=di;var i=32-Nr(r)-1;r&=~(1<<i),n+=1;var o=32-Nr(t)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,ci=1<<32-Nr(t)+i|n<<i|r,di=o+e}else ci=1<<o|n<<i|r,di=e}function ug(e){e.return!==null&&(Rs(e,1),A_(e,1,0))}function cg(e){for(;e===Jc;)Jc=Io[--Fo],Io[Fo]=null,Zc=Io[--Fo],Io[Fo]=null;for(;e===Xs;)Xs=ar[--lr],ar[lr]=null,di=ar[--lr],ar[lr]=null,ci=ar[--lr],ar[lr]=null}var Wn=null,zn=null,vt=!1,Sr=null;function L_(e,t){var n=ur(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Px(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wn=e,zn=es(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wn=e,zn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xs!==null?{id:ci,overflow:di}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ur(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wn=e,zn=null,!0):!1;default:return!1}}function Yp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kp(e){if(vt){var t=zn;if(t){var n=t;if(!Px(e,t)){if(Yp(e))throw Error(le(418));t=es(n.nextSibling);var r=Wn;t&&Px(e,t)?L_(r,n):(e.flags=e.flags&-4097|2,vt=!1,Wn=e)}}else{if(Yp(e))throw Error(le(418));e.flags=e.flags&-4097|2,vt=!1,Wn=e}}}function Dx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wn=e}function lc(e){if(e!==Wn)return!1;if(!vt)return Dx(e),vt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hp(e.type,e.memoizedProps)),t&&(t=zn)){if(Yp(e))throw I_(),Error(le(418));for(;t;)L_(e,t),t=es(t.nextSibling)}if(Dx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){zn=es(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}zn=null}}else zn=Wn?es(e.stateNode.nextSibling):null;return!0}function I_(){for(var e=zn;e;)e=es(e.nextSibling)}function ta(){zn=Wn=null,vt=!1}function dg(e){Sr===null?Sr=[e]:Sr.push(e)}var nT=wi.ReactCurrentBatchConfig;function qa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var u=i.refs;l===null?delete u[o]:u[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,e))}return e}function uc(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tx(e){var t=e._init;return t(e._payload)}function F_(e){function t(b,_){if(e){var N=b.deletions;N===null?(b.deletions=[_],b.flags|=16):N.push(_)}}function n(b,_){if(!e)return null;for(;_!==null;)t(b,_),_=_.sibling;return null}function r(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(b,_){return b=is(b,_),b.index=0,b.sibling=null,b}function o(b,_,N){return b.index=N,e?(N=b.alternate,N!==null?(N=N.index,N<_?(b.flags|=2,_):N):(b.flags|=2,_)):(b.flags|=1048576,_)}function l(b){return e&&b.alternate===null&&(b.flags|=2),b}function u(b,_,N,P){return _===null||_.tag!==6?(_=Xh(N,b.mode,P),_.return=b,_):(_=i(_,N),_.return=b,_)}function c(b,_,N,P){var R=N.type;return R===Oo?p(b,_,N.props.children,P,N.key):_!==null&&(_.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ii&&Tx(R)===_.type)?(P=i(_,N.props),P.ref=qa(b,_,N),P.return=b,P):(P=Rc(N.type,N.key,N.props,null,b.mode,P),P.ref=qa(b,_,N),P.return=b,P)}function h(b,_,N,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==N.containerInfo||_.stateNode.implementation!==N.implementation?(_=Jh(N,b.mode,P),_.return=b,_):(_=i(_,N.children||[]),_.return=b,_)}function p(b,_,N,P,R){return _===null||_.tag!==7?(_=Vs(N,b.mode,P,R),_.return=b,_):(_=i(_,N),_.return=b,_)}function m(b,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Xh(""+_,b.mode,N),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ju:return N=Rc(_.type,_.key,_.props,null,b.mode,N),N.ref=qa(b,null,_),N.return=b,N;case To:return _=Jh(_,b.mode,N),_.return=b,_;case Ii:var P=_._init;return m(b,P(_._payload),N)}if(Za(_)||Ua(_))return _=Vs(_,b.mode,N,null),_.return=b,_;uc(b,_)}return null}function y(b,_,N,P){var R=_!==null?_.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return R!==null?null:u(b,_,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ju:return N.key===R?c(b,_,N,P):null;case To:return N.key===R?h(b,_,N,P):null;case Ii:return R=N._init,y(b,_,R(N._payload),P)}if(Za(N)||Ua(N))return R!==null?null:p(b,_,N,P,null);uc(b,N)}return null}function x(b,_,N,P,R){if(typeof P=="string"&&P!==""||typeof P=="number")return b=b.get(N)||null,u(_,b,""+P,R);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ju:return b=b.get(P.key===null?N:P.key)||null,c(_,b,P,R);case To:return b=b.get(P.key===null?N:P.key)||null,h(_,b,P,R);case Ii:var z=P._init;return x(b,_,N,z(P._payload),R)}if(Za(P)||Ua(P))return b=b.get(N)||null,p(_,b,P,R,null);uc(_,P)}return null}function S(b,_,N,P){for(var R=null,z=null,L=_,W=_=0,ue=null;L!==null&&W<N.length;W++){L.index>W?(ue=L,L=null):ue=L.sibling;var re=y(b,L,N[W],P);if(re===null){L===null&&(L=ue);break}e&&L&&re.alternate===null&&t(b,L),_=o(re,_,W),z===null?R=re:z.sibling=re,z=re,L=ue}if(W===N.length)return n(b,L),vt&&Rs(b,W),R;if(L===null){for(;W<N.length;W++)L=m(b,N[W],P),L!==null&&(_=o(L,_,W),z===null?R=L:z.sibling=L,z=L);return vt&&Rs(b,W),R}for(L=r(b,L);W<N.length;W++)ue=x(L,b,W,N[W],P),ue!==null&&(e&&ue.alternate!==null&&L.delete(ue.key===null?W:ue.key),_=o(ue,_,W),z===null?R=ue:z.sibling=ue,z=ue);return e&&L.forEach(function(q){return t(b,q)}),vt&&Rs(b,W),R}function C(b,_,N,P){var R=Ua(N);if(typeof R!="function")throw Error(le(150));if(N=R.call(N),N==null)throw Error(le(151));for(var z=R=null,L=_,W=_=0,ue=null,re=N.next();L!==null&&!re.done;W++,re=N.next()){L.index>W?(ue=L,L=null):ue=L.sibling;var q=y(b,L,re.value,P);if(q===null){L===null&&(L=ue);break}e&&L&&q.alternate===null&&t(b,L),_=o(q,_,W),z===null?R=q:z.sibling=q,z=q,L=ue}if(re.done)return n(b,L),vt&&Rs(b,W),R;if(L===null){for(;!re.done;W++,re=N.next())re=m(b,re.value,P),re!==null&&(_=o(re,_,W),z===null?R=re:z.sibling=re,z=re);return vt&&Rs(b,W),R}for(L=r(b,L);!re.done;W++,re=N.next())re=x(L,b,W,re.value,P),re!==null&&(e&&re.alternate!==null&&L.delete(re.key===null?W:re.key),_=o(re,_,W),z===null?R=re:z.sibling=re,z=re);return e&&L.forEach(function(Ee){return t(b,Ee)}),vt&&Rs(b,W),R}function k(b,_,N,P){if(typeof N=="object"&&N!==null&&N.type===Oo&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Ju:e:{for(var R=N.key,z=_;z!==null;){if(z.key===R){if(R=N.type,R===Oo){if(z.tag===7){n(b,z.sibling),_=i(z,N.props.children),_.return=b,b=_;break e}}else if(z.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ii&&Tx(R)===z.type){n(b,z.sibling),_=i(z,N.props),_.ref=qa(b,z,N),_.return=b,b=_;break e}n(b,z);break}else t(b,z);z=z.sibling}N.type===Oo?(_=Vs(N.props.children,b.mode,P,N.key),_.return=b,b=_):(P=Rc(N.type,N.key,N.props,null,b.mode,P),P.ref=qa(b,_,N),P.return=b,b=P)}return l(b);case To:e:{for(z=N.key;_!==null;){if(_.key===z)if(_.tag===4&&_.stateNode.containerInfo===N.containerInfo&&_.stateNode.implementation===N.implementation){n(b,_.sibling),_=i(_,N.children||[]),_.return=b,b=_;break e}else{n(b,_);break}else t(b,_);_=_.sibling}_=Jh(N,b.mode,P),_.return=b,b=_}return l(b);case Ii:return z=N._init,k(b,_,z(N._payload),P)}if(Za(N))return S(b,_,N,P);if(Ua(N))return C(b,_,N,P);uc(b,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,_!==null&&_.tag===6?(n(b,_.sibling),_=i(_,N),_.return=b,b=_):(n(b,_),_=Xh(N,b.mode,P),_.return=b,b=_),l(b)):n(b,_)}return k}var na=F_(!0),U_=F_(!1),ed=hs(null),td=null,Uo=null,fg=null;function hg(){fg=Uo=td=null}function pg(e){var t=ed.current;pt(ed),e._currentValue=t}function Qp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yo(e,t){td=e,fg=Uo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nn=!0),e.firstContext=null)}function dr(e){var t=e._currentValue;if(fg!==e)if(e={context:e,memoizedValue:t,next:null},Uo===null){if(td===null)throw Error(le(308));Uo=e,td.dependencies={lanes:0,firstContext:e}}else Uo=Uo.next=e;return t}var Ws=null;function mg(e){Ws===null?Ws=[e]:Ws.push(e)}function z_(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,mg(t)):(n.next=i.next,i.next=n),t.interleaved=n,vi(e,r)}function vi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fi=!1;function gg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ts(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Je&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,vi(e,n)}return i=r.interleaved,i===null?(t.next=t,mg(r)):(t.next=i.next,i.next=t),r.interleaved=t,vi(e,n)}function kc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tg(e,n)}}function Ox(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nd(e,t,n,r){var i=e.updateQueue;Fi=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,h=c.next;c.next=null,l===null?o=h:l.next=h,l=c;var p=e.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==l&&(u===null?p.firstBaseUpdate=h:u.next=h,p.lastBaseUpdate=c))}if(o!==null){var m=i.baseState;l=0,p=h=c=null,u=o;do{var y=u.lane,x=u.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:x,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var S=e,C=u;switch(y=t,x=n,C.tag){case 1:if(S=C.payload,typeof S=="function"){m=S.call(x,m,y);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=C.payload,y=typeof S=="function"?S.call(x,m,y):S,y==null)break e;m=St({},m,y);break e;case 2:Fi=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[u]:y.push(u))}else x={eventTime:x,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(h=p=x,c=m):p=p.next=x,l|=y;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;y=u,u=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(p===null&&(c=m),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Zs|=l,e.lanes=l,e.memoizedState=m}}function Mx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var Yl={},Br=hs(Yl),Tl=hs(Yl),Ol=hs(Yl);function Bs(e){if(e===Yl)throw Error(le(174));return e}function vg(e,t){switch(ct(Ol,t),ct(Tl,e),ct(Br,Yl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dp(t,e)}pt(Br),ct(Br,t)}function ra(){pt(Br),pt(Tl),pt(Ol)}function B_(e){Bs(Ol.current);var t=Bs(Br.current),n=Dp(t,e.type);t!==n&&(ct(Tl,e),ct(Br,n))}function yg(e){Tl.current===e&&(pt(Br),pt(Tl))}var wt=hs(0);function rd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qh=[];function xg(){for(var e=0;e<qh.length;e++)qh[e]._workInProgressVersionPrimary=null;qh.length=0}var Pc=wi.ReactCurrentDispatcher,Gh=wi.ReactCurrentBatchConfig,Js=0,bt=null,At=null,Wt=null,id=!1,ul=!1,Ml=0,rT=0;function en(){throw Error(le(321))}function wg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cr(e[n],t[n]))return!1;return!0}function _g(e,t,n,r,i,o){if(Js=o,bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pc.current=e===null||e.memoizedState===null?aT:lT,e=n(r,i),ul){o=0;do{if(ul=!1,Ml=0,25<=o)throw Error(le(301));o+=1,Wt=At=null,t.updateQueue=null,Pc.current=uT,e=n(r,i)}while(ul)}if(Pc.current=sd,t=At!==null&&At.next!==null,Js=0,Wt=At=bt=null,id=!1,t)throw Error(le(300));return e}function bg(){var e=Ml!==0;return Ml=0,e}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?bt.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function fr(){if(At===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=Wt===null?bt.memoizedState:Wt.next;if(t!==null)Wt=t,At=e;else{if(e===null)throw Error(le(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Wt===null?bt.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function Rl(e,t){return typeof t=="function"?t(e):t}function Vh(e){var t=fr(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=At,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=l=null,c=null,h=o;do{var p=h.lane;if((Js&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var m={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=m,l=r):c=c.next=m,bt.lanes|=p,Zs|=p}h=h.next}while(h!==null&&h!==o);c===null?l=r:c.next=u,Cr(r,t.memoizedState)||(Nn=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,bt.lanes|=o,Zs|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yh(e){var t=fr(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);Cr(o,t.memoizedState)||(Nn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function H_(){}function q_(e,t){var n=bt,r=fr(),i=t(),o=!Cr(r.memoizedState,i);if(o&&(r.memoizedState=i,Nn=!0),r=r.queue,Sg(Y_.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,$l(9,V_.bind(null,n,r,i,t),void 0,null),Ht===null)throw Error(le(349));Js&30||G_(n,t,i)}return i}function G_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function V_(e,t,n,r){t.value=n,t.getSnapshot=r,K_(t)&&Q_(e)}function Y_(e,t,n){return n(function(){K_(t)&&Q_(e)})}function K_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cr(e,n)}catch{return!0}}function Q_(e){var t=vi(e,1);t!==null&&jr(t,e,1,-1)}function Rx(e){var t=Lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:e},t.queue=e,e=e.dispatch=oT.bind(null,bt,e),[t.memoizedState,e]}function $l(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function X_(){return fr().memoizedState}function Dc(e,t,n,r){var i=Lr();bt.flags|=e,i.memoizedState=$l(1|t,n,void 0,r===void 0?null:r)}function Ld(e,t,n,r){var i=fr();r=r===void 0?null:r;var o=void 0;if(At!==null){var l=At.memoizedState;if(o=l.destroy,r!==null&&wg(r,l.deps)){i.memoizedState=$l(t,n,o,r);return}}bt.flags|=e,i.memoizedState=$l(1|t,n,o,r)}function $x(e,t){return Dc(8390656,8,e,t)}function Sg(e,t){return Ld(2048,8,e,t)}function J_(e,t){return Ld(4,2,e,t)}function Z_(e,t){return Ld(4,4,e,t)}function eb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tb(e,t,n){return n=n!=null?n.concat([e]):null,Ld(4,4,eb.bind(null,t,e),n)}function Eg(){}function nb(e,t){var n=fr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rb(e,t){var n=fr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ib(e,t,n){return Js&21?(Cr(n,t)||(n=u_(),bt.lanes|=n,Zs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nn=!0),e.memoizedState=n)}function iT(e,t){var n=st;st=n!==0&&4>n?n:4,e(!0);var r=Gh.transition;Gh.transition={};try{e(!1),t()}finally{st=n,Gh.transition=r}}function sb(){return fr().memoizedState}function sT(e,t,n){var r=rs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ob(e))ab(t,n);else if(n=z_(e,t,n,r),n!==null){var i=hn();jr(n,e,r,i),lb(n,t,r)}}function oT(e,t,n){var r=rs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ob(e))ab(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,u=o(l,n);if(i.hasEagerState=!0,i.eagerState=u,Cr(u,l)){var c=t.interleaved;c===null?(i.next=i,mg(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=z_(e,t,i,r),n!==null&&(i=hn(),jr(n,e,r,i),lb(n,t,r))}}function ob(e){var t=e.alternate;return e===bt||t!==null&&t===bt}function ab(e,t){ul=id=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lb(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tg(e,n)}}var sd={readContext:dr,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},aT={readContext:dr,useCallback:function(e,t){return Lr().memoizedState=[e,t===void 0?null:t],e},useContext:dr,useEffect:$x,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dc(4194308,4,eb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dc(4,2,e,t)},useMemo:function(e,t){var n=Lr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sT.bind(null,bt,e),[r.memoizedState,e]},useRef:function(e){var t=Lr();return e={current:e},t.memoizedState=e},useState:Rx,useDebugValue:Eg,useDeferredValue:function(e){return Lr().memoizedState=e},useTransition:function(){var e=Rx(!1),t=e[0];return e=iT.bind(null,e[1]),Lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=bt,i=Lr();if(vt){if(n===void 0)throw Error(le(407));n=n()}else{if(n=t(),Ht===null)throw Error(le(349));Js&30||G_(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,$x(Y_.bind(null,r,o,e),[e]),r.flags|=2048,$l(9,V_.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Lr(),t=Ht.identifierPrefix;if(vt){var n=di,r=ci;n=(r&~(1<<32-Nr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ml++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lT={readContext:dr,useCallback:nb,useContext:dr,useEffect:Sg,useImperativeHandle:tb,useInsertionEffect:J_,useLayoutEffect:Z_,useMemo:rb,useReducer:Vh,useRef:X_,useState:function(){return Vh(Rl)},useDebugValue:Eg,useDeferredValue:function(e){var t=fr();return ib(t,At.memoizedState,e)},useTransition:function(){var e=Vh(Rl)[0],t=fr().memoizedState;return[e,t]},useMutableSource:H_,useSyncExternalStore:q_,useId:sb,unstable_isNewReconciler:!1},uT={readContext:dr,useCallback:nb,useContext:dr,useEffect:Sg,useImperativeHandle:tb,useInsertionEffect:J_,useLayoutEffect:Z_,useMemo:rb,useReducer:Yh,useRef:X_,useState:function(){return Yh(Rl)},useDebugValue:Eg,useDeferredValue:function(e){var t=fr();return At===null?t.memoizedState=e:ib(t,At.memoizedState,e)},useTransition:function(){var e=Yh(Rl)[0],t=fr().memoizedState;return[e,t]},useMutableSource:H_,useSyncExternalStore:q_,useId:sb,unstable_isNewReconciler:!1};function wr(e,t){if(e&&e.defaultProps){t=St({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:St({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Id={isMounted:function(e){return(e=e._reactInternals)?ro(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hn(),i=rs(e),o=fi(r,i);o.payload=t,n!=null&&(o.callback=n),t=ts(e,o,i),t!==null&&(jr(t,e,i,r),kc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hn(),i=rs(e),o=fi(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ts(e,o,i),t!==null&&(jr(t,e,i,r),kc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hn(),r=rs(e),i=fi(n,r);i.tag=2,t!=null&&(i.callback=t),t=ts(e,i,r),t!==null&&(jr(t,e,r,n),kc(t,e,r))}};function Ax(e,t,n,r,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!Cl(n,r)||!Cl(i,o):!0}function ub(e,t,n){var r=!1,i=ls,o=t.contextType;return typeof o=="object"&&o!==null?o=dr(o):(i=Cn(t)?Qs:rn.current,r=t.contextTypes,o=(r=r!=null)?ea(e,i):ls),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Id,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Lx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Id.enqueueReplaceState(t,t.state,null)}function Jp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},gg(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=dr(o):(o=Cn(t)?Qs:rn.current,i.context=ea(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Xp(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Id.enqueueReplaceState(i,i.state,null),nd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ia(e,t){try{var n="",r=t;do n+=L4(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Kh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cT=typeof WeakMap=="function"?WeakMap:Map;function cb(e,t,n){n=fi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ad||(ad=!0,um=r),Zp(e,t)},n}function db(e,t,n){n=fi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Zp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Zp(e,t),typeof r!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Ix(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new cT;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ET.bind(null,e,t,n),t.then(e,e))}function Fx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ux(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fi(-1,1),t.tag=2,ts(n,t,1))),n.lanes|=1),e)}var dT=wi.ReactCurrentOwner,Nn=!1;function dn(e,t,n,r){t.child=e===null?U_(t,null,n,r):na(t,e.child,n,r)}function zx(e,t,n,r,i){n=n.render;var o=t.ref;return Yo(t,i),r=_g(e,t,n,r,o,i),n=bg(),e!==null&&!Nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,yi(e,t,i)):(vt&&n&&ug(t),t.flags|=1,dn(e,t,r,i),t.child)}function Wx(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Og(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,fb(e,t,o,r,i)):(e=Rc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Cl,n(l,r)&&e.ref===t.ref)return yi(e,t,i)}return t.flags|=1,e=is(o,r),e.ref=t.ref,e.return=t,t.child=e}function fb(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Cl(o,r)&&e.ref===t.ref)if(Nn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Nn=!0);else return t.lanes=e.lanes,yi(e,t,i)}return em(e,t,n,r,i)}function hb(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Wo,Un),Un|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ct(Wo,Un),Un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ct(Wo,Un),Un|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ct(Wo,Un),Un|=r;return dn(e,t,i,n),t.child}function pb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function em(e,t,n,r,i){var o=Cn(n)?Qs:rn.current;return o=ea(t,o),Yo(t,i),n=_g(e,t,n,r,o,i),r=bg(),e!==null&&!Nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,yi(e,t,i)):(vt&&r&&ug(t),t.flags|=1,dn(e,t,n,i),t.child)}function Bx(e,t,n,r,i){if(Cn(n)){var o=!0;Xc(t)}else o=!1;if(Yo(t,i),t.stateNode===null)Tc(e,t),ub(t,n,r),Jp(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var c=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=dr(h):(h=Cn(n)?Qs:rn.current,h=ea(t,h));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||c!==h)&&Lx(t,l,r,h),Fi=!1;var y=t.memoizedState;l.state=y,nd(t,r,l,i),c=t.memoizedState,u!==r||y!==c||jn.current||Fi?(typeof p=="function"&&(Xp(t,n,p,r),c=t.memoizedState),(u=Fi||Ax(t,n,u,r,y,c,h))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=h,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,W_(e,t),u=t.memoizedProps,h=t.type===t.elementType?u:wr(t.type,u),l.props=h,m=t.pendingProps,y=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=dr(c):(c=Cn(n)?Qs:rn.current,c=ea(t,c));var x=n.getDerivedStateFromProps;(p=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||y!==c)&&Lx(t,l,r,c),Fi=!1,y=t.memoizedState,l.state=y,nd(t,r,l,i);var S=t.memoizedState;u!==m||y!==S||jn.current||Fi?(typeof x=="function"&&(Xp(t,n,x,r),S=t.memoizedState),(h=Fi||Ax(t,n,h,r,y,S,c)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,S,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,S,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),l.props=r,l.state=S,l.context=c,r=h):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return tm(e,t,n,r,o,i)}function tm(e,t,n,r,i,o){pb(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&kx(t,n,!1),yi(e,t,o);r=t.stateNode,dT.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=na(t,e.child,null,o),t.child=na(t,null,u,o)):dn(e,t,u,o),t.memoizedState=r.state,i&&kx(t,n,!0),t.child}function mb(e){var t=e.stateNode;t.pendingContext?Cx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cx(e,t.context,!1),vg(e,t.containerInfo)}function Hx(e,t,n,r,i){return ta(),dg(i),t.flags|=256,dn(e,t,n,r),t.child}var nm={dehydrated:null,treeContext:null,retryLane:0};function rm(e){return{baseLanes:e,cachePool:null,transitions:null}}function gb(e,t,n){var r=t.pendingProps,i=wt.current,o=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ct(wt,i&1),e===null)return Kp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=zd(l,r,0,null),e=Vs(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=rm(n),t.memoizedState=nm,e):Ng(t,l));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return fT(e,t,l,r,u,i,n);if(o){o=r.fallback,l=t.mode,i=e.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=is(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=is(u,o):(o=Vs(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?rm(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=nm,r}return o=e.child,e=o.sibling,r=is(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ng(e,t){return t=zd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cc(e,t,n,r){return r!==null&&dg(r),na(t,e.child,null,n),e=Ng(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fT(e,t,n,r,i,o,l){if(n)return t.flags&256?(t.flags&=-257,r=Kh(Error(le(422))),cc(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=zd({mode:"visible",children:r.children},i,0,null),o=Vs(o,i,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&na(t,e.child,null,l),t.child.memoizedState=rm(l),t.memoizedState=nm,o);if(!(t.mode&1))return cc(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(le(419)),r=Kh(o,r,void 0),cc(e,t,l,r)}if(u=(l&e.childLanes)!==0,Nn||u){if(r=Ht,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,vi(e,i),jr(r,e,i,-1))}return Tg(),r=Kh(Error(le(421))),cc(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=NT.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,zn=es(i.nextSibling),Wn=t,vt=!0,Sr=null,e!==null&&(ar[lr++]=ci,ar[lr++]=di,ar[lr++]=Xs,ci=e.id,di=e.overflow,Xs=t),t=Ng(t,r.children),t.flags|=4096,t)}function qx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qp(e.return,t,n)}function Qh(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function vb(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(dn(e,t,r.children,n),r=wt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qx(e,n,t);else if(e.tag===19)qx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ct(wt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&rd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qh(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qh(t,!0,n,null,o);break;case"together":Qh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,n=is(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=is(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hT(e,t,n){switch(t.tag){case 3:mb(t),ta();break;case 5:B_(t);break;case 1:Cn(t.type)&&Xc(t);break;case 4:vg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ct(ed,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ct(wt,wt.current&1),t.flags|=128,null):n&t.child.childLanes?gb(e,t,n):(ct(wt,wt.current&1),e=yi(e,t,n),e!==null?e.sibling:null);ct(wt,wt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vb(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ct(wt,wt.current),r)break;return null;case 22:case 23:return t.lanes=0,hb(e,t,n)}return yi(e,t,n)}var yb,im,xb,wb;yb=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};im=function(){};xb=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Bs(Br.current);var o=null;switch(n){case"input":i=jp(e,i),r=jp(e,r),o=[];break;case"select":i=St({},i,{value:void 0}),r=St({},r,{value:void 0}),o=[];break;case"textarea":i=Pp(e,i),r=Pp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Kc)}Tp(n,r);var l;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(wl.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var c=r[h];if(u=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(o||(o=[]),o.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(wl.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&ht("scroll",e),o||u===c||(o=[])):(o=o||[]).push(h,c))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};wb=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ga(e,t){if(!vt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pT(e,t,n){var r=t.pendingProps;switch(cg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(t),null;case 1:return Cn(t.type)&&Qc(),tn(t),null;case 3:return r=t.stateNode,ra(),pt(jn),pt(rn),xg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(lc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sr!==null&&(fm(Sr),Sr=null))),im(e,t),tn(t),null;case 5:yg(t);var i=Bs(Ol.current);if(n=t.type,e!==null&&t.stateNode!=null)xb(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(le(166));return tn(t),null}if(e=Bs(Br.current),lc(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ir]=t,r[Dl]=o,e=(t.mode&1)!==0,n){case"dialog":ht("cancel",r),ht("close",r);break;case"iframe":case"object":case"embed":ht("load",r);break;case"video":case"audio":for(i=0;i<tl.length;i++)ht(tl[i],r);break;case"source":ht("error",r);break;case"img":case"image":case"link":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"input":ex(r,o),ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ht("invalid",r);break;case"textarea":nx(r,o),ht("invalid",r)}Tp(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&ac(r.textContent,u,e),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&ac(r.textContent,u,e),i=["children",""+u]):wl.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&ht("scroll",r)}switch(n){case"input":Zu(r),tx(r,o,!0);break;case"textarea":Zu(r),rx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Kc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Y1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Ir]=t,e[Dl]=r,yb(e,t,!1,!1),t.stateNode=e;e:{switch(l=Op(n,r),n){case"dialog":ht("cancel",e),ht("close",e),i=r;break;case"iframe":case"object":case"embed":ht("load",e),i=r;break;case"video":case"audio":for(i=0;i<tl.length;i++)ht(tl[i],e);i=r;break;case"source":ht("error",e),i=r;break;case"img":case"image":case"link":ht("error",e),ht("load",e),i=r;break;case"details":ht("toggle",e),i=r;break;case"input":ex(e,r),i=jp(e,r),ht("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=St({},r,{value:void 0}),ht("invalid",e);break;case"textarea":nx(e,r),i=Pp(e,r),ht("invalid",e);break;default:i=r}Tp(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?X1(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&K1(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&_l(e,c):typeof c=="number"&&_l(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wl.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ht("scroll",e):c!=null&&Km(e,o,c,l))}switch(n){case"input":Zu(e),tx(e,r,!1);break;case"textarea":Zu(e),rx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+as(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ho(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ho(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Kc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tn(t),null;case 6:if(e&&t.stateNode!=null)wb(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(le(166));if(n=Bs(Ol.current),Bs(Br.current),lc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ir]=t,(o=r.nodeValue!==n)&&(e=Wn,e!==null))switch(e.tag){case 3:ac(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ac(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=t,t.stateNode=r}return tn(t),null;case 13:if(pt(wt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(vt&&zn!==null&&t.mode&1&&!(t.flags&128))I_(),ta(),t.flags|=98560,o=!1;else if(o=lc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(le(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(le(317));o[Ir]=t}else ta(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tn(t),o=!1}else Sr!==null&&(fm(Sr),Sr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||wt.current&1?It===0&&(It=3):Tg())),t.updateQueue!==null&&(t.flags|=4),tn(t),null);case 4:return ra(),im(e,t),e===null&&kl(t.stateNode.containerInfo),tn(t),null;case 10:return pg(t.type._context),tn(t),null;case 17:return Cn(t.type)&&Qc(),tn(t),null;case 19:if(pt(wt),o=t.memoizedState,o===null)return tn(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)Ga(o,!1);else{if(It!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=rd(e),l!==null){for(t.flags|=128,Ga(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ct(wt,wt.current&1|2),t.child}e=e.sibling}o.tail!==null&&kt()>sa&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304)}else{if(!r)if(e=rd(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!vt)return tn(t),null}else 2*kt()-o.renderingStartTime>sa&&n!==1073741824&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=kt(),t.sibling=null,n=wt.current,ct(wt,r?n&1|2:n&1),t):(tn(t),null);case 22:case 23:return Dg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Un&1073741824&&(tn(t),t.subtreeFlags&6&&(t.flags|=8192)):tn(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function mT(e,t){switch(cg(t),t.tag){case 1:return Cn(t.type)&&Qc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ra(),pt(jn),pt(rn),xg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yg(t),null;case 13:if(pt(wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(wt),null;case 4:return ra(),null;case 10:return pg(t.type._context),null;case 22:case 23:return Dg(),null;case 24:return null;default:return null}}var dc=!1,nn=!1,gT=typeof WeakSet=="function"?WeakSet:Set,we=null;function zo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nt(e,t,r)}else n.current=null}function sm(e,t,n){try{n()}catch(r){Nt(e,t,r)}}var Gx=!1;function vT(e,t){if(Wp=Gc,e=N_(),lg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,h=0,p=0,m=e,y=null;t:for(;;){for(var x;m!==n||i!==0&&m.nodeType!==3||(u=l+i),m!==o||r!==0&&m.nodeType!==3||(c=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(x=m.firstChild)!==null;)y=m,m=x;for(;;){if(m===e)break t;if(y===n&&++h===i&&(u=l),y===o&&++p===r&&(c=l),(x=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=x}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bp={focusedElem:e,selectionRange:n},Gc=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,k=S.memoizedState,b=t.stateNode,_=b.getSnapshotBeforeUpdate(t.elementType===t.type?C:wr(t.type,C),k);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(P){Nt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return S=Gx,Gx=!1,S}function cl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&sm(t,n,o)}i=i.next}while(i!==r)}}function Fd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function om(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _b(e){var t=e.alternate;t!==null&&(e.alternate=null,_b(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ir],delete t[Dl],delete t[Gp],delete t[ZD],delete t[eT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bb(e){return e.tag===5||e.tag===3||e.tag===4}function Vx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function am(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kc));else if(r!==4&&(e=e.child,e!==null))for(am(e,t,n),e=e.sibling;e!==null;)am(e,t,n),e=e.sibling}function lm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(lm(e,t,n),e=e.sibling;e!==null;)lm(e,t,n),e=e.sibling}var Vt=null,_r=!1;function Ri(e,t,n){for(n=n.child;n!==null;)Sb(e,t,n),n=n.sibling}function Sb(e,t,n){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(Td,n)}catch{}switch(n.tag){case 5:nn||zo(n,t);case 6:var r=Vt,i=_r;Vt=null,Ri(e,t,n),Vt=r,_r=i,Vt!==null&&(_r?(e=Vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(_r?(e=Vt,n=n.stateNode,e.nodeType===8?Bh(e.parentNode,n):e.nodeType===1&&Bh(e,n),Nl(e)):Bh(Vt,n.stateNode));break;case 4:r=Vt,i=_r,Vt=n.stateNode.containerInfo,_r=!0,Ri(e,t,n),Vt=r,_r=i;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&sm(n,t,l),i=i.next}while(i!==r)}Ri(e,t,n);break;case 1:if(!nn&&(zo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Nt(n,t,u)}Ri(e,t,n);break;case 21:Ri(e,t,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,Ri(e,t,n),nn=r):Ri(e,t,n);break;default:Ri(e,t,n)}}function Yx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gT),t.forEach(function(r){var i=jT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:Vt=u.stateNode,_r=!1;break e;case 3:Vt=u.stateNode.containerInfo,_r=!0;break e;case 4:Vt=u.stateNode.containerInfo,_r=!0;break e}u=u.return}if(Vt===null)throw Error(le(160));Sb(o,l,i),Vt=null,_r=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){Nt(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Eb(t,e),t=t.sibling}function Eb(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yr(t,e),Ar(e),r&4){try{cl(3,e,e.return),Fd(3,e)}catch(C){Nt(e,e.return,C)}try{cl(5,e,e.return)}catch(C){Nt(e,e.return,C)}}break;case 1:yr(t,e),Ar(e),r&512&&n!==null&&zo(n,n.return);break;case 5:if(yr(t,e),Ar(e),r&512&&n!==null&&zo(n,n.return),e.flags&32){var i=e.stateNode;try{_l(i,"")}catch(C){Nt(e,e.return,C)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&G1(i,o),Op(u,l);var h=Op(u,o);for(l=0;l<c.length;l+=2){var p=c[l],m=c[l+1];p==="style"?X1(i,m):p==="dangerouslySetInnerHTML"?K1(i,m):p==="children"?_l(i,m):Km(i,p,m,h)}switch(u){case"input":Cp(i,o);break;case"textarea":V1(i,o);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?Ho(i,!!o.multiple,x,!1):y!==!!o.multiple&&(o.defaultValue!=null?Ho(i,!!o.multiple,o.defaultValue,!0):Ho(i,!!o.multiple,o.multiple?[]:"",!1))}i[Dl]=o}catch(C){Nt(e,e.return,C)}}break;case 6:if(yr(t,e),Ar(e),r&4){if(e.stateNode===null)throw Error(le(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(C){Nt(e,e.return,C)}}break;case 3:if(yr(t,e),Ar(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nl(t.containerInfo)}catch(C){Nt(e,e.return,C)}break;case 4:yr(t,e),Ar(e);break;case 13:yr(t,e),Ar(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(kg=kt())),r&4&&Yx(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(nn=(h=nn)||p,yr(t,e),nn=h):yr(t,e),Ar(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(we=e,p=e.child;p!==null;){for(m=we=p;we!==null;){switch(y=we,x=y.child,y.tag){case 0:case 11:case 14:case 15:cl(4,y,y.return);break;case 1:zo(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(C){Nt(r,n,C)}}break;case 5:zo(y,y.return);break;case 22:if(y.memoizedState!==null){Qx(m);continue}}x!==null?(x.return=y,we=x):Qx(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Q1("display",l))}catch(C){Nt(e,e.return,C)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(C){Nt(e,e.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:yr(t,e),Ar(e),r&4&&Yx(e);break;case 21:break;default:yr(t,e),Ar(e)}}function Ar(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bb(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_l(i,""),r.flags&=-33);var o=Vx(e);lm(e,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,u=Vx(e);am(e,u,l);break;default:throw Error(le(161))}}catch(c){Nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yT(e,t,n){we=e,Nb(e)}function Nb(e,t,n){for(var r=(e.mode&1)!==0;we!==null;){var i=we,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||dc;if(!l){var u=i.alternate,c=u!==null&&u.memoizedState!==null||nn;u=dc;var h=nn;if(dc=l,(nn=c)&&!h)for(we=i;we!==null;)l=we,c=l.child,l.tag===22&&l.memoizedState!==null?Xx(i):c!==null?(c.return=l,we=c):Xx(i);for(;o!==null;)we=o,Nb(o),o=o.sibling;we=i,dc=u,nn=h}Kx(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,we=o):Kx(e)}}function Kx(e){for(;we!==null;){var t=we;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nn||Fd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!nn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:wr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Mx(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mx(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Nl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}nn||t.flags&512&&om(t)}catch(y){Nt(t,t.return,y)}}if(t===e){we=null;break}if(n=t.sibling,n!==null){n.return=t.return,we=n;break}we=t.return}}function Qx(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var n=t.sibling;if(n!==null){n.return=t.return,we=n;break}we=t.return}}function Xx(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fd(4,t)}catch(c){Nt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Nt(t,i,c)}}var o=t.return;try{om(t)}catch(c){Nt(t,o,c)}break;case 5:var l=t.return;try{om(t)}catch(c){Nt(t,l,c)}}}catch(c){Nt(t,t.return,c)}if(t===e){we=null;break}var u=t.sibling;if(u!==null){u.return=t.return,we=u;break}we=t.return}}var xT=Math.ceil,od=wi.ReactCurrentDispatcher,jg=wi.ReactCurrentOwner,cr=wi.ReactCurrentBatchConfig,Je=0,Ht=null,Dt=null,Kt=0,Un=0,Wo=hs(0),It=0,Al=null,Zs=0,Ud=0,Cg=0,dl=null,Sn=null,kg=0,sa=1/0,ai=null,ad=!1,um=null,ns=null,fc=!1,Yi=null,ld=0,fl=0,cm=null,Oc=-1,Mc=0;function hn(){return Je&6?kt():Oc!==-1?Oc:Oc=kt()}function rs(e){return e.mode&1?Je&2&&Kt!==0?Kt&-Kt:nT.transition!==null?(Mc===0&&(Mc=u_()),Mc):(e=st,e!==0||(e=window.event,e=e===void 0?16:g_(e.type)),e):1}function jr(e,t,n,r){if(50<fl)throw fl=0,cm=null,Error(le(185));ql(e,n,r),(!(Je&2)||e!==Ht)&&(e===Ht&&(!(Je&2)&&(Ud|=n),It===4&&Bi(e,Kt)),kn(e,r),n===1&&Je===0&&!(t.mode&1)&&(sa=kt()+500,Ad&&ps()))}function kn(e,t){var n=e.callbackNode;nD(e,t);var r=qc(e,e===Ht?Kt:0);if(r===0)n!==null&&ox(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ox(n),t===1)e.tag===0?tT(Jx.bind(null,e)):$_(Jx.bind(null,e)),XD(function(){!(Je&6)&&ps()}),n=null;else{switch(c_(r)){case 1:n=eg;break;case 4:n=a_;break;case 16:n=Hc;break;case 536870912:n=l_;break;default:n=Hc}n=Mb(n,jb.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jb(e,t){if(Oc=-1,Mc=0,Je&6)throw Error(le(327));var n=e.callbackNode;if(Ko()&&e.callbackNode!==n)return null;var r=qc(e,e===Ht?Kt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ud(e,r);else{t=r;var i=Je;Je|=2;var o=kb();(Ht!==e||Kt!==t)&&(ai=null,sa=kt()+500,Gs(e,t));do try{bT();break}catch(u){Cb(e,u)}while(!0);hg(),od.current=o,Je=i,Dt!==null?t=0:(Ht=null,Kt=0,t=It)}if(t!==0){if(t===2&&(i=Lp(e),i!==0&&(r=i,t=dm(e,i))),t===1)throw n=Al,Gs(e,0),Bi(e,r),kn(e,kt()),n;if(t===6)Bi(e,r);else{if(i=e.current.alternate,!(r&30)&&!wT(i)&&(t=ud(e,r),t===2&&(o=Lp(e),o!==0&&(r=o,t=dm(e,o))),t===1))throw n=Al,Gs(e,0),Bi(e,r),kn(e,kt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(le(345));case 2:$s(e,Sn,ai);break;case 3:if(Bi(e,r),(r&130023424)===r&&(t=kg+500-kt(),10<t)){if(qc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){hn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qp($s.bind(null,e,Sn,ai),t);break}$s(e,Sn,ai);break;case 4:if(Bi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-Nr(r);o=1<<l,l=t[l],l>i&&(i=l),r&=~o}if(r=i,r=kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xT(r/1960))-r,10<r){e.timeoutHandle=qp($s.bind(null,e,Sn,ai),r);break}$s(e,Sn,ai);break;case 5:$s(e,Sn,ai);break;default:throw Error(le(329))}}}return kn(e,kt()),e.callbackNode===n?jb.bind(null,e):null}function dm(e,t){var n=dl;return e.current.memoizedState.isDehydrated&&(Gs(e,t).flags|=256),e=ud(e,t),e!==2&&(t=Sn,Sn=n,t!==null&&fm(t)),e}function fm(e){Sn===null?Sn=e:Sn.push.apply(Sn,e)}function wT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Cr(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bi(e,t){for(t&=~Cg,t&=~Ud,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nr(t),r=1<<n;e[n]=-1,t&=~r}}function Jx(e){if(Je&6)throw Error(le(327));Ko();var t=qc(e,0);if(!(t&1))return kn(e,kt()),null;var n=ud(e,t);if(e.tag!==0&&n===2){var r=Lp(e);r!==0&&(t=r,n=dm(e,r))}if(n===1)throw n=Al,Gs(e,0),Bi(e,t),kn(e,kt()),n;if(n===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$s(e,Sn,ai),kn(e,kt()),null}function Pg(e,t){var n=Je;Je|=1;try{return e(t)}finally{Je=n,Je===0&&(sa=kt()+500,Ad&&ps())}}function eo(e){Yi!==null&&Yi.tag===0&&!(Je&6)&&Ko();var t=Je;Je|=1;var n=cr.transition,r=st;try{if(cr.transition=null,st=1,e)return e()}finally{st=r,cr.transition=n,Je=t,!(Je&6)&&ps()}}function Dg(){Un=Wo.current,pt(Wo)}function Gs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,QD(n)),Dt!==null)for(n=Dt.return;n!==null;){var r=n;switch(cg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qc();break;case 3:ra(),pt(jn),pt(rn),xg();break;case 5:yg(r);break;case 4:ra();break;case 13:pt(wt);break;case 19:pt(wt);break;case 10:pg(r.type._context);break;case 22:case 23:Dg()}n=n.return}if(Ht=e,Dt=e=is(e.current,null),Kt=Un=t,It=0,Al=null,Cg=Ud=Zs=0,Sn=dl=null,Ws!==null){for(t=0;t<Ws.length;t++)if(n=Ws[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}Ws=null}return e}function Cb(e,t){do{var n=Dt;try{if(hg(),Pc.current=sd,id){for(var r=bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}id=!1}if(Js=0,Wt=At=bt=null,ul=!1,Ml=0,jg.current=null,n===null||n.return===null){It=1,Al=t,Dt=null;break}e:{var o=e,l=n.return,u=n,c=t;if(t=Kt,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var x=Fx(l);if(x!==null){x.flags&=-257,Ux(x,l,u,o,t),x.mode&1&&Ix(o,h,t),t=x,c=h;var S=t.updateQueue;if(S===null){var C=new Set;C.add(c),t.updateQueue=C}else S.add(c);break e}else{if(!(t&1)){Ix(o,h,t),Tg();break e}c=Error(le(426))}}else if(vt&&u.mode&1){var k=Fx(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ux(k,l,u,o,t),dg(ia(c,u));break e}}o=c=ia(c,u),It!==4&&(It=2),dl===null?dl=[o]:dl.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var b=cb(o,c,t);Ox(o,b);break e;case 1:u=c;var _=o.type,N=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ns===null||!ns.has(N)))){o.flags|=65536,t&=-t,o.lanes|=t;var P=db(o,u,t);Ox(o,P);break e}}o=o.return}while(o!==null)}Db(n)}catch(R){t=R,Dt===n&&n!==null&&(Dt=n=n.return);continue}break}while(!0)}function kb(){var e=od.current;return od.current=sd,e===null?sd:e}function Tg(){(It===0||It===3||It===2)&&(It=4),Ht===null||!(Zs&268435455)&&!(Ud&268435455)||Bi(Ht,Kt)}function ud(e,t){var n=Je;Je|=2;var r=kb();(Ht!==e||Kt!==t)&&(ai=null,Gs(e,t));do try{_T();break}catch(i){Cb(e,i)}while(!0);if(hg(),Je=n,od.current=r,Dt!==null)throw Error(le(261));return Ht=null,Kt=0,It}function _T(){for(;Dt!==null;)Pb(Dt)}function bT(){for(;Dt!==null&&!V4();)Pb(Dt)}function Pb(e){var t=Ob(e.alternate,e,Un);e.memoizedProps=e.pendingProps,t===null?Db(e):Dt=t,jg.current=null}function Db(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mT(n,t),n!==null){n.flags&=32767,Dt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{It=6,Dt=null;return}}else if(n=pT(n,t,Un),n!==null){Dt=n;return}if(t=t.sibling,t!==null){Dt=t;return}Dt=t=e}while(t!==null);It===0&&(It=5)}function $s(e,t,n){var r=st,i=cr.transition;try{cr.transition=null,st=1,ST(e,t,n,r)}finally{cr.transition=i,st=r}return null}function ST(e,t,n,r){do Ko();while(Yi!==null);if(Je&6)throw Error(le(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(rD(e,o),e===Ht&&(Dt=Ht=null,Kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fc||(fc=!0,Mb(Hc,function(){return Ko(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=cr.transition,cr.transition=null;var l=st;st=1;var u=Je;Je|=4,jg.current=null,vT(e,n),Eb(n,e),BD(Bp),Gc=!!Wp,Bp=Wp=null,e.current=n,yT(n),Y4(),Je=u,st=l,cr.transition=o}else e.current=n;if(fc&&(fc=!1,Yi=e,ld=i),o=e.pendingLanes,o===0&&(ns=null),X4(n.stateNode),kn(e,kt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ad)throw ad=!1,e=um,um=null,e;return ld&1&&e.tag!==0&&Ko(),o=e.pendingLanes,o&1?e===cm?fl++:(fl=0,cm=e):fl=0,ps(),null}function Ko(){if(Yi!==null){var e=c_(ld),t=cr.transition,n=st;try{if(cr.transition=null,st=16>e?16:e,Yi===null)var r=!1;else{if(e=Yi,Yi=null,ld=0,Je&6)throw Error(le(331));var i=Je;for(Je|=4,we=e.current;we!==null;){var o=we,l=o.child;if(we.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(we=h;we!==null;){var p=we;switch(p.tag){case 0:case 11:case 15:cl(8,p,o)}var m=p.child;if(m!==null)m.return=p,we=m;else for(;we!==null;){p=we;var y=p.sibling,x=p.return;if(_b(p),p===h){we=null;break}if(y!==null){y.return=x,we=y;break}we=x}}}var S=o.alternate;if(S!==null){var C=S.child;if(C!==null){S.child=null;do{var k=C.sibling;C.sibling=null,C=k}while(C!==null)}}we=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,we=l;else e:for(;we!==null;){if(o=we,o.flags&2048)switch(o.tag){case 0:case 11:case 15:cl(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,we=b;break e}we=o.return}}var _=e.current;for(we=_;we!==null;){l=we;var N=l.child;if(l.subtreeFlags&2064&&N!==null)N.return=l,we=N;else e:for(l=_;we!==null;){if(u=we,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Fd(9,u)}}catch(R){Nt(u,u.return,R)}if(u===l){we=null;break e}var P=u.sibling;if(P!==null){P.return=u.return,we=P;break e}we=u.return}}if(Je=i,ps(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(Td,e)}catch{}r=!0}return r}finally{st=n,cr.transition=t}}return!1}function Zx(e,t,n){t=ia(n,t),t=cb(e,t,1),e=ts(e,t,1),t=hn(),e!==null&&(ql(e,1,t),kn(e,t))}function Nt(e,t,n){if(e.tag===3)Zx(e,e,n);else for(;t!==null;){if(t.tag===3){Zx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ns===null||!ns.has(r))){e=ia(n,e),e=db(t,e,1),t=ts(t,e,1),e=hn(),t!==null&&(ql(t,1,e),kn(t,e));break}}t=t.return}}function ET(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=hn(),e.pingedLanes|=e.suspendedLanes&n,Ht===e&&(Kt&n)===n&&(It===4||It===3&&(Kt&130023424)===Kt&&500>kt()-kg?Gs(e,0):Cg|=n),kn(e,t)}function Tb(e,t){t===0&&(e.mode&1?(t=nc,nc<<=1,!(nc&130023424)&&(nc=4194304)):t=1);var n=hn();e=vi(e,t),e!==null&&(ql(e,t,n),kn(e,n))}function NT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Tb(e,n)}function jT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(t),Tb(e,n)}var Ob;Ob=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jn.current)Nn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nn=!1,hT(e,t,n);Nn=!!(e.flags&131072)}else Nn=!1,vt&&t.flags&1048576&&A_(t,Zc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Tc(e,t),e=t.pendingProps;var i=ea(t,rn.current);Yo(t,n),i=_g(null,t,r,e,i,n);var o=bg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cn(r)?(o=!0,Xc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gg(t),i.updater=Id,t.stateNode=i,i._reactInternals=t,Jp(t,r,e,n),t=tm(null,t,r,!0,o,n)):(t.tag=0,vt&&o&&ug(t),dn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Tc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=kT(r),e=wr(r,e),i){case 0:t=em(null,t,r,e,n);break e;case 1:t=Bx(null,t,r,e,n);break e;case 11:t=zx(null,t,r,e,n);break e;case 14:t=Wx(null,t,r,wr(r.type,e),n);break e}throw Error(le(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),em(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),Bx(e,t,r,i,n);case 3:e:{if(mb(t),e===null)throw Error(le(387));r=t.pendingProps,o=t.memoizedState,i=o.element,W_(e,t),nd(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ia(Error(le(423)),t),t=Hx(e,t,r,n,i);break e}else if(r!==i){i=ia(Error(le(424)),t),t=Hx(e,t,r,n,i);break e}else for(zn=es(t.stateNode.containerInfo.firstChild),Wn=t,vt=!0,Sr=null,n=U_(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ta(),r===i){t=yi(e,t,n);break e}dn(e,t,r,n)}t=t.child}return t;case 5:return B_(t),e===null&&Kp(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,Hp(r,i)?l=null:o!==null&&Hp(r,o)&&(t.flags|=32),pb(e,t),dn(e,t,l,n),t.child;case 6:return e===null&&Kp(t),null;case 13:return gb(e,t,n);case 4:return vg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=na(t,null,r,n):dn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),zx(e,t,r,i,n);case 7:return dn(e,t,t.pendingProps,n),t.child;case 8:return dn(e,t,t.pendingProps.children,n),t.child;case 12:return dn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,ct(ed,r._currentValue),r._currentValue=l,o!==null)if(Cr(o.value,l)){if(o.children===i.children&&!jn.current){t=yi(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=fi(-1,n&-n),c.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Qp(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(le(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Qp(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}dn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Yo(t,n),i=dr(i),r=r(i),t.flags|=1,dn(e,t,r,n),t.child;case 14:return r=t.type,i=wr(r,t.pendingProps),i=wr(r.type,i),Wx(e,t,r,i,n);case 15:return fb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wr(r,i),Tc(e,t),t.tag=1,Cn(r)?(e=!0,Xc(t)):e=!1,Yo(t,n),ub(t,r,i),Jp(t,r,i,n),tm(null,t,r,!0,e,n);case 19:return vb(e,t,n);case 22:return hb(e,t,n)}throw Error(le(156,t.tag))};function Mb(e,t){return o_(e,t)}function CT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(e,t,n,r){return new CT(e,t,n,r)}function Og(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kT(e){if(typeof e=="function")return Og(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xm)return 11;if(e===Jm)return 14}return 2}function is(e,t){var n=e.alternate;return n===null?(n=ur(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var l=2;if(r=e,typeof e=="function")Og(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Oo:return Vs(n.children,i,o,t);case Qm:l=8,i|=8;break;case bp:return e=ur(12,n,t,i|2),e.elementType=bp,e.lanes=o,e;case Sp:return e=ur(13,n,t,i),e.elementType=Sp,e.lanes=o,e;case Ep:return e=ur(19,n,t,i),e.elementType=Ep,e.lanes=o,e;case B1:return zd(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z1:l=10;break e;case W1:l=9;break e;case Xm:l=11;break e;case Jm:l=14;break e;case Ii:l=16,r=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=ur(l,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Vs(e,t,n,r){return e=ur(7,e,r,t),e.lanes=n,e}function zd(e,t,n,r){return e=ur(22,e,r,t),e.elementType=B1,e.lanes=n,e.stateNode={isHidden:!1},e}function Xh(e,t,n){return e=ur(6,e,null,t),e.lanes=n,e}function Jh(e,t,n){return t=ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PT(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oh(0),this.expirationTimes=Oh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mg(e,t,n,r,i,o,l,u,c){return e=new PT(e,t,n,u,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ur(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gg(o),e}function DT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Rb(e){if(!e)return ls;e=e._reactInternals;e:{if(ro(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var n=e.type;if(Cn(n))return R_(e,n,t)}return t}function $b(e,t,n,r,i,o,l,u,c){return e=Mg(n,r,!0,e,i,o,l,u,c),e.context=Rb(null),n=e.current,r=hn(),i=rs(n),o=fi(r,i),o.callback=t??null,ts(n,o,i),e.current.lanes=i,ql(e,i,r),kn(e,r),e}function Wd(e,t,n,r){var i=t.current,o=hn(),l=rs(i);return n=Rb(n),t.context===null?t.context=n:t.pendingContext=n,t=fi(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ts(i,t,l),e!==null&&(jr(e,i,l,o),kc(e,i,l)),l}function cd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ew(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Rg(e,t){ew(e,t),(e=e.alternate)&&ew(e,t)}function TT(){return null}var Ab=typeof reportError=="function"?reportError:function(e){console.error(e)};function $g(e){this._internalRoot=e}Bd.prototype.render=$g.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));Wd(e,t,null,null)};Bd.prototype.unmount=$g.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;eo(function(){Wd(null,e,null,null)}),t[gi]=null}};function Bd(e){this._internalRoot=e}Bd.prototype.unstable_scheduleHydration=function(e){if(e){var t=h_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wi.length&&t!==0&&t<Wi[n].priority;n++);Wi.splice(n,0,e),n===0&&m_(e)}};function Ag(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tw(){}function OT(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=cd(l);o.call(h)}}var l=$b(t,r,e,0,null,!1,!1,"",tw);return e._reactRootContainer=l,e[gi]=l.current,kl(e.nodeType===8?e.parentNode:e),eo(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var h=cd(c);u.call(h)}}var c=Mg(e,0,!1,null,null,!1,!1,"",tw);return e._reactRootContainer=c,e[gi]=c.current,kl(e.nodeType===8?e.parentNode:e),eo(function(){Wd(t,c,n,r)}),c}function qd(e,t,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var u=i;i=function(){var c=cd(l);u.call(c)}}Wd(t,l,e,i)}else l=OT(n,t,e,i,r);return cd(l)}d_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=el(t.pendingLanes);n!==0&&(tg(t,n|1),kn(t,kt()),!(Je&6)&&(sa=kt()+500,ps()))}break;case 13:eo(function(){var r=vi(e,1);if(r!==null){var i=hn();jr(r,e,1,i)}}),Rg(e,1)}};ng=function(e){if(e.tag===13){var t=vi(e,134217728);if(t!==null){var n=hn();jr(t,e,134217728,n)}Rg(e,134217728)}};f_=function(e){if(e.tag===13){var t=rs(e),n=vi(e,t);if(n!==null){var r=hn();jr(n,e,t,r)}Rg(e,t)}};h_=function(){return st};p_=function(e,t){var n=st;try{return st=e,t()}finally{st=n}};Rp=function(e,t,n){switch(t){case"input":if(Cp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=$d(r);if(!i)throw Error(le(90));q1(r),Cp(r,i)}}}break;case"textarea":V1(e,n);break;case"select":t=n.value,t!=null&&Ho(e,!!n.multiple,t,!1)}};e_=Pg;t_=eo;var MT={usingClientEntryPoint:!1,Events:[Vl,Ao,$d,J1,Z1,Pg]},Va={findFiberByHostInstance:zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RT={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=i_(e),e===null?null:e.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance||TT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Td=hc.inject(RT),Wr=hc}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MT;qn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ag(t))throw Error(le(200));return DT(e,t,null,n)};qn.createRoot=function(e,t){if(!Ag(e))throw Error(le(299));var n=!1,r="",i=Ab;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Mg(e,1,!1,null,null,n,!1,r,i),e[gi]=t.current,kl(e.nodeType===8?e.parentNode:e),new $g(t)};qn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=i_(t),e=e===null?null:e.stateNode,e};qn.flushSync=function(e){return eo(e)};qn.hydrate=function(e,t,n){if(!Hd(t))throw Error(le(200));return qd(null,e,t,!0,n)};qn.hydrateRoot=function(e,t,n){if(!Ag(e))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=Ab;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=$b(t,null,e,1,n??null,i,!1,o,l),e[gi]=t.current,kl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Bd(t)};qn.render=function(e,t,n){if(!Hd(t))throw Error(le(200));return qd(null,e,t,!1,n)};qn.unmountComponentAtNode=function(e){if(!Hd(e))throw Error(le(40));return e._reactRootContainer?(eo(function(){qd(null,null,e,!1,function(){e._reactRootContainer=null,e[gi]=null})}),!0):!1};qn.unstable_batchedUpdates=Pg;qn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hd(n))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return qd(e,t,n,!1,r)};qn.version="18.3.1-next-f1338f8080-20240426";function Lb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lb)}catch(e){console.error(e)}}Lb(),L1.exports=qn;var Hs=L1.exports,Lg,nw=Hs;Lg=nw.createRoot,nw.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ll.apply(this,arguments)}var Ki;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ki||(Ki={}));const rw="popstate";function $T(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:l,hash:u}=r.location;return hm("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:dd(i)}return LT(t,n,null,e)}function Pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ib(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AT(){return Math.random().toString(36).substr(2,8)}function iw(e,t){return{usr:e.state,key:e.key,idx:t}}function hm(e,t,n,r){return n===void 0&&(n=null),Ll({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ha(t):t,{state:n,key:t&&t.key||r||AT()})}function dd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ha(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function LT(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u=Ki.Pop,c=null,h=p();h==null&&(h=0,l.replaceState(Ll({},l.state,{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function m(){u=Ki.Pop;let k=p(),b=k==null?null:k-h;h=k,c&&c({action:u,location:C.location,delta:b})}function y(k,b){u=Ki.Push;let _=hm(C.location,k,b);h=p()+1;let N=iw(_,h),P=C.createHref(_);try{l.pushState(N,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(P)}o&&c&&c({action:u,location:C.location,delta:1})}function x(k,b){u=Ki.Replace;let _=hm(C.location,k,b);h=p();let N=iw(_,h),P=C.createHref(_);l.replaceState(N,"",P),o&&c&&c({action:u,location:C.location,delta:0})}function S(k){let b=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof k=="string"?k:dd(k);return _=_.replace(/ $/,"%20"),Pt(b,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,b)}let C={get action(){return u},get location(){return e(i,l)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(rw,m),c=k,()=>{i.removeEventListener(rw,m),c=null}},createHref(k){return t(i,k)},createURL:S,encodeLocation(k){let b=S(k);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:y,replace:x,go(k){return l.go(k)}};return C}var sw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sw||(sw={}));function IT(e,t,n){return n===void 0&&(n="/"),FT(e,t,n,!1)}function FT(e,t,n,r){let i=typeof t=="string"?ha(t):t,o=Ig(i.pathname||"/",n);if(o==null)return null;let l=Fb(e);UT(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let h=XT(o);u=KT(l[c],h,r)}return u}function Fb(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,l,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(Pt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=ss([r,c.relativePath]),p=n.concat(c);o.children&&o.children.length>0&&(Pt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Fb(o.children,t,p,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:VT(h,o.index),routesMeta:p})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let c of Ub(o.path))i(o,l,c)}),t}function Ub(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=Ub(r.join("/")),u=[];return u.push(...l.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...l),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function UT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:YT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zT=/^:[\w-]+$/,WT=3,BT=2,HT=1,qT=10,GT=-2,ow=e=>e==="*";function VT(e,t){let n=e.split("/"),r=n.length;return n.some(ow)&&(r+=GT),t&&(r+=BT),n.filter(i=>!ow(i)).reduce((i,o)=>i+(zT.test(o)?WT:o===""?HT:qT),r)}function YT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function KT(e,t,n){let{routesMeta:r}=e,i={},o="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",m=aw({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),y=c.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=aw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:ss([o,m.pathname]),pathnameBase:tO(ss([o,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(o=ss([o,m.pathnameBase]))}return l}function aw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=QT(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,p,m)=>{let{paramName:y,isOptional:x}=p;if(y==="*"){let C=u[m]||"";l=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const S=u[m];return x&&!S?h[y]=void 0:h[y]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function QT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ib(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function XT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ib(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ig(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function JT(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ha(e):e;return{pathname:n?n.startsWith("/")?n:ZT(n,t):t,search:nO(r),hash:rO(i)}}function ZT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eO(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Fg(e,t){let n=eO(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ug(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ha(e):(i=Ll({},e),Pt(!i.pathname||!i.pathname.includes("?"),Zh("?","pathname","search",i)),Pt(!i.pathname||!i.pathname.includes("#"),Zh("#","pathname","hash",i)),Pt(!i.search||!i.search.includes("#"),Zh("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}u=m>=0?t[m]:"/"}let c=JT(i,u),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}const ss=e=>e.join("/").replace(/\/\/+/g,"/"),tO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zb=["post","put","patch","delete"];new Set(zb);const sO=["get",...zb];new Set(sO);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Il.apply(this,arguments)}const zg=v.createContext(null),oO=v.createContext(null),ms=v.createContext(null),Gd=v.createContext(null),_i=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Wb=v.createContext(null);function aO(e,t){let{relative:n}=t===void 0?{}:t;pa()||Pt(!1);let{basename:r,navigator:i}=v.useContext(ms),{hash:o,pathname:l,search:u}=qb(e,{relative:n}),c=l;return r!=="/"&&(c=l==="/"?r:ss([r,l])),i.createHref({pathname:c,search:u,hash:o})}function pa(){return v.useContext(Gd)!=null}function bi(){return pa()||Pt(!1),v.useContext(Gd).location}function Bb(e){v.useContext(ms).static||v.useLayoutEffect(e)}function Gr(){let{isDataRoute:e}=v.useContext(_i);return e?wO():lO()}function lO(){pa()||Pt(!1);let e=v.useContext(zg),{basename:t,future:n,navigator:r}=v.useContext(ms),{matches:i}=v.useContext(_i),{pathname:o}=bi(),l=JSON.stringify(Fg(i,n.v7_relativeSplatPath)),u=v.useRef(!1);return Bb(()=>{u.current=!0}),v.useCallback(function(h,p){if(p===void 0&&(p={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let m=Ug(h,JSON.parse(l),o,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ss([t,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[t,r,l,o,e])}function Hb(){let{matches:e}=v.useContext(_i),t=e[e.length-1];return t?t.params:{}}function qb(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(ms),{matches:i}=v.useContext(_i),{pathname:o}=bi(),l=JSON.stringify(Fg(i,r.v7_relativeSplatPath));return v.useMemo(()=>Ug(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function uO(e,t){return cO(e,t)}function cO(e,t,n,r){pa()||Pt(!1);let{navigator:i}=v.useContext(ms),{matches:o}=v.useContext(_i),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let h=bi(),p;if(t){var m;let k=typeof t=="string"?ha(t):t;c==="/"||(m=k.pathname)!=null&&m.startsWith(c)||Pt(!1),p=k}else p=h;let y=p.pathname||"/",x=y;if(c!=="/"){let k=c.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=IT(e,{pathname:x}),C=mO(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:ss([c,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:ss([c,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,r);return t&&C?v.createElement(Gd.Provider,{value:{location:Il({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ki.Pop}},C):C}function dO(){let e=xO(),t=iO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:i},n):null,null)}const fO=v.createElement(dO,null);class hO extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(_i.Provider,{value:this.props.routeContext},v.createElement(Wb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pO(e){let{routeContext:t,match:n,children:r}=e,i=v.useContext(zg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(_i.Provider,{value:t},r)}function mO(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||Pt(!1),l=l.slice(0,Math.min(l.length,p+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:x}=n,S=m.route.loader&&y[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||S){c=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,y)=>{let x,S=!1,C=null,k=null;n&&(x=u&&m.route.id?u[m.route.id]:void 0,C=m.route.errorElement||fO,c&&(h<0&&y===0?(S=!0,k=null):h===y&&(S=!0,k=m.route.hydrateFallbackElement||null)));let b=t.concat(l.slice(0,y+1)),_=()=>{let N;return x?N=C:S?N=k:m.route.Component?N=v.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=p,v.createElement(pO,{match:m,routeContext:{outlet:p,matches:b,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?v.createElement(hO,{location:n.location,revalidation:n.revalidation,component:C,error:x,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}var Gb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gb||{}),fd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fd||{});function gO(e){let t=v.useContext(zg);return t||Pt(!1),t}function vO(e){let t=v.useContext(oO);return t||Pt(!1),t}function yO(e){let t=v.useContext(_i);return t||Pt(!1),t}function Vb(e){let t=yO(),n=t.matches[t.matches.length-1];return n.route.id||Pt(!1),n.route.id}function xO(){var e;let t=v.useContext(Wb),n=vO(fd.UseRouteError),r=Vb(fd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function wO(){let{router:e}=gO(Gb.UseNavigateStable),t=Vb(fd.UseNavigateStable),n=v.useRef(!1);return Bb(()=>{n.current=!0}),v.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Il({fromRouteId:t},o)))},[e,t])}const lw={};function _O(e,t){lw[t]||(lw[t]=!0,console.warn(t))}const uw=(e,t,n)=>_O(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function bO(e,t){e!=null&&e.v7_startTransition||uw("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&uw("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function SO(e){let{to:t,replace:n,state:r,relative:i}=e;pa()||Pt(!1);let{future:o,static:l}=v.useContext(ms),{matches:u}=v.useContext(_i),{pathname:c}=bi(),h=Gr(),p=Ug(t,Fg(u,o.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(p);return v.useEffect(()=>h(JSON.parse(m),{replace:n,state:r,relative:i}),[h,m,i,n,r]),null}function oi(e){Pt(!1)}function EO(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ki.Pop,navigator:o,static:l=!1,future:u}=e;pa()&&Pt(!1);let c=t.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:c,navigator:o,static:l,future:Il({v7_relativeSplatPath:!1},u)}),[c,u,o,l]);typeof r=="string"&&(r=ha(r));let{pathname:p="/",search:m="",hash:y="",state:x=null,key:S="default"}=r,C=v.useMemo(()=>{let k=Ig(p,c);return k==null?null:{location:{pathname:k,search:m,hash:y,state:x,key:S},navigationType:i}},[c,p,m,y,x,S,i]);return C==null?null:v.createElement(ms.Provider,{value:h},v.createElement(Gd.Provider,{children:n,value:C}))}function NO(e){let{children:t,location:n}=e;return uO(pm(t),n)}new Promise(()=>{});function pm(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,i)=>{if(!v.isValidElement(r))return;let o=[...t,i];if(r.type===v.Fragment){n.push.apply(n,pm(r.props.children,o));return}r.type!==oi&&Pt(!1),!r.props.index||!r.props.children||Pt(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=pm(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mm.apply(this,arguments)}function jO(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function CO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kO(e,t){return e.button===0&&(!t||t==="_self")&&!CO(e)}function gm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function PO(e,t){let n=gm(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const DO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TO="6";try{window.__reactRouterVersion=TO}catch{}const OO="startTransition",cw=wp[OO];function MO(e){let{basename:t,children:n,future:r,window:i}=e,o=v.useRef();o.current==null&&(o.current=$T({window:i,v5Compat:!0}));let l=o.current,[u,c]=v.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},p=v.useCallback(m=>{h&&cw?cw(()=>c(m)):c(m)},[c,h]);return v.useLayoutEffect(()=>l.listen(p),[l,p]),v.useEffect(()=>bO(r),[r]),v.createElement(EO,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const RO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$O=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,os=v.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:u,target:c,to:h,preventScrollReset:p,viewTransition:m}=t,y=jO(t,DO),{basename:x}=v.useContext(ms),S,C=!1;if(typeof h=="string"&&$O.test(h)&&(S=h,RO))try{let N=new URL(window.location.href),P=h.startsWith("//")?new URL(N.protocol+h):new URL(h),R=Ig(P.pathname,x);P.origin===N.origin&&R!=null?h=R+P.search+P.hash:C=!0}catch{}let k=aO(h,{relative:i}),b=AO(h,{replace:l,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:m});function _(N){r&&r(N),N.defaultPrevented||b(N)}return v.createElement("a",mm({},y,{href:S||k,onClick:C||o?r:_,ref:n,target:c}))});var dw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dw||(dw={}));var fw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fw||(fw={}));function AO(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:u}=t===void 0?{}:t,c=Gr(),h=bi(),p=qb(e,{relative:l});return v.useCallback(m=>{if(kO(m,n)){m.preventDefault();let y=r!==void 0?r:dd(h)===dd(p);c(e,{replace:y,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[h,c,p,r,i,n,e,o,l,u])}function Yb(e){let t=v.useRef(gm(e)),n=v.useRef(!1),r=bi(),i=v.useMemo(()=>PO(r.search,n.current?null:t.current),[r.search]),o=Gr(),l=v.useCallback((u,c)=>{const h=gm(typeof u=="function"?u(i):u);n.current=!0,o("?"+h,c)},[o,i]);return[i,l]}let LO={data:""},IO=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||LO,FO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,UO=/\/\*[^]*?\*\/|  +/g,hw=/\n+/g,Hi=(e,t)=>{let n="",r="",i="";for(let o in e){let l=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+l+";":r+=o[1]=="f"?Hi(l,o):o+"{"+Hi(l,o[1]=="k"?"":t)+"}":typeof l=="object"?r+=Hi(l,t?t.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,u):u?u+" "+c:c)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Hi.p?Hi.p(o,l):o+":"+l+";")}return n+(t&&i?t+"{"+i+"}":i)+r},ii={},Kb=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Kb(e[n]);return t}return e},zO=(e,t,n,r,i)=>{let o=Kb(e),l=ii[o]||(ii[o]=(c=>{let h=0,p=11;for(;h<c.length;)p=101*p+c.charCodeAt(h++)>>>0;return"go"+p})(o));if(!ii[l]){let c=o!==e?e:(h=>{let p,m,y=[{}];for(;p=FO.exec(h.replace(UO,""));)p[4]?y.shift():p[3]?(m=p[3].replace(hw," ").trim(),y.unshift(y[0][m]=y[0][m]||{})):y[0][p[1]]=p[2].replace(hw," ").trim();return y[0]})(e);ii[l]=Hi(i?{["@keyframes "+l]:c}:c,n?"":"."+l)}let u=n&&ii.g?ii.g:null;return n&&(ii.g=ii[l]),((c,h,p,m)=>{m?h.data=h.data.replace(m,c):h.data.indexOf(c)===-1&&(h.data=p?c+h.data:h.data+c)})(ii[l],t,r,u),l},WO=(e,t,n)=>e.reduce((r,i,o)=>{let l=t[o];if(l&&l.call){let u=l(n),c=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=c?"."+c:u&&typeof u=="object"?u.props?"":Hi(u,""):u===!1?"":u}return r+i+(l??"")},"");function Vd(e){let t=this||{},n=e.call?e(t.p):e;return zO(n.unshift?n.raw?WO(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,IO(t.target),t.g,t.o,t.k)}let Qb,vm,ym;Vd.bind({g:1});let xi=Vd.bind({k:1});function BO(e,t,n,r){Hi.p=t,Qb=e,vm=n,ym=r}function gs(e,t){let n=this||{};return function(){let r=arguments;function i(o,l){let u=Object.assign({},o),c=u.className||i.className;n.p=Object.assign({theme:vm&&vm()},u),n.o=/ *go\d+/.test(c),u.className=Vd.apply(n,r)+(c?" "+c:"");let h=e;return e[0]&&(h=u.as||e,delete u.as),ym&&h[0]&&ym(u),Qb(h,u)}return i}}var HO=e=>typeof e=="function",hd=(e,t)=>HO(e)?e(t):e,qO=(()=>{let e=0;return()=>(++e).toString()})(),Xb=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),GO=20,$c=new Map,VO=1e3,pw=e=>{if($c.has(e))return;let t=setTimeout(()=>{$c.delete(e),io({type:4,toastId:e})},VO);$c.set(e,t)},YO=e=>{let t=$c.get(e);t&&clearTimeout(t)},xm=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,GO)};case 1:return t.toast.id&&YO(t.toast.id),{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return e.toasts.find(o=>o.id===n.id)?xm(e,{type:1,toast:n}):xm(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?pw(r):e.toasts.forEach(o=>{pw(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Ac=[],Lc={toasts:[],pausedAt:void 0},io=e=>{Lc=xm(Lc,e),Ac.forEach(t=>{t(Lc)})},KO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},QO=(e={})=>{let[t,n]=v.useState(Lc);v.useEffect(()=>(Ac.push(n),()=>{let i=Ac.indexOf(n);i>-1&&Ac.splice(i,1)}),[t]);let r=t.toasts.map(i=>{var o,l;return{...e,...e[i.type],...i,duration:i.duration||((o=e[i.type])==null?void 0:o.duration)||(e==null?void 0:e.duration)||KO[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:r}},XO=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||qO()}),Kl=e=>(t,n)=>{let r=XO(t,e,n);return io({type:2,toast:r}),r.id},H=(e,t)=>Kl("blank")(e,t);H.error=Kl("error");H.success=Kl("success");H.loading=Kl("loading");H.custom=Kl("custom");H.dismiss=e=>{io({type:3,toastId:e})};H.remove=e=>io({type:4,toastId:e});H.promise=(e,t,n)=>{let r=H.loading(t.loading,{...n,...n==null?void 0:n.loading});return e.then(i=>(H.success(hd(t.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{H.error(hd(t.error,i),{id:r,...n,...n==null?void 0:n.error})}),e};var JO=(e,t)=>{io({type:1,toast:{id:e,height:t}})},ZO=()=>{io({type:5,time:Date.now()})},eM=e=>{let{toasts:t,pausedAt:n}=QO(e);v.useEffect(()=>{if(n)return;let o=Date.now(),l=t.map(u=>{if(u.duration===1/0)return;let c=(u.duration||0)+u.pauseDuration-(o-u.createdAt);if(c<0){u.visible&&H.dismiss(u.id);return}return setTimeout(()=>H.dismiss(u.id),c)});return()=>{l.forEach(u=>u&&clearTimeout(u))}},[t,n]);let r=v.useCallback(()=>{n&&io({type:6,time:Date.now()})},[n]),i=v.useCallback((o,l)=>{let{reverseOrder:u=!1,gutter:c=8,defaultPosition:h}=l||{},p=t.filter(x=>(x.position||h)===(o.position||h)&&x.height),m=p.findIndex(x=>x.id===o.id),y=p.filter((x,S)=>S<m&&x.visible).length;return p.filter(x=>x.visible).slice(...u?[y+1]:[0,y]).reduce((x,S)=>x+(S.height||0)+c,0)},[t]);return{toasts:t,handlers:{updateHeight:JO,startPause:ZO,endPause:r,calculateOffset:i}}},tM=xi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,nM=xi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rM=xi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,iM=gs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${nM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${rM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,sM=xi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,oM=gs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${sM} 1s linear infinite;
`,aM=xi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,lM=xi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,uM=gs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${lM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,cM=gs("div")`
  position: absolute;
`,dM=gs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fM=xi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hM=gs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,pM=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?v.createElement(hM,null,t):t:n==="blank"?null:v.createElement(dM,null,v.createElement(oM,{...r}),n!=="loading"&&v.createElement(cM,null,n==="error"?v.createElement(iM,{...r}):v.createElement(uM,{...r})))},mM=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,gM=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,vM="0%{opacity:0;} 100%{opacity:1;}",yM="0%{opacity:1;} 100%{opacity:0;}",xM=gs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,wM=gs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,_M=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=Xb()?[vM,yM]:[mM(n),gM(n)];return{animation:t?`${xi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xi(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},bM=v.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?_M(e.position||t||"top-center",e.visible):{opacity:0},o=v.createElement(pM,{toast:e}),l=v.createElement(wM,{...e.ariaProps},hd(e.message,e));return v.createElement(xM,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:o,message:l}):v.createElement(v.Fragment,null,o,l))});BO(v.createElement);var SM=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let o=v.useCallback(l=>{if(l){let u=()=>{let c=l.getBoundingClientRect().height;r(e,c)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return v.createElement("div",{ref:o,className:t,style:n},i)},EM=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Xb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},NM=Vd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,pc=16,jM=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:c}=eM(n);return v.createElement("div",{style:{position:"fixed",zIndex:9999,top:pc,left:pc,right:pc,bottom:pc,pointerEvents:"none",...o},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map(h=>{let p=h.position||t,m=c.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),y=EM(p,m);return v.createElement(SM,{id:h.id,key:h.id,onHeightUpdate:c.updateHeight,className:h.visible?NM:"",style:y},h.type==="custom"?hd(h.message,h):i?i(h):v.createElement(bM,{toast:h,position:p}))}))};const CM="modulepreload",kM=function(e){return"/"+e},mw={},oa=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=kM(c),c in mw)return;mw[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":CM,h||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),h)return new Promise((y,x)=>{m.addEventListener("load",y),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},PM=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>oa(async()=>{const{default:r}=await Promise.resolve().then(()=>ma);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Wg extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class DM extends Wg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class TM extends Wg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class OM extends Wg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wm||(wm={}));var MM=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{h(r.next(p))}catch(m){l(m)}}function c(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):i(p.value).then(u,c)}h((r=r.apply(e,t||[])).next())})};class RM{constructor(t,{headers:n={},customFetch:r,region:i=wm.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=PM(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return MM(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:l}=n;let u={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(u["x-region"]=c);let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)));const p=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h}).catch(S=>{throw new DM(S)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new TM(p);if(!p.ok)throw new OM(p);let y=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield p.json():y==="application/octet-stream"?x=yield p.blob():y==="text/event-stream"?x=p:y==="multipart/form-data"?x=yield p.formData():x=yield p.text(),{data:x,error:null}}catch(i){return{data:null,error:i}}})}}var En={},Bg={},Yd={},Ql={},Kd={},Qd={},$M=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},aa=$M();const AM=aa.fetch,Jb=aa.fetch.bind(aa),Zb=aa.Headers,LM=aa.Request,IM=aa.Response,ma=Object.freeze(Object.defineProperty({__proto__:null,Headers:Zb,Request:LM,Response:IM,default:Jb,fetch:AM},Symbol.toStringTag,{value:"Module"})),FM=u4(ma);var Xd={};Object.defineProperty(Xd,"__esModule",{value:!0});class UM extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}Xd.default=UM;var eS=Yt&&Yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qd,"__esModule",{value:!0});const zM=eS(FM),WM=eS(Xd);let BM=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=zM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var l,u,c;let h=null,p=null,m=null,y=o.status,x=o.statusText;if(o.ok){if(this.method!=="HEAD"){const b=await o.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=b:p=JSON.parse(b))}const C=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),k=(u=o.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");C&&k&&k.length>1&&(m=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,y=406,x="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const C=await o.text();try{h=JSON.parse(C),Array.isArray(h)&&o.status===404&&(p=[],h=null,y=200,x="OK")}catch{o.status===404&&C===""?(y=204,x="No Content"):h={message:C}}if(h&&this.isMaybeSingle&&(!((c=h==null?void 0:h.details)===null||c===void 0)&&c.includes("0 rows"))&&(h=null,y=200,x="OK"),h&&this.shouldThrowOnError)throw new WM.default(h)}return{error:h,data:p,count:m,status:y,statusText:x}});return this.shouldThrowOnError||(i=i.catch(o=>{var l,u,c;return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(u=o==null?void 0:o.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}};Qd.default=BM;var HM=Yt&&Yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kd,"__esModule",{value:!0});const qM=HM(Qd);let GM=class extends qM.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:l="text"}={}){var u;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${h}"; options=${c};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Kd.default=GM;var VM=Yt&&Yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ql,"__esModule",{value:!0});const YM=VM(Kd);let KM=class extends YM.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${l}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Ql.default=KM;var QM=Yt&&Yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yd,"__esModule",{value:!0});const Ya=QM(Ql);let XM=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),r&&(this.headers.Prefer=`count=${r}`),new Ya.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ya.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){const l="POST",u=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(t)){const c=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(c.length>0){const h=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new Ya.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Ya.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ya.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Yd.default=XM;var Jd={},Zd={};Object.defineProperty(Zd,"__esModule",{value:!0});Zd.version=void 0;Zd.version="0.0.0-automated";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.DEFAULT_HEADERS=void 0;const JM=Zd;Jd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${JM.version}`};var tS=Yt&&Yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bg,"__esModule",{value:!0});const ZM=tS(Yd),eR=tS(Ql),tR=Jd;let nR=class nS{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},tR.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new ZM.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new nS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){let l;const u=new URL(`${this.url}/rpc/${t}`);let c;r||i?(l=r?"HEAD":"GET",Object.entries(n).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{u.searchParams.append(p,m)})):(l="POST",c=n);const h=Object.assign({},this.headers);return o&&(h.Prefer=`count=${o}`),new eR.default({method:l,url:u,headers:h,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Bg.default=nR;var ga=Yt&&Yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(En,"__esModule",{value:!0});En.PostgrestError=En.PostgrestBuilder=En.PostgrestTransformBuilder=En.PostgrestFilterBuilder=En.PostgrestQueryBuilder=En.PostgrestClient=void 0;const rS=ga(Bg);En.PostgrestClient=rS.default;const iS=ga(Yd);En.PostgrestQueryBuilder=iS.default;const sS=ga(Ql);En.PostgrestFilterBuilder=sS.default;const oS=ga(Kd);En.PostgrestTransformBuilder=oS.default;const aS=ga(Qd);En.PostgrestBuilder=aS.default;const lS=ga(Xd);En.PostgrestError=lS.default;var rR=En.default={PostgrestClient:rS.default,PostgrestQueryBuilder:iS.default,PostgrestFilterBuilder:sS.default,PostgrestTransformBuilder:oS.default,PostgrestBuilder:aS.default,PostgrestError:lS.default};const{PostgrestClient:iR,PostgrestQueryBuilder:D7,PostgrestFilterBuilder:T7,PostgrestTransformBuilder:O7,PostgrestBuilder:M7}=rR,sR="2.10.7",oR={"X-Client-Info":`realtime-js/${sR}`},aR="1.0.0",uS=1e4,lR=1e3;var Qo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qo||(Qo={}));var Fn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Fn||(Fn={}));var br;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(br||(br={}));var _m;(function(e){e.websocket="websocket"})(_m||(_m={}));var Fs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fs||(Fs={}));class uR{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(t.slice(l,l+i));l=l+i;const c=r.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:c,payload:h}}}class cS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lt||(lt={}));const gw=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,l)=>(o[l]=cR(l,e,t,i),o),{})},cR=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?dS(o,l):bm(l)},dS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return pR(t,n)}switch(e){case lt.bool:return dR(t);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return fR(t);case lt.json:case lt.jsonb:return hR(t);case lt.timestamp:return mR(t);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return bm(t);default:return bm(t)}},bm=e=>e,dR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},fR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},hR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},pR=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>dS(t,u))}return e},mR=e=>typeof e=="string"?e.replace(" ","T"):e,fS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ep{constructor(t,n,r={},i=uS){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vw||(vw={}));class hl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hl.syncState(this.state,i,o,l),this.pendingDiffs.forEach(c=>{this.state=hl.syncDiff(this.state,c,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=hl.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},c={};return this.map(o,(h,p)=>{l[h]||(c[h]=p)}),this.map(l,(h,p)=>{const m=o[h];if(m){const y=p.map(k=>k.presence_ref),x=m.map(k=>k.presence_ref),S=p.filter(k=>x.indexOf(k.presence_ref)<0),C=m.filter(k=>y.indexOf(k.presence_ref)<0);S.length>0&&(u[h]=S),C.length>0&&(c[h]=C)}else u[h]=p}),this.syncDiff(o,{joins:u,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,c)=>{var h;const p=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(c),p.length>0){const m=t[u].map(x=>x.presence_ref),y=p.filter(x=>m.indexOf(x.presence_ref)<0);t[u].unshift(...y)}r(u,p,c)}),this.map(l,(u,c)=>{let h=t[u];if(!h)return;const p=c.map(m=>m.presence_ref);h=h.filter(m=>p.indexOf(m.presence_ref)<0),t[u]=h,i(u,h,c),h.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yw||(yw={}));var xw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(xw||(xw={}));var ww;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ww||(ww={}));class Hg{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Fn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ep(this,br.join,this.params,this.timeout),this.rejoinTimer=new cS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(br.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new hl(this),this.broadcastEndpointURL=fS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:l,private:u}}=this.params;this._onError(p=>t&&t("CHANNEL_ERROR",p)),this._onClose(()=>t&&t("CLOSED"));const c={},h={broadcast:o,presence:l,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],private:u};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:h},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:p})=>{var m;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),p===void 0){t&&t("SUBSCRIBED");return}else{const y=this.bindings.postgres_changes,x=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,S=[];for(let C=0;C<x;C++){const k=y[C],{filter:{event:b,schema:_,table:N,filter:P}}=k,R=p&&p[C];if(R&&R.event===b&&R.schema===_&&R.table===N&&R.filter===P)S.push(Object.assign(Object.assign({},k),{id:R.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t("SUBSCRIBED");return}}).receive("error",p=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,u={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,c;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(br.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new ep(this,br.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ep(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:c,leave:h,join:p}=br;if(r&&[u,c,h,p].indexOf(l)>=0&&r!==this._joinRef())return;let y=this._onMessage(l,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var S,C,k;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((k=(C=x.filter)===null||C===void 0?void 0:C.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(x=>x.callback(y,r)):(o=this.bindings[l])===null||o===void 0||o.filter(x=>{var S,C,k,b,_,N;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const P=x.id,R=(S=x.filter)===null||S===void 0?void 0:S.event;return P&&((C=n.ids)===null||C===void 0?void 0:C.includes(P))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const P=(_=(b=x==null?void 0:x.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return P==="*"||P===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:C,table:k,commit_timestamp:b,type:_,errors:N}=S;y=Object.assign(Object.assign({},{schema:C,table:k,commit_timestamp:b,eventType:_,new:{},old:{},errors:N}),this._getPayloadRecords(S))}x.callback(y,r)})}_isClosed(){return this.state===Fn.closed}_isJoined(){return this.state===Fn.joined}_isJoining(){return this.state===Fn.joining}_isLeaving(){return this.state===Fn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Hg.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(br.close,{},t)}_onError(t){this._on(br.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=gw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=gw(t.columns,t.old_record)),n}}const gR=()=>{},vR=typeof WebSocket<"u",yR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xR{constructor(t,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=oR,this.params={},this.timeout=uS,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=gR,this.conn=null,this.sendBuffer=[],this.serializer=new uR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...u)=>oa(async()=>{const{default:c}=await Promise.resolve().then(()=>ma);return{default:c}},void 0).then(({default:c})=>c(...u)):l=fetch,(...u)=>l(...u)},this.endPoint=`${t}/${_m.websocket}`,this.httpEndpoint=fS(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,l)=>l(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new cS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(vR){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new wR(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),oa(async()=>{const{default:t}=await import("./browser-BVHb2flr.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qo.connecting:return Fs.Connecting;case Qo.open:return Fs.Open;case Qo.closing:return Fs.Closing;default:return Fs.Closed}}isConnected(){return this.connectionState()===Fs.Open}channel(t,n={config:{}}){const r=new Hg(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(br.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aR}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:o,ref:l}=n;(l&&l===this.pendingHeartbeatRef||i===(o==null?void 0:o.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${l&&"("+l+")"||""}`,o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,l)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(br.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(lR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([yR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class wR{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Qo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class qg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function zt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _R extends qg{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Sm extends qg{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var bR=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{h(r.next(p))}catch(m){l(m)}}function c(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):i(p.value).then(u,c)}h((r=r.apply(e,t||[])).next())})};const hS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>oa(async()=>{const{default:r}=await Promise.resolve().then(()=>ma);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},SR=()=>bR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oa(()=>Promise.resolve().then(()=>ma),void 0)).Response:Response}),Em=e=>{if(Array.isArray(e))return e.map(n=>Em(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Em(r)}),t};var so=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{h(r.next(p))}catch(m){l(m)}}function c(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):i(p.value).then(u,c)}h((r=r.apply(e,t||[])).next())})};const tp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ER=(e,t,n)=>so(void 0,void 0,void 0,function*(){const r=yield SR();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new _R(tp(i),e.status||500))}).catch(i=>{t(new Sm(tp(i),i))}):t(new Sm(tp(e),e))}),NR=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Xl(e,t,n,r,i,o){return so(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,NR(t,r,i,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>ER(c,u,r))})})}function pd(e,t,n,r){return so(this,void 0,void 0,function*(){return Xl(e,"GET",t,n,r)})}function Ui(e,t,n,r,i){return so(this,void 0,void 0,function*(){return Xl(e,"POST",t,r,i,n)})}function jR(e,t,n,r,i){return so(this,void 0,void 0,function*(){return Xl(e,"PUT",t,r,i,n)})}function CR(e,t,n,r){return so(this,void 0,void 0,function*(){return Xl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function pS(e,t,n,r,i){return so(this,void 0,void 0,function*(){return Xl(e,"DELETE",t,r,i,n)})}var bn=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{h(r.next(p))}catch(m){l(m)}}function c(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):i(p.value).then(u,c)}h((r=r.apply(e,t||[])).next())})};const kR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_w={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class PR{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=hS(i)}uploadOrUpdate(t,n,r,i){return bn(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},_w),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const h=this._removeEmptyFolders(n),p=this._getFinalPath(h),m=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:t,body:o,headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{})),y=yield m.json();return m.ok?{data:{path:h,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(o){if(zt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return bn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return bn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let c;const h=Object.assign({upsert:_w.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",h.cacheControl)):(c=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const m=yield this.fetch(u.toString(),{method:"PUT",body:c,headers:p}),y=yield m.json();return m.ok?{data:{path:o,fullPath:y.Key},error:null}:{data:null,error:y}}catch(c){if(zt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return bn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Ui(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new qg("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}update(t,n,r){return bn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return bn(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(zt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return bn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ui(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(zt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return bn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Ui(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(zt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return bn(this,void 0,void 0,function*(){try{const i=yield Ui(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(zt(i))return{data:null,error:i};throw i}})}download(t,n){return bn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield pd(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(zt(u))return{data:null,error:u};throw u}})}info(t){return bn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield pd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Em(r),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}exists(t){return bn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield CR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(zt(r)&&r instanceof Sm){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${h}`)}}}remove(t){return bn(this,void 0,void 0,function*(){try{return{data:yield pS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}list(t,n,r){return bn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},kR),n),{prefix:t||""});return{data:yield Ui(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(zt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const DR="2.7.1",TR={"X-Client-Info":`storage-js/${DR}`};var Co=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{h(r.next(p))}catch(m){l(m)}}function c(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):i(p.value).then(u,c)}h((r=r.apply(e,t||[])).next())})};class OR{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},TR),n),this.fetch=hS(r)}listBuckets(){return Co(this,void 0,void 0,function*(){try{return{data:yield pd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(zt(t))return{data:null,error:t};throw t}})}getBucket(t){return Co(this,void 0,void 0,function*(){try{return{data:yield pd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Co(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Co(this,void 0,void 0,function*(){try{return{data:yield jR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Co(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Co(this,void 0,void 0,function*(){try{return{data:yield pS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}}class MR extends OR{constructor(t,n={},r){super(t,n,r)}from(t){return new PR(this.url,this.headers,t,this.fetch)}}const RR="2.46.1";let nl="";typeof Deno<"u"?nl="deno":typeof document<"u"?nl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nl="react-native":nl="node";const $R={"X-Client-Info":`supabase-js-${nl}/${RR}`},AR={headers:$R},LR={schema:"public"},IR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FR={};var UR=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{h(r.next(p))}catch(m){l(m)}}function c(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):i(p.value).then(u,c)}h((r=r.apply(e,t||[])).next())})};const zR=e=>{let t;return e?t=e:typeof fetch>"u"?t=Jb:t=fetch,(...n)=>t(...n)},WR=()=>typeof Headers>"u"?Zb:Headers,BR=(e,t,n)=>{const r=zR(n),i=WR();return(o,l)=>UR(void 0,void 0,void 0,function*(){var u;const c=(u=yield t())!==null&&u!==void 0?u:e;let h=new i(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},l),{headers:h}))})};var HR=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{h(r.next(p))}catch(m){l(m)}}function c(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):i(p.value).then(u,c)}h((r=r.apply(e,t||[])).next())})};function qR(e){return e.replace(/\/$/,"")}function GR(e,t){const{db:n,auth:r,realtime:i,global:o}=e,{db:l,auth:u,realtime:c,global:h}=t,p={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),r),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},h),o),accessToken:()=>HR(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const mS="2.65.1",VR="http://localhost:9999",YR="supabase.auth.token",KR={"X-Client-Info":`gotrue-js/${mS}`},bw=10,Nm="X-Supabase-Api-Version",gS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function QR(e){return Math.round(Date.now()/1e3)+e}function XR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xr=()=>typeof document<"u",Ts={tested:!1,writable:!1},pl=()=>{if(!xr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ts.tested)return Ts.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ts.tested=!0,Ts.writable=!0}catch{Ts.tested=!0,Ts.writable=!1}return Ts.writable};function np(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const vS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>oa(async()=>{const{default:r}=await Promise.resolve().then(()=>ma);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},JR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",yS=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},mc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gc=async(e,t)=>{await e.removeItem(t)};function ZR(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,o,l,u,c,h,p=0;for(e=e.replace("-","+").replace("_","/");p<e.length;)l=t.indexOf(e.charAt(p++)),u=t.indexOf(e.charAt(p++)),c=t.indexOf(e.charAt(p++)),h=t.indexOf(e.charAt(p++)),r=l<<2|u>>4,i=(u&15)<<4|c>>2,o=(c&3)<<6|h,n=n+String.fromCharCode(r),c!=64&&i!=0&&(n=n+String.fromCharCode(i)),h!=64&&o!=0&&(n=n+String.fromCharCode(o));return n}class ef{constructor(){this.promise=new ef.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ef.promiseConstructor=Promise;function Sw(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(ZR(r))}async function e$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function t$(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function n$(e){return("0"+e.toString(16)).substr(-2)}function r$(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,n$).join("")}async function i$(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}function s$(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function o$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await i$(e);return s$(n)}async function ko(e,t,n=!1){const r=r$();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await yS(e,`${t}-code-verifier`,i);const o=await o$(r);return[o,r===o?"plain":"s256"]}const a$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function l$(e){const t=e.headers.get(Nm);if(!t||!t.match(a$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Gg extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class u$ extends Gg{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function c$(e){return ze(e)&&e.name==="AuthApiError"}class xS extends Gg{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class oo extends Gg{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Ai extends oo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function d$(e){return ze(e)&&e.name==="AuthSessionMissingError"}class rp extends oo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vc extends oo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class yc extends oo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ew extends oo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jm extends oo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ip(e){return ze(e)&&e.name==="AuthRetryableFetchError"}class Nw extends oo{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var f$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const As=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),h$=[502,503,504];async function jw(e){var t;if(!JR(e))throw new jm(As(e),0);if(h$.includes(e.status))throw new jm(As(e),e.status);let n;try{n=await e.json()}catch(o){throw new xS(As(o),o)}let r;const i=l$(e);if(i&&i.getTime()>=gS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Nw(As(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ai}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Nw(As(n),e.status,n.weak_password.reasons);throw new u$(As(n),e.status||500,r)}const p$=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ge(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Nm]||(o[Nm]=gS["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await m$(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function m$(e,t,n,r,i,o){const l=p$(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(c){throw console.error(c),new jm(As(c),0)}if(u.ok||await jw(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await jw(c)}}function Li(e){var t;let n=null;x$(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=QR(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Cw(e){const t=Li(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function g$(e){return{data:e,error:null}}function v$(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=f$(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},l);return{data:{properties:u,user:c},error:null}}function y$(e){return e}function x$(e){return e.access_token&&e.refresh_token&&e.expires_in}var w$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class _${constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=vS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qi})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=w$(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:v$,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qi})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,c;try{const h={nextPage:null,lastPage:0,total:0},p=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:y$});if(p.error)throw p.error;const m=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(c=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(S=>{const C=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);h[`${k}Page`]=C}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ze(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qi})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:qi})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:qi})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}}const b$={getItem:e=>pl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{pl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{pl()&&globalThis.localStorage.removeItem(e)}};function kw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function S$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Po={debug:!!(globalThis&&pl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class E$ extends wS{}async function N$(e,t,n){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new E$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Po.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}S$();const j$={url:VR,storageKey:YR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ka=30*1e3,Pw=3;async function Dw(e,t,n){return await n()}class Fl{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fl.nextInstanceID,Fl.nextInstanceID+=1,this.instanceID>0&&xr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},j$),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new _$({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=vS(i.fetch),this.lock=i.lock||Dw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:xr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=N$:this.lock=Dw,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:pl()?this.storage=b$:(this.memoryStorage={},this.storage=kw(this.memoryStorage)):(this.memoryStorage={},this.storage=kw(this.memoryStorage)),xr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=xr()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:i,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ze(t)?{error:t}:{error:new xS("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Li}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(o){if(ze(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:p,password:m,options:y}=t;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await ko(this.storage,this.storageKey)),o=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:x,code_challenge_method:S},xform:Li})}else if("phone"in t){const{phone:p,password:m,options:y}=t;o=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Li})}else throw new vc("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(o){if(ze(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Cw})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Cw})}else throw new vc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new rp}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await mc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Li});if(await gc(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new rp}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(ze(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Li}),{data:c,error:h}=u;return h?{data:{user:null,session:null},error:h}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new rp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:h})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:c}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await ko(this.storage,this.storageKey));const{error:m}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:u,options:c}=t,{data:h,error:p}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new vc("You must provide either an email or phone number.")}catch(u){if(ze(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Li});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,h=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await ko(this.storage,this.storageKey)),await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:g$})}catch(o){if(ze(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ai;const{error:i}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await Ge(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await Ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new vc("You must provide either an email or phone number and a type")}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await mc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,h,p)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,h,p))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qi}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ai}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:qi})})}catch(n){if(ze(n))return d$(n)&&(await this._removeSession(),await gc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Ai;const l=i.session;let u=null,c=null;this.flowType==="pkce"&&t.email!=null&&([u,c]=await ko(this.storage,this.storageKey));const{data:h,error:p}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:c}),jwt:l.access_token,xform:qi});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Sw(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ai;const n=Date.now()/1e3;let r=n,i=!0,o=null;const l=Sw(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{session:u,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ze(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ai;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!xr())throw new yc("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new yc("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Ew("Not a valid PKCE flow url.");const n=np(window.location.href);if(t){if(!n.code)throw new Ew("No code detected.");const{data:_,error:N}=await this._exchangeCodeForSession(n.code);if(N)throw N;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:_.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new yc(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:c,token_type:h}=n;if(!o||!u||!l||!h)throw new yc("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(u);let y=p+m;c&&(y=parseInt(c));const x=y-p;x*1e3<=Ka&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const S=y-m;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,p);const{data:C,error:k}=await this._getUser(o);if(k)throw k;const b={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:m,expires_at:y,refresh_token:l,token_type:h,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:n.type},error:null}}catch(n){if(ze(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=np(window.location.href);return!!(xr()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=np(window.location.href),n=await mc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(c$(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await gc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=XR(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ko(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ze(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,c,h,p;const{data:m,error:y}=o;if(y)throw y;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return xr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ze(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await t$(async i=>(i>0&&await e$(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Li})),(i,o)=>{const l=200*Math.pow(2,i);return o&&ip(o)&&Date.now()+l-r<Ka})}catch(r){if(this._debug(n,"error",r),ze(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),xr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await mc(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<i+bw;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${bw}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),ip(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ai;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ef;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Ai;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),ze(o)){const l={session:null,error:o};return ip(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await yS(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await gc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ka);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Ka);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ka}ms, refresh threshold is ${Pw} ticks`),i<=Pw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await ko(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await Ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:h}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:u}=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(i.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:p},error:null}}))}}Fl.nextInstanceID=0;const C$=Fl;class k$ extends C${constructor(t){super(t)}}var P$=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{h(r.next(p))}catch(m){l(m)}}function c(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):i(p.value).then(u,c)}h((r=r.apply(e,t||[])).next())})};class D${constructor(t,n,r){var i,o,l;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=qR(t);this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:LR,realtime:FR,auth:Object.assign(Object.assign({},IR),{storageKey:c}),global:AR},p=GR(r??{},h);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=BR(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new iR(`${u}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new RM(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new MR(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return P$(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:l,lock:u,debug:c},h,p){var m;const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new k$({url:this.authUrl,headers:Object.assign(Object.assign({},y),h),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:l,lock:u,debug:c,fetch:p,hasCustomAuthorizationHeader:(m="Authorization"in this.headers)!==null&&m!==void 0?m:!1})}_initRealtimeClient(t){return new xR(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const T$=(e,t,n)=>new D$(e,t,n),O$="https://vrzgwnchqdxwgennshmu.supabase.co",M$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZyemd3bmNocWR4d2dlbm5zaG11Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE1NTEzMzYsImV4cCI6MjA0NzEyNzMzNn0.U8KLDcO9sabudduU9xTFgmbwDBmgULvH0jKY9QN0eeE",oe=T$(O$,M$,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce",redirectTo:"https://nimble-alfajores-99f196.netlify.app"}}),R$={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Tw=e=>{let t;const n=new Set,r=(p,m)=>{const y=typeof p=="function"?p(t):p;if(!Object.is(y,t)){const x=t;t=m??(typeof y!="object"||y===null)?y:Object.assign({},t,y),n.forEach(S=>S(t,x))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>h,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(R$?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=t=e(r,i,c);return c},$$=e=>e?Tw(e):Tw;var _S={exports:{}},bS={},SS={exports:{}},ES={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var la=v;function A$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var L$=typeof Object.is=="function"?Object.is:A$,I$=la.useState,F$=la.useEffect,U$=la.useLayoutEffect,z$=la.useDebugValue;function W$(e,t){var n=t(),r=I$({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return U$(function(){i.value=n,i.getSnapshot=t,sp(i)&&o({inst:i})},[e,n,t]),F$(function(){return sp(i)&&o({inst:i}),e(function(){sp(i)&&o({inst:i})})},[e]),z$(n),n}function sp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!L$(e,n)}catch{return!0}}function B$(e,t){return t()}var H$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?B$:W$;ES.useSyncExternalStore=la.useSyncExternalStore!==void 0?la.useSyncExternalStore:H$;SS.exports=ES;var q$=SS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf=v,G$=q$;function V$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Y$=typeof Object.is=="function"?Object.is:V$,K$=G$.useSyncExternalStore,Q$=tf.useRef,X$=tf.useEffect,J$=tf.useMemo,Z$=tf.useDebugValue;bS.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Q$(null);if(o.current===null){var l={hasValue:!1,value:null};o.current=l}else l=o.current;o=J$(function(){function c(x){if(!h){if(h=!0,p=x,x=r(x),i!==void 0&&l.hasValue){var S=l.value;if(i(S,x))return m=S}return m=x}if(S=m,Y$(p,x))return S;var C=r(x);return i!==void 0&&i(S,C)?S:(p=x,m=C)}var h=!1,p,m,y=n===void 0?null:n;return[function(){return c(t())},y===null?void 0:function(){return c(y())}]},[t,n,r,i]);var u=K$(e,o[0],o[1]);return X$(function(){l.hasValue=!0,l.value=u},[u]),Z$(u),u};_S.exports=bS;var eA=_S.exports;const tA=N1(eA),NS={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:nA}=xe,{useSyncExternalStoreWithSelector:rA}=tA;let Ow=!1;const iA=e=>e;function sA(e,t=iA,n){(NS?"production":void 0)!=="production"&&n&&!Ow&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ow=!0);const r=rA(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return nA(r),r}const Mw=e=>{(NS?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?$$(e):e,n=(r,i)=>sA(t,r,i);return Object.assign(n,t),n},oA=e=>e?Mw(e):Mw,Vn=oA(e=>({user:null,session:null,loading:!0,setUser:t=>{console.log("Setting user in store:",t),e({user:t})},setSession:t=>{console.log("Setting session in store:",t),e({session:t})},signOut:async()=>{try{await oe.auth.signOut(),e({user:null,session:null})}catch(t){console.error("Error signing out:",t)}}}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Tt=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:u="",children:c,...h},p)=>v.createElement("svg",{ref:p,...aA,width:i,height:i,stroke:r,strokeWidth:l?Number(o)*24/Number(i):o,className:["lucide",`lucide-${lA(e)}`,u].join(" "),...h},[...t.map(([m,y])=>v.createElement(m,y)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Tt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=Tt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=Tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=Tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=Tt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=Tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=Tt("ListMusic",[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Tt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=Tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Tt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=Tt("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Tt("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=Tt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=Tt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=Tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=Tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function vA(){const[e,t]=v.useState([]),[n,r]=v.useState(!1),i=Gr(),{user:o}=Vn(),[l,u]=v.useState(null);v.useEffect(()=>{if(o)return console.log("Inicializando NotificationBell para usuario:",o.id),c(),h(),()=>{l&&(console.log("Limpiando suscripcin de notificaciones"),l.unsubscribe())}},[o]);const c=async()=>{const{data:m,error:y}=await oe.from("notifications").select("*").eq("user_id",o==null?void 0:o.id).eq("read",!1).order("created_at",{ascending:!1});if(y){console.error("Error fetching notifications:",y);return}t(m||[])},h=async()=>{try{l&&await l.unsubscribe(),console.log("Configurando suscripcin en tiempo real para:",o==null?void 0:o.id);const m=oe.channel(`notifications:${o==null?void 0:o.id}`,{config:{broadcast:{self:!0}}});m.on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${o==null?void 0:o.id}`},y=>{console.log("Nueva notificacin recibida:",y);const x=y.new;t(S=>[x,...S]),H.custom(S=>d.jsxs("div",{className:`${S.visible?"animate-enter":"animate-leave"} bg-white shadow-lg rounded-lg p-4 flex items-center space-x-3`,children:[d.jsx($w,{className:"h-6 w-6 text-indigo-500"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:x.title}),d.jsx("p",{className:"text-sm text-gray-500",children:x.message})]})]}),{duration:5e3,position:"top-right"})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${o==null?void 0:o.id}`},y=>{console.log("Notificacin actualizada:",y),t(x=>x.map(S=>S.id===y.new.id?y.new:S))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"notifications",filter:`user_id=eq.${o==null?void 0:o.id}`},y=>{console.log("Notificacin eliminada:",y),t(x=>x.filter(S=>S.id!==y.old.id))}),console.log("Iniciando suscripcin..."),await m.subscribe(y=>{console.log("Estado de suscripcin:",y)}),u(m)}catch(m){console.error("Error al configurar suscripcin en tiempo real:",m)}},p=async(m,y)=>{try{const{error:x}=await oe.rpc("handle_group_invitation",{p_group_member_id:m.data.group_member_id,p_accept:y});if(x)throw x;await oe.from("notifications").update({read:!0}).eq("id",m.id),t(S=>S.filter(C=>C.id!==m.id)),H.success(y?"Invitacin aceptada":"Invitacin rechazada"),y&&i(`/group/${m.data.group_id}`)}catch(x){H.error(x.message)}};return d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>r(!n),className:"relative p-2 text-white hover:text-indigo-200",children:[d.jsx($w,{className:"w-6 h-6"}),e.length>0&&d.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:e.length})]}),n&&d.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg z-50",children:d.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:e.length===0?d.jsx("p",{className:"text-gray-500 text-center",children:"No hay notificaciones"}):e.map(m=>d.jsxs("div",{className:"mb-4 p-4 border rounded-lg",children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:m.title}),d.jsx("p",{className:"text-sm text-gray-600 mb-3",children:m.message}),m.type==="group_invitation"&&d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>p(m,!0),className:"px-3 py-1 bg-green-500 text-white rounded-md text-sm hover:bg-green-600",children:"Aceptar"}),d.jsx("button",{onClick:()=>p(m,!1),className:"px-3 py-1 bg-red-500 text-white rounded-md text-sm hover:bg-red-600",children:"Rechazar"})]})]},m.id))})})]})}function yA(){const{user:e,signOut:t}=Vn(),n=Gr(),r=async()=>{try{await t(),n("/login")}catch(i){console.error("Error signing out:",i)}};return d.jsx("nav",{className:"bg-indigo-600 text-white shadow-lg",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsxs(os,{to:"/",className:"flex items-center space-x-2",children:[d.jsx(mA,{className:"h-8 w-8"}),d.jsx("span",{className:"font-bold text-xl",children:"Band Manager"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[e&&d.jsx(vA,{}),e?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-sm",children:e.email}),d.jsxs("button",{onClick:r,className:"flex items-center space-x-1 hover:text-indigo-200 transition-colors",children:[d.jsx(pA,{className:"h-5 w-5"}),d.jsx("span",{children:"Sign Out"})]})]}):d.jsxs("div",{className:"space-x-4",children:[d.jsx(os,{to:"/login",className:"hover:text-indigo-200 transition-colors",children:"Login"}),d.jsx(os,{to:"/register",className:"hover:text-indigo-200 transition-colors",children:"Register"}),!1]})]})]})})})}function mt({label:e,error:t,className:n="",...r}){return d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),d.jsx("input",{className:`
          w-full px-3 py-2 border rounded-lg shadow-sm
          focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500
          ${t?"border-red-500":"border-gray-300"}
          ${n}
        `,...r}),t&&d.jsx("p",{className:"text-sm text-red-600",children:t})]})}function Ne({children:e,loading:t,variant:n="primary",fullWidth:r,className:i="",...o}){const l="flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"};return d.jsxs("button",{className:`${l} ${u[n]} ${r?"w-full":""} ${i}`,disabled:t,...o,children:[t&&d.jsx(ua,{className:"w-4 h-4 mr-2 animate-spin"}),e]})}function xA(){var y;const[e,t]=v.useState(""),[n,r]=v.useState(""),[i,o]=v.useState(!1),l=Gr(),u=bi(),c=(y=u.state)==null?void 0:y.returnTo,{user:h,setUser:p}=Vn();console.log("Login component state:",{returnTo:c,location:u}),v.useEffect(()=>{if(h){const x=c||"/";console.log("User authenticated, redirecting to:",x),l(x,{replace:!0})}},[h,c,l]);const m=async x=>{x.preventDefault(),o(!0);try{const{data:S,error:C}=await oe.auth.signInWithPassword({email:e,password:n});if(C)throw C;p(S.user),H.success("Successfully logged in!");const k=c||"/";console.log("Login successful, redirecting to:",k),l(k,{replace:!0})}catch(S){H.error(S.message||"Failed to login")}finally{o(!1)}};return h?null:d.jsx("div",{className:"max-w-md mx-auto mt-16",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[d.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Welcome Back"}),d.jsxs("form",{onSubmit:m,className:"space-y-6",children:[d.jsx(mt,{label:"Email",type:"email",value:e,onChange:x=>t(x.target.value),required:!0,placeholder:"your@email.com"}),d.jsx(mt,{label:"Password",type:"password",value:n,onChange:x=>r(x.target.value),required:!0,placeholder:""}),d.jsx(Ne,{type:"submit",loading:i,fullWidth:!0,children:"Sign In"})]}),d.jsx("p",{className:"mt-4 text-center text-sm text-gray-600",children:d.jsx(os,{to:"/forgot-password",className:"text-indigo-600 hover:text-indigo-500",children:"Olvidaste tu contrasea?"})}),d.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",d.jsx(os,{to:"/register",className:"text-indigo-600 hover:text-indigo-500",children:"Register here"})]})]})})}function wA(){const[e]=Yb(),t=e.get("email");e.get("token");const[n,r]=v.useState(t||""),[i,o]=v.useState(""),[l,u]=v.useState(""),[c,h]=v.useState(!1),p=Gr(),{user:m}=Vn();v.useEffect(()=>{m&&p("/")},[m,p]);const y=async x=>{x.preventDefault(),h(!0);try{const{data:S,error:C}=await oe.auth.signUp({email:n,password:i,options:{data:{name:l,role:"user"}}});if(C)throw C;if(S.user){const{data:k,error:b}=await oe.rpc("create_new_user",{user_id:S.user.id,user_email:n,user_name:l,user_role:"user"});if(b)throw b;H.success("Registration successful! Please check your email to confirm your account."),p("/login")}}catch(S){console.error("Registration error:",S),S.message.includes("User already registered")?H.error("This email is already registered. Please try logging in instead."):S.message.includes("rate limit")?H.error("Too many registration attempts. Please try again in a few minutes."):H.error("Registration failed. Please try again.")}finally{h(!1)}};return m?null:d.jsx("div",{className:"max-w-md mx-auto mt-16",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[d.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Create an Account"}),d.jsxs("form",{onSubmit:y,className:"space-y-6",children:[d.jsx(mt,{label:"Name",type:"text",value:l,onChange:x=>u(x.target.value),required:!0,placeholder:"John Doe"}),d.jsx(mt,{label:"Email",type:"email",value:n,onChange:x=>r(x.target.value),required:!0,disabled:!!t,placeholder:"tu@email.com"}),d.jsx(mt,{label:"Password",type:"password",value:i,onChange:x=>o(x.target.value),required:!0,placeholder:"",minLength:6}),d.jsx(Ne,{type:"submit",loading:c,fullWidth:!0,children:"Register"})]}),d.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Already have an account?"," ",d.jsx(os,{to:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"Sign in here"})]})]})})}var _A=Object.defineProperty,bA=(e,t,n)=>t in e?_A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,op=(e,t,n)=>(bA(e,typeof t!="symbol"?t+"":t,n),n);let SA=class{constructor(){op(this,"current",this.detect()),op(this,"handoffState","pending"),op(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ys=new SA;function nf(e){return Ys.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function rf(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function vs(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return rf(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=vs();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Kg(){let[e]=v.useState(vs);return v.useEffect(()=>()=>e.dispose(),[e]),e}let pn=(e,t)=>{Ys.isServer?v.useEffect(e,t):v.useLayoutEffect(e,t)};function ao(e){let t=v.useRef(e);return pn(()=>{t.current=e},[e]),t}let _t=function(e){let t=ao(e);return xe.useCallback((...n)=>t.current(...n),[t])},EA=v.createContext(void 0);function NA(){return v.useContext(EA)}function Cm(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function cs(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,cs),r}var vd=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(vd||{}),Qi=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Qi||{});function hr(){let e=CA();return v.useCallback(t=>jA({mergeRefs:e,...t}),[e])}function jA({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:l,mergeRefs:u}){u=u??kA;let c=CS(t,e);if(o)return xc(c,n,r,l,u);let h=i??0;if(h&2){let{static:p=!1,...m}=c;if(p)return xc(m,n,r,l,u)}if(h&1){let{unmount:p=!0,...m}=c;return cs(p?0:1,{0(){return null},1(){return xc({...m,hidden:!0,style:{display:"none"}},n,r,l,u)}})}return xc(c,n,r,l,u)}function xc(e,t={},n,r,i){let{as:o=n,children:l,refName:u="ref",...c}=ap(e,["unmount","static"]),h=e.ref!==void 0?{[u]:e.ref}:{},p=typeof l=="function"?l(t):l;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let m={};if(t){let y=!1,x=[];for(let[S,C]of Object.entries(t))typeof C=="boolean"&&(y=!0),C===!0&&x.push(S.replace(/([A-Z])/g,k=>`-${k.toLowerCase()}`));if(y){m["data-headlessui-state"]=x.join(" ");for(let S of x)m[`data-${S}`]=""}}if(o===v.Fragment&&(Object.keys(Ls(c)).length>0||Object.keys(Ls(m)).length>0))if(!v.isValidElement(p)||Array.isArray(p)&&p.length>1){if(Object.keys(Ls(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ls(c)).concat(Object.keys(Ls(m))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=p.props,x=y==null?void 0:y.className,S=typeof x=="function"?(...b)=>Cm(x(...b),c.className):Cm(x,c.className),C=S?{className:S}:{},k=CS(p.props,Ls(ap(c,["ref"])));for(let b in m)b in k&&delete m[b];return v.cloneElement(p,Object.assign({},k,m,h,{ref:i(PA(p),h.ref)},C))}return v.createElement(o,Object.assign({},ap(c,["ref"]),o!==v.Fragment&&h,o!==v.Fragment&&m),p)}function CA(){let e=v.useRef([]),t=v.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function kA(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function CS(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...o){let l=n[r];for(let u of l){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;u(i,...o)}}});return t}function Dn(e){var t;return Object.assign(v.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ls(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function ap(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function PA(e){return xe.version.split(".")[0]>="19"?e.props.ref:e.ref}let DA="span";var yd=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(yd||{});function TA(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return hr()({ourProps:o,theirProps:i,slot:{},defaultTag:DA,name:"Hidden"})}let km=Dn(TA),kS=Symbol();function OA(e,t=!0){return Object.assign(e,{[kS]:t})}function Vr(...e){let t=v.useRef(e);v.useEffect(()=>{t.current=e},[e]);let n=_t(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[kS]))?void 0:n}let Qg=v.createContext(null);Qg.displayName="DescriptionContext";function PS(){let e=v.useContext(Qg);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,PS),t}return e}function MA(){let[e,t]=v.useState([]);return[e.length>0?e.join(" "):void 0,v.useMemo(()=>function(n){let r=_t(o=>(t(l=>[...l,o]),()=>t(l=>{let u=l.slice(),c=u.indexOf(o);return c!==-1&&u.splice(c,1),u}))),i=v.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return xe.createElement(Qg.Provider,{value:i},n.children)},[t])]}let RA="p";function $A(e,t){let n=v.useId(),r=NA(),{id:i=`headlessui-description-${n}`,...o}=e,l=PS(),u=Vr(t);pn(()=>l.register(i),[i,l.register]);let c=r||!1,h=v.useMemo(()=>({...l.slot,disabled:c}),[l.slot,c]),p={ref:u,...l.props,id:i};return hr()({ourProps:p,theirProps:o,slot:h,defaultTag:RA,name:l.name||"Description"})}let AA=Dn($A),LA=Object.assign(AA,{});var DS=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(DS||{});let IA=v.createContext(()=>{});function FA({value:e,children:t}){return xe.createElement(IA.Provider,{value:e},t)}let UA=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function TS(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let l=t[i].call(n,...o);l&&(n=l,r.forEach(u=>u()))}}}function OS(e){return v.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let zA=new UA(()=>TS(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function va(e,t){let n=zA.get(t),r=v.useId(),i=OS(n);if(pn(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let o=i.indexOf(r),l=i.length;return o===-1&&(o=l,l+=1),o===l-1}let Pm=new Map,ml=new Map;function Lw(e){var t;let n=(t=ml.get(e))!=null?t:0;return ml.set(e,n+1),n!==0?()=>Iw(e):(Pm.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Iw(e))}function Iw(e){var t;let n=(t=ml.get(e))!=null?t:1;if(n===1?ml.delete(e):ml.set(e,n-1),n!==1)return;let r=Pm.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Pm.delete(e))}function WA(e,{allowed:t,disallowed:n}={}){let r=va(e,"inert-others");pn(()=>{var i,o;if(!r)return;let l=vs();for(let c of(i=n==null?void 0:n())!=null?i:[])c&&l.add(Lw(c));let u=(o=t==null?void 0:t())!=null?o:[];for(let c of u){if(!c)continue;let h=nf(c);if(!h)continue;let p=c.parentElement;for(;p&&p!==h.body;){for(let m of p.children)u.some(y=>m.contains(y))||l.add(Lw(m));p=p.parentElement}}return l.dispose},[r,t,n])}function BA(e,t,n){let r=ao(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});v.useEffect(()=>{if(!e)return;let i=t===null?null:t instanceof HTMLElement?t:t.current;if(!i)return;let o=vs();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}return()=>o.dispose()},[t,r,e])}let xd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),HA=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ui=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(ui||{}),Dm=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Dm||{}),qA=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(qA||{});function GA(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(xd)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function VA(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(HA)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var MS=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(MS||{});function YA(e,t=0){var n;return e===((n=nf(e))==null?void 0:n.body)?!1:cs(t,{0(){return e.matches(xd)},1(){let r=e;for(;r!==null;){if(r.matches(xd))return!0;r=r.parentElement}return!1}})}var KA=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(KA||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function pi(e){e==null||e.focus({preventScroll:!0})}let QA=["textarea","input"].join(",");function XA(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,QA))!=null?n:!1}function JA(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let l=i.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function gl(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?n?JA(e):e:t&64?VA(e):GA(e);i.length>0&&l.length>1&&(l=l.filter(x=>!i.some(S=>S!=null&&"current"in S?(S==null?void 0:S.current)===x:S===x))),r=r??o.activeElement;let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(r))-1;if(t&4)return Math.max(0,l.indexOf(r))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=t&32?{preventScroll:!0}:{},p=0,m=l.length,y;do{if(p>=m||p+m<=0)return 0;let x=c+p;if(t&16)x=(x+m)%m;else{if(x<0)return 3;if(x>=m)return 1}y=l[x],y==null||y.focus(h),p+=u}while(y!==o.activeElement);return t&6&&XA(y)&&y.select(),2}function RS(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ZA(){return/Android/gi.test(window.navigator.userAgent)}function eL(){return RS()||ZA()}function Qa(e,t,n,r){let i=ao(n);v.useEffect(()=>{if(!e)return;function o(l){i.current(l)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function $S(e,t,n,r){let i=ao(n);v.useEffect(()=>{if(!e)return;function o(l){i.current(l)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const Fw=30;function tL(e,t,n){let r=va(e,"outside-click"),i=ao(n),o=v.useCallback(function(c,h){if(c.defaultPrevented)return;let p=h(c);if(p===null||!p.getRootNode().contains(p)||!p.isConnected)return;let m=function y(x){return typeof x=="function"?y(x()):Array.isArray(x)||x instanceof Set?x:[x]}(t);for(let y of m)if(y!==null&&(y.contains(p)||c.composed&&c.composedPath().includes(y)))return;return!YA(p,MS.Loose)&&p.tabIndex!==-1&&c.preventDefault(),i.current(c,p)},[i,t]),l=v.useRef(null);Qa(r,"pointerdown",c=>{var h,p;l.current=((p=(h=c.composedPath)==null?void 0:h.call(c))==null?void 0:p[0])||c.target},!0),Qa(r,"mousedown",c=>{var h,p;l.current=((p=(h=c.composedPath)==null?void 0:h.call(c))==null?void 0:p[0])||c.target},!0),Qa(r,"click",c=>{eL()||l.current&&(o(c,()=>l.current),l.current=null)},!0);let u=v.useRef({x:0,y:0});Qa(r,"touchstart",c=>{u.current.x=c.touches[0].clientX,u.current.y=c.touches[0].clientY},!0),Qa(r,"touchend",c=>{let h={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(h.x-u.current.x)>=Fw||Math.abs(h.y-u.current.y)>=Fw))return o(c,()=>c.target instanceof HTMLElement?c.target:null)},!0),$S(r,"blur",c=>o(c,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Jl(...e){return v.useMemo(()=>nf(...e),[...e])}function AS(e,t,n,r){let i=ao(n);v.useEffect(()=>{e=e??window;function o(l){i.current(l)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function nL(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function rL(){return RS()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=vs();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,l=null;t.addEventListener(e,"click",u=>{if(u.target instanceof HTMLElement)try{let c=u.target.closest("a");if(!c)return;let{hash:h}=new URL(c.href),p=e.querySelector(h);p&&!r(p)&&(l=p)}catch{}},!0),t.addEventListener(e,"touchstart",u=>{if(u.target instanceof HTMLElement)if(r(u.target)){let c=u.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(u.target,"touchAction","none")}),t.addEventListener(e,"touchmove",u=>{if(u.target instanceof HTMLElement){if(u.target.tagName==="INPUT")return;if(r(u.target)){let c=u.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let c=(u=window.scrollY)!=null?u:window.pageYOffset;o!==c&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function iL(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function sL(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let qs=TS(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:vs(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:sL(n)},i=[rL(),nL(),iL()];i.forEach(({before:o})=>o==null?void 0:o(r)),i.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});qs.subscribe(()=>{let e=qs.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&qs.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&qs.dispatch("TEARDOWN",n)}});function oL(e,t,n=()=>({containers:[]})){let r=OS(qs),i=t?r.get(t):void 0,o=i?i.count>0:!1;return pn(()=>{if(!(!t||!e))return qs.dispatch("PUSH",t,n),()=>qs.dispatch("POP",t,n)},[e,t]),o}function aL(e,t,n=()=>[document.body]){let r=va(e,"scroll-lock");oL(r,t,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function lL(e=0){let[t,n]=v.useState(e),r=v.useCallback(c=>n(c),[t]),i=v.useCallback(c=>n(h=>h|c),[t]),o=v.useCallback(c=>(t&c)===c,[t]),l=v.useCallback(c=>n(h=>h&~c),[n]),u=v.useCallback(c=>n(h=>h^c),[n]);return{flags:t,setFlag:r,addFlag:i,hasFlag:o,removeFlag:l,toggleFlag:u}}var uL={},Uw,zw;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Uw=process==null?void 0:uL)==null?void 0:Uw.NODE_ENV)==="test"&&typeof((zw=Element==null?void 0:Element.prototype)==null?void 0:zw.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var cL=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(cL||{});function dL(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function fL(e,t,n,r){let[i,o]=v.useState(n),{hasFlag:l,addFlag:u,removeFlag:c}=lL(e&&i?3:0),h=v.useRef(!1),p=v.useRef(!1),m=Kg();return pn(()=>{var y;if(e){if(n&&o(!0),!t){n&&u(3);return}return(y=r==null?void 0:r.start)==null||y.call(r,n),hL(t,{inFlight:h,prepare(){p.current?p.current=!1:p.current=h.current,h.current=!0,!p.current&&(n?(u(3),c(4)):(u(4),c(2)))},run(){p.current?n?(c(3),u(4)):(c(4),u(3)):n?c(1):u(1)},done(){var x;p.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(h.current=!1,c(7),n||o(!1),(x=r==null?void 0:r.end)==null||x.call(r,n))}})}},[e,n,t,m]),e?[i,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function hL(e,{prepare:t,run:n,done:r,inFlight:i}){let o=vs();return mL(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(pL(e,r))})}),o.dispose}function pL(e,t){var n,r;let i=vs();if(!e)return i.dispose;let o=!1;i.add(()=>{o=!0});let l=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(u=>u instanceof CSSTransition))!=null?r:[];return l.length===0?(t(),i.dispose):(Promise.allSettled(l.map(u=>u.finished)).then(()=>{o||t()}),i.dispose)}function mL(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Xg(e,t){let n=v.useRef([]),r=_t(e);v.useEffect(()=>{let i=[...n.current];for(let[o,l]of t.entries())if(n.current[o]!==l){let u=r(t,i);return n.current=t,u}},[r,...t])}let sf=v.createContext(null);sf.displayName="OpenClosedContext";var Er=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Er||{});function of(){return v.useContext(sf)}function gL({value:e,children:t}){return xe.createElement(sf.Provider,{value:e},t)}function vL({children:e}){return xe.createElement(sf.Provider,{value:null},e)}function yL(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Gi=[];yL(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||Gi[0]===t.target)return;let n=t.target;n=n.closest(xd),Gi.unshift(n??t.target),Gi=Gi.filter(r=>r!=null&&r.isConnected),Gi.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function LS(e){let t=_t(e),n=v.useRef(!1);v.useEffect(()=>(n.current=!1,()=>{n.current=!0,rf(()=>{n.current&&t()})}),[t])}function xL(){let e=typeof document>"u";return"useSyncExternalStore"in wp?(t=>t.useSyncExternalStore)(wp)(()=>()=>{},()=>!1,()=>!e):!1}function Zl(){let e=xL(),[t,n]=v.useState(Ys.isHandoffComplete);return t&&Ys.isHandoffComplete===!1&&n(!1),v.useEffect(()=>{t!==!0&&n(!0)},[t]),v.useEffect(()=>Ys.handoff(),[]),e?!1:t}let IS=v.createContext(!1);function wL(){return v.useContext(IS)}function Ww(e){return xe.createElement(IS.Provider,{value:e.force},e.children)}function _L(e){let t=wL(),n=v.useContext(US),r=Jl(e),[i,o]=v.useState(()=>{var l;if(!t&&n!==null)return(l=n.current)!=null?l:null;if(Ys.isServer)return null;let u=r==null?void 0:r.getElementById("headlessui-portal-root");if(u)return u;if(r===null)return null;let c=r.createElement("div");return c.setAttribute("id","headlessui-portal-root"),r.body.appendChild(c)});return v.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),v.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),i}let FS=v.Fragment,bL=Dn(function(e,t){let n=e,r=v.useRef(null),i=Vr(OA(m=>{r.current=m}),t),o=Jl(r),l=_L(r),[u]=v.useState(()=>{var m;return Ys.isServer?null:(m=o==null?void 0:o.createElement("div"))!=null?m:null}),c=v.useContext(Tm),h=Zl();pn(()=>{!l||!u||l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u))},[l,u]),pn(()=>{if(u&&c)return c.register(u)},[c,u]),LS(()=>{var m;!l||!u||(u instanceof Node&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((m=l.parentElement)==null||m.removeChild(l)))});let p=hr();return h?!l||!u?null:Hs.createPortal(p({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:FS,name:"Portal"}),u):null});function SL(e,t){let n=Vr(t),{enabled:r=!0,...i}=e,o=hr();return r?xe.createElement(bL,{...i,ref:n}):o({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:FS,name:"Portal"})}let EL=v.Fragment,US=v.createContext(null);function NL(e,t){let{target:n,...r}=e,i={ref:Vr(t)},o=hr();return xe.createElement(US.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:EL,name:"Popover.Group"}))}let Tm=v.createContext(null);function jL(){let e=v.useContext(Tm),t=v.useRef([]),n=_t(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=_t(o=>{let l=t.current.indexOf(o);l!==-1&&t.current.splice(l,1),e&&e.unregister(o)}),i=v.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,v.useMemo(()=>function({children:o}){return xe.createElement(Tm.Provider,{value:i},o)},[i])]}let CL=Dn(SL),zS=Dn(NL),kL=Object.assign(CL,{Group:zS});function PL(e,t=typeof document<"u"?document.defaultView:null,n){let r=va(e,"escape");AS(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===DS.Escape&&n(i))})}function DL(){var e;let[t]=v.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=v.useState((e=t==null?void 0:t.matches)!=null?e:!1);return pn(()=>{if(!t)return;function i(o){r(o.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function TL({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Jl(n),i=_t(()=>{var o,l;let u=[];for(let c of e)c!==null&&(c instanceof HTMLElement?u.push(c):"current"in c&&c.current instanceof HTMLElement&&u.push(c.current));if(t!=null&&t.current)for(let c of t.current)u.push(c);for(let c of(o=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?o:[])c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((l=n==null?void 0:n.getRootNode())==null?void 0:l.host))||u.some(h=>c.contains(h))||u.push(c));return u});return{resolveContainers:i,contains:_t(o=>i().some(l=>l.contains(o)))}}let WS=v.createContext(null);function Bw({children:e,node:t}){let[n,r]=v.useState(null),i=BS(t??n);return xe.createElement(WS.Provider,{value:i},e,i===null&&xe.createElement(km,{features:yd.Hidden,ref:o=>{var l,u;if(o){for(let c of(u=(l=nf(o))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?u:[])if(c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c!=null&&c.contains(o)){r(c);break}}}}))}function BS(e=null){var t;return(t=v.useContext(WS))!=null?t:e}function Jg(){let e=v.useRef(!1);return pn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var rl=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(rl||{});function OL(){let e=v.useRef(0);return $S(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function HS(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let ML="div";var Us=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Us||{});function RL(e,t){let n=v.useRef(null),r=Vr(n,t),{initialFocus:i,initialFocusFallback:o,containers:l,features:u=15,...c}=e;Zl()||(u=0);let h=Jl(n);IL(u,{ownerDocument:h});let p=FL(u,{ownerDocument:h,container:n,initialFocus:i,initialFocusFallback:o});UL(u,{ownerDocument:h,container:n,containers:l,previousActiveElement:p});let m=OL(),y=_t(_=>{let N=n.current;N&&(P=>P())(()=>{cs(m.current,{[rl.Forwards]:()=>{gl(N,ui.First,{skipElements:[_.relatedTarget,o]})},[rl.Backwards]:()=>{gl(N,ui.Last,{skipElements:[_.relatedTarget,o]})}})})}),x=va(!!(u&2),"focus-trap#tab-lock"),S=Kg(),C=v.useRef(!1),k={ref:r,onKeyDown(_){_.key=="Tab"&&(C.current=!0,S.requestAnimationFrame(()=>{C.current=!1}))},onBlur(_){if(!(u&4))return;let N=HS(l);n.current instanceof HTMLElement&&N.add(n.current);let P=_.relatedTarget;P instanceof HTMLElement&&P.dataset.headlessuiFocusGuard!=="true"&&(qS(N,P)||(C.current?gl(n.current,cs(m.current,{[rl.Forwards]:()=>ui.Next,[rl.Backwards]:()=>ui.Previous})|ui.WrapAround,{relativeTo:_.target}):_.target instanceof HTMLElement&&pi(_.target)))}},b=hr();return xe.createElement(xe.Fragment,null,x&&xe.createElement(km,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:yd.Focusable}),b({ourProps:k,theirProps:c,defaultTag:ML,name:"FocusTrap"}),x&&xe.createElement(km,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:yd.Focusable}))}let $L=Dn(RL),AL=Object.assign($L,{features:Us});function LL(e=!0){let t=v.useRef(Gi.slice());return Xg(([n],[r])=>{r===!0&&n===!1&&rf(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Gi.slice())},[e,Gi,t]),_t(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function IL(e,{ownerDocument:t}){let n=!!(e&8),r=LL(n);Xg(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&pi(r())},[n]),LS(()=>{n&&pi(r())})}function FL(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let o=v.useRef(null),l=va(!!(e&1),"focus-trap#initial-focus"),u=Jg();return Xg(()=>{if(e===0)return;if(!l){i!=null&&i.current&&pi(i.current);return}let c=n.current;c&&rf(()=>{if(!u.current)return;let h=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===h){o.current=h;return}}else if(c.contains(h)){o.current=h;return}if(r!=null&&r.current)pi(r.current);else{if(e&16){if(gl(c,ui.First|ui.AutoFocus)!==Dm.Error)return}else if(gl(c,ui.First)!==Dm.Error)return;if(i!=null&&i.current&&(pi(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=t==null?void 0:t.activeElement})},[i,l,e]),o}function UL(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let o=Jg(),l=!!(e&4);AS(t==null?void 0:t.defaultView,"focus",u=>{if(!l||!o.current)return;let c=HS(r);n.current instanceof HTMLElement&&c.add(n.current);let h=i.current;if(!h)return;let p=u.target;p&&p instanceof HTMLElement?qS(c,p)?(i.current=p,pi(p)):(u.preventDefault(),u.stopPropagation(),pi(h)):pi(i.current)},!0)}function qS(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function GS(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:YS)!==v.Fragment||xe.Children.count(e.children)===1}let af=v.createContext(null);af.displayName="TransitionContext";var zL=(e=>(e.Visible="visible",e.Hidden="hidden",e))(zL||{});function WL(){let e=v.useContext(af);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function BL(){let e=v.useContext(lf);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let lf=v.createContext(null);lf.displayName="NestingContext";function uf(e){return"children"in e?uf(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function VS(e,t){let n=ao(e),r=v.useRef([]),i=Jg(),o=Kg(),l=_t((x,S=Qi.Hidden)=>{let C=r.current.findIndex(({el:k})=>k===x);C!==-1&&(cs(S,{[Qi.Unmount](){r.current.splice(C,1)},[Qi.Hidden](){r.current[C].state="hidden"}}),o.microTask(()=>{var k;!uf(r)&&i.current&&((k=n.current)==null||k.call(n))}))}),u=_t(x=>{let S=r.current.find(({el:C})=>C===x);return S?S.state!=="visible"&&(S.state="visible"):r.current.push({el:x,state:"visible"}),()=>l(x,Qi.Unmount)}),c=v.useRef([]),h=v.useRef(Promise.resolve()),p=v.useRef({enter:[],leave:[]}),m=_t((x,S,C)=>{c.current.splice(0),t&&(t.chains.current[S]=t.chains.current[S].filter(([k])=>k!==x)),t==null||t.chains.current[S].push([x,new Promise(k=>{c.current.push(k)})]),t==null||t.chains.current[S].push([x,new Promise(k=>{Promise.all(p.current[S].map(([b,_])=>_)).then(()=>k())})]),S==="enter"?h.current=h.current.then(()=>t==null?void 0:t.wait.current).then(()=>C(S)):C(S)}),y=_t((x,S,C)=>{Promise.all(p.current[S].splice(0).map(([k,b])=>b)).then(()=>{var k;(k=c.current.shift())==null||k()}).then(()=>C(S))});return v.useMemo(()=>({children:r,register:u,unregister:l,onStart:m,onStop:y,wait:h,chains:p}),[u,l,r,m,y,p,h])}let YS=v.Fragment,KS=vd.RenderStrategy;function HL(e,t){var n,r;let{transition:i=!0,beforeEnter:o,afterEnter:l,beforeLeave:u,afterLeave:c,enter:h,enterFrom:p,enterTo:m,entered:y,leave:x,leaveFrom:S,leaveTo:C,...k}=e,[b,_]=v.useState(null),N=v.useRef(null),P=GS(e),R=Vr(...P?[N,t,_]:t===null?[]:[t]),z=(n=k.unmount)==null||n?Qi.Unmount:Qi.Hidden,{show:L,appear:W,initial:ue}=WL(),[re,q]=v.useState(L?"visible":"hidden"),Ee=BL(),{register:ne,unregister:me}=Ee;pn(()=>ne(N),[ne,N]),pn(()=>{if(z===Qi.Hidden&&N.current){if(L&&re!=="visible"){q("visible");return}return cs(re,{hidden:()=>me(N),visible:()=>ne(N)})}},[re,N,ne,me,L,z]);let be=Zl();pn(()=>{if(P&&be&&re==="visible"&&N.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[N,re,be,P]);let Me=ue&&!W,$=W&&L&&ue,T=v.useRef(!1),F=VS(()=>{T.current||(q("hidden"),me(N))},Ee),te=_t(Q=>{T.current=!0;let pe=Q?"enter":"leave";F.onStart(N,pe,Z=>{Z==="enter"?o==null||o():Z==="leave"&&(u==null||u())})}),se=_t(Q=>{let pe=Q?"enter":"leave";T.current=!1,F.onStop(N,pe,Z=>{Z==="enter"?l==null||l():Z==="leave"&&(c==null||c())}),pe==="leave"&&!uf(F)&&(q("hidden"),me(N))});v.useEffect(()=>{P&&i||(te(L),se(L))},[L,P,i]);let _e=!(!i||!P||!be||Me),[,ge]=fL(_e,b,L,{start:te,end:se}),$e=Ls({ref:R,className:((r=Cm(k.className,$&&h,$&&p,ge.enter&&h,ge.enter&&ge.closed&&p,ge.enter&&!ge.closed&&m,ge.leave&&x,ge.leave&&!ge.closed&&S,ge.leave&&ge.closed&&C,!ge.transition&&L&&y))==null?void 0:r.trim())||void 0,...dL(ge)}),ke=0;re==="visible"&&(ke|=Er.Open),re==="hidden"&&(ke|=Er.Closed),ge.enter&&(ke|=Er.Opening),ge.leave&&(ke|=Er.Closing);let Oe=hr();return xe.createElement(lf.Provider,{value:F},xe.createElement(gL,{value:ke},Oe({ourProps:$e,theirProps:k,defaultTag:YS,features:KS,visible:re==="visible",name:"Transition.Child"})))}function qL(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,l=v.useRef(null),u=GS(e),c=Vr(...u?[l,t]:t===null?[]:[t]);Zl();let h=of();if(n===void 0&&h!==null&&(n=(h&Er.Open)===Er.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[p,m]=v.useState(n?"visible":"hidden"),y=VS(()=>{n||m("hidden")}),[x,S]=v.useState(!0),C=v.useRef([n]);pn(()=>{x!==!1&&C.current[C.current.length-1]!==n&&(C.current.push(n),S(!1))},[C,n]);let k=v.useMemo(()=>({show:n,appear:r,initial:x}),[n,r,x]);pn(()=>{n?m("visible"):!uf(y)&&l.current!==null&&m("hidden")},[n,y]);let b={unmount:i},_=_t(()=>{var R;x&&S(!1),(R=e.beforeEnter)==null||R.call(e)}),N=_t(()=>{var R;x&&S(!1),(R=e.beforeLeave)==null||R.call(e)}),P=hr();return xe.createElement(lf.Provider,{value:y},xe.createElement(af.Provider,{value:k},P({ourProps:{...b,as:v.Fragment,children:xe.createElement(QS,{ref:c,...b,...o,beforeEnter:_,beforeLeave:N})},theirProps:{},defaultTag:v.Fragment,features:KS,visible:p==="visible",name:"Transition"})))}function GL(e,t){let n=v.useContext(af)!==null,r=of()!==null;return xe.createElement(xe.Fragment,null,!n&&r?xe.createElement(Om,{ref:t,...e}):xe.createElement(QS,{ref:t,...e}))}let Om=Dn(qL),QS=Dn(HL),Zg=Dn(GL),VL=Object.assign(Om,{Child:Zg,Root:Om});var YL=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(YL||{}),KL=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(KL||{});let QL={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},ev=v.createContext(null);ev.displayName="DialogContext";function cf(e){let t=v.useContext(ev);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,cf),n}return t}function XL(e,t){return cs(t.type,QL,e,t)}let Hw=Dn(function(e,t){let n=v.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:o,initialFocus:l,role:u="dialog",autoFocus:c=!0,__demoMode:h=!1,unmount:p=!1,...m}=e,y=v.useRef(!1);u=function(){return u==="dialog"||u==="alertdialog"?u:(y.current||(y.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let x=of();i===void 0&&x!==null&&(i=(x&Er.Open)===Er.Open);let S=v.useRef(null),C=Vr(S,t),k=Jl(S),b=i?0:1,[_,N]=v.useReducer(XL,{titleId:null,descriptionId:null,panelRef:v.createRef()}),P=_t(()=>o(!1)),R=_t(se=>N({type:0,id:se})),z=Zl()?b===0:!1,[L,W]=jL(),ue={get current(){var se;return(se=_.panelRef.current)!=null?se:S.current}},re=BS(),{resolveContainers:q}=TL({mainTreeNode:re,portals:L,defaultContainers:[ue]}),Ee=x!==null?(x&Er.Closing)===Er.Closing:!1;WA(h||Ee?!1:z,{allowed:_t(()=>{var se,_e;return[(_e=(se=S.current)==null?void 0:se.closest("[data-headlessui-portal]"))!=null?_e:null]}),disallowed:_t(()=>{var se;return[(se=re==null?void 0:re.closest("body > *:not(#headlessui-portal-root)"))!=null?se:null]})}),tL(z,q,se=>{se.preventDefault(),P()}),PL(z,k==null?void 0:k.defaultView,se=>{se.preventDefault(),se.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),P()}),aL(h||Ee?!1:z,k,q),BA(z,S,P);let[ne,me]=MA(),be=v.useMemo(()=>[{dialogState:b,close:P,setTitleId:R,unmount:p},_],[b,_,P,R,p]),Me=v.useMemo(()=>({open:b===0}),[b]),$={ref:C,id:r,role:u,tabIndex:-1,"aria-modal":h?void 0:b===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":ne,unmount:p},T=!DL(),F=Us.None;z&&!h&&(F|=Us.RestoreFocus,F|=Us.TabLock,c&&(F|=Us.AutoFocus),T&&(F|=Us.InitialFocus));let te=hr();return xe.createElement(vL,null,xe.createElement(Ww,{force:!0},xe.createElement(kL,null,xe.createElement(ev.Provider,{value:be},xe.createElement(zS,{target:S},xe.createElement(Ww,{force:!1},xe.createElement(me,{slot:Me},xe.createElement(W,null,xe.createElement(AL,{initialFocus:l,initialFocusFallback:S,containers:q,features:F},xe.createElement(FA,{value:P},te({ourProps:$,theirProps:m,slot:Me,defaultTag:JL,features:ZL,visible:b===0,name:"Dialog"})))))))))))}),JL="div",ZL=vd.RenderStrategy|vd.Static;function eI(e,t){let{transition:n=!1,open:r,...i}=e,o=of(),l=e.hasOwnProperty("open")||o!==null,u=e.hasOwnProperty("onClose");if(!l&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?xe.createElement(Bw,null,xe.createElement(VL,{show:r,transition:n,unmount:i.unmount},xe.createElement(Hw,{ref:t,...i}))):xe.createElement(Bw,null,xe.createElement(Hw,{ref:t,open:r,...i}))}let tI="div";function nI(e,t){let n=v.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...o}=e,[{dialogState:l,unmount:u},c]=cf("Dialog.Panel"),h=Vr(t,c.panelRef),p=v.useMemo(()=>({open:l===0}),[l]),m=_t(k=>{k.stopPropagation()}),y={ref:h,id:r,onClick:m},x=i?Zg:v.Fragment,S=i?{unmount:u}:{},C=hr();return xe.createElement(x,{...S},C({ourProps:y,theirProps:o,slot:p,defaultTag:tI,name:"Dialog.Panel"}))}let rI="div";function iI(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:o}]=cf("Dialog.Backdrop"),l=v.useMemo(()=>({open:i===0}),[i]),u={ref:t,"aria-hidden":!0},c=n?Zg:v.Fragment,h=n?{unmount:o}:{},p=hr();return xe.createElement(c,{...h},p({ourProps:u,theirProps:r,slot:l,defaultTag:rI,name:"Dialog.Backdrop"}))}let sI="h2";function oI(e,t){let n=v.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:o,setTitleId:l}]=cf("Dialog.Title"),u=Vr(t);v.useEffect(()=>(l(r),()=>l(null)),[r,l]);let c=v.useMemo(()=>({open:o===0}),[o]),h={ref:u,id:r};return hr()({ourProps:h,theirProps:i,slot:c,defaultTag:sI,name:"Dialog.Title"})}let aI=Dn(eI),lI=Dn(nI);Dn(iI);let uI=Dn(oI),Ks=Object.assign(aI,{Panel:lI,Title:uI,Description:LA});const cI=({isOpen:e,onClose:t,onGroupCreated:n,isAdmin:r=!1})=>{const[i,o]=v.useState(""),[l,u]=v.useState(!1);v.useState([]);const c=async h=>{if(h.preventDefault(),!!i.trim())try{u(!0);const{error:p}=await oe.from("groups").insert([{name:i.trim()}]);if(p)throw p;H.success("Grupo creado exitosamente"),n(),t(),o("")}catch(p){console.error("Error:",p),H.error("Error al crear el grupo")}finally{u(!1)}};return d.jsx(Ks,{open:e,onClose:t,className:"fixed inset-0 z-10 overflow-y-auto",children:d.jsxs("div",{className:"flex min-h-screen items-center justify-center",children:[d.jsx("div",{className:"fixed inset-0 bg-black opacity-30"}),d.jsxs("div",{className:"relative bg-white rounded-lg w-full max-w-md p-6 mx-4",children:[d.jsx("div",{className:"absolute right-4 top-4",children:d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:d.jsx(hi,{className:"w-6 h-6"})})}),d.jsx(Ks.Title,{className:"text-xl font-semibold mb-4",children:"Crear Nuevo Grupo"}),d.jsxs("form",{onSubmit:c,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del grupo"}),d.jsx("input",{type:"text",id:"name",value:i,onChange:h=>o(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Ingresa el nombre del grupo",required:!0})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx(Ne,{type:"button",variant:"secondary",onClick:t,disabled:l,children:"Cancelar"}),d.jsx(Ne,{type:"submit",loading:l,children:"Crear Grupo"})]})]})]})]})})},dI=({isOpen:e,onClose:t,onGroupDeleted:n,group:r})=>{const[i,o]=v.useState(""),[l,u]=v.useState(!1),c=async h=>{if(h.preventDefault(),i!==r.name){H.error("El nombre del grupo no coincide");return}try{u(!0);const{error:p}=await oe.from("groups").delete().eq("id",r.id);if(p)throw p;H.success("Grupo eliminado exitosamente"),n(),t()}catch(p){console.error("Error:",p),H.error("Error al eliminar el grupo")}finally{u(!1),o("")}};return d.jsx(Ks,{open:e,onClose:t,className:"fixed inset-0 z-10 overflow-y-auto",children:d.jsxs("div",{className:"flex min-h-screen items-center justify-center",children:[d.jsx("div",{className:"fixed inset-0 bg-black opacity-30"}),d.jsxs("div",{className:"relative bg-white rounded-lg w-full max-w-md p-6 mx-4",children:[d.jsx("div",{className:"absolute right-4 top-4",children:d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:d.jsx(hi,{className:"w-6 h-6"})})}),d.jsx(Ks.Title,{className:"text-xl font-semibold text-red-600 mb-4",children:"Eliminar Grupo"}),d.jsx("div",{className:"mb-4",children:d.jsxs("p",{className:"text-gray-700 mb-4",children:["Esta accin no se puede deshacer. Para confirmar, escribe el nombre del grupo:",d.jsxs("span",{className:"font-semibold",children:[" ",r.name]})]})}),d.jsxs("form",{onSubmit:c,children:[d.jsx("div",{className:"mb-4",children:d.jsx("input",{type:"text",value:i,onChange:h=>o(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"Escribe el nombre del grupo",required:!0})}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx(Ne,{type:"button",variant:"secondary",onClick:t,disabled:l,children:"Cancelar"}),d.jsx(Ne,{type:"submit",loading:l,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500",disabled:i!==r.name,children:"Eliminar Grupo"})]})]})]})]})})};function fI(){const[e,t]=v.useState([]),[n,r]=v.useState(!0),[i,o]=v.useState(!1),{user:l}=Vn(),u=Gr(),[c,h]=v.useState(!1),[p,m]=v.useState(null),[y,x]=v.useState(!1),[S,C]=v.useState("");v.useEffect(()=>{(async()=>{l&&await k()})()},[l]);const k=async()=>{if(l)try{r(!0);const{data:P,error:R}=await oe.from("users").select("role").eq("id",l.id).single();if(R)throw R;const z=(P==null?void 0:P.role)==="admin";if(h(z),z){const{data:ne,error:me}=await oe.from("groups").select("*").order("created_at",{ascending:!1});if(me)throw me;const{data:be,error:Me}=await oe.from("group_members").select("group_id").eq("user_id",l.id);if(Me)throw Me;const $=new Set((be==null?void 0:be.map(F=>F.group_id))||[]),T=await Promise.all((ne||[]).map(async F=>{const{data:te}=await oe.from("group_members").select("id").eq("group_id",F.id).eq("role_in_group","principal"),{data:se}=await oe.from("group_members").select("id").eq("group_id",F.id).eq("role_in_group","sustituto");return{...F,userRole:$.has(F.id)?"member":"none",principal_count:(te==null?void 0:te.length)||0,sustituto_count:(se==null?void 0:se.length)||0}}));t(T);return}const{data:L,error:W}=await oe.from("group_members").select("group_id").eq("user_id",l.id);if(W)throw W;const ue=new Set((L==null?void 0:L.map(ne=>ne.group_id))||[]),{data:re,error:q}=await oe.from("groups").select("*").or(`created_by.eq.${l.id},id.in.(${Array.from(ue).join(",")})`).order("created_at",{ascending:!1});if(q)throw q;const Ee=await Promise.all((re||[]).map(async ne=>{const{data:me}=await oe.from("group_members").select("id").eq("group_id",ne.id).eq("role_in_group","principal"),{data:be}=await oe.from("group_members").select("id").eq("group_id",ne.id).eq("role_in_group","sustituto");return{...ne,userRole:ue.has(ne.id)?"member":"none",principal_count:(me==null?void 0:me.length)||0,sustituto_count:(be==null?void 0:be.length)||0}}));t(Ee)}catch(P){console.error("Error fetching groups:",P),H.error("Error al cargar los grupos"),t([])}finally{r(!1)}},b=P=>{u(`/group/${P}`)},_=(P,R)=>{P.stopPropagation(),m(R),x(!0)},N=()=>{const P=e.filter(W=>W.name.toLowerCase().includes(S.toLowerCase())),R=P.filter(W=>W.created_by===(l==null?void 0:l.id)),z=P.filter(W=>W.userRole==="member"&&W.created_by!==(l==null?void 0:l.id)),L=c?P.filter(W=>W.userRole==="none"&&W.created_by!==(l==null?void 0:l.id)&&!z.some(ue=>ue.id===W.id)):[];return{created:R,member:z,other:L}};return d.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Grupos"}),d.jsxs(Ne,{onClick:()=>o(!0),className:"flex items-center space-x-2",children:[d.jsx(Vg,{className:"w-5 h-5"}),d.jsx("span",{children:"Crear Grupo"})]})]}),d.jsx("div",{className:"mb-6",children:d.jsx("input",{type:"text",placeholder:"Buscar grupos...",value:S,onChange:P=>C(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})}),n?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando grupos..."}):e.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsx(gd,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),d.jsx("p",{className:"text-gray-500",children:"No tienes grupos disponibles. Crea uno para empezar!"})]}):d.jsxs("div",{className:"space-y-8",children:[N().created.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Grupos que administras"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N().created.map(P=>d.jsx(lp,{group:P,user:l,isAdmin:c,onDelete:_,onClick:()=>b(P.id)},P.id))})]}),N().member.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Grupos donde participas"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N().member.map(P=>d.jsx(lp,{group:P,user:l,isAdmin:c,onDelete:_,onClick:()=>b(P.id)},P.id))})]}),c&&N().other.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Otros grupos"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N().other.map(P=>d.jsx(lp,{group:P,user:l,isAdmin:c,onDelete:_,onClick:()=>b(P.id)},P.id))})]})]}),d.jsx(cI,{isOpen:i,onClose:()=>o(!1),onGroupCreated:k,isAdmin:c}),p&&d.jsx(dI,{isOpen:y,onClose:()=>{x(!1),m(null)},onGroupDeleted:k,group:p})]})}const lp=({group:e,user:t,isAdmin:n,onDelete:r,onClick:i})=>d.jsxs("div",{onClick:i,className:"bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e.name}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center text-sm text-gray-600",title:"Miembros principales",children:[d.jsx(gd,{className:"w-5 h-5 text-indigo-600 mr-1"}),d.jsx("span",{className:"font-medium",children:e.principal_count}),d.jsx("span",{className:"text-xs ml-1",children:"prin"})]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-600",title:"Miembros sustitutos",children:[d.jsx(gd,{className:"w-5 h-5 text-orange-600 mr-1"}),d.jsx("span",{className:"font-medium",children:e.sustituto_count}),d.jsx("span",{className:"text-xs ml-1",children:"sust"})]})]}),(n||e.created_by===(t==null?void 0:t.id))&&d.jsx("button",{onClick:o=>r(o,e),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:d.jsx(Yg,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.created_by===(t==null?void 0:t.id)&&d.jsx("span",{className:"text-sm px-2 py-1 rounded-full bg-indigo-100 text-indigo-700",children:"Creador"}),e.userRole==="member"&&d.jsx("span",{className:"text-sm px-2 py-1 rounded-full bg-green-100 text-green-700",children:"Miembro"}),e.userRole==="none"&&d.jsx("span",{className:"text-sm px-2 py-1 rounded-full bg-gray-100 text-gray-700",children:"Grupo"})]})]});function hI({isOpen:e,onClose:t,groupId:n,instruments:r,onMemberAdded:i,isEmptyGroup:o,userRole:l}){const[u,c]=v.useState(""),[h,p]=v.useState(""),[m,y]=v.useState("principal"),[x,S]=v.useState([]),[C,k]=v.useState(""),[b,_]=v.useState(!1),[N,P]=v.useState(!1),[R,z]=v.useState([]),[L,W]=v.useState(!1),{user:ue}=Vn(),re=()=>{c(""),p(""),y("principal"),S([]),k(""),_(!1),z([])},q=async()=>{if(ue)try{const{data:$,error:T}=await oe.from("users").select("name, email").eq("id",ue.id).single();if(T)throw T;$&&(c($.name||""),p($.email||""))}catch($){console.error("Error fetching user info:",$)}},Ee=async()=>{var $;if(ue)try{const{data:T,error:F}=await oe.from("group_members").select("role_in_group").eq("group_id",n).eq("user_id",ue.id);if(F)throw F;W((($=T==null?void 0:T[0])==null?void 0:$.role_in_group)==="principal")}catch(T){console.error("Error checking principal status:",T),W(!1)}},ne=async()=>{try{const{data:$,error:T}=await oe.from("roles").select("*").eq("group_id",n).order("name");if(T)throw T;z($||[])}catch($){console.error("Error loading roles:",$),H.error("Error al cargar los roles")}};if(v.useEffect(()=>{e&&ne()},[e]),v.useEffect(()=>{e||re()},[e]),v.useEffect(()=>{ue&&(Ee(),l==="user"&&!L?q():(c(""),p("")))},[ue,l,L]),!e||!ue)return null;const me=()=>{if(!C.trim()){H.error("Por favor ingresa un nombre para el rol");return}if(R.some(te=>te.name.toLowerCase()===C.trim().toLowerCase())){H.error("Este rol ya existe en el grupo");return}const T=`new-${Date.now()}`,F={id:T,name:C.trim(),isNew:!0,group_id:n};z([...R,F]),S([...x,T]),k(""),_(!1),H.success("Rol aadido y seleccionado")},be=async $=>{if($.preventDefault(),!u.trim()){H.error("Por favor ingresa un nombre");return}if(!h.trim()){H.error("Por favor ingresa un email");return}if(x.length===0){H.error("Por favor selecciona al menos un rol");return}P(!0);try{const T=x.filter(ge=>!ge.startsWith("new-")),F=R.filter(ge=>"isNew"in ge&&ge.isNew&&x.includes(ge.id)).map(ge=>({name:ge.name,group_id:n})),te=F.map(ge=>`(${ge.name}, ${n})`),{data:se,error:_e}=await oe.rpc("add_group_member_with_instruments",{p_group_id:n,p_name:u,p_email:h.toLowerCase().trim(),p_role:o?"principal":m,p_user_id:l==="user"&&!L?ue.id:null,p_instruments:T,p_new_instruments:F.map(ge=>ge.name)});if(_e)throw _e;try{const{invitation:ge}=se;if(console.log("Datos de invitacin:",ge),!ge||!ge.token)throw new Error("No se recibieron los datos de invitacin correctamente");const{error:$e}=await oe.functions.invoke("send-invitation-email",{body:{email:ge.email,token:ge.token,userExists:ge.userExists,groupName:ge.groupName,groupMemberId:ge.groupMemberId}});if($e)throw console.error("Error sending invitation email:",$e),new Error(`Error al enviar la invitacin: ${$e.message}`);H.success("Miembro aadido e invitacin enviada")}catch(ge){console.error("Error sending invitation:",ge),H.error(`Error al enviar la invitacin: ${ge.message||"Error desconocido"}`,{icon:"",duration:5e3})}i(),t(),re()}catch(T){console.error("Error adding member:",T),H.error(T.message||"Error al aadir miembro")}finally{P(!1)}},Me=l==="user"&&!L;return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold",children:Me?"Join Group":"Add New Member"}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:d.jsx(hi,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:be,className:"p-6 space-y-4",children:[d.jsx(mt,{label:"Name",value:u,onChange:$=>c($.target.value),required:!0,placeholder:"Enter member name",disabled:Me}),d.jsx(mt,{label:"Email",type:"email",value:h,onChange:$=>p($.target.value),required:!0,placeholder:"Enter member email",disabled:Me}),!o&&l==="admin"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),d.jsxs("select",{value:m,onChange:$=>y($.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[d.jsx("option",{value:"principal",children:"Principal"}),d.jsx("option",{value:"sustituto",children:"Sustituto"})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Instruments"}),!b&&(l==="admin"||o||L)&&d.jsxs(Ne,{type:"button",variant:"secondary",onClick:()=>_(!0),className:"text-sm py-1",children:[d.jsx(Vg,{className:"w-4 h-4 mr-1"}),"Add New"]})]}),b&&d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx(mt,{label:"",value:C,onChange:$=>k($.target.value),placeholder:"Enter instrument name",className:"flex-1"}),d.jsxs("div",{className:"flex gap-2 mt-1",children:[d.jsx(Ne,{type:"button",onClick:me,className:"whitespace-nowrap",children:"Add"}),d.jsx(Ne,{type:"button",variant:"secondary",onClick:()=>{_(!1),k("")},className:"whitespace-nowrap",children:"Cancel"})]})]}),d.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-3",children:R.length===0?d.jsx("p",{className:"text-sm text-gray-500",children:"No hay roles disponibles. Aade uno arriba."}):R.map($=>d.jsxs("label",{className:"flex items-center space-x-2 hover:bg-gray-50 p-1 rounded",children:[d.jsx("input",{type:"checkbox",checked:x.includes($.id),onChange:T=>{T.target.checked?S([...x,$.id]):S(x.filter(F=>F!==$.id))},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsxs("span",{className:"flex items-center capitalize",children:[d.jsx(us,{className:"w-3 h-3 mr-1"}),$.name,"isNew"in $&&d.jsx("span",{className:"ml-2 text-xs text-indigo-600",children:"(Nuevo)"})]})]},$.id))})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx(Ne,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(Ne,{type:"submit",loading:N,children:Me?"Join Group":"Add Member"})]})]})]})})}function pI({isOpen:e,onClose:t,member:n,instruments:r,onMemberUpdated:i,userRole:o}){const[l,u]=v.useState(n.name),[c,h]=v.useState(n.role_in_group),[p,m]=v.useState([]),[y,x]=v.useState(!1),{user:S}=Vn();if(v.useEffect(()=>{n&&(u(n.name),h(n.role_in_group),m(n.instruments.map(b=>b.id)))},[n]),!e||!S)return null;const C=o==="admin"||n.user_id===S.id,k=async b=>{if(b.preventDefault(),!C){H.error("You do not have permission to edit this member");return}if(!l.trim()){H.error("Please enter a member name");return}if(p.length===0){H.error("Please select at least one role");return}x(!0);try{const{error:_}=await oe.from("group_members").update({name:l.trim(),role_in_group:c}).eq("id",n.id);if(_)throw _;const{error:N}=await oe.from("group_member_roles").delete().eq("group_member_id",n.id);if(N)throw N;const{error:P}=await oe.from("group_member_roles").insert(p.map(R=>({group_member_id:n.id,role_id:R,created_by:S.id})));if(P)throw P;H.success("Member updated successfully!"),i(),t()}catch(_){console.error("Error updating member:",_),H.error(_.message||"Failed to update member")}finally{x(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Edit Member"}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",disabled:y,children:d.jsx(hi,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[d.jsx(mt,{label:"Name",value:l,onChange:b=>u(b.target.value),required:!0,placeholder:"Enter member name",disabled:!C}),o==="admin"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),d.jsxs("select",{value:c,onChange:b=>h(b.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-indigo-500 focus:ring-indigo-500",disabled:!C,children:[d.jsx("option",{value:"principal",children:"Principal"}),d.jsx("option",{value:"sustituto",children:"Sustituto"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Roles"}),d.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-3",children:r.map(b=>d.jsxs("label",{className:"flex items-center space-x-2 hover:bg-gray-50 p-1 rounded",children:[d.jsx("input",{type:"checkbox",checked:p.includes(b.id),onChange:_=>{_.target.checked?m([...p,b.id]):m(p.filter(N=>N!==b.id))},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",disabled:y||!C}),d.jsxs("span",{className:"flex items-center",children:[d.jsx(us,{className:"w-3 h-3 mr-1"}),b.name]})]},b.id))})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx(Ne,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),C&&d.jsx(Ne,{type:"submit",loading:y,children:"Save Changes"})]})]})]})})}const qw=3,mI=1e3;async function ut(e,t="An error occurred"){let n=0;for(;n<qw;)try{const{data:r,error:i}=await e();if(i)throw i;return r}catch(r){if(n++,n===qw)return console.error(t,r),H.error(t),null;await new Promise(i=>setTimeout(i,mI*n))}return null}function Qe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Hn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function fn(e,t){const n=Qe(e);return isNaN(t)?Hn(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function kr(e,t){const n=Qe(e);if(isNaN(t))return Hn(e,NaN);if(!t)return n;const r=n.getDate(),i=Hn(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const tv=6048e5,gI=864e5,XS=6e4,JS=36e5;let vI={};function eu(){return vI}function Hr(e,t){var u,c,h,p;const n=eu(),r=(t==null?void 0:t.weekStartsOn)??((c=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=Qe(e),o=i.getDay(),l=(o<r?7:0)+o-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function to(e){return Hr(e,{weekStartsOn:1})}function ZS(e){const t=Qe(e),n=t.getFullYear(),r=Hn(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=to(r),o=Hn(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=to(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function ds(e){const t=Qe(e);return t.setHours(0,0,0,0),t}function wd(e){const t=Qe(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function zr(e,t){const n=ds(e),r=ds(t),i=+n-wd(n),o=+r-wd(r);return Math.round((i-o)/gI)}function yI(e){const t=ZS(e),n=Hn(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),to(n)}function Mm(e,t){const n=t*7;return fn(e,n)}function xI(e,t){return kr(e,t*12)}function wI(e){let t;return e.forEach(function(n){const r=Qe(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function _I(e){let t;return e.forEach(n=>{const r=Qe(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Ve(e,t){const n=ds(e),r=ds(t);return+n==+r}function nv(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function bI(e){if(!nv(e)&&typeof e!="number")return!1;const t=Qe(e);return!isNaN(Number(t))}function Ul(e,t){const n=Qe(e),r=Qe(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function SI(e,t,n){const r=Hr(e,n),i=Hr(t,n),o=+r-wd(r),l=+i-wd(i);return Math.round((o-l)/tv)}function rv(e){const t=Qe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Pn(e){const t=Qe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function eE(e){const t=Qe(e),n=Hn(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function iv(e,t){var u,c,h,p;const n=eu(),r=(t==null?void 0:t.weekStartsOn)??((c=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=Qe(e),o=i.getDay(),l=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}function tE(e){return iv(e,{weekStartsOn:1})}const EI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NI=(e,t,n)=>{let r;const i=EI[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Xo(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const jI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},CI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PI={date:Xo({formats:jI,defaultWidth:"full"}),time:Xo({formats:CI,defaultWidth:"full"}),dateTime:Xo({formats:kI,defaultWidth:"full"})},DI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TI=(e,t,n,r)=>DI[e];function Fr(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):l;i=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[u]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const OI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},MI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$I={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},AI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},LI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},II=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},FI={ordinalNumber:II,era:Fr({values:OI,defaultWidth:"wide"}),quarter:Fr({values:MI,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fr({values:RI,defaultWidth:"wide"}),day:Fr({values:$I,defaultWidth:"wide"}),dayPeriod:Fr({values:AI,defaultWidth:"wide",formattingValues:LI,defaultFormattingWidth:"wide"})};function Ur(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const l=o[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(u)?zI(u,m=>m.test(l)):UI(u,m=>m.test(l));let h;h=e.valueCallback?e.valueCallback(c):c,h=n.valueCallback?n.valueCallback(h):h;const p=t.slice(l.length);return{value:h,rest:p}}}function UI(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function zI(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function nE(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const u=t.slice(i.length);return{value:l,rest:u}}}const WI=/^(\d+)(th|st|nd|rd)?/i,BI=/\d+/i,HI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qI={any:[/^b/i,/^(a|c)/i]},GI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VI={any:[/1/i,/2/i,/3/i,/4/i]},YI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},KI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},QI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},XI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},JI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ZI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},e6={ordinalNumber:nE({matchPattern:WI,parsePattern:BI,valueCallback:e=>parseInt(e,10)}),era:Ur({matchPatterns:HI,defaultMatchWidth:"wide",parsePatterns:qI,defaultParseWidth:"any"}),quarter:Ur({matchPatterns:GI,defaultMatchWidth:"wide",parsePatterns:VI,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ur({matchPatterns:YI,defaultMatchWidth:"wide",parsePatterns:KI,defaultParseWidth:"any"}),day:Ur({matchPatterns:QI,defaultMatchWidth:"wide",parsePatterns:XI,defaultParseWidth:"any"}),dayPeriod:Ur({matchPatterns:JI,defaultMatchWidth:"any",parsePatterns:ZI,defaultParseWidth:"any"})},rE={code:"en-US",formatDistance:NI,formatLong:PI,formatRelative:TI,localize:FI,match:e6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function t6(e){const t=Qe(e);return zr(t,eE(t))+1}function iE(e){const t=Qe(e),n=+to(t)-+yI(t);return Math.round(n/tv)+1}function sE(e,t){var p,m,y,x;const n=Qe(e),r=n.getFullYear(),i=eu(),o=(t==null?void 0:t.firstWeekContainsDate)??((m=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(y=i.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??1,l=Hn(e,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const u=Hr(l,t),c=Hn(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const h=Hr(c,t);return n.getTime()>=u.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function n6(e,t){var u,c,h,p;const n=eu(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=sE(e,t),o=Hn(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Hr(o,t)}function oE(e,t){const n=Qe(e),r=+Hr(n,t)-+n6(n,t);return Math.round(r/tv)+1}function it(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const $i={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return it(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):it(n+1,2)},d(e,t){return it(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return it(e.getHours()%12||12,t.length)},H(e,t){return it(e.getHours(),t.length)},m(e,t){return it(e.getMinutes(),t.length)},s(e,t){return it(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return it(i,t.length)}},Do={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gw={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return $i.y(e,t)},Y:function(e,t,n,r){const i=sE(e,r),o=i>0?i:1-i;if(t==="YY"){const l=o%100;return it(l,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):it(o,t.length)},R:function(e,t){const n=ZS(e);return it(n,t.length)},u:function(e,t){const n=e.getFullYear();return it(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return it(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return it(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return $i.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return it(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=oE(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):it(i,t.length)},I:function(e,t,n){const r=iE(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):it(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):$i.d(e,t)},D:function(e,t,n){const r=t6(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):it(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return it(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return it(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return it(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Do.noon:r===0?i=Do.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Do.evening:r>=12?i=Do.afternoon:r>=4?i=Do.morning:i=Do.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return $i.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):$i.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):it(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):it(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):$i.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):$i.s(e,t)},S:function(e,t){return $i.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Yw(r);case"XXXX":case"XX":return Is(r);case"XXXXX":case"XXX":default:return Is(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Yw(r);case"xxxx":case"xx":return Is(r);case"xxxxx":case"xxx":default:return Is(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Vw(r,":");case"OOOO":default:return"GMT"+Is(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Vw(r,":");case"zzzz":default:return"GMT"+Is(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return it(r,t.length)},T:function(e,t,n){const r=e.getTime();return it(r,t.length)}};function Vw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+it(o,2)}function Yw(e,t){return e%60===0?(e>0?"-":"+")+it(Math.abs(e)/60,2):Is(e,t)}function Is(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=it(Math.trunc(r/60),2),o=it(r%60,2);return n+i+t+o}const Kw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},aE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},r6=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Kw(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Kw(r,t)).replace("{{time}}",aE(i,t))},i6={p:aE,P:r6},s6=/^D+$/,o6=/^Y+$/,a6=["D","DD","YY","YYYY"];function l6(e){return s6.test(e)}function u6(e){return o6.test(e)}function c6(e,t,n){const r=d6(e,t,n);if(console.warn(r),a6.includes(e))throw new RangeError(r)}function d6(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const f6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,p6=/^'([^]*?)'?$/,m6=/''/g,g6=/[a-zA-Z]/;function Ye(e,t,n){var p,m,y,x,S,C,k,b;const r=eu(),i=(n==null?void 0:n.locale)??r.locale??rE,o=(n==null?void 0:n.firstWeekContainsDate)??((m=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(y=r.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((C=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??r.weekStartsOn??((b=(k=r.locale)==null?void 0:k.options)==null?void 0:b.weekStartsOn)??0,u=Qe(e);if(!bI(u))throw new RangeError("Invalid time value");let c=t.match(h6).map(_=>{const N=_[0];if(N==="p"||N==="P"){const P=i6[N];return P(_,i.formatLong)}return _}).join("").match(f6).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const N=_[0];if(N==="'")return{isToken:!1,value:v6(_)};if(Gw[N])return{isToken:!0,value:_};if(N.match(g6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(c=i.localize.preprocessor(u,c));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return c.map(_=>{if(!_.isToken)return _.value;const N=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&u6(N)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&l6(N))&&c6(N,t,String(e));const P=Gw[N[0]];return P(u,N,i.localize,h)}).join("")}function v6(e){const t=e.match(p6);return t?t[1].replace(m6,"'"):e}function y6(e){const t=Qe(e),n=t.getFullYear(),r=t.getMonth(),i=Hn(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function x6(e){return Math.trunc(+Qe(e)/1e3)}function w6(e){const t=Qe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function _6(e,t){return SI(w6(e),Pn(e),t)+1}function Rm(e,t){const n=Qe(e),r=Qe(t);return n.getTime()>r.getTime()}function lE(e,t){const n=Qe(e),r=Qe(t);return+n<+r}function Qw(e){return+Qe(e)>Date.now()}function sv(e,t){const n=Qe(e),r=Qe(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function b6(e,t){const n=Qe(e),r=Qe(t);return n.getFullYear()===r.getFullYear()}function up(e,t){return fn(e,-t)}function Os(e,t){const r=j6(e);let i;if(r.date){const c=C6(r.date,2);i=k6(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let l=0,u;if(r.time&&(l=P6(r.time),isNaN(l)))return new Date(NaN);if(r.timezone){if(u=D6(r.timezone),isNaN(u))return new Date(NaN)}else{const c=new Date(o+l),h=new Date(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return new Date(o+l+u)}const wc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},S6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,E6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,N6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function j6(e){const t={},n=e.split(wc.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],wc.timeZoneDelimiter.test(t.date)&&(t.date=e.split(wc.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=wc.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function C6(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function k6(e,t){if(t===null)return new Date(NaN);const n=e.match(S6);if(!n)return new Date(NaN);const r=!!n[4],i=Xa(n[1]),o=Xa(n[2])-1,l=Xa(n[3]),u=Xa(n[4]),c=Xa(n[5])-1;if(r)return $6(t,u,c)?T6(t,u,c):new Date(NaN);{const h=new Date(0);return!M6(t,o,l)||!R6(t,i)?new Date(NaN):(h.setUTCFullYear(t,o,Math.max(i,l)),h)}}function Xa(e){return e?parseInt(e):1}function P6(e){const t=e.match(E6);if(!t)return NaN;const n=cp(t[1]),r=cp(t[2]),i=cp(t[3]);return A6(n,r,i)?n*JS+r*XS+i*1e3:NaN}function cp(e){return e&&parseFloat(e.replace(",","."))||0}function D6(e){if(e==="Z")return 0;const t=e.match(N6);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return L6(r,i)?n*(r*JS+i*XS):NaN}function T6(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,o=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const O6=[31,null,31,30,31,30,31,31,30,31,30,31];function uE(e){return e%400===0||e%4===0&&e%100!==0}function M6(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(O6[t]||(uE(e)?29:28))}function R6(e,t){return t>=1&&t<=(uE(e)?366:365)}function $6(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function A6(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function L6(e,t){return t>=0&&t<=59}function dp(e,t){const n=Qe(e),r=n.getFullYear(),i=n.getDate(),o=Hn(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const l=y6(o);return n.setMonth(t,Math.min(i,l)),n}function Xw(e,t){const n=Qe(e);return isNaN(+n)?Hn(e,NaN):(n.setFullYear(t),n)}const I6={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},F6=(e,t,n)=>{let r;const i=I6[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},U6={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},z6={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},W6={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},B6={date:Xo({formats:U6,defaultWidth:"full"}),time:Xo({formats:z6,defaultWidth:"full"}),dateTime:Xo({formats:W6,defaultWidth:"full"})},H6={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},q6={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},G6=(e,t,n,r)=>t.getHours()!==1?q6[e]:H6[e],V6={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},Y6={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},K6={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Q6={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},X6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},J6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Z6=(e,t)=>Number(e)+"",e5={ordinalNumber:Z6,era:Fr({values:V6,defaultWidth:"wide"}),quarter:Fr({values:Y6,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Fr({values:K6,defaultWidth:"wide"}),day:Fr({values:Q6,defaultWidth:"wide"}),dayPeriod:Fr({values:X6,defaultWidth:"wide",formattingValues:J6,defaultFormattingWidth:"wide"})},t5=/^(\d+)()?/i,n5=/\d+/i,r5={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},i5={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},s5={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},o5={any:[/1/i,/2/i,/3/i,/4/i]},a5={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},l5={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},u5={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},c5={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},d5={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},f5={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},h5={ordinalNumber:nE({matchPattern:t5,parsePattern:n5,valueCallback:function(e){return parseInt(e,10)}}),era:Ur({matchPatterns:r5,defaultMatchWidth:"wide",parsePatterns:i5,defaultParseWidth:"any"}),quarter:Ur({matchPatterns:s5,defaultMatchWidth:"wide",parsePatterns:o5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ur({matchPatterns:a5,defaultMatchWidth:"wide",parsePatterns:l5,defaultParseWidth:"any"}),day:Ur({matchPatterns:u5,defaultMatchWidth:"wide",parsePatterns:c5,defaultParseWidth:"any"}),dayPeriod:Ur({matchPatterns:d5,defaultMatchWidth:"any",parsePatterns:f5,defaultParseWidth:"any"})},Bo={code:"es",formatDistance:F6,formatLong:B6,formatRelative:G6,localize:e5,match:h5,options:{weekStartsOn:1,firstWeekContainsDate:1}};var Re=function(){return Re=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Re.apply(this,arguments)};function p5(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function cE(e,t,n){for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function tu(e){return e.mode==="multiple"}function nu(e){return e.mode==="range"}function df(e){return e.mode==="single"}var m5={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function g5(e,t){return Ye(e,"LLLL y",t)}function v5(e,t){return Ye(e,"d",t)}function y5(e,t){return Ye(e,"LLLL",t)}function x5(e){return"".concat(e)}function w5(e,t){return Ye(e,"cccccc",t)}function _5(e,t){return Ye(e,"yyyy",t)}var b5=Object.freeze({__proto__:null,formatCaption:g5,formatDay:v5,formatMonthCaption:y5,formatWeekNumber:x5,formatWeekdayName:w5,formatYearCaption:_5}),S5=function(e,t,n){return Ye(e,"do MMMM (EEEE)",n)},E5=function(){return"Month: "},N5=function(){return"Go to next month"},j5=function(){return"Go to previous month"},C5=function(e,t){return Ye(e,"cccc",t)},k5=function(e){return"Week n. ".concat(e)},P5=function(){return"Year: "},D5=Object.freeze({__proto__:null,labelDay:S5,labelMonthDropdown:E5,labelNext:N5,labelPrevious:j5,labelWeekNumber:k5,labelWeekday:C5,labelYearDropdown:P5});function T5(){var e="buttons",t=m5,n=rE,r={},i={},o=1,l={},u=new Date;return{captionLayout:e,classNames:t,formatters:b5,labels:D5,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:l,today:u,mode:"default"}}function O5(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,o=e.fromDate,l=e.toDate;return r?o=Pn(r):t&&(o=new Date(t,0,1)),i?l=rv(i):n&&(l=new Date(n,11,31)),{fromDate:o?ds(o):void 0,toDate:l?ds(l):void 0}}var dE=v.createContext(void 0);function M5(e){var t,n=e.initialProps,r=T5(),i=O5(n),o=i.fromDate,l=i.toDate,u=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;u!=="buttons"&&(!o||!l)&&(u="buttons");var c;(df(n)||tu(n)||nu(n))&&(c=n.onSelect);var h=Re(Re(Re({},r),n),{captionLayout:u,classNames:Re(Re({},r.classNames),n.classNames),components:Re({},n.components),formatters:Re(Re({},r.formatters),n.formatters),fromDate:o,labels:Re(Re({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Re(Re({},r.modifiers),n.modifiers),modifiersClassNames:Re(Re({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Re(Re({},r.styles),n.styles),toDate:l});return d.jsx(dE.Provider,{value:h,children:e.children})}function dt(){var e=v.useContext(dE);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function fE(e){var t=dt(),n=t.locale,r=t.classNames,i=t.styles,o=t.formatters.formatCaption;return d.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function R5(e){return d.jsx("svg",Re({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:d.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function hE(e){var t,n,r=e.onChange,i=e.value,o=e.children,l=e.caption,u=e.className,c=e.style,h=dt(),p=(n=(t=h.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:R5;return d.jsxs("div",{className:u,style:c,children:[d.jsx("span",{className:h.classNames.vhidden,children:e["aria-label"]}),d.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:i,onChange:r,children:o}),d.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[l,d.jsx(p,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function $5(e){var t,n=dt(),r=n.fromDate,i=n.toDate,o=n.styles,l=n.locale,u=n.formatters.formatMonthCaption,c=n.classNames,h=n.components,p=n.labels.labelMonthDropdown;if(!r)return d.jsx(d.Fragment,{});if(!i)return d.jsx(d.Fragment,{});var m=[];if(b6(r,i))for(var y=Pn(r),x=r.getMonth();x<=i.getMonth();x++)m.push(dp(y,x));else for(var y=Pn(new Date),x=0;x<=11;x++)m.push(dp(y,x));var S=function(k){var b=Number(k.target.value),_=dp(Pn(e.displayMonth),b);e.onChange(_)},C=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:hE;return d.jsx(C,{name:"months","aria-label":p(),className:c.dropdown_month,style:o.dropdown_month,onChange:S,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:l}),children:m.map(function(k){return d.jsx("option",{value:k.getMonth(),children:u(k,{locale:l})},k.getMonth())})})}function A5(e){var t,n=e.displayMonth,r=dt(),i=r.fromDate,o=r.toDate,l=r.locale,u=r.styles,c=r.classNames,h=r.components,p=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,y=[];if(!i)return d.jsx(d.Fragment,{});if(!o)return d.jsx(d.Fragment,{});for(var x=i.getFullYear(),S=o.getFullYear(),C=x;C<=S;C++)y.push(Xw(eE(new Date),C));var k=function(_){var N=Xw(Pn(n),Number(_.target.value));e.onChange(N)},b=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:hE;return d.jsx(b,{name:"years","aria-label":m(),className:c.dropdown_year,style:u.dropdown_year,onChange:k,value:n.getFullYear(),caption:p(n,{locale:l}),children:y.map(function(_){return d.jsx("option",{value:_.getFullYear(),children:p(_,{locale:l})},_.getFullYear())})})}function L5(e,t){var n=v.useState(e),r=n[0],i=n[1],o=t===void 0?r:t;return[o,i]}function I5(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,o=e.toDate,l=e.fromDate,u=e.numberOfMonths,c=u===void 0?1:u;if(o&&Ul(o,i)<0){var h=-1*(c-1);i=kr(o,h)}return l&&Ul(i,l)<0&&(i=l),Pn(i)}function F5(){var e=dt(),t=I5(e),n=L5(t,e.month),r=n[0],i=n[1],o=function(l){var u;if(!e.disableNavigation){var c=Pn(l);i(c),(u=e.onMonthChange)===null||u===void 0||u.call(e,c)}};return[r,o]}function U5(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=Pn(e),o=Pn(kr(i,r)),l=Ul(o,i),u=[],c=0;c<l;c++){var h=kr(i,c);u.push(h)}return n&&(u=u.reverse()),u}function z5(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,l=r?o:1,u=Pn(e);if(!n)return kr(u,l);var c=Ul(n,e);if(!(c<o))return kr(u,l)}}function W5(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,l=r?o:1,u=Pn(e);if(!n)return kr(u,-l);var c=Ul(u,n);if(!(c<=0))return kr(u,-l)}}var pE=v.createContext(void 0);function B5(e){var t=dt(),n=F5(),r=n[0],i=n[1],o=U5(r,t),l=z5(r,t),u=W5(r,t),c=function(m){return o.some(function(y){return sv(m,y)})},h=function(m,y){c(m)||(y&&lE(m,y)?i(kr(m,1+t.numberOfMonths*-1)):i(m))},p={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:h,previousMonth:u,nextMonth:l,isDateDisplayed:c};return d.jsx(pE.Provider,{value:p,children:e.children})}function ru(){var e=v.useContext(pE);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Jw(e){var t,n=dt(),r=n.classNames,i=n.styles,o=n.components,l=ru().goToMonth,u=function(p){l(kr(p,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:fE,h=d.jsx(c,{id:e.id,displayMonth:e.displayMonth});return d.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[d.jsx("div",{className:r.vhidden,children:h}),d.jsx($5,{onChange:u,displayMonth:e.displayMonth}),d.jsx(A5,{onChange:u,displayMonth:e.displayMonth})]})}function H5(e){return d.jsx("svg",Re({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:d.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function q5(e){return d.jsx("svg",Re({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:d.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var _d=v.forwardRef(function(e,t){var n=dt(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var l=o.join(" "),u=Re(Re({},i.button_reset),i.button);return e.style&&Object.assign(u,e.style),d.jsx("button",Re({},e,{ref:t,type:"button",className:l,style:u}))});function G5(e){var t,n,r=dt(),i=r.dir,o=r.locale,l=r.classNames,u=r.styles,c=r.labels,h=c.labelPrevious,p=c.labelNext,m=r.components;if(!e.nextMonth&&!e.previousMonth)return d.jsx(d.Fragment,{});var y=h(e.previousMonth,{locale:o}),x=[l.nav_button,l.nav_button_previous].join(" "),S=p(e.nextMonth,{locale:o}),C=[l.nav_button,l.nav_button_next].join(" "),k=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:q5,b=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:H5;return d.jsxs("div",{className:l.nav,style:u.nav,children:[!e.hidePrevious&&d.jsx(_d,{name:"previous-month","aria-label":y,className:x,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?d.jsx(k,{className:l.nav_icon,style:u.nav_icon}):d.jsx(b,{className:l.nav_icon,style:u.nav_icon})}),!e.hideNext&&d.jsx(_d,{name:"next-month","aria-label":S,className:C,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?d.jsx(b,{className:l.nav_icon,style:u.nav_icon}):d.jsx(k,{className:l.nav_icon,style:u.nav_icon})})]})}function Zw(e){var t=dt().numberOfMonths,n=ru(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,l=n.displayMonths,u=l.findIndex(function(S){return sv(e.displayMonth,S)}),c=u===0,h=u===l.length-1,p=t>1&&(c||!h),m=t>1&&(h||!c),y=function(){r&&o(r)},x=function(){i&&o(i)};return d.jsx(G5,{displayMonth:e.displayMonth,hideNext:p,hidePrevious:m,nextMonth:i,previousMonth:r,onPreviousClick:y,onNextClick:x})}function V5(e){var t,n=dt(),r=n.classNames,i=n.disableNavigation,o=n.styles,l=n.captionLayout,u=n.components,c=(t=u==null?void 0:u.CaptionLabel)!==null&&t!==void 0?t:fE,h;return i?h=d.jsx(c,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?h=d.jsx(Jw,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?h=d.jsxs(d.Fragment,{children:[d.jsx(Jw,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),d.jsx(Zw,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):h=d.jsxs(d.Fragment,{children:[d.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),d.jsx(Zw,{displayMonth:e.displayMonth,id:e.id})]}),d.jsx("div",{className:r.caption,style:o.caption,children:h})}function Y5(e){var t=dt(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?d.jsx("tfoot",{className:i,style:r.tfoot,children:d.jsx("tr",{children:d.jsx("td",{colSpan:8,children:n})})}):d.jsx(d.Fragment,{})}function K5(e,t,n){for(var r=n?to(new Date):Hr(new Date,{locale:e,weekStartsOn:t}),i=[],o=0;o<7;o++){var l=fn(r,o);i.push(l)}return i}function Q5(){var e=dt(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,o=e.weekStartsOn,l=e.ISOWeek,u=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,h=K5(i,o,l);return d.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&d.jsx("td",{style:n.head_cell,className:t.head_cell}),h.map(function(p,m){return d.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(p,{locale:i}),children:u(p,{locale:i})},m)})]})}function X5(){var e,t=dt(),n=t.classNames,r=t.styles,i=t.components,o=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:Q5;return d.jsx("thead",{style:r.head,className:n.head,children:d.jsx(o,{})})}function J5(e){var t=dt(),n=t.locale,r=t.formatters.formatDay;return d.jsx(d.Fragment,{children:r(e.date,{locale:n})})}var ov=v.createContext(void 0);function Z5(e){if(!tu(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return d.jsx(ov.Provider,{value:t,children:e.children})}return d.jsx(eF,{initialProps:e.initialProps,children:e.children})}function eF(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,o=t.max,l=function(h,p,m){var y,x;(y=t.onDayClick)===null||y===void 0||y.call(t,h,p,m);var S=!!(p.selected&&i&&(r==null?void 0:r.length)===i);if(!S){var C=!!(!p.selected&&o&&(r==null?void 0:r.length)===o);if(!C){var k=r?cE([],r):[];if(p.selected){var b=k.findIndex(function(_){return Ve(h,_)});k.splice(b,1)}else k.push(h);(x=t.onSelect)===null||x===void 0||x.call(t,k,h,p,m)}}},u={disabled:[]};r&&u.disabled.push(function(h){var p=o&&r.length>o-1,m=r.some(function(y){return Ve(y,h)});return!!(p&&!m)});var c={selected:r,onDayClick:l,modifiers:u};return d.jsx(ov.Provider,{value:c,children:n})}function av(){var e=v.useContext(ov);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function tF(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?Ve(i,e)&&Ve(r,e)?void 0:Ve(i,e)?{from:i,to:void 0}:Ve(r,e)?void 0:Rm(r,e)?{from:e,to:i}:{from:r,to:e}:i?Rm(e,i)?{from:i,to:e}:{from:e,to:i}:r?lE(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var lv=v.createContext(void 0);function nF(e){if(!nu(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return d.jsx(lv.Provider,{value:t,children:e.children})}return d.jsx(rF,{initialProps:e.initialProps,children:e.children})}function rF(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},o=i.from,l=i.to,u=t.min,c=t.max,h=function(x,S,C){var k,b;(k=t.onDayClick)===null||k===void 0||k.call(t,x,S,C);var _=tF(x,r);(b=t.onSelect)===null||b===void 0||b.call(t,_,x,S,C)},p={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(p.range_start=[o],l?(p.range_end=[l],Ve(o,l)||(p.range_middle=[{after:o,before:l}])):p.range_end=[o]):l&&(p.range_start=[l],p.range_end=[l]),u&&(o&&!l&&p.disabled.push({after:up(o,u-1),before:fn(o,u-1)}),o&&l&&p.disabled.push({after:o,before:fn(o,u-1)}),!o&&l&&p.disabled.push({after:up(l,u-1),before:fn(l,u-1)})),c){if(o&&!l&&(p.disabled.push({before:fn(o,-c+1)}),p.disabled.push({after:fn(o,c-1)})),o&&l){var m=zr(l,o)+1,y=c-m;p.disabled.push({before:up(o,y)}),p.disabled.push({after:fn(l,y)})}!o&&l&&(p.disabled.push({before:fn(l,-c+1)}),p.disabled.push({after:fn(l,c-1)}))}return d.jsx(lv.Provider,{value:{selected:r,onDayClick:h,modifiers:p},children:n})}function uv(){var e=v.useContext(lv);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Fc(e){return Array.isArray(e)?cE([],e):e!==void 0?[e]:[]}function iF(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=Fc(i)}),t}var Pr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Pr||(Pr={}));var sF=Pr.Selected,si=Pr.Disabled,oF=Pr.Hidden,aF=Pr.Today,fp=Pr.RangeEnd,hp=Pr.RangeMiddle,pp=Pr.RangeStart,lF=Pr.Outside;function uF(e,t,n){var r,i=(r={},r[sF]=Fc(e.selected),r[si]=Fc(e.disabled),r[oF]=Fc(e.hidden),r[aF]=[e.today],r[fp]=[],r[hp]=[],r[pp]=[],r[lF]=[],r);return e.fromDate&&i[si].push({before:e.fromDate}),e.toDate&&i[si].push({after:e.toDate}),tu(e)?i[si]=i[si].concat(t.modifiers[si]):nu(e)&&(i[si]=i[si].concat(n.modifiers[si]),i[pp]=n.modifiers[pp],i[hp]=n.modifiers[hp],i[fp]=n.modifiers[fp]),i}var mE=v.createContext(void 0);function cF(e){var t=dt(),n=av(),r=uv(),i=uF(t,n,r),o=iF(t.modifiers),l=Re(Re({},i),o);return d.jsx(mE.Provider,{value:l,children:e.children})}function gE(){var e=v.useContext(mE);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function dF(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function fF(e){return!!(e&&typeof e=="object"&&"from"in e)}function hF(e){return!!(e&&typeof e=="object"&&"after"in e)}function pF(e){return!!(e&&typeof e=="object"&&"before"in e)}function mF(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function gF(e,t){var n,r=t.from,i=t.to;if(r&&i){var o=zr(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var l=zr(e,r)>=0&&zr(i,e)>=0;return l}return i?Ve(i,e):r?Ve(r,e):!1}function vF(e){return nv(e)}function yF(e){return Array.isArray(e)&&e.every(nv)}function xF(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(vF(n))return Ve(e,n);if(yF(n))return n.includes(e);if(fF(n))return gF(e,n);if(mF(n))return n.dayOfWeek.includes(e.getDay());if(dF(n)){var r=zr(n.before,e),i=zr(n.after,e),o=r>0,l=i<0,u=Rm(n.before,n.after);return u?l&&o:o||l}return hF(n)?zr(e,n.after)>0:pF(n)?zr(n.before,e)>0:typeof n=="function"?n(e):!1})}function cv(e,t,n){var r=Object.keys(t).reduce(function(o,l){var u=t[l];return xF(e,u)&&o.push(l),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!sv(e,n)&&(i.outside=!0),i}function wF(e,t){for(var n=Pn(e[0]),r=rv(e[e.length-1]),i,o,l=n;l<=r;){var u=cv(l,t),c=!u.disabled&&!u.hidden;if(!c){l=fn(l,1);continue}if(u.selected)return l;u.today&&!o&&(o=l),i||(i=l),l=fn(l,1)}return o||i}var _F=365;function vE(e,t){var n=t.moveBy,r=t.direction,i=t.context,o=t.modifiers,l=t.retry,u=l===void 0?{count:0,lastFocused:e}:l,c=i.weekStartsOn,h=i.fromDate,p=i.toDate,m=i.locale,y={day:fn,week:Mm,month:kr,year:xI,startOfWeek:function(k){return i.ISOWeek?to(k):Hr(k,{locale:m,weekStartsOn:c})},endOfWeek:function(k){return i.ISOWeek?tE(k):iv(k,{locale:m,weekStartsOn:c})}},x=y[n](e,r==="after"?1:-1);r==="before"&&h?x=wI([h,x]):r==="after"&&p&&(x=_I([p,x]));var S=!0;if(o){var C=cv(x,o);S=!C.disabled&&!C.hidden}return S?x:u.count>_F?u.lastFocused:vE(x,{moveBy:n,direction:r,context:i,modifiers:o,retry:Re(Re({},u),{count:u.count+1})})}var yE=v.createContext(void 0);function bF(e){var t=ru(),n=gE(),r=v.useState(),i=r[0],o=r[1],l=v.useState(),u=l[0],c=l[1],h=wF(t.displayMonths,n),p=i??(u&&t.isDateDisplayed(u))?u:h,m=function(){c(i),o(void 0)},y=function(k){o(k)},x=dt(),S=function(k,b){if(i){var _=vE(i,{moveBy:k,direction:b,context:x,modifiers:n});Ve(i,_)||(t.goToDate(_,i),y(_))}},C={focusedDay:i,focusTarget:p,blur:m,focus:y,focusDayAfter:function(){return S("day","after")},focusDayBefore:function(){return S("day","before")},focusWeekAfter:function(){return S("week","after")},focusWeekBefore:function(){return S("week","before")},focusMonthBefore:function(){return S("month","before")},focusMonthAfter:function(){return S("month","after")},focusYearBefore:function(){return S("year","before")},focusYearAfter:function(){return S("year","after")},focusStartOfWeek:function(){return S("startOfWeek","before")},focusEndOfWeek:function(){return S("endOfWeek","after")}};return d.jsx(yE.Provider,{value:C,children:e.children})}function dv(){var e=v.useContext(yE);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function SF(e,t){var n=gE(),r=cv(e,n,t);return r}var fv=v.createContext(void 0);function EF(e){if(!df(e.initialProps)){var t={selected:void 0};return d.jsx(fv.Provider,{value:t,children:e.children})}return d.jsx(NF,{initialProps:e.initialProps,children:e.children})}function NF(e){var t=e.initialProps,n=e.children,r=function(o,l,u){var c,h,p;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,l,u),l.selected&&!t.required){(h=t.onSelect)===null||h===void 0||h.call(t,void 0,o,l,u);return}(p=t.onSelect)===null||p===void 0||p.call(t,o,o,l,u)},i={selected:t.selected,onDayClick:r};return d.jsx(fv.Provider,{value:i,children:n})}function xE(){var e=v.useContext(fv);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function jF(e,t){var n=dt(),r=xE(),i=av(),o=uv(),l=dv(),u=l.focusDayAfter,c=l.focusDayBefore,h=l.focusWeekAfter,p=l.focusWeekBefore,m=l.blur,y=l.focus,x=l.focusMonthBefore,S=l.focusMonthAfter,C=l.focusYearBefore,k=l.focusYearAfter,b=l.focusStartOfWeek,_=l.focusEndOfWeek,N=function($){var T,F,te,se;df(n)?(T=r.onDayClick)===null||T===void 0||T.call(r,e,t,$):tu(n)?(F=i.onDayClick)===null||F===void 0||F.call(i,e,t,$):nu(n)?(te=o.onDayClick)===null||te===void 0||te.call(o,e,t,$):(se=n.onDayClick)===null||se===void 0||se.call(n,e,t,$)},P=function($){var T;y(e),(T=n.onDayFocus)===null||T===void 0||T.call(n,e,t,$)},R=function($){var T;m(),(T=n.onDayBlur)===null||T===void 0||T.call(n,e,t,$)},z=function($){var T;(T=n.onDayMouseEnter)===null||T===void 0||T.call(n,e,t,$)},L=function($){var T;(T=n.onDayMouseLeave)===null||T===void 0||T.call(n,e,t,$)},W=function($){var T;(T=n.onDayPointerEnter)===null||T===void 0||T.call(n,e,t,$)},ue=function($){var T;(T=n.onDayPointerLeave)===null||T===void 0||T.call(n,e,t,$)},re=function($){var T;(T=n.onDayTouchCancel)===null||T===void 0||T.call(n,e,t,$)},q=function($){var T;(T=n.onDayTouchEnd)===null||T===void 0||T.call(n,e,t,$)},Ee=function($){var T;(T=n.onDayTouchMove)===null||T===void 0||T.call(n,e,t,$)},ne=function($){var T;(T=n.onDayTouchStart)===null||T===void 0||T.call(n,e,t,$)},me=function($){var T;(T=n.onDayKeyUp)===null||T===void 0||T.call(n,e,t,$)},be=function($){var T;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?u():c();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?c():u();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),h();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),p();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?C():x();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?k():S();break;case"Home":$.preventDefault(),$.stopPropagation(),b();break;case"End":$.preventDefault(),$.stopPropagation(),_();break}(T=n.onDayKeyDown)===null||T===void 0||T.call(n,e,t,$)},Me={onClick:N,onFocus:P,onBlur:R,onKeyDown:be,onKeyUp:me,onMouseEnter:z,onMouseLeave:L,onPointerEnter:W,onPointerLeave:ue,onTouchCancel:re,onTouchEnd:q,onTouchMove:Ee,onTouchStart:ne};return Me}function CF(){var e=dt(),t=xE(),n=av(),r=uv(),i=df(e)?t.selected:tu(e)?n.selected:nu(e)?r.selected:void 0;return i}function kF(e){return Object.values(Pr).includes(e)}function PF(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(kF(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function DF(e,t){var n=Re({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=Re(Re({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function TF(e,t,n){var r,i,o,l=dt(),u=dv(),c=SF(e,t),h=jF(e,c),p=CF(),m=!!(l.onDayClick||l.mode!=="default");v.useEffect(function(){var z;c.outside||u.focusedDay&&m&&Ve(u.focusedDay,e)&&((z=n.current)===null||z===void 0||z.focus())},[u.focusedDay,e,n,m,c.outside]);var y=PF(l,c).join(" "),x=DF(l,c),S=!!(c.outside&&!l.showOutsideDays||c.hidden),C=(o=(i=l.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:J5,k=d.jsx(C,{date:e,displayMonth:t,activeModifiers:c}),b={style:x,className:y,children:k,role:"gridcell"},_=u.focusTarget&&Ve(u.focusTarget,e)&&!c.outside,N=u.focusedDay&&Ve(u.focusedDay,e),P=Re(Re(Re({},b),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=N||_?0:-1,r)),h),R={isButton:m,isHidden:S,activeModifiers:c,selectedDays:p,buttonProps:P,divProps:b};return R}function OF(e){var t=v.useRef(null),n=TF(e.date,e.displayMonth,t);return n.isHidden?d.jsx("div",{role:"gridcell"}):n.isButton?d.jsx(_d,Re({name:"day",ref:t},n.buttonProps)):d.jsx("div",Re({},n.divProps))}function MF(e){var t=e.number,n=e.dates,r=dt(),i=r.onWeekNumberClick,o=r.styles,l=r.classNames,u=r.locale,c=r.labels.labelWeekNumber,h=r.formatters.formatWeekNumber,p=h(Number(t),{locale:u});if(!i)return d.jsx("span",{className:l.weeknumber,style:o.weeknumber,children:p});var m=c(Number(t),{locale:u}),y=function(x){i(t,n,x)};return d.jsx(_d,{name:"week-number","aria-label":m,className:l.weeknumber,style:o.weeknumber,onClick:y,children:p})}function RF(e){var t,n,r=dt(),i=r.styles,o=r.classNames,l=r.showWeekNumber,u=r.components,c=(t=u==null?void 0:u.Day)!==null&&t!==void 0?t:OF,h=(n=u==null?void 0:u.WeekNumber)!==null&&n!==void 0?n:MF,p;return l&&(p=d.jsx("td",{className:o.cell,style:i.cell,children:d.jsx(h,{number:e.weekNumber,dates:e.dates})})),d.jsxs("tr",{className:o.row,style:i.row,children:[p,e.dates.map(function(m){return d.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:d.jsx(c,{displayMonth:e.displayMonth,date:m})},x6(m))})]})}function e1(e,t,n){for(var r=n!=null&&n.ISOWeek?tE(t):iv(t,n),i=n!=null&&n.ISOWeek?to(e):Hr(e,n),o=zr(r,i),l=[],u=0;u<=o;u++)l.push(fn(i,u));var c=l.reduce(function(h,p){var m=n!=null&&n.ISOWeek?iE(p):oE(p,n),y=h.find(function(x){return x.weekNumber===m});return y?(y.dates.push(p),h):(h.push({weekNumber:m,dates:[p]}),h)},[]);return c}function $F(e,t){var n=e1(Pn(e),rv(e),t);if(t!=null&&t.useFixedWeeks){var r=_6(e,t);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],l=Mm(o,6-r),u=e1(Mm(o,1),l,t);n.push.apply(n,u)}}return n}function AF(e){var t,n,r,i=dt(),o=i.locale,l=i.classNames,u=i.styles,c=i.hideHead,h=i.fixedWeeks,p=i.components,m=i.weekStartsOn,y=i.firstWeekContainsDate,x=i.ISOWeek,S=$F(e.displayMonth,{useFixedWeeks:!!h,ISOWeek:x,locale:o,weekStartsOn:m,firstWeekContainsDate:y}),C=(t=p==null?void 0:p.Head)!==null&&t!==void 0?t:X5,k=(n=p==null?void 0:p.Row)!==null&&n!==void 0?n:RF,b=(r=p==null?void 0:p.Footer)!==null&&r!==void 0?r:Y5;return d.jsxs("table",{id:e.id,className:l.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&d.jsx(C,{}),d.jsx("tbody",{className:l.tbody,style:u.tbody,children:S.map(function(_){return d.jsx(k,{displayMonth:e.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),d.jsx(b,{displayMonth:e.displayMonth})]})}function LF(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var IF=LF()?v.useLayoutEffect:v.useEffect,mp=!1,FF=0;function t1(){return"react-day-picker-".concat(++FF)}function UF(e){var t,n=e??(mp?t1():null),r=v.useState(n),i=r[0],o=r[1];return IF(function(){i===null&&o(t1())},[]),v.useEffect(function(){mp===!1&&(mp=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function zF(e){var t,n,r=dt(),i=r.dir,o=r.classNames,l=r.styles,u=r.components,c=ru().displayMonths,h=UF(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),p=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,m=[o.month],y=l.month,x=e.displayIndex===0,S=e.displayIndex===c.length-1,C=!x&&!S;i==="rtl"&&(t=[x,S],S=t[0],x=t[1]),x&&(m.push(o.caption_start),y=Re(Re({},y),l.caption_start)),S&&(m.push(o.caption_end),y=Re(Re({},y),l.caption_end)),C&&(m.push(o.caption_between),y=Re(Re({},y),l.caption_between));var k=(n=u==null?void 0:u.Caption)!==null&&n!==void 0?n:V5;return d.jsxs("div",{className:m.join(" "),style:y,children:[d.jsx(k,{id:h,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),d.jsx(AF,{id:p,"aria-labelledby":h,displayMonth:e.displayMonth})]},e.displayIndex)}function WF(e){var t=dt(),n=t.classNames,r=t.styles;return d.jsx("div",{className:n.months,style:r.months,children:e.children})}function BF(e){var t,n,r=e.initialProps,i=dt(),o=dv(),l=ru(),u=v.useState(!1),c=u[0],h=u[1];v.useEffect(function(){i.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),h(!0)))},[i.initialFocus,c,o.focus,o.focusTarget,o]);var p=[i.classNames.root,i.className];i.numberOfMonths>1&&p.push(i.classNames.multiple_months),i.showWeekNumber&&p.push(i.classNames.with_weeknumber);var m=Re(Re({},i.styles.root),i.style),y=Object.keys(r).filter(function(S){return S.startsWith("data-")}).reduce(function(S,C){var k;return Re(Re({},S),(k={},k[C]=r[C],k))},{}),x=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:WF;return d.jsx("div",Re({className:p.join(" "),style:m,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},y,{children:d.jsx(x,{children:l.displayMonths.map(function(S,C){return d.jsx(zF,{displayIndex:C,displayMonth:S},C)})})}))}function HF(e){var t=e.children,n=p5(e,["children"]);return d.jsx(M5,{initialProps:n,children:d.jsx(B5,{children:d.jsx(EF,{initialProps:n,children:d.jsx(Z5,{initialProps:n,children:d.jsx(nF,{initialProps:n,children:d.jsx(cF,{children:d.jsx(bF,{children:t})})})})})})})}function qF(e){return d.jsx(HF,Re({},e,{children:d.jsx(BF,{initialProps:e})}))}function GF({members:e,onAvailableDatesChange:t,groupName:n="Sin nombre"}){const r=`
    /* Estilos para el calendario */
    .rdp {
      transition: none !important;
    }
    
    /* Contenedor del calendario con altura fija para evitar saltos */
    .calendar-container {
      min-height: 380px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    /* Capa de carga */
    .calendar-loading-overlay {
      position: absolute;
      inset: 0;
      background-color: rgba(255, 255, 255, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      border-radius: 0.5rem;
    }
    
    /* Estilos para das seleccionados - con mayor especificidad para garantizar que se apliquen */
    .rdp-day_selected:not([disabled]), 
    .rdp-day_selected:hover:not([disabled]),
    .rdp-day_selected:focus:not([disabled]) { 
      font-weight: bold !important;
      box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.5) !important;
    }
    
    /* Separamos los estilos para que el fondo no afecte a la visualizacin de los puntos */
    .rdp-day_selected .day-content:not(.selected-day),
    .rdp-day_selected:hover .day-content:not(.selected-day),
    .rdp-day_selected:focus .day-content:not(.selected-day) {
      background-color: #4f46e5 !important;
    }
    
    /* Estilos para das con eventos externos */
    .has-external-events {
      position: relative;
    }
    
    .has-external-events::after {
      content: '';
      position: absolute;
      top: 1px;
      left: 1px;
      right: 1px;
      bottom: 1px;
      border: 2px dashed #f97316;
      border-radius: 4px;
      pointer-events: none;
      z-index: 1;
    }
    
    /* Aseguramos que los das seleccionados siempre tengan prioridad visual */
    .rdp-day_selected .has-external-events::after,
    .selected-day .has-external-events::after {
      border-color: white;
    }
    
    /* Mejoramos la visibilidad de los puntos de disponibilidad */
    .availability-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      margin: 1px;
    }
    
    .availability-dot.you {
      background-color: #4f46e5;
    }
    
    .availability-dot.others {
      background-color: #c7d2fe;
    }
  `,{id:i}=Hb(),[o,l]=v.useState([]),[u,c]=v.useState(void 0),[h,p]=v.useState(!0),[m,y]=v.useState(!1),[x,S]=v.useState(null),[C,k]=v.useState(!1),[b,_]=v.useState([]),[N,P]=v.useState([]),[R,z]=v.useState([]),[L,W]=v.useState([]),[ue,re]=v.useState([]),{user:q}=Vn();v.useEffect(()=>{q&&(Ee(),Me(),me(),ne(),be())},[q,i]),v.useEffect(()=>{F()},[o,N,R,L]),v.useEffect(()=>{t&&t(b)},[b,t]);const Ee=async()=>{const Z=await ut(async()=>await oe.from("users").select("role").eq("id",q==null?void 0:q.id).single(),"Error checking admin status");Z&&k(Z.role==="admin")},ne=async()=>{const Z=await ut(async()=>await oe.from("events").select(`
            id,
            date,
            name,
            group_id,
            event_members (
              user_id
            )
          `),"Error al obtener los eventos");if(Z){const V=[];Z.forEach(U=>{var K;(K=U.event_members)==null||K.forEach(fe=>{V.push({event_id:U.id,date:U.date,user_id:fe.user_id,name:U.name,group_id:U.group_id})})}),P(V)}},me=async()=>{const Z=await ut(async()=>await oe.from("events").select(`
            id,
            date,
            name,
            group_id
          `).eq("group_id",i),"Error fetching group events");if(Z){const V=Z.map(U=>({event_id:U.id,date:U.date,user_id:"",name:U.name,group_id:U.group_id}));z(V)}},be=async()=>{console.log("=== INICIO fetchMemberExternalEvents ==="),console.log("GroupId actual:",i);const Z=await oe.from("events").select(`
        id,
        date,
        group_id,
        name,
        event_members (
          user_id
        )
      `).neq("group_id",i);if(console.log("4. Query completa:",Z.data),Z.error){console.error("Error al obtener eventos externos:",Z.error);return}const V=Z.data||[],U=[];V.forEach(K=>{var fe;(fe=K.event_members)==null||fe.forEach(ee=>{U.push({user_id:ee.user_id,date:K.date})})}),W(U),console.log("Eventos externos formateados:",U),console.log("=== FIN fetchMemberExternalEvents ===")},Me=async()=>{if(i){p(!0);try{const Z=e.filter(U=>U.user_id!==null).map(U=>U.user_id),V=await ut(async()=>await oe.from("member_availability").select("user_id, date").in("user_id",Z).order("date"),"Error fetching availabilities");if(V){const U=e.filter(K=>K.user_id!==null).map(K=>({userId:K.user_id,memberName:K.name||"Unknown Member",dates:V.filter(fe=>fe.user_id===K.user_id).map(fe=>new Date(fe.date)),instruments:K.instruments||[],roleInBand:K.role_in_group||"principal"}));l(U)}}catch(Z){console.error("Error fetching availabilities:",Z),H.error("Error al obtener las disponibilidades")}finally{p(!1)}}},$=(Z,V)=>{if(console.log(`
Verificando disponibilidad para el miembro: ${Z.name} (ID: ${Z.user_id}) en la fecha: ${Ye(V,"yyyy-MM-dd")}`),N.some(M=>{const ae=new Date(M.date),ce=M.user_id===Z.user_id&&Ve(ae,V);return ce&&console.log(`- Tiene un evento en el grupo actual el da: ${Ye(ae,"yyyy-MM-dd")}`),ce}))return console.log(`=> El miembro ${Z.name} no est disponible debido a un evento en el grupo actual.`),!1;if(L.some(M=>{const ae=new Date(M.date),ce=M.user_id===Z.user_id&&Ve(ae,V);return ce&&console.log(`- Tiene un evento en otra banda el da: ${Ye(ae,"yyyy-MM-dd")}`),ce}))return console.log(`=> El miembro ${Z.name} no est disponible debido a un evento en otra banda.`),!1;const fe=o.find(M=>M.userId===Z.user_id),ee=(fe==null?void 0:fe.dates.some(M=>Ve(M,V)))??!1;return console.log(`- Disponibilidad marcada: ${ee?"S":"No"}`),ee},T=Z=>R.filter(V=>Ve(new Date(V.date),Z)),F=()=>{try{if(console.log(`
=== INICIO calculateGroupAvailability ===`),console.log("Members recibidos:",e),e.length===0){console.log("No hay miembros en el grupo"),_([]),re([]);return}const Z=new Set;console.log("1. Creando conjunto de fechas...");const V=[],U=[],K=e.filter(M=>M.role_in_group==="principal");if(console.log("4. Miembros principales encontrados:",K.length),console.log("5. Nombres de principales:",K.map(M=>M.name)),K.length===0){console.log("No hay miembros principales en el grupo"),_([]),re([]);return}o.forEach(M=>{M.dates.forEach(ae=>{Z.add(Ye(ae,"yyyy-MM-dd"))})}),L.forEach(M=>{Z.add(Ye(new Date(M.date),"yyyy-MM-dd"))}),console.log("3. Fechas incluyendo eventos externos:",Array.from(Z));const fe=Array.from(Z).map(M=>new Date(M));console.log("4. Miembros principales encontrados:",K.length),console.log("5. Nombres de principales:",K.map(M=>M.name));const ee=e.filter(M=>M.role_in_group==="sustituto");console.log("6. Sustitutos encontrados:",ee.length),fe.forEach(M=>{const ae=Ye(M,"yyyy-MM-dd");console.log(`
=== Analizando fecha: ${ae} ===`),console.log("Miembros principales a verificar:",K.map(G=>G.name)),K.forEach(G=>{console.log(`
Verificando principal: ${G.name}`);const de=o.find(nt=>nt.userId===G.user_id),ve=(de==null?void 0:de.dates.some(nt=>Ve(nt,M)))??!1;console.log(`- Disponibilidad marcada: ${ve}`);const Pe=N.some(nt=>nt.user_id===G.user_id&&Ve(new Date(nt.date),M));console.log(`- Tiene evento en este grupo: ${Pe}`);const je=L.some(nt=>nt.user_id===G.user_id&&Ve(new Date(nt.date),M));console.log(`- Tiene evento externo: ${je}`),console.log(`=> Disponibilidad final: ${ve&&!Pe&&!je}`)});const ce=K.filter(G=>{const de=$(G,M);return console.log(`${G.name} disponible: ${de}`),!de});console.log(`
Principales NO disponibles (${ce.length}):`,ce.map(G=>G.name)),ce.length===0?(console.log(`=> La fecha ${ae} est disponible para el grupo (todos los principales disponibles).`),V.push(M)):(console.log(`
Verificando sustitutos para ${ae}...`),ce.every(de=>{console.log(`
Buscando sustitutos para ${de.name}:`);const ve=de.instruments.map(Ke=>Ke.id);console.log("- Instrumentos requeridos:",ve);const Pe=ee.filter(Ke=>{const nt=$(Ke,M);return console.log(`- Sustituto ${Ke.name}: Disponible=${nt}`),nt});console.log("- Sustitutos disponibles:",Pe.map(Ke=>Ke.name));const je=Pe.some(Ke=>{const nt=Ke.instruments.map(yt=>yt.id),Xe=ve.every(yt=>nt.includes(yt));return console.log(`  * ${Ke.name} puede cubrir instrumentos: ${Xe}`),Xe});return console.log(`=> ${de.name} puede ser sustituido: ${je}`),je})?(console.log(`=> La fecha ${ae} est disponible mediante sustituciones.`),V.push(M)):(console.log(`=> La fecha ${ae} NO est disponible para el grupo.`),U.push(M)))}),console.log(`
=== RESUMEN FINAL ===`),console.log("Fechas disponibles:",V.map(M=>Ye(M,"yyyy-MM-dd"))),console.log("Fechas NO disponibles:",U.map(M=>Ye(M,"yyyy-MM-dd"))),_(V),re(U)}catch(Z){console.error("ERROR en calculateGroupAvailability:",Z)}},te=()=>{const Z=e.find(V=>V.user_id===(q==null?void 0:q.id));return C||(Z==null?void 0:Z.role_in_group)==="principal"},[se,_e]=v.useState(!1),ge=v.useRef(null),$e=async(Z=!1)=>{try{const V=window.scrollY;return Z?_e(!0):y(!0),await new Promise(U=>setTimeout(U,50)),await Promise.all([Me(),ne(),me(),be()]),F(),window.scrollTo(0,V),Z||H.success("Calendario actualizado correctamente"),!0}catch(V){return console.error("Error al actualizar datos del calendario:",V),Z||H.error("Error al actualizar el calendario"),!1}finally{setTimeout(()=>{Z||y(!1),_e(!1)},500)}},ke=async Z=>{var ee;if(console.log(`Fecha seleccionada: ${Ye(Z,"dd/MM/yyyy")}`),!q){H.error("Debes iniciar sesin para gestionar la disponibilidad");return}if(m)return;y(!0);const V=e.find(M=>M.user_id===q.id);if(!(C||(V==null?void 0:V.role_in_group)==="principal"||q.id===(x??q.id))){H.error("No tienes permisos para gestionar esta disponibilidad"),y(!1);return}const K=x??q.id;if(N.some(M=>M.user_id===K&&Ve(new Date(M.date),Z))){H.error("No puedes cambiar tu disponibilidad en fechas con eventos programados"),y(!1);return}try{const M=e.find(G=>G.user_id===K);if(!M){H.error("Miembro no encontrado"),y(!1);return}const ae=(ee=o.find(G=>G.userId===M.user_id))==null?void 0:ee.dates.some(G=>Ve(G,Z)),ce=Ye(Z,"yyyy-MM-dd");if(ae)try{const G=await oe.from("member_availability").delete().eq("user_id",M.user_id).eq("date",ce);if(G.error){console.error("Error al eliminar disponibilidad:",G.error),H.error("Hubo un problema al guardar"),y(!1);return}c(Z),H.success(`Fecha ${Ye(Z,"dd/MM/yyyy")} eliminada de tu disponibilidad`),l(de=>de.map(ve=>ve.userId===M.user_id?{...ve,dates:ve.dates.filter(Pe=>!Ve(Pe,Z))}:ve)),F()}catch(G){console.error("Error inesperado al eliminar disponibilidad:",G),H.error("Ha ocurrido un error al procesar tu solicitud")}else try{const G=await oe.from("member_availability").insert([{user_id:M.user_id,date:ce}]);if(G.error){console.error("Error al insertar disponibilidad:",G.error),H.error("Hubo un problema al guardar"),y(!1);return}c(Z),H.success(`Fecha ${Ye(Z,"dd/MM/yyyy")} aadida a tu disponibilidad`),l(de=>de.map(ve=>ve.userId===M.user_id?{...ve,dates:[...ve.dates,Z]}:ve)),F()}catch(G){console.error("Error inesperado al aadir disponibilidad:",G),H.error("Ha ocurrido un error al procesar tu solicitud")}}catch(M){console.error("Error en handleDayClick:",M),H.error("Ha ocurrido un error al procesar tu solicitud")}finally{y(!1)}};function Oe(Z){return e.filter(V=>{var fe;const U=((fe=o.find(ee=>ee.userId===V.user_id))==null?void 0:fe.dates.some(ee=>Ve(ee,Z)))??!1,K=R.some(ee=>ee.user_id===V.user_id&&Ve(new Date(ee.date),Z));return U||K})}const Q=Z=>{const{date:V}=Z,U=Oe(V),K=U.some(je=>je.user_id===(x||(q==null?void 0:q.id))),fe=K&&L.some(je=>je.user_id===(x||(q==null?void 0:q.id))&&Ve(new Date(je.date),V)),ee=U.filter(je=>je.user_id!==(x||(q==null?void 0:q.id))),M=ee.length,ae=ee.filter(je=>L.some(Ke=>Ke.user_id===je.user_id&&Ve(new Date(Ke.date),V))).length,ce=b.some(je=>Ve(je,V)),G=ue.some(je=>Ve(je,V)),de=T(V),ve=de.length>0,Pe=fe||ae>0;return d.jsxs("div",{className:`day-content ${ce?"group-available":""} ${G?"group-not-available":""} ${ve?"has-event":""} ${Pe?"has-external-events":""} ${u&&Ve(V,u)?"selected-day":""}`,children:[d.jsx("span",{className:`${u&&Ve(V,u)?"text-indigo-900 font-bold":""}`,children:V.getDate()}),(K||M>0||ve)&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"availability-dots",children:[K&&d.jsx("div",{className:`availability-dot you ${fe?"border border-orange-500 bg-orange-200":""}`}),ee.slice(0,3).map((je,Ke)=>{const nt=L.some(Xe=>Xe.user_id===je.user_id&&Ve(new Date(Xe.date),V));return d.jsx("div",{className:`availability-dot others ${nt?"border border-orange-500 bg-orange-200":""}`},Ke)})]}),d.jsxs("div",{className:"day-tooltip",children:[d.jsxs("div",{className:"text-sm font-medium text-gray-900 mb-2",children:[Ye(V,"MMMM d, yyyy"),d.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[ce&&d.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Grupo disponible"}),ve&&d.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-0.5 rounded-full",children:de.length>1?`${de[0].name} y ${de.length-1} ms`:de[0].name}),Pe&&d.jsxs("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-0.5 rounded-full",children:[ae+(fe?1:0)," miembro(s) con eventos externos"]})]})]}),U.length>0&&d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Miembros:"}),U.map(je=>{var Xe;const Ke=((Xe=o.find(yt=>yt.userId===je.user_id))==null?void 0:Xe.dates.some(yt=>Ve(yt,V)))??!1,nt=L.some(yt=>yt.user_id===je.user_id&&Ve(new Date(yt.date),V));return d.jsx("div",{className:`tooltip-member ${je.user_id===(x||(q==null?void 0:q.id))?"you":"other"}`,children:d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between w-full",children:[d.jsx("span",{className:"font-medium",children:je.name}),d.jsxs("div",{className:"flex items-center gap-2",children:[je.role_in_group==="sustituto"&&d.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-1.5 py-0.5 rounded-full",children:"Sustituto"}),Ke&&!nt&&d.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-1.5 py-0.5 rounded-full",children:"Disponible"}),nt&&d.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-1.5 py-0.5 rounded-full",children:"Con Evento"}),je.user_id===(x||(q==null?void 0:q.id))&&d.jsx("span",{className:"text-xs bg-indigo-200 px-1.5 py-0.5 rounded-full",children:"T"})]})]}),je.instruments.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:je.instruments.map((yt,Ft)=>d.jsxs("span",{className:"inline-flex items-center text-xs text-gray-600",children:[d.jsx(us,{className:"w-3 h-3 mr-1"}),yt.name,Ft<je.instruments.length-1&&", "]},`${je.id}-${yt.id}-${Ft}`))})]})},je.id)})]})]})]})]})},pe=()=>{const V=b.filter(M=>T(M).length===0).sort((M,ae)=>M.getTime()-ae.getTime()).reduce((M,ae)=>{const ce=Ye(ae,"MMMM yyyy",{locale:Bo});M[ce]||(M[ce]={withPrincipals:[],withSubstitutes:[]});const G=Oe(ae);return e.filter(ve=>ve.role_in_group==="principal").filter(ve=>!G.some(Pe=>Pe.user_id===ve.user_id)).length===0?M[ce].withPrincipals.push(ae):M[ce].withSubstitutes.push(ae),M},{});let U=`FECHAS DISPONIBLES DEL GRUPO ${n.toUpperCase()}

`;Object.keys(V).length===0?U+=`No hay fechas disponibles sin eventos programados.
`:Object.entries(V).forEach(([M,ae])=>{U+=`${M.toUpperCase()}
`,ae.withPrincipals.length>0&&(U+=`Fechas con miembros principales:
`,U+=ae.withPrincipals.map(ce=>`${Ye(ce,"d(EEE)",{locale:Bo})}`).join(", "),U+=`

`),ae.withSubstitutes.length>0&&(U+=`Fechas con sustitutos:
`,U+=ae.withSubstitutes.map(ce=>`${Ye(ce,"d(EEE)",{locale:Bo})}`).join(", "),U+=`

`),U+=`
`});const K=new Blob([U],{type:"text/plain;charset=utf-8"}),fe=window.URL.createObjectURL(K),ee=document.createElement("a");ee.href=fe,ee.download=`disponibilidad_${n.toLowerCase().replace(/\s+/g,"_")}_${Ye(new Date,"dd-MM-yyyy")}.txt`,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),window.URL.revokeObjectURL(fe)};return h?d.jsx("div",{className:"flex justify-center items-center py-8",children:d.jsx(ua,{className:"w-6 h-6 animate-spin text-indigo-600"})}):d.jsxs("div",{className:"space-y-6",children:[(C||te())&&e.length>0&&d.jsxs("div",{children:[d.jsx("label",{htmlFor:"member-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Gestionando disponibilidad para:"}),d.jsxs("div",{className:"relative w-full max-w-xs",children:[d.jsx("select",{id:"member-select",value:x||(q==null?void 0:q.id)||"",onChange:Z=>S(Z.target.value===(q==null?void 0:q.id)?null:Z.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md shadow-sm",children:e.map(Z=>d.jsxs("option",{value:Z.user_id||"",children:[Z.name," ",Z.user_id===(q==null?void 0:q.id)?"(T)":""]},Z.id))}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:d.jsx(uA,{className:"h-4 w-4"})})]})]}),d.jsx("style",{dangerouslySetInnerHTML:{__html:r}}),d.jsxs("div",{ref:ge,className:"flex justify-center relative bg-white rounded-lg shadow-sm p-4 calendar-container",children:[d.jsxs("div",{className:`fixed top-0 left-0 w-screen h-screen flex items-center justify-center z-50 ${m||se?"opacity-100":"opacity-0 pointer-events-none"}`,style:{transition:"opacity 0.2s ease-in-out"},children:[d.jsx("div",{className:"absolute inset-0 bg-black/20"}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg z-10 flex items-center space-x-2",children:[d.jsx(ua,{className:"w-6 h-6 animate-spin text-indigo-600"}),d.jsx("span",{children:"Actualizando calendario..."})]})]}),d.jsx(qF,{mode:"single",selected:u,onSelect:c,onDayClick:ke,modifiersClassNames:{selected:"rdp-day_selected"},classNames:{day_selected:"font-bold hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500"},fromDate:new Date,components:{DayContent:Q},weekStartsOn:1,locale:Bo})]}),d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Calendario de Disponibilidad"}),d.jsxs("button",{onClick:Z=>{Z.preventDefault(),$e()},disabled:m,className:`px-3 py-1 text-sm ${m?"bg-gray-100 cursor-not-allowed":"bg-blue-100 hover:bg-blue-200"} rounded-md flex items-center`,children:[d.jsx("span",{className:"mr-1",children:m?"...":""}),m?"Actualizando...":"Actualizar"]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[d.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Legend:"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full bg-indigo-600 shadow-sm"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Tu disponibilidad"})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full bg-indigo-200"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Other members"})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Grupo disponible"})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Event scheduled"})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-orange-500 bg-orange-200"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Con evento externo"})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"w-4 h-4 rounded-full bg-indigo-400 text-white flex items-center justify-center text-xs font-bold",children:""}),d.jsx("span",{className:"text-sm text-gray-600",children:"Fecha seleccionada"})]})]})]}),d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("button",{onClick:pe,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[d.jsx(fA,{className:"w-4 h-4 mr-2"}),"Descargar Fechas Disponibles del Grupo"]})})]})}async function wE(e,t){try{const{data:n,error:r}=await oe.rpc("get_group_calendar",{p_group_id:e,p_member_id:t});if(r)throw r;if(!n)throw new Error("No se pudo generar el calendario");const i=n.endsWith(`\r
`)?n:n+`\r
`,o="calendar.ics",l=new Blob([i],{type:"text/calendar;charset=utf-8"}),u=new File([l],o,{type:"text/calendar;charset=utf-8"}),{error:c}=await oe.storage.from("calendars").upload(`${e}/${t}/${o}`,u,{cacheControl:"0",upsert:!0,contentType:"text/calendar;charset=utf-8"});if(c)throw c;const{data:{publicUrl:h}}=oe.storage.from("calendars").getPublicUrl(`${e}/${t}/${o}`),p=`${h}?v=${Date.now()}`,{error:m}=await oe.from("group_members").update({calendar_url:p,calendar_updated_at:new Date().toISOString()}).eq("id",t);if(m)throw m}catch(n){throw console.error("Error updating calendar:",n),n}}function VF({members:e,selectedMembers:t,onMemberSelectionChange:n,validationError:r,groupId:i}){const o=t.filter(c=>{const h=e.find(p=>p.id===c.memberId);return(h==null?void 0:h.role_in_group)==="principal"}),l=t.filter(c=>{const h=e.find(p=>p.id===c.memberId);return(h==null?void 0:h.role_in_group)==="sustituto"}),u=(c,h)=>d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700",children:h}),c.map(p=>{const m=e.find(y=>y.id===p.memberId);return m?d.jsx("div",{className:`flex items-center justify-between p-2 rounded-lg transition-colors ${p.isAvailable?"bg-gray-50 hover:bg-gray-100":"bg-red-50"}`,children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"checkbox",checked:p.selected,onChange:y=>n(p.memberId,y.target.checked),className:`rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 ${!p.isAvailable&&!p.selected?"opacity-50":""}`,disabled:!p.isAvailable&&!p.selected}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-medium text-gray-900",children:m.name}),!p.isAvailable&&d.jsxs("span",{className:"inline-flex items-center text-xs text-red-700 bg-red-100 px-2 py-0.5 rounded-full",children:[d.jsx(Rw,{className:"w-3 h-3 mr-1"}),"No disponible"]})]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[d.jsx(us,{className:"w-3 h-3 mr-1"}),m.instruments.map(y=>y.name).join(", ")]})]})]})},p.memberId):null})]});return d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Miembros"}),d.jsxs("div",{className:"space-y-6",children:[u(o,"Miembros Principales"),l.length>0&&u(l,"Sustitutos")]}),r&&d.jsxs("div",{className:"mt-2 text-sm text-red-600 bg-red-50 p-3 rounded-lg flex items-start",children:[d.jsx(Rw,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),d.jsx("p",{children:"Por favor, asegrate de que todos los instrumentos estn cubiertos por los miembros seleccionados. Si un miembro principal no est disponible, debes seleccionar un sustituto que cubra sus instrumentos."})]})]})}var bd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */bd.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",m=1,y=2,x=4,S=1,C=2,k=1,b=2,_=4,N=8,P=16,R=32,z=64,L=128,W=256,ue=512,re=30,q="...",Ee=800,ne=16,me=1,be=2,Me=3,$=1/0,T=9007199254740991,F=17976931348623157e292,te=NaN,se=4294967295,_e=se-1,ge=se>>>1,$e=[["ary",L],["bind",k],["bindKey",b],["curry",N],["curryRight",P],["flip",ue],["partial",R],["partialRight",z],["rearg",W]],ke="[object Arguments]",Oe="[object Array]",Q="[object AsyncFunction]",pe="[object Boolean]",Z="[object Date]",V="[object DOMException]",U="[object Error]",K="[object Function]",fe="[object GeneratorFunction]",ee="[object Map]",M="[object Number]",ae="[object Null]",ce="[object Object]",G="[object Promise]",de="[object Proxy]",ve="[object RegExp]",Pe="[object Set]",je="[object String]",Ke="[object Symbol]",nt="[object Undefined]",Xe="[object WeakMap]",yt="[object WeakSet]",Ft="[object ArrayBuffer]",sn="[object DataView]",Yr="[object Float32Array]",lo="[object Float64Array]",Yn="[object Int8Array]",uo="[object Int16Array]",_a="[object Int32Array]",ba="[object Uint8Array]",ys="[object Uint8ClampedArray]",co="[object Uint16Array]",Sa="[object Uint32Array]",au=/\b__p \+= '';/g,mf=/\b(__p \+=) '' \+/g,gf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,lu=/&(?:amp|lt|gt|quot|#39);/g,Ot=/[&<>"']/g,on=RegExp(lu.source),an=RegExp(Ot.source),Tr=/<%-([\s\S]+?)%>/g,vn=/<%([\s\S]+?)%>/g,Xt=/<%=([\s\S]+?)%>/g,Kn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ei=/^\w*$/,Mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qn=/[\\^$.*+?()[\]{}|]/g,Xn=RegExp(Qn.source),On=/^\s+/,xs=/\s/,ws=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Or=/\{\n\/\* \[wrapped with (.+)\] \*/,_s=/,? & /,Ea=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qE=/[()=,{}\[\]\/\s]/,GE=/\\(\\)?/g,VE=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bv=/\w*$/,YE=/^[-+]0x[0-9a-f]+$/i,KE=/^0b[01]+$/i,QE=/^\[object .+?Constructor\]$/,XE=/^0o[0-7]+$/i,JE=/^(?:0|[1-9]\d*)$/,ZE=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,uu=/($^)/,e2=/['\n\r\u2028\u2029\\]/g,cu="\\ud800-\\udfff",t2="\\u0300-\\u036f",n2="\\ufe20-\\ufe2f",r2="\\u20d0-\\u20ff",Sv=t2+n2+r2,Ev="\\u2700-\\u27bf",Nv="a-z\\xdf-\\xf6\\xf8-\\xff",i2="\\xac\\xb1\\xd7\\xf7",s2="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",o2="\\u2000-\\u206f",a2=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jv="A-Z\\xc0-\\xd6\\xd8-\\xde",Cv="\\ufe0e\\ufe0f",kv=i2+s2+o2+a2,vf="[']",l2="["+cu+"]",Pv="["+kv+"]",du="["+Sv+"]",Dv="\\d+",u2="["+Ev+"]",Tv="["+Nv+"]",Ov="[^"+cu+kv+Dv+Ev+Nv+jv+"]",yf="\\ud83c[\\udffb-\\udfff]",c2="(?:"+du+"|"+yf+")",Mv="[^"+cu+"]",xf="(?:\\ud83c[\\udde6-\\uddff]){2}",wf="[\\ud800-\\udbff][\\udc00-\\udfff]",fo="["+jv+"]",Rv="\\u200d",$v="(?:"+Tv+"|"+Ov+")",d2="(?:"+fo+"|"+Ov+")",Av="(?:"+vf+"(?:d|ll|m|re|s|t|ve))?",Lv="(?:"+vf+"(?:D|LL|M|RE|S|T|VE))?",Iv=c2+"?",Fv="["+Cv+"]?",f2="(?:"+Rv+"(?:"+[Mv,xf,wf].join("|")+")"+Fv+Iv+")*",h2="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",p2="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Uv=Fv+Iv+f2,m2="(?:"+[u2,xf,wf].join("|")+")"+Uv,g2="(?:"+[Mv+du+"?",du,xf,wf,l2].join("|")+")",v2=RegExp(vf,"g"),y2=RegExp(du,"g"),_f=RegExp(yf+"(?="+yf+")|"+g2+Uv,"g"),x2=RegExp([fo+"?"+Tv+"+"+Av+"(?="+[Pv,fo,"$"].join("|")+")",d2+"+"+Lv+"(?="+[Pv,fo+$v,"$"].join("|")+")",fo+"?"+$v+"+"+Av,fo+"+"+Lv,p2,h2,Dv,m2].join("|"),"g"),w2=RegExp("["+Rv+cu+Sv+Cv+"]"),_2=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,b2=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],S2=-1,ft={};ft[Yr]=ft[lo]=ft[Yn]=ft[uo]=ft[_a]=ft[ba]=ft[ys]=ft[co]=ft[Sa]=!0,ft[ke]=ft[Oe]=ft[Ft]=ft[pe]=ft[sn]=ft[Z]=ft[U]=ft[K]=ft[ee]=ft[M]=ft[ce]=ft[ve]=ft[Pe]=ft[je]=ft[Xe]=!1;var at={};at[ke]=at[Oe]=at[Ft]=at[sn]=at[pe]=at[Z]=at[Yr]=at[lo]=at[Yn]=at[uo]=at[_a]=at[ee]=at[M]=at[ce]=at[ve]=at[Pe]=at[je]=at[Ke]=at[ba]=at[ys]=at[co]=at[Sa]=!0,at[U]=at[K]=at[Xe]=!1;var E2={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},N2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},j2={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},C2={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},k2=parseFloat,P2=parseInt,zv=typeof Yt=="object"&&Yt&&Yt.Object===Object&&Yt,D2=typeof self=="object"&&self&&self.Object===Object&&self,qt=zv||D2||Function("return this")(),bf=t&&!t.nodeType&&t,bs=bf&&!0&&e&&!e.nodeType&&e,Wv=bs&&bs.exports===bf,Sf=Wv&&zv.process,Jn=function(){try{var A=bs&&bs.require&&bs.require("util").types;return A||Sf&&Sf.binding&&Sf.binding("util")}catch{}}(),Bv=Jn&&Jn.isArrayBuffer,Hv=Jn&&Jn.isDate,qv=Jn&&Jn.isMap,Gv=Jn&&Jn.isRegExp,Vv=Jn&&Jn.isSet,Yv=Jn&&Jn.isTypedArray;function Mn(A,Y,B){switch(B.length){case 0:return A.call(Y);case 1:return A.call(Y,B[0]);case 2:return A.call(Y,B[0],B[1]);case 3:return A.call(Y,B[0],B[1],B[2])}return A.apply(Y,B)}function T2(A,Y,B,ye){for(var Ae=-1,Ze=A==null?0:A.length;++Ae<Ze;){var Rt=A[Ae];Y(ye,Rt,B(Rt),A)}return ye}function Zn(A,Y){for(var B=-1,ye=A==null?0:A.length;++B<ye&&Y(A[B],B,A)!==!1;);return A}function O2(A,Y){for(var B=A==null?0:A.length;B--&&Y(A[B],B,A)!==!1;);return A}function Kv(A,Y){for(var B=-1,ye=A==null?0:A.length;++B<ye;)if(!Y(A[B],B,A))return!1;return!0}function Ni(A,Y){for(var B=-1,ye=A==null?0:A.length,Ae=0,Ze=[];++B<ye;){var Rt=A[B];Y(Rt,B,A)&&(Ze[Ae++]=Rt)}return Ze}function fu(A,Y){var B=A==null?0:A.length;return!!B&&ho(A,Y,0)>-1}function Ef(A,Y,B){for(var ye=-1,Ae=A==null?0:A.length;++ye<Ae;)if(B(Y,A[ye]))return!0;return!1}function gt(A,Y){for(var B=-1,ye=A==null?0:A.length,Ae=Array(ye);++B<ye;)Ae[B]=Y(A[B],B,A);return Ae}function ji(A,Y){for(var B=-1,ye=Y.length,Ae=A.length;++B<ye;)A[Ae+B]=Y[B];return A}function Nf(A,Y,B,ye){var Ae=-1,Ze=A==null?0:A.length;for(ye&&Ze&&(B=A[++Ae]);++Ae<Ze;)B=Y(B,A[Ae],Ae,A);return B}function M2(A,Y,B,ye){var Ae=A==null?0:A.length;for(ye&&Ae&&(B=A[--Ae]);Ae--;)B=Y(B,A[Ae],Ae,A);return B}function jf(A,Y){for(var B=-1,ye=A==null?0:A.length;++B<ye;)if(Y(A[B],B,A))return!0;return!1}var R2=Cf("length");function $2(A){return A.split("")}function A2(A){return A.match(Ea)||[]}function Qv(A,Y,B){var ye;return B(A,function(Ae,Ze,Rt){if(Y(Ae,Ze,Rt))return ye=Ze,!1}),ye}function hu(A,Y,B,ye){for(var Ae=A.length,Ze=B+(ye?1:-1);ye?Ze--:++Ze<Ae;)if(Y(A[Ze],Ze,A))return Ze;return-1}function ho(A,Y,B){return Y===Y?Y2(A,Y,B):hu(A,Xv,B)}function L2(A,Y,B,ye){for(var Ae=B-1,Ze=A.length;++Ae<Ze;)if(ye(A[Ae],Y))return Ae;return-1}function Xv(A){return A!==A}function Jv(A,Y){var B=A==null?0:A.length;return B?Pf(A,Y)/B:te}function Cf(A){return function(Y){return Y==null?n:Y[A]}}function kf(A){return function(Y){return A==null?n:A[Y]}}function Zv(A,Y,B,ye,Ae){return Ae(A,function(Ze,Rt,ot){B=ye?(ye=!1,Ze):Y(B,Ze,Rt,ot)}),B}function I2(A,Y){var B=A.length;for(A.sort(Y);B--;)A[B]=A[B].value;return A}function Pf(A,Y){for(var B,ye=-1,Ae=A.length;++ye<Ae;){var Ze=Y(A[ye]);Ze!==n&&(B=B===n?Ze:B+Ze)}return B}function Df(A,Y){for(var B=-1,ye=Array(A);++B<A;)ye[B]=Y(B);return ye}function F2(A,Y){return gt(Y,function(B){return[B,A[B]]})}function e0(A){return A&&A.slice(0,i0(A)+1).replace(On,"")}function Rn(A){return function(Y){return A(Y)}}function Tf(A,Y){return gt(Y,function(B){return A[B]})}function Na(A,Y){return A.has(Y)}function t0(A,Y){for(var B=-1,ye=A.length;++B<ye&&ho(Y,A[B],0)>-1;);return B}function n0(A,Y){for(var B=A.length;B--&&ho(Y,A[B],0)>-1;);return B}function U2(A,Y){for(var B=A.length,ye=0;B--;)A[B]===Y&&++ye;return ye}var z2=kf(E2),W2=kf(N2);function B2(A){return"\\"+C2[A]}function H2(A,Y){return A==null?n:A[Y]}function po(A){return w2.test(A)}function q2(A){return _2.test(A)}function G2(A){for(var Y,B=[];!(Y=A.next()).done;)B.push(Y.value);return B}function Of(A){var Y=-1,B=Array(A.size);return A.forEach(function(ye,Ae){B[++Y]=[Ae,ye]}),B}function r0(A,Y){return function(B){return A(Y(B))}}function Ci(A,Y){for(var B=-1,ye=A.length,Ae=0,Ze=[];++B<ye;){var Rt=A[B];(Rt===Y||Rt===p)&&(A[B]=p,Ze[Ae++]=B)}return Ze}function pu(A){var Y=-1,B=Array(A.size);return A.forEach(function(ye){B[++Y]=ye}),B}function V2(A){var Y=-1,B=Array(A.size);return A.forEach(function(ye){B[++Y]=[ye,ye]}),B}function Y2(A,Y,B){for(var ye=B-1,Ae=A.length;++ye<Ae;)if(A[ye]===Y)return ye;return-1}function K2(A,Y,B){for(var ye=B+1;ye--;)if(A[ye]===Y)return ye;return ye}function mo(A){return po(A)?X2(A):R2(A)}function pr(A){return po(A)?J2(A):$2(A)}function i0(A){for(var Y=A.length;Y--&&xs.test(A.charAt(Y)););return Y}var Q2=kf(j2);function X2(A){for(var Y=_f.lastIndex=0;_f.test(A);)++Y;return Y}function J2(A){return A.match(_f)||[]}function Z2(A){return A.match(x2)||[]}var eN=function A(Y){Y=Y==null?qt:go.defaults(qt.Object(),Y,go.pick(qt,b2));var B=Y.Array,ye=Y.Date,Ae=Y.Error,Ze=Y.Function,Rt=Y.Math,ot=Y.Object,Mf=Y.RegExp,tN=Y.String,er=Y.TypeError,mu=B.prototype,nN=Ze.prototype,vo=ot.prototype,gu=Y["__core-js_shared__"],vu=nN.toString,rt=vo.hasOwnProperty,rN=0,s0=function(){var s=/[^.]+$/.exec(gu&&gu.keys&&gu.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),yu=vo.toString,iN=vu.call(ot),sN=qt._,oN=Mf("^"+vu.call(rt).replace(Qn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xu=Wv?Y.Buffer:n,ki=Y.Symbol,wu=Y.Uint8Array,o0=xu?xu.allocUnsafe:n,_u=r0(ot.getPrototypeOf,ot),a0=ot.create,l0=vo.propertyIsEnumerable,bu=mu.splice,u0=ki?ki.isConcatSpreadable:n,ja=ki?ki.iterator:n,Ss=ki?ki.toStringTag:n,Su=function(){try{var s=ks(ot,"defineProperty");return s({},"",{}),s}catch{}}(),aN=Y.clearTimeout!==qt.clearTimeout&&Y.clearTimeout,lN=ye&&ye.now!==qt.Date.now&&ye.now,uN=Y.setTimeout!==qt.setTimeout&&Y.setTimeout,Eu=Rt.ceil,Nu=Rt.floor,Rf=ot.getOwnPropertySymbols,cN=xu?xu.isBuffer:n,c0=Y.isFinite,dN=mu.join,fN=r0(ot.keys,ot),$t=Rt.max,Jt=Rt.min,hN=ye.now,pN=Y.parseInt,d0=Rt.random,mN=mu.reverse,$f=ks(Y,"DataView"),Ca=ks(Y,"Map"),Af=ks(Y,"Promise"),yo=ks(Y,"Set"),ka=ks(Y,"WeakMap"),Pa=ks(ot,"create"),ju=ka&&new ka,xo={},gN=Ps($f),vN=Ps(Ca),yN=Ps(Af),xN=Ps(yo),wN=Ps(ka),Cu=ki?ki.prototype:n,Da=Cu?Cu.valueOf:n,f0=Cu?Cu.toString:n;function E(s){if(Et(s)&&!Le(s)&&!(s instanceof He)){if(s instanceof tr)return s;if(rt.call(s,"__wrapped__"))return hy(s)}return new tr(s)}var wo=function(){function s(){}return function(a){if(!xt(a))return{};if(a0)return a0(a);s.prototype=a;var f=new s;return s.prototype=n,f}}();function ku(){}function tr(s,a){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}E.templateSettings={escape:Tr,evaluate:vn,interpolate:Xt,variable:"",imports:{_:E}},E.prototype=ku.prototype,E.prototype.constructor=E,tr.prototype=wo(ku.prototype),tr.prototype.constructor=tr;function He(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function _N(){var s=new He(this.__wrapped__);return s.__actions__=yn(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=yn(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=yn(this.__views__),s}function bN(){if(this.__filtered__){var s=new He(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function SN(){var s=this.__wrapped__.value(),a=this.__dir__,f=Le(s),g=a<0,w=f?s.length:0,j=$j(0,w,this.__views__),D=j.start,O=j.end,I=O-D,X=g?O:D-1,J=this.__iteratees__,ie=J.length,he=0,Se=Jt(I,this.__takeCount__);if(!f||!g&&w==I&&Se==I)return A0(s,this.__actions__);var De=[];e:for(;I--&&he<Se;){X+=a;for(var Fe=-1,Te=s[X];++Fe<ie;){var We=J[Fe],qe=We.iteratee,Ln=We.type,cn=qe(Te);if(Ln==be)Te=cn;else if(!cn){if(Ln==me)continue e;break e}}De[he++]=Te}return De}He.prototype=wo(ku.prototype),He.prototype.constructor=He;function Es(s){var a=-1,f=s==null?0:s.length;for(this.clear();++a<f;){var g=s[a];this.set(g[0],g[1])}}function EN(){this.__data__=Pa?Pa(null):{},this.size=0}function NN(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a}function jN(s){var a=this.__data__;if(Pa){var f=a[s];return f===c?n:f}return rt.call(a,s)?a[s]:n}function CN(s){var a=this.__data__;return Pa?a[s]!==n:rt.call(a,s)}function kN(s,a){var f=this.__data__;return this.size+=this.has(s)?0:1,f[s]=Pa&&a===n?c:a,this}Es.prototype.clear=EN,Es.prototype.delete=NN,Es.prototype.get=jN,Es.prototype.has=CN,Es.prototype.set=kN;function Kr(s){var a=-1,f=s==null?0:s.length;for(this.clear();++a<f;){var g=s[a];this.set(g[0],g[1])}}function PN(){this.__data__=[],this.size=0}function DN(s){var a=this.__data__,f=Pu(a,s);if(f<0)return!1;var g=a.length-1;return f==g?a.pop():bu.call(a,f,1),--this.size,!0}function TN(s){var a=this.__data__,f=Pu(a,s);return f<0?n:a[f][1]}function ON(s){return Pu(this.__data__,s)>-1}function MN(s,a){var f=this.__data__,g=Pu(f,s);return g<0?(++this.size,f.push([s,a])):f[g][1]=a,this}Kr.prototype.clear=PN,Kr.prototype.delete=DN,Kr.prototype.get=TN,Kr.prototype.has=ON,Kr.prototype.set=MN;function Qr(s){var a=-1,f=s==null?0:s.length;for(this.clear();++a<f;){var g=s[a];this.set(g[0],g[1])}}function RN(){this.size=0,this.__data__={hash:new Es,map:new(Ca||Kr),string:new Es}}function $N(s){var a=zu(this,s).delete(s);return this.size-=a?1:0,a}function AN(s){return zu(this,s).get(s)}function LN(s){return zu(this,s).has(s)}function IN(s,a){var f=zu(this,s),g=f.size;return f.set(s,a),this.size+=f.size==g?0:1,this}Qr.prototype.clear=RN,Qr.prototype.delete=$N,Qr.prototype.get=AN,Qr.prototype.has=LN,Qr.prototype.set=IN;function Ns(s){var a=-1,f=s==null?0:s.length;for(this.__data__=new Qr;++a<f;)this.add(s[a])}function FN(s){return this.__data__.set(s,c),this}function UN(s){return this.__data__.has(s)}Ns.prototype.add=Ns.prototype.push=FN,Ns.prototype.has=UN;function mr(s){var a=this.__data__=new Kr(s);this.size=a.size}function zN(){this.__data__=new Kr,this.size=0}function WN(s){var a=this.__data__,f=a.delete(s);return this.size=a.size,f}function BN(s){return this.__data__.get(s)}function HN(s){return this.__data__.has(s)}function qN(s,a){var f=this.__data__;if(f instanceof Kr){var g=f.__data__;if(!Ca||g.length<i-1)return g.push([s,a]),this.size=++f.size,this;f=this.__data__=new Qr(g)}return f.set(s,a),this.size=f.size,this}mr.prototype.clear=zN,mr.prototype.delete=WN,mr.prototype.get=BN,mr.prototype.has=HN,mr.prototype.set=qN;function h0(s,a){var f=Le(s),g=!f&&Ds(s),w=!f&&!g&&Mi(s),j=!f&&!g&&!w&&Eo(s),D=f||g||w||j,O=D?Df(s.length,tN):[],I=O.length;for(var X in s)(a||rt.call(s,X))&&!(D&&(X=="length"||w&&(X=="offset"||X=="parent")||j&&(X=="buffer"||X=="byteLength"||X=="byteOffset")||ei(X,I)))&&O.push(X);return O}function p0(s){var a=s.length;return a?s[Vf(0,a-1)]:n}function GN(s,a){return Wu(yn(s),js(a,0,s.length))}function VN(s){return Wu(yn(s))}function Lf(s,a,f){(f!==n&&!gr(s[a],f)||f===n&&!(a in s))&&Xr(s,a,f)}function Ta(s,a,f){var g=s[a];(!(rt.call(s,a)&&gr(g,f))||f===n&&!(a in s))&&Xr(s,a,f)}function Pu(s,a){for(var f=s.length;f--;)if(gr(s[f][0],a))return f;return-1}function YN(s,a,f,g){return Pi(s,function(w,j,D){a(g,w,f(w),D)}),g}function m0(s,a){return s&&Rr(a,Ut(a),s)}function KN(s,a){return s&&Rr(a,wn(a),s)}function Xr(s,a,f){a=="__proto__"&&Su?Su(s,a,{configurable:!0,enumerable:!0,value:f,writable:!0}):s[a]=f}function If(s,a){for(var f=-1,g=a.length,w=B(g),j=s==null;++f<g;)w[f]=j?n:yh(s,a[f]);return w}function js(s,a,f){return s===s&&(f!==n&&(s=s<=f?s:f),a!==n&&(s=s>=a?s:a)),s}function nr(s,a,f,g,w,j){var D,O=a&m,I=a&y,X=a&x;if(f&&(D=w?f(s,g,w,j):f(s)),D!==n)return D;if(!xt(s))return s;var J=Le(s);if(J){if(D=Lj(s),!O)return yn(s,D)}else{var ie=Zt(s),he=ie==K||ie==fe;if(Mi(s))return F0(s,O);if(ie==ce||ie==ke||he&&!w){if(D=I||he?{}:iy(s),!O)return I?jj(s,KN(D,s)):Nj(s,m0(D,s))}else{if(!at[ie])return w?s:{};D=Ij(s,ie,O)}}j||(j=new mr);var Se=j.get(s);if(Se)return Se;j.set(s,D),My(s)?s.forEach(function(Te){D.add(nr(Te,a,f,Te,s,j))}):Ty(s)&&s.forEach(function(Te,We){D.set(We,nr(Te,a,f,We,s,j))});var De=X?I?ih:rh:I?wn:Ut,Fe=J?n:De(s);return Zn(Fe||s,function(Te,We){Fe&&(We=Te,Te=s[We]),Ta(D,We,nr(Te,a,f,We,s,j))}),D}function QN(s){var a=Ut(s);return function(f){return g0(f,s,a)}}function g0(s,a,f){var g=f.length;if(s==null)return!g;for(s=ot(s);g--;){var w=f[g],j=a[w],D=s[w];if(D===n&&!(w in s)||!j(D))return!1}return!0}function v0(s,a,f){if(typeof s!="function")throw new er(l);return Ia(function(){s.apply(n,f)},a)}function Oa(s,a,f,g){var w=-1,j=fu,D=!0,O=s.length,I=[],X=a.length;if(!O)return I;f&&(a=gt(a,Rn(f))),g?(j=Ef,D=!1):a.length>=i&&(j=Na,D=!1,a=new Ns(a));e:for(;++w<O;){var J=s[w],ie=f==null?J:f(J);if(J=g||J!==0?J:0,D&&ie===ie){for(var he=X;he--;)if(a[he]===ie)continue e;I.push(J)}else j(a,ie,g)||I.push(J)}return I}var Pi=H0(Mr),y0=H0(Uf,!0);function XN(s,a){var f=!0;return Pi(s,function(g,w,j){return f=!!a(g,w,j),f}),f}function Du(s,a,f){for(var g=-1,w=s.length;++g<w;){var j=s[g],D=a(j);if(D!=null&&(O===n?D===D&&!An(D):f(D,O)))var O=D,I=j}return I}function JN(s,a,f,g){var w=s.length;for(f=Ie(f),f<0&&(f=-f>w?0:w+f),g=g===n||g>w?w:Ie(g),g<0&&(g+=w),g=f>g?0:$y(g);f<g;)s[f++]=a;return s}function x0(s,a){var f=[];return Pi(s,function(g,w,j){a(g,w,j)&&f.push(g)}),f}function Gt(s,a,f,g,w){var j=-1,D=s.length;for(f||(f=Uj),w||(w=[]);++j<D;){var O=s[j];a>0&&f(O)?a>1?Gt(O,a-1,f,g,w):ji(w,O):g||(w[w.length]=O)}return w}var Ff=q0(),w0=q0(!0);function Mr(s,a){return s&&Ff(s,a,Ut)}function Uf(s,a){return s&&w0(s,a,Ut)}function Tu(s,a){return Ni(a,function(f){return ti(s[f])})}function Cs(s,a){a=Ti(a,s);for(var f=0,g=a.length;s!=null&&f<g;)s=s[$r(a[f++])];return f&&f==g?s:n}function _0(s,a,f){var g=a(s);return Le(s)?g:ji(g,f(s))}function ln(s){return s==null?s===n?nt:ae:Ss&&Ss in ot(s)?Rj(s):Vj(s)}function zf(s,a){return s>a}function ZN(s,a){return s!=null&&rt.call(s,a)}function ej(s,a){return s!=null&&a in ot(s)}function tj(s,a,f){return s>=Jt(a,f)&&s<$t(a,f)}function Wf(s,a,f){for(var g=f?Ef:fu,w=s[0].length,j=s.length,D=j,O=B(j),I=1/0,X=[];D--;){var J=s[D];D&&a&&(J=gt(J,Rn(a))),I=Jt(J.length,I),O[D]=!f&&(a||w>=120&&J.length>=120)?new Ns(D&&J):n}J=s[0];var ie=-1,he=O[0];e:for(;++ie<w&&X.length<I;){var Se=J[ie],De=a?a(Se):Se;if(Se=f||Se!==0?Se:0,!(he?Na(he,De):g(X,De,f))){for(D=j;--D;){var Fe=O[D];if(!(Fe?Na(Fe,De):g(s[D],De,f)))continue e}he&&he.push(De),X.push(Se)}}return X}function nj(s,a,f,g){return Mr(s,function(w,j,D){a(g,f(w),j,D)}),g}function Ma(s,a,f){a=Ti(a,s),s=ly(s,a);var g=s==null?s:s[$r(ir(a))];return g==null?n:Mn(g,s,f)}function b0(s){return Et(s)&&ln(s)==ke}function rj(s){return Et(s)&&ln(s)==Ft}function ij(s){return Et(s)&&ln(s)==Z}function Ra(s,a,f,g,w){return s===a?!0:s==null||a==null||!Et(s)&&!Et(a)?s!==s&&a!==a:sj(s,a,f,g,Ra,w)}function sj(s,a,f,g,w,j){var D=Le(s),O=Le(a),I=D?Oe:Zt(s),X=O?Oe:Zt(a);I=I==ke?ce:I,X=X==ke?ce:X;var J=I==ce,ie=X==ce,he=I==X;if(he&&Mi(s)){if(!Mi(a))return!1;D=!0,J=!1}if(he&&!J)return j||(j=new mr),D||Eo(s)?ty(s,a,f,g,w,j):Oj(s,a,I,f,g,w,j);if(!(f&S)){var Se=J&&rt.call(s,"__wrapped__"),De=ie&&rt.call(a,"__wrapped__");if(Se||De){var Fe=Se?s.value():s,Te=De?a.value():a;return j||(j=new mr),w(Fe,Te,f,g,j)}}return he?(j||(j=new mr),Mj(s,a,f,g,w,j)):!1}function oj(s){return Et(s)&&Zt(s)==ee}function Bf(s,a,f,g){var w=f.length,j=w,D=!g;if(s==null)return!j;for(s=ot(s);w--;){var O=f[w];if(D&&O[2]?O[1]!==s[O[0]]:!(O[0]in s))return!1}for(;++w<j;){O=f[w];var I=O[0],X=s[I],J=O[1];if(D&&O[2]){if(X===n&&!(I in s))return!1}else{var ie=new mr;if(g)var he=g(X,J,I,s,a,ie);if(!(he===n?Ra(J,X,S|C,g,ie):he))return!1}}return!0}function S0(s){if(!xt(s)||Wj(s))return!1;var a=ti(s)?oN:QE;return a.test(Ps(s))}function aj(s){return Et(s)&&ln(s)==ve}function lj(s){return Et(s)&&Zt(s)==Pe}function uj(s){return Et(s)&&Yu(s.length)&&!!ft[ln(s)]}function E0(s){return typeof s=="function"?s:s==null?_n:typeof s=="object"?Le(s)?C0(s[0],s[1]):j0(s):Gy(s)}function Hf(s){if(!La(s))return fN(s);var a=[];for(var f in ot(s))rt.call(s,f)&&f!="constructor"&&a.push(f);return a}function cj(s){if(!xt(s))return Gj(s);var a=La(s),f=[];for(var g in s)g=="constructor"&&(a||!rt.call(s,g))||f.push(g);return f}function qf(s,a){return s<a}function N0(s,a){var f=-1,g=xn(s)?B(s.length):[];return Pi(s,function(w,j,D){g[++f]=a(w,j,D)}),g}function j0(s){var a=oh(s);return a.length==1&&a[0][2]?oy(a[0][0],a[0][1]):function(f){return f===s||Bf(f,s,a)}}function C0(s,a){return lh(s)&&sy(a)?oy($r(s),a):function(f){var g=yh(f,s);return g===n&&g===a?xh(f,s):Ra(a,g,S|C)}}function Ou(s,a,f,g,w){s!==a&&Ff(a,function(j,D){if(w||(w=new mr),xt(j))dj(s,a,D,f,Ou,g,w);else{var O=g?g(ch(s,D),j,D+"",s,a,w):n;O===n&&(O=j),Lf(s,D,O)}},wn)}function dj(s,a,f,g,w,j,D){var O=ch(s,f),I=ch(a,f),X=D.get(I);if(X){Lf(s,f,X);return}var J=j?j(O,I,f+"",s,a,D):n,ie=J===n;if(ie){var he=Le(I),Se=!he&&Mi(I),De=!he&&!Se&&Eo(I);J=I,he||Se||De?Le(O)?J=O:jt(O)?J=yn(O):Se?(ie=!1,J=F0(I,!0)):De?(ie=!1,J=U0(I,!0)):J=[]:Fa(I)||Ds(I)?(J=O,Ds(O)?J=Ay(O):(!xt(O)||ti(O))&&(J=iy(I))):ie=!1}ie&&(D.set(I,J),w(J,I,g,j,D),D.delete(I)),Lf(s,f,J)}function k0(s,a){var f=s.length;if(f)return a+=a<0?f:0,ei(a,f)?s[a]:n}function P0(s,a,f){a.length?a=gt(a,function(j){return Le(j)?function(D){return Cs(D,j.length===1?j[0]:j)}:j}):a=[_n];var g=-1;a=gt(a,Rn(Ce()));var w=N0(s,function(j,D,O){var I=gt(a,function(X){return X(j)});return{criteria:I,index:++g,value:j}});return I2(w,function(j,D){return Ej(j,D,f)})}function fj(s,a){return D0(s,a,function(f,g){return xh(s,g)})}function D0(s,a,f){for(var g=-1,w=a.length,j={};++g<w;){var D=a[g],O=Cs(s,D);f(O,D)&&$a(j,Ti(D,s),O)}return j}function hj(s){return function(a){return Cs(a,s)}}function Gf(s,a,f,g){var w=g?L2:ho,j=-1,D=a.length,O=s;for(s===a&&(a=yn(a)),f&&(O=gt(s,Rn(f)));++j<D;)for(var I=0,X=a[j],J=f?f(X):X;(I=w(O,J,I,g))>-1;)O!==s&&bu.call(O,I,1),bu.call(s,I,1);return s}function T0(s,a){for(var f=s?a.length:0,g=f-1;f--;){var w=a[f];if(f==g||w!==j){var j=w;ei(w)?bu.call(s,w,1):Qf(s,w)}}return s}function Vf(s,a){return s+Nu(d0()*(a-s+1))}function pj(s,a,f,g){for(var w=-1,j=$t(Eu((a-s)/(f||1)),0),D=B(j);j--;)D[g?j:++w]=s,s+=f;return D}function Yf(s,a){var f="";if(!s||a<1||a>T)return f;do a%2&&(f+=s),a=Nu(a/2),a&&(s+=s);while(a);return f}function Ue(s,a){return dh(ay(s,a,_n),s+"")}function mj(s){return p0(No(s))}function gj(s,a){var f=No(s);return Wu(f,js(a,0,f.length))}function $a(s,a,f,g){if(!xt(s))return s;a=Ti(a,s);for(var w=-1,j=a.length,D=j-1,O=s;O!=null&&++w<j;){var I=$r(a[w]),X=f;if(I==="__proto__"||I==="constructor"||I==="prototype")return s;if(w!=D){var J=O[I];X=g?g(J,I,O):n,X===n&&(X=xt(J)?J:ei(a[w+1])?[]:{})}Ta(O,I,X),O=O[I]}return s}var O0=ju?function(s,a){return ju.set(s,a),s}:_n,vj=Su?function(s,a){return Su(s,"toString",{configurable:!0,enumerable:!1,value:_h(a),writable:!0})}:_n;function yj(s){return Wu(No(s))}function rr(s,a,f){var g=-1,w=s.length;a<0&&(a=-a>w?0:w+a),f=f>w?w:f,f<0&&(f+=w),w=a>f?0:f-a>>>0,a>>>=0;for(var j=B(w);++g<w;)j[g]=s[g+a];return j}function xj(s,a){var f;return Pi(s,function(g,w,j){return f=a(g,w,j),!f}),!!f}function Mu(s,a,f){var g=0,w=s==null?g:s.length;if(typeof a=="number"&&a===a&&w<=ge){for(;g<w;){var j=g+w>>>1,D=s[j];D!==null&&!An(D)&&(f?D<=a:D<a)?g=j+1:w=j}return w}return Kf(s,a,_n,f)}function Kf(s,a,f,g){var w=0,j=s==null?0:s.length;if(j===0)return 0;a=f(a);for(var D=a!==a,O=a===null,I=An(a),X=a===n;w<j;){var J=Nu((w+j)/2),ie=f(s[J]),he=ie!==n,Se=ie===null,De=ie===ie,Fe=An(ie);if(D)var Te=g||De;else X?Te=De&&(g||he):O?Te=De&&he&&(g||!Se):I?Te=De&&he&&!Se&&(g||!Fe):Se||Fe?Te=!1:Te=g?ie<=a:ie<a;Te?w=J+1:j=J}return Jt(j,_e)}function M0(s,a){for(var f=-1,g=s.length,w=0,j=[];++f<g;){var D=s[f],O=a?a(D):D;if(!f||!gr(O,I)){var I=O;j[w++]=D===0?0:D}}return j}function R0(s){return typeof s=="number"?s:An(s)?te:+s}function $n(s){if(typeof s=="string")return s;if(Le(s))return gt(s,$n)+"";if(An(s))return f0?f0.call(s):"";var a=s+"";return a=="0"&&1/s==-$?"-0":a}function Di(s,a,f){var g=-1,w=fu,j=s.length,D=!0,O=[],I=O;if(f)D=!1,w=Ef;else if(j>=i){var X=a?null:Dj(s);if(X)return pu(X);D=!1,w=Na,I=new Ns}else I=a?[]:O;e:for(;++g<j;){var J=s[g],ie=a?a(J):J;if(J=f||J!==0?J:0,D&&ie===ie){for(var he=I.length;he--;)if(I[he]===ie)continue e;a&&I.push(ie),O.push(J)}else w(I,ie,f)||(I!==O&&I.push(ie),O.push(J))}return O}function Qf(s,a){return a=Ti(a,s),s=ly(s,a),s==null||delete s[$r(ir(a))]}function $0(s,a,f,g){return $a(s,a,f(Cs(s,a)),g)}function Ru(s,a,f,g){for(var w=s.length,j=g?w:-1;(g?j--:++j<w)&&a(s[j],j,s););return f?rr(s,g?0:j,g?j+1:w):rr(s,g?j+1:0,g?w:j)}function A0(s,a){var f=s;return f instanceof He&&(f=f.value()),Nf(a,function(g,w){return w.func.apply(w.thisArg,ji([g],w.args))},f)}function Xf(s,a,f){var g=s.length;if(g<2)return g?Di(s[0]):[];for(var w=-1,j=B(g);++w<g;)for(var D=s[w],O=-1;++O<g;)O!=w&&(j[w]=Oa(j[w]||D,s[O],a,f));return Di(Gt(j,1),a,f)}function L0(s,a,f){for(var g=-1,w=s.length,j=a.length,D={};++g<w;){var O=g<j?a[g]:n;f(D,s[g],O)}return D}function Jf(s){return jt(s)?s:[]}function Zf(s){return typeof s=="function"?s:_n}function Ti(s,a){return Le(s)?s:lh(s,a)?[s]:fy(tt(s))}var wj=Ue;function Oi(s,a,f){var g=s.length;return f=f===n?g:f,!a&&f>=g?s:rr(s,a,f)}var I0=aN||function(s){return qt.clearTimeout(s)};function F0(s,a){if(a)return s.slice();var f=s.length,g=o0?o0(f):new s.constructor(f);return s.copy(g),g}function eh(s){var a=new s.constructor(s.byteLength);return new wu(a).set(new wu(s)),a}function _j(s,a){var f=a?eh(s.buffer):s.buffer;return new s.constructor(f,s.byteOffset,s.byteLength)}function bj(s){var a=new s.constructor(s.source,bv.exec(s));return a.lastIndex=s.lastIndex,a}function Sj(s){return Da?ot(Da.call(s)):{}}function U0(s,a){var f=a?eh(s.buffer):s.buffer;return new s.constructor(f,s.byteOffset,s.length)}function z0(s,a){if(s!==a){var f=s!==n,g=s===null,w=s===s,j=An(s),D=a!==n,O=a===null,I=a===a,X=An(a);if(!O&&!X&&!j&&s>a||j&&D&&I&&!O&&!X||g&&D&&I||!f&&I||!w)return 1;if(!g&&!j&&!X&&s<a||X&&f&&w&&!g&&!j||O&&f&&w||!D&&w||!I)return-1}return 0}function Ej(s,a,f){for(var g=-1,w=s.criteria,j=a.criteria,D=w.length,O=f.length;++g<D;){var I=z0(w[g],j[g]);if(I){if(g>=O)return I;var X=f[g];return I*(X=="desc"?-1:1)}}return s.index-a.index}function W0(s,a,f,g){for(var w=-1,j=s.length,D=f.length,O=-1,I=a.length,X=$t(j-D,0),J=B(I+X),ie=!g;++O<I;)J[O]=a[O];for(;++w<D;)(ie||w<j)&&(J[f[w]]=s[w]);for(;X--;)J[O++]=s[w++];return J}function B0(s,a,f,g){for(var w=-1,j=s.length,D=-1,O=f.length,I=-1,X=a.length,J=$t(j-O,0),ie=B(J+X),he=!g;++w<J;)ie[w]=s[w];for(var Se=w;++I<X;)ie[Se+I]=a[I];for(;++D<O;)(he||w<j)&&(ie[Se+f[D]]=s[w++]);return ie}function yn(s,a){var f=-1,g=s.length;for(a||(a=B(g));++f<g;)a[f]=s[f];return a}function Rr(s,a,f,g){var w=!f;f||(f={});for(var j=-1,D=a.length;++j<D;){var O=a[j],I=g?g(f[O],s[O],O,f,s):n;I===n&&(I=s[O]),w?Xr(f,O,I):Ta(f,O,I)}return f}function Nj(s,a){return Rr(s,ah(s),a)}function jj(s,a){return Rr(s,ny(s),a)}function $u(s,a){return function(f,g){var w=Le(f)?T2:YN,j=a?a():{};return w(f,s,Ce(g,2),j)}}function _o(s){return Ue(function(a,f){var g=-1,w=f.length,j=w>1?f[w-1]:n,D=w>2?f[2]:n;for(j=s.length>3&&typeof j=="function"?(w--,j):n,D&&un(f[0],f[1],D)&&(j=w<3?n:j,w=1),a=ot(a);++g<w;){var O=f[g];O&&s(a,O,g,j)}return a})}function H0(s,a){return function(f,g){if(f==null)return f;if(!xn(f))return s(f,g);for(var w=f.length,j=a?w:-1,D=ot(f);(a?j--:++j<w)&&g(D[j],j,D)!==!1;);return f}}function q0(s){return function(a,f,g){for(var w=-1,j=ot(a),D=g(a),O=D.length;O--;){var I=D[s?O:++w];if(f(j[I],I,j)===!1)break}return a}}function Cj(s,a,f){var g=a&k,w=Aa(s);function j(){var D=this&&this!==qt&&this instanceof j?w:s;return D.apply(g?f:this,arguments)}return j}function G0(s){return function(a){a=tt(a);var f=po(a)?pr(a):n,g=f?f[0]:a.charAt(0),w=f?Oi(f,1).join(""):a.slice(1);return g[s]()+w}}function bo(s){return function(a){return Nf(Hy(By(a).replace(v2,"")),s,"")}}function Aa(s){return function(){var a=arguments;switch(a.length){case 0:return new s;case 1:return new s(a[0]);case 2:return new s(a[0],a[1]);case 3:return new s(a[0],a[1],a[2]);case 4:return new s(a[0],a[1],a[2],a[3]);case 5:return new s(a[0],a[1],a[2],a[3],a[4]);case 6:return new s(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new s(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var f=wo(s.prototype),g=s.apply(f,a);return xt(g)?g:f}}function kj(s,a,f){var g=Aa(s);function w(){for(var j=arguments.length,D=B(j),O=j,I=So(w);O--;)D[O]=arguments[O];var X=j<3&&D[0]!==I&&D[j-1]!==I?[]:Ci(D,I);if(j-=X.length,j<f)return X0(s,a,Au,w.placeholder,n,D,X,n,n,f-j);var J=this&&this!==qt&&this instanceof w?g:s;return Mn(J,this,D)}return w}function V0(s){return function(a,f,g){var w=ot(a);if(!xn(a)){var j=Ce(f,3);a=Ut(a),f=function(O){return j(w[O],O,w)}}var D=s(a,f,g);return D>-1?w[j?a[D]:D]:n}}function Y0(s){return Zr(function(a){var f=a.length,g=f,w=tr.prototype.thru;for(s&&a.reverse();g--;){var j=a[g];if(typeof j!="function")throw new er(l);if(w&&!D&&Uu(j)=="wrapper")var D=new tr([],!0)}for(g=D?g:f;++g<f;){j=a[g];var O=Uu(j),I=O=="wrapper"?sh(j):n;I&&uh(I[0])&&I[1]==(L|N|R|W)&&!I[4].length&&I[9]==1?D=D[Uu(I[0])].apply(D,I[3]):D=j.length==1&&uh(j)?D[O]():D.thru(j)}return function(){var X=arguments,J=X[0];if(D&&X.length==1&&Le(J))return D.plant(J).value();for(var ie=0,he=f?a[ie].apply(this,X):J;++ie<f;)he=a[ie].call(this,he);return he}})}function Au(s,a,f,g,w,j,D,O,I,X){var J=a&L,ie=a&k,he=a&b,Se=a&(N|P),De=a&ue,Fe=he?n:Aa(s);function Te(){for(var We=arguments.length,qe=B(We),Ln=We;Ln--;)qe[Ln]=arguments[Ln];if(Se)var cn=So(Te),In=U2(qe,cn);if(g&&(qe=W0(qe,g,w,Se)),j&&(qe=B0(qe,j,D,Se)),We-=In,Se&&We<X){var Ct=Ci(qe,cn);return X0(s,a,Au,Te.placeholder,f,qe,Ct,O,I,X-We)}var vr=ie?f:this,ri=he?vr[s]:s;return We=qe.length,O?qe=Yj(qe,O):De&&We>1&&qe.reverse(),J&&I<We&&(qe.length=I),this&&this!==qt&&this instanceof Te&&(ri=Fe||Aa(ri)),ri.apply(vr,qe)}return Te}function K0(s,a){return function(f,g){return nj(f,s,a(g),{})}}function Lu(s,a){return function(f,g){var w;if(f===n&&g===n)return a;if(f!==n&&(w=f),g!==n){if(w===n)return g;typeof f=="string"||typeof g=="string"?(f=$n(f),g=$n(g)):(f=R0(f),g=R0(g)),w=s(f,g)}return w}}function th(s){return Zr(function(a){return a=gt(a,Rn(Ce())),Ue(function(f){var g=this;return s(a,function(w){return Mn(w,g,f)})})})}function Iu(s,a){a=a===n?" ":$n(a);var f=a.length;if(f<2)return f?Yf(a,s):a;var g=Yf(a,Eu(s/mo(a)));return po(a)?Oi(pr(g),0,s).join(""):g.slice(0,s)}function Pj(s,a,f,g){var w=a&k,j=Aa(s);function D(){for(var O=-1,I=arguments.length,X=-1,J=g.length,ie=B(J+I),he=this&&this!==qt&&this instanceof D?j:s;++X<J;)ie[X]=g[X];for(;I--;)ie[X++]=arguments[++O];return Mn(he,w?f:this,ie)}return D}function Q0(s){return function(a,f,g){return g&&typeof g!="number"&&un(a,f,g)&&(f=g=n),a=ni(a),f===n?(f=a,a=0):f=ni(f),g=g===n?a<f?1:-1:ni(g),pj(a,f,g,s)}}function Fu(s){return function(a,f){return typeof a=="string"&&typeof f=="string"||(a=sr(a),f=sr(f)),s(a,f)}}function X0(s,a,f,g,w,j,D,O,I,X){var J=a&N,ie=J?D:n,he=J?n:D,Se=J?j:n,De=J?n:j;a|=J?R:z,a&=~(J?z:R),a&_||(a&=~(k|b));var Fe=[s,a,w,Se,ie,De,he,O,I,X],Te=f.apply(n,Fe);return uh(s)&&uy(Te,Fe),Te.placeholder=g,cy(Te,s,a)}function nh(s){var a=Rt[s];return function(f,g){if(f=sr(f),g=g==null?0:Jt(Ie(g),292),g&&c0(f)){var w=(tt(f)+"e").split("e"),j=a(w[0]+"e"+(+w[1]+g));return w=(tt(j)+"e").split("e"),+(w[0]+"e"+(+w[1]-g))}return a(f)}}var Dj=yo&&1/pu(new yo([,-0]))[1]==$?function(s){return new yo(s)}:Eh;function J0(s){return function(a){var f=Zt(a);return f==ee?Of(a):f==Pe?V2(a):F2(a,s(a))}}function Jr(s,a,f,g,w,j,D,O){var I=a&b;if(!I&&typeof s!="function")throw new er(l);var X=g?g.length:0;if(X||(a&=~(R|z),g=w=n),D=D===n?D:$t(Ie(D),0),O=O===n?O:Ie(O),X-=w?w.length:0,a&z){var J=g,ie=w;g=w=n}var he=I?n:sh(s),Se=[s,a,f,g,w,J,ie,j,D,O];if(he&&qj(Se,he),s=Se[0],a=Se[1],f=Se[2],g=Se[3],w=Se[4],O=Se[9]=Se[9]===n?I?0:s.length:$t(Se[9]-X,0),!O&&a&(N|P)&&(a&=~(N|P)),!a||a==k)var De=Cj(s,a,f);else a==N||a==P?De=kj(s,a,O):(a==R||a==(k|R))&&!w.length?De=Pj(s,a,f,g):De=Au.apply(n,Se);var Fe=he?O0:uy;return cy(Fe(De,Se),s,a)}function Z0(s,a,f,g){return s===n||gr(s,vo[f])&&!rt.call(g,f)?a:s}function ey(s,a,f,g,w,j){return xt(s)&&xt(a)&&(j.set(a,s),Ou(s,a,n,ey,j),j.delete(a)),s}function Tj(s){return Fa(s)?n:s}function ty(s,a,f,g,w,j){var D=f&S,O=s.length,I=a.length;if(O!=I&&!(D&&I>O))return!1;var X=j.get(s),J=j.get(a);if(X&&J)return X==a&&J==s;var ie=-1,he=!0,Se=f&C?new Ns:n;for(j.set(s,a),j.set(a,s);++ie<O;){var De=s[ie],Fe=a[ie];if(g)var Te=D?g(Fe,De,ie,a,s,j):g(De,Fe,ie,s,a,j);if(Te!==n){if(Te)continue;he=!1;break}if(Se){if(!jf(a,function(We,qe){if(!Na(Se,qe)&&(De===We||w(De,We,f,g,j)))return Se.push(qe)})){he=!1;break}}else if(!(De===Fe||w(De,Fe,f,g,j))){he=!1;break}}return j.delete(s),j.delete(a),he}function Oj(s,a,f,g,w,j,D){switch(f){case sn:if(s.byteLength!=a.byteLength||s.byteOffset!=a.byteOffset)return!1;s=s.buffer,a=a.buffer;case Ft:return!(s.byteLength!=a.byteLength||!j(new wu(s),new wu(a)));case pe:case Z:case M:return gr(+s,+a);case U:return s.name==a.name&&s.message==a.message;case ve:case je:return s==a+"";case ee:var O=Of;case Pe:var I=g&S;if(O||(O=pu),s.size!=a.size&&!I)return!1;var X=D.get(s);if(X)return X==a;g|=C,D.set(s,a);var J=ty(O(s),O(a),g,w,j,D);return D.delete(s),J;case Ke:if(Da)return Da.call(s)==Da.call(a)}return!1}function Mj(s,a,f,g,w,j){var D=f&S,O=rh(s),I=O.length,X=rh(a),J=X.length;if(I!=J&&!D)return!1;for(var ie=I;ie--;){var he=O[ie];if(!(D?he in a:rt.call(a,he)))return!1}var Se=j.get(s),De=j.get(a);if(Se&&De)return Se==a&&De==s;var Fe=!0;j.set(s,a),j.set(a,s);for(var Te=D;++ie<I;){he=O[ie];var We=s[he],qe=a[he];if(g)var Ln=D?g(qe,We,he,a,s,j):g(We,qe,he,s,a,j);if(!(Ln===n?We===qe||w(We,qe,f,g,j):Ln)){Fe=!1;break}Te||(Te=he=="constructor")}if(Fe&&!Te){var cn=s.constructor,In=a.constructor;cn!=In&&"constructor"in s&&"constructor"in a&&!(typeof cn=="function"&&cn instanceof cn&&typeof In=="function"&&In instanceof In)&&(Fe=!1)}return j.delete(s),j.delete(a),Fe}function Zr(s){return dh(ay(s,n,gy),s+"")}function rh(s){return _0(s,Ut,ah)}function ih(s){return _0(s,wn,ny)}var sh=ju?function(s){return ju.get(s)}:Eh;function Uu(s){for(var a=s.name+"",f=xo[a],g=rt.call(xo,a)?f.length:0;g--;){var w=f[g],j=w.func;if(j==null||j==s)return w.name}return a}function So(s){var a=rt.call(E,"placeholder")?E:s;return a.placeholder}function Ce(){var s=E.iteratee||bh;return s=s===bh?E0:s,arguments.length?s(arguments[0],arguments[1]):s}function zu(s,a){var f=s.__data__;return zj(a)?f[typeof a=="string"?"string":"hash"]:f.map}function oh(s){for(var a=Ut(s),f=a.length;f--;){var g=a[f],w=s[g];a[f]=[g,w,sy(w)]}return a}function ks(s,a){var f=H2(s,a);return S0(f)?f:n}function Rj(s){var a=rt.call(s,Ss),f=s[Ss];try{s[Ss]=n;var g=!0}catch{}var w=yu.call(s);return g&&(a?s[Ss]=f:delete s[Ss]),w}var ah=Rf?function(s){return s==null?[]:(s=ot(s),Ni(Rf(s),function(a){return l0.call(s,a)}))}:Nh,ny=Rf?function(s){for(var a=[];s;)ji(a,ah(s)),s=_u(s);return a}:Nh,Zt=ln;($f&&Zt(new $f(new ArrayBuffer(1)))!=sn||Ca&&Zt(new Ca)!=ee||Af&&Zt(Af.resolve())!=G||yo&&Zt(new yo)!=Pe||ka&&Zt(new ka)!=Xe)&&(Zt=function(s){var a=ln(s),f=a==ce?s.constructor:n,g=f?Ps(f):"";if(g)switch(g){case gN:return sn;case vN:return ee;case yN:return G;case xN:return Pe;case wN:return Xe}return a});function $j(s,a,f){for(var g=-1,w=f.length;++g<w;){var j=f[g],D=j.size;switch(j.type){case"drop":s+=D;break;case"dropRight":a-=D;break;case"take":a=Jt(a,s+D);break;case"takeRight":s=$t(s,a-D);break}}return{start:s,end:a}}function Aj(s){var a=s.match(Or);return a?a[1].split(_s):[]}function ry(s,a,f){a=Ti(a,s);for(var g=-1,w=a.length,j=!1;++g<w;){var D=$r(a[g]);if(!(j=s!=null&&f(s,D)))break;s=s[D]}return j||++g!=w?j:(w=s==null?0:s.length,!!w&&Yu(w)&&ei(D,w)&&(Le(s)||Ds(s)))}function Lj(s){var a=s.length,f=new s.constructor(a);return a&&typeof s[0]=="string"&&rt.call(s,"index")&&(f.index=s.index,f.input=s.input),f}function iy(s){return typeof s.constructor=="function"&&!La(s)?wo(_u(s)):{}}function Ij(s,a,f){var g=s.constructor;switch(a){case Ft:return eh(s);case pe:case Z:return new g(+s);case sn:return _j(s,f);case Yr:case lo:case Yn:case uo:case _a:case ba:case ys:case co:case Sa:return U0(s,f);case ee:return new g;case M:case je:return new g(s);case ve:return bj(s);case Pe:return new g;case Ke:return Sj(s)}}function Fj(s,a){var f=a.length;if(!f)return s;var g=f-1;return a[g]=(f>1?"& ":"")+a[g],a=a.join(f>2?", ":" "),s.replace(ws,`{
/* [wrapped with `+a+`] */
`)}function Uj(s){return Le(s)||Ds(s)||!!(u0&&s&&s[u0])}function ei(s,a){var f=typeof s;return a=a??T,!!a&&(f=="number"||f!="symbol"&&JE.test(s))&&s>-1&&s%1==0&&s<a}function un(s,a,f){if(!xt(f))return!1;var g=typeof a;return(g=="number"?xn(f)&&ei(a,f.length):g=="string"&&a in f)?gr(f[a],s):!1}function lh(s,a){if(Le(s))return!1;var f=typeof s;return f=="number"||f=="symbol"||f=="boolean"||s==null||An(s)?!0:Ei.test(s)||!Kn.test(s)||a!=null&&s in ot(a)}function zj(s){var a=typeof s;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?s!=="__proto__":s===null}function uh(s){var a=Uu(s),f=E[a];if(typeof f!="function"||!(a in He.prototype))return!1;if(s===f)return!0;var g=sh(f);return!!g&&s===g[0]}function Wj(s){return!!s0&&s0 in s}var Bj=gu?ti:jh;function La(s){var a=s&&s.constructor,f=typeof a=="function"&&a.prototype||vo;return s===f}function sy(s){return s===s&&!xt(s)}function oy(s,a){return function(f){return f==null?!1:f[s]===a&&(a!==n||s in ot(f))}}function Hj(s){var a=Gu(s,function(g){return f.size===h&&f.clear(),g}),f=a.cache;return a}function qj(s,a){var f=s[1],g=a[1],w=f|g,j=w<(k|b|L),D=g==L&&f==N||g==L&&f==W&&s[7].length<=a[8]||g==(L|W)&&a[7].length<=a[8]&&f==N;if(!(j||D))return s;g&k&&(s[2]=a[2],w|=f&k?0:_);var O=a[3];if(O){var I=s[3];s[3]=I?W0(I,O,a[4]):O,s[4]=I?Ci(s[3],p):a[4]}return O=a[5],O&&(I=s[5],s[5]=I?B0(I,O,a[6]):O,s[6]=I?Ci(s[5],p):a[6]),O=a[7],O&&(s[7]=O),g&L&&(s[8]=s[8]==null?a[8]:Jt(s[8],a[8])),s[9]==null&&(s[9]=a[9]),s[0]=a[0],s[1]=w,s}function Gj(s){var a=[];if(s!=null)for(var f in ot(s))a.push(f);return a}function Vj(s){return yu.call(s)}function ay(s,a,f){return a=$t(a===n?s.length-1:a,0),function(){for(var g=arguments,w=-1,j=$t(g.length-a,0),D=B(j);++w<j;)D[w]=g[a+w];w=-1;for(var O=B(a+1);++w<a;)O[w]=g[w];return O[a]=f(D),Mn(s,this,O)}}function ly(s,a){return a.length<2?s:Cs(s,rr(a,0,-1))}function Yj(s,a){for(var f=s.length,g=Jt(a.length,f),w=yn(s);g--;){var j=a[g];s[g]=ei(j,f)?w[j]:n}return s}function ch(s,a){if(!(a==="constructor"&&typeof s[a]=="function")&&a!="__proto__")return s[a]}var uy=dy(O0),Ia=uN||function(s,a){return qt.setTimeout(s,a)},dh=dy(vj);function cy(s,a,f){var g=a+"";return dh(s,Fj(g,Kj(Aj(g),f)))}function dy(s){var a=0,f=0;return function(){var g=hN(),w=ne-(g-f);if(f=g,w>0){if(++a>=Ee)return arguments[0]}else a=0;return s.apply(n,arguments)}}function Wu(s,a){var f=-1,g=s.length,w=g-1;for(a=a===n?g:a;++f<a;){var j=Vf(f,w),D=s[j];s[j]=s[f],s[f]=D}return s.length=a,s}var fy=Hj(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(Mt,function(f,g,w,j){a.push(w?j.replace(GE,"$1"):g||f)}),a});function $r(s){if(typeof s=="string"||An(s))return s;var a=s+"";return a=="0"&&1/s==-$?"-0":a}function Ps(s){if(s!=null){try{return vu.call(s)}catch{}try{return s+""}catch{}}return""}function Kj(s,a){return Zn($e,function(f){var g="_."+f[0];a&f[1]&&!fu(s,g)&&s.push(g)}),s.sort()}function hy(s){if(s instanceof He)return s.clone();var a=new tr(s.__wrapped__,s.__chain__);return a.__actions__=yn(s.__actions__),a.__index__=s.__index__,a.__values__=s.__values__,a}function Qj(s,a,f){(f?un(s,a,f):a===n)?a=1:a=$t(Ie(a),0);var g=s==null?0:s.length;if(!g||a<1)return[];for(var w=0,j=0,D=B(Eu(g/a));w<g;)D[j++]=rr(s,w,w+=a);return D}function Xj(s){for(var a=-1,f=s==null?0:s.length,g=0,w=[];++a<f;){var j=s[a];j&&(w[g++]=j)}return w}function Jj(){var s=arguments.length;if(!s)return[];for(var a=B(s-1),f=arguments[0],g=s;g--;)a[g-1]=arguments[g];return ji(Le(f)?yn(f):[f],Gt(a,1))}var Zj=Ue(function(s,a){return jt(s)?Oa(s,Gt(a,1,jt,!0)):[]}),eC=Ue(function(s,a){var f=ir(a);return jt(f)&&(f=n),jt(s)?Oa(s,Gt(a,1,jt,!0),Ce(f,2)):[]}),tC=Ue(function(s,a){var f=ir(a);return jt(f)&&(f=n),jt(s)?Oa(s,Gt(a,1,jt,!0),n,f):[]});function nC(s,a,f){var g=s==null?0:s.length;return g?(a=f||a===n?1:Ie(a),rr(s,a<0?0:a,g)):[]}function rC(s,a,f){var g=s==null?0:s.length;return g?(a=f||a===n?1:Ie(a),a=g-a,rr(s,0,a<0?0:a)):[]}function iC(s,a){return s&&s.length?Ru(s,Ce(a,3),!0,!0):[]}function sC(s,a){return s&&s.length?Ru(s,Ce(a,3),!0):[]}function oC(s,a,f,g){var w=s==null?0:s.length;return w?(f&&typeof f!="number"&&un(s,a,f)&&(f=0,g=w),JN(s,a,f,g)):[]}function py(s,a,f){var g=s==null?0:s.length;if(!g)return-1;var w=f==null?0:Ie(f);return w<0&&(w=$t(g+w,0)),hu(s,Ce(a,3),w)}function my(s,a,f){var g=s==null?0:s.length;if(!g)return-1;var w=g-1;return f!==n&&(w=Ie(f),w=f<0?$t(g+w,0):Jt(w,g-1)),hu(s,Ce(a,3),w,!0)}function gy(s){var a=s==null?0:s.length;return a?Gt(s,1):[]}function aC(s){var a=s==null?0:s.length;return a?Gt(s,$):[]}function lC(s,a){var f=s==null?0:s.length;return f?(a=a===n?1:Ie(a),Gt(s,a)):[]}function uC(s){for(var a=-1,f=s==null?0:s.length,g={};++a<f;){var w=s[a];g[w[0]]=w[1]}return g}function vy(s){return s&&s.length?s[0]:n}function cC(s,a,f){var g=s==null?0:s.length;if(!g)return-1;var w=f==null?0:Ie(f);return w<0&&(w=$t(g+w,0)),ho(s,a,w)}function dC(s){var a=s==null?0:s.length;return a?rr(s,0,-1):[]}var fC=Ue(function(s){var a=gt(s,Jf);return a.length&&a[0]===s[0]?Wf(a):[]}),hC=Ue(function(s){var a=ir(s),f=gt(s,Jf);return a===ir(f)?a=n:f.pop(),f.length&&f[0]===s[0]?Wf(f,Ce(a,2)):[]}),pC=Ue(function(s){var a=ir(s),f=gt(s,Jf);return a=typeof a=="function"?a:n,a&&f.pop(),f.length&&f[0]===s[0]?Wf(f,n,a):[]});function mC(s,a){return s==null?"":dN.call(s,a)}function ir(s){var a=s==null?0:s.length;return a?s[a-1]:n}function gC(s,a,f){var g=s==null?0:s.length;if(!g)return-1;var w=g;return f!==n&&(w=Ie(f),w=w<0?$t(g+w,0):Jt(w,g-1)),a===a?K2(s,a,w):hu(s,Xv,w,!0)}function vC(s,a){return s&&s.length?k0(s,Ie(a)):n}var yC=Ue(yy);function yy(s,a){return s&&s.length&&a&&a.length?Gf(s,a):s}function xC(s,a,f){return s&&s.length&&a&&a.length?Gf(s,a,Ce(f,2)):s}function wC(s,a,f){return s&&s.length&&a&&a.length?Gf(s,a,n,f):s}var _C=Zr(function(s,a){var f=s==null?0:s.length,g=If(s,a);return T0(s,gt(a,function(w){return ei(w,f)?+w:w}).sort(z0)),g});function bC(s,a){var f=[];if(!(s&&s.length))return f;var g=-1,w=[],j=s.length;for(a=Ce(a,3);++g<j;){var D=s[g];a(D,g,s)&&(f.push(D),w.push(g))}return T0(s,w),f}function fh(s){return s==null?s:mN.call(s)}function SC(s,a,f){var g=s==null?0:s.length;return g?(f&&typeof f!="number"&&un(s,a,f)?(a=0,f=g):(a=a==null?0:Ie(a),f=f===n?g:Ie(f)),rr(s,a,f)):[]}function EC(s,a){return Mu(s,a)}function NC(s,a,f){return Kf(s,a,Ce(f,2))}function jC(s,a){var f=s==null?0:s.length;if(f){var g=Mu(s,a);if(g<f&&gr(s[g],a))return g}return-1}function CC(s,a){return Mu(s,a,!0)}function kC(s,a,f){return Kf(s,a,Ce(f,2),!0)}function PC(s,a){var f=s==null?0:s.length;if(f){var g=Mu(s,a,!0)-1;if(gr(s[g],a))return g}return-1}function DC(s){return s&&s.length?M0(s):[]}function TC(s,a){return s&&s.length?M0(s,Ce(a,2)):[]}function OC(s){var a=s==null?0:s.length;return a?rr(s,1,a):[]}function MC(s,a,f){return s&&s.length?(a=f||a===n?1:Ie(a),rr(s,0,a<0?0:a)):[]}function RC(s,a,f){var g=s==null?0:s.length;return g?(a=f||a===n?1:Ie(a),a=g-a,rr(s,a<0?0:a,g)):[]}function $C(s,a){return s&&s.length?Ru(s,Ce(a,3),!1,!0):[]}function AC(s,a){return s&&s.length?Ru(s,Ce(a,3)):[]}var LC=Ue(function(s){return Di(Gt(s,1,jt,!0))}),IC=Ue(function(s){var a=ir(s);return jt(a)&&(a=n),Di(Gt(s,1,jt,!0),Ce(a,2))}),FC=Ue(function(s){var a=ir(s);return a=typeof a=="function"?a:n,Di(Gt(s,1,jt,!0),n,a)});function UC(s){return s&&s.length?Di(s):[]}function zC(s,a){return s&&s.length?Di(s,Ce(a,2)):[]}function WC(s,a){return a=typeof a=="function"?a:n,s&&s.length?Di(s,n,a):[]}function hh(s){if(!(s&&s.length))return[];var a=0;return s=Ni(s,function(f){if(jt(f))return a=$t(f.length,a),!0}),Df(a,function(f){return gt(s,Cf(f))})}function xy(s,a){if(!(s&&s.length))return[];var f=hh(s);return a==null?f:gt(f,function(g){return Mn(a,n,g)})}var BC=Ue(function(s,a){return jt(s)?Oa(s,a):[]}),HC=Ue(function(s){return Xf(Ni(s,jt))}),qC=Ue(function(s){var a=ir(s);return jt(a)&&(a=n),Xf(Ni(s,jt),Ce(a,2))}),GC=Ue(function(s){var a=ir(s);return a=typeof a=="function"?a:n,Xf(Ni(s,jt),n,a)}),VC=Ue(hh);function YC(s,a){return L0(s||[],a||[],Ta)}function KC(s,a){return L0(s||[],a||[],$a)}var QC=Ue(function(s){var a=s.length,f=a>1?s[a-1]:n;return f=typeof f=="function"?(s.pop(),f):n,xy(s,f)});function wy(s){var a=E(s);return a.__chain__=!0,a}function XC(s,a){return a(s),s}function Bu(s,a){return a(s)}var JC=Zr(function(s){var a=s.length,f=a?s[0]:0,g=this.__wrapped__,w=function(j){return If(j,s)};return a>1||this.__actions__.length||!(g instanceof He)||!ei(f)?this.thru(w):(g=g.slice(f,+f+(a?1:0)),g.__actions__.push({func:Bu,args:[w],thisArg:n}),new tr(g,this.__chain__).thru(function(j){return a&&!j.length&&j.push(n),j}))});function ZC(){return wy(this)}function ek(){return new tr(this.value(),this.__chain__)}function tk(){this.__values__===n&&(this.__values__=Ry(this.value()));var s=this.__index__>=this.__values__.length,a=s?n:this.__values__[this.__index__++];return{done:s,value:a}}function nk(){return this}function rk(s){for(var a,f=this;f instanceof ku;){var g=hy(f);g.__index__=0,g.__values__=n,a?w.__wrapped__=g:a=g;var w=g;f=f.__wrapped__}return w.__wrapped__=s,a}function ik(){var s=this.__wrapped__;if(s instanceof He){var a=s;return this.__actions__.length&&(a=new He(this)),a=a.reverse(),a.__actions__.push({func:Bu,args:[fh],thisArg:n}),new tr(a,this.__chain__)}return this.thru(fh)}function sk(){return A0(this.__wrapped__,this.__actions__)}var ok=$u(function(s,a,f){rt.call(s,f)?++s[f]:Xr(s,f,1)});function ak(s,a,f){var g=Le(s)?Kv:XN;return f&&un(s,a,f)&&(a=n),g(s,Ce(a,3))}function lk(s,a){var f=Le(s)?Ni:x0;return f(s,Ce(a,3))}var uk=V0(py),ck=V0(my);function dk(s,a){return Gt(Hu(s,a),1)}function fk(s,a){return Gt(Hu(s,a),$)}function hk(s,a,f){return f=f===n?1:Ie(f),Gt(Hu(s,a),f)}function _y(s,a){var f=Le(s)?Zn:Pi;return f(s,Ce(a,3))}function by(s,a){var f=Le(s)?O2:y0;return f(s,Ce(a,3))}var pk=$u(function(s,a,f){rt.call(s,f)?s[f].push(a):Xr(s,f,[a])});function mk(s,a,f,g){s=xn(s)?s:No(s),f=f&&!g?Ie(f):0;var w=s.length;return f<0&&(f=$t(w+f,0)),Ku(s)?f<=w&&s.indexOf(a,f)>-1:!!w&&ho(s,a,f)>-1}var gk=Ue(function(s,a,f){var g=-1,w=typeof a=="function",j=xn(s)?B(s.length):[];return Pi(s,function(D){j[++g]=w?Mn(a,D,f):Ma(D,a,f)}),j}),vk=$u(function(s,a,f){Xr(s,f,a)});function Hu(s,a){var f=Le(s)?gt:N0;return f(s,Ce(a,3))}function yk(s,a,f,g){return s==null?[]:(Le(a)||(a=a==null?[]:[a]),f=g?n:f,Le(f)||(f=f==null?[]:[f]),P0(s,a,f))}var xk=$u(function(s,a,f){s[f?0:1].push(a)},function(){return[[],[]]});function wk(s,a,f){var g=Le(s)?Nf:Zv,w=arguments.length<3;return g(s,Ce(a,4),f,w,Pi)}function _k(s,a,f){var g=Le(s)?M2:Zv,w=arguments.length<3;return g(s,Ce(a,4),f,w,y0)}function bk(s,a){var f=Le(s)?Ni:x0;return f(s,Vu(Ce(a,3)))}function Sk(s){var a=Le(s)?p0:mj;return a(s)}function Ek(s,a,f){(f?un(s,a,f):a===n)?a=1:a=Ie(a);var g=Le(s)?GN:gj;return g(s,a)}function Nk(s){var a=Le(s)?VN:yj;return a(s)}function jk(s){if(s==null)return 0;if(xn(s))return Ku(s)?mo(s):s.length;var a=Zt(s);return a==ee||a==Pe?s.size:Hf(s).length}function Ck(s,a,f){var g=Le(s)?jf:xj;return f&&un(s,a,f)&&(a=n),g(s,Ce(a,3))}var kk=Ue(function(s,a){if(s==null)return[];var f=a.length;return f>1&&un(s,a[0],a[1])?a=[]:f>2&&un(a[0],a[1],a[2])&&(a=[a[0]]),P0(s,Gt(a,1),[])}),qu=lN||function(){return qt.Date.now()};function Pk(s,a){if(typeof a!="function")throw new er(l);return s=Ie(s),function(){if(--s<1)return a.apply(this,arguments)}}function Sy(s,a,f){return a=f?n:a,a=s&&a==null?s.length:a,Jr(s,L,n,n,n,n,a)}function Ey(s,a){var f;if(typeof a!="function")throw new er(l);return s=Ie(s),function(){return--s>0&&(f=a.apply(this,arguments)),s<=1&&(a=n),f}}var ph=Ue(function(s,a,f){var g=k;if(f.length){var w=Ci(f,So(ph));g|=R}return Jr(s,g,a,f,w)}),Ny=Ue(function(s,a,f){var g=k|b;if(f.length){var w=Ci(f,So(Ny));g|=R}return Jr(a,g,s,f,w)});function jy(s,a,f){a=f?n:a;var g=Jr(s,N,n,n,n,n,n,a);return g.placeholder=jy.placeholder,g}function Cy(s,a,f){a=f?n:a;var g=Jr(s,P,n,n,n,n,n,a);return g.placeholder=Cy.placeholder,g}function ky(s,a,f){var g,w,j,D,O,I,X=0,J=!1,ie=!1,he=!0;if(typeof s!="function")throw new er(l);a=sr(a)||0,xt(f)&&(J=!!f.leading,ie="maxWait"in f,j=ie?$t(sr(f.maxWait)||0,a):j,he="trailing"in f?!!f.trailing:he);function Se(Ct){var vr=g,ri=w;return g=w=n,X=Ct,D=s.apply(ri,vr),D}function De(Ct){return X=Ct,O=Ia(We,a),J?Se(Ct):D}function Fe(Ct){var vr=Ct-I,ri=Ct-X,Vy=a-vr;return ie?Jt(Vy,j-ri):Vy}function Te(Ct){var vr=Ct-I,ri=Ct-X;return I===n||vr>=a||vr<0||ie&&ri>=j}function We(){var Ct=qu();if(Te(Ct))return qe(Ct);O=Ia(We,Fe(Ct))}function qe(Ct){return O=n,he&&g?Se(Ct):(g=w=n,D)}function Ln(){O!==n&&I0(O),X=0,g=I=w=O=n}function cn(){return O===n?D:qe(qu())}function In(){var Ct=qu(),vr=Te(Ct);if(g=arguments,w=this,I=Ct,vr){if(O===n)return De(I);if(ie)return I0(O),O=Ia(We,a),Se(I)}return O===n&&(O=Ia(We,a)),D}return In.cancel=Ln,In.flush=cn,In}var Dk=Ue(function(s,a){return v0(s,1,a)}),Tk=Ue(function(s,a,f){return v0(s,sr(a)||0,f)});function Ok(s){return Jr(s,ue)}function Gu(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new er(l);var f=function(){var g=arguments,w=a?a.apply(this,g):g[0],j=f.cache;if(j.has(w))return j.get(w);var D=s.apply(this,g);return f.cache=j.set(w,D)||j,D};return f.cache=new(Gu.Cache||Qr),f}Gu.Cache=Qr;function Vu(s){if(typeof s!="function")throw new er(l);return function(){var a=arguments;switch(a.length){case 0:return!s.call(this);case 1:return!s.call(this,a[0]);case 2:return!s.call(this,a[0],a[1]);case 3:return!s.call(this,a[0],a[1],a[2])}return!s.apply(this,a)}}function Mk(s){return Ey(2,s)}var Rk=wj(function(s,a){a=a.length==1&&Le(a[0])?gt(a[0],Rn(Ce())):gt(Gt(a,1),Rn(Ce()));var f=a.length;return Ue(function(g){for(var w=-1,j=Jt(g.length,f);++w<j;)g[w]=a[w].call(this,g[w]);return Mn(s,this,g)})}),mh=Ue(function(s,a){var f=Ci(a,So(mh));return Jr(s,R,n,a,f)}),Py=Ue(function(s,a){var f=Ci(a,So(Py));return Jr(s,z,n,a,f)}),$k=Zr(function(s,a){return Jr(s,W,n,n,n,a)});function Ak(s,a){if(typeof s!="function")throw new er(l);return a=a===n?a:Ie(a),Ue(s,a)}function Lk(s,a){if(typeof s!="function")throw new er(l);return a=a==null?0:$t(Ie(a),0),Ue(function(f){var g=f[a],w=Oi(f,0,a);return g&&ji(w,g),Mn(s,this,w)})}function Ik(s,a,f){var g=!0,w=!0;if(typeof s!="function")throw new er(l);return xt(f)&&(g="leading"in f?!!f.leading:g,w="trailing"in f?!!f.trailing:w),ky(s,a,{leading:g,maxWait:a,trailing:w})}function Fk(s){return Sy(s,1)}function Uk(s,a){return mh(Zf(a),s)}function zk(){if(!arguments.length)return[];var s=arguments[0];return Le(s)?s:[s]}function Wk(s){return nr(s,x)}function Bk(s,a){return a=typeof a=="function"?a:n,nr(s,x,a)}function Hk(s){return nr(s,m|x)}function qk(s,a){return a=typeof a=="function"?a:n,nr(s,m|x,a)}function Gk(s,a){return a==null||g0(s,a,Ut(a))}function gr(s,a){return s===a||s!==s&&a!==a}var Vk=Fu(zf),Yk=Fu(function(s,a){return s>=a}),Ds=b0(function(){return arguments}())?b0:function(s){return Et(s)&&rt.call(s,"callee")&&!l0.call(s,"callee")},Le=B.isArray,Kk=Bv?Rn(Bv):rj;function xn(s){return s!=null&&Yu(s.length)&&!ti(s)}function jt(s){return Et(s)&&xn(s)}function Qk(s){return s===!0||s===!1||Et(s)&&ln(s)==pe}var Mi=cN||jh,Xk=Hv?Rn(Hv):ij;function Jk(s){return Et(s)&&s.nodeType===1&&!Fa(s)}function Zk(s){if(s==null)return!0;if(xn(s)&&(Le(s)||typeof s=="string"||typeof s.splice=="function"||Mi(s)||Eo(s)||Ds(s)))return!s.length;var a=Zt(s);if(a==ee||a==Pe)return!s.size;if(La(s))return!Hf(s).length;for(var f in s)if(rt.call(s,f))return!1;return!0}function e3(s,a){return Ra(s,a)}function t3(s,a,f){f=typeof f=="function"?f:n;var g=f?f(s,a):n;return g===n?Ra(s,a,n,f):!!g}function gh(s){if(!Et(s))return!1;var a=ln(s);return a==U||a==V||typeof s.message=="string"&&typeof s.name=="string"&&!Fa(s)}function n3(s){return typeof s=="number"&&c0(s)}function ti(s){if(!xt(s))return!1;var a=ln(s);return a==K||a==fe||a==Q||a==de}function Dy(s){return typeof s=="number"&&s==Ie(s)}function Yu(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=T}function xt(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}function Et(s){return s!=null&&typeof s=="object"}var Ty=qv?Rn(qv):oj;function r3(s,a){return s===a||Bf(s,a,oh(a))}function i3(s,a,f){return f=typeof f=="function"?f:n,Bf(s,a,oh(a),f)}function s3(s){return Oy(s)&&s!=+s}function o3(s){if(Bj(s))throw new Ae(o);return S0(s)}function a3(s){return s===null}function l3(s){return s==null}function Oy(s){return typeof s=="number"||Et(s)&&ln(s)==M}function Fa(s){if(!Et(s)||ln(s)!=ce)return!1;var a=_u(s);if(a===null)return!0;var f=rt.call(a,"constructor")&&a.constructor;return typeof f=="function"&&f instanceof f&&vu.call(f)==iN}var vh=Gv?Rn(Gv):aj;function u3(s){return Dy(s)&&s>=-T&&s<=T}var My=Vv?Rn(Vv):lj;function Ku(s){return typeof s=="string"||!Le(s)&&Et(s)&&ln(s)==je}function An(s){return typeof s=="symbol"||Et(s)&&ln(s)==Ke}var Eo=Yv?Rn(Yv):uj;function c3(s){return s===n}function d3(s){return Et(s)&&Zt(s)==Xe}function f3(s){return Et(s)&&ln(s)==yt}var h3=Fu(qf),p3=Fu(function(s,a){return s<=a});function Ry(s){if(!s)return[];if(xn(s))return Ku(s)?pr(s):yn(s);if(ja&&s[ja])return G2(s[ja]());var a=Zt(s),f=a==ee?Of:a==Pe?pu:No;return f(s)}function ni(s){if(!s)return s===0?s:0;if(s=sr(s),s===$||s===-$){var a=s<0?-1:1;return a*F}return s===s?s:0}function Ie(s){var a=ni(s),f=a%1;return a===a?f?a-f:a:0}function $y(s){return s?js(Ie(s),0,se):0}function sr(s){if(typeof s=="number")return s;if(An(s))return te;if(xt(s)){var a=typeof s.valueOf=="function"?s.valueOf():s;s=xt(a)?a+"":a}if(typeof s!="string")return s===0?s:+s;s=e0(s);var f=KE.test(s);return f||XE.test(s)?P2(s.slice(2),f?2:8):YE.test(s)?te:+s}function Ay(s){return Rr(s,wn(s))}function m3(s){return s?js(Ie(s),-T,T):s===0?s:0}function tt(s){return s==null?"":$n(s)}var g3=_o(function(s,a){if(La(a)||xn(a)){Rr(a,Ut(a),s);return}for(var f in a)rt.call(a,f)&&Ta(s,f,a[f])}),Ly=_o(function(s,a){Rr(a,wn(a),s)}),Qu=_o(function(s,a,f,g){Rr(a,wn(a),s,g)}),v3=_o(function(s,a,f,g){Rr(a,Ut(a),s,g)}),y3=Zr(If);function x3(s,a){var f=wo(s);return a==null?f:m0(f,a)}var w3=Ue(function(s,a){s=ot(s);var f=-1,g=a.length,w=g>2?a[2]:n;for(w&&un(a[0],a[1],w)&&(g=1);++f<g;)for(var j=a[f],D=wn(j),O=-1,I=D.length;++O<I;){var X=D[O],J=s[X];(J===n||gr(J,vo[X])&&!rt.call(s,X))&&(s[X]=j[X])}return s}),_3=Ue(function(s){return s.push(n,ey),Mn(Iy,n,s)});function b3(s,a){return Qv(s,Ce(a,3),Mr)}function S3(s,a){return Qv(s,Ce(a,3),Uf)}function E3(s,a){return s==null?s:Ff(s,Ce(a,3),wn)}function N3(s,a){return s==null?s:w0(s,Ce(a,3),wn)}function j3(s,a){return s&&Mr(s,Ce(a,3))}function C3(s,a){return s&&Uf(s,Ce(a,3))}function k3(s){return s==null?[]:Tu(s,Ut(s))}function P3(s){return s==null?[]:Tu(s,wn(s))}function yh(s,a,f){var g=s==null?n:Cs(s,a);return g===n?f:g}function D3(s,a){return s!=null&&ry(s,a,ZN)}function xh(s,a){return s!=null&&ry(s,a,ej)}var T3=K0(function(s,a,f){a!=null&&typeof a.toString!="function"&&(a=yu.call(a)),s[a]=f},_h(_n)),O3=K0(function(s,a,f){a!=null&&typeof a.toString!="function"&&(a=yu.call(a)),rt.call(s,a)?s[a].push(f):s[a]=[f]},Ce),M3=Ue(Ma);function Ut(s){return xn(s)?h0(s):Hf(s)}function wn(s){return xn(s)?h0(s,!0):cj(s)}function R3(s,a){var f={};return a=Ce(a,3),Mr(s,function(g,w,j){Xr(f,a(g,w,j),g)}),f}function $3(s,a){var f={};return a=Ce(a,3),Mr(s,function(g,w,j){Xr(f,w,a(g,w,j))}),f}var A3=_o(function(s,a,f){Ou(s,a,f)}),Iy=_o(function(s,a,f,g){Ou(s,a,f,g)}),L3=Zr(function(s,a){var f={};if(s==null)return f;var g=!1;a=gt(a,function(j){return j=Ti(j,s),g||(g=j.length>1),j}),Rr(s,ih(s),f),g&&(f=nr(f,m|y|x,Tj));for(var w=a.length;w--;)Qf(f,a[w]);return f});function I3(s,a){return Fy(s,Vu(Ce(a)))}var F3=Zr(function(s,a){return s==null?{}:fj(s,a)});function Fy(s,a){if(s==null)return{};var f=gt(ih(s),function(g){return[g]});return a=Ce(a),D0(s,f,function(g,w){return a(g,w[0])})}function U3(s,a,f){a=Ti(a,s);var g=-1,w=a.length;for(w||(w=1,s=n);++g<w;){var j=s==null?n:s[$r(a[g])];j===n&&(g=w,j=f),s=ti(j)?j.call(s):j}return s}function z3(s,a,f){return s==null?s:$a(s,a,f)}function W3(s,a,f,g){return g=typeof g=="function"?g:n,s==null?s:$a(s,a,f,g)}var Uy=J0(Ut),zy=J0(wn);function B3(s,a,f){var g=Le(s),w=g||Mi(s)||Eo(s);if(a=Ce(a,4),f==null){var j=s&&s.constructor;w?f=g?new j:[]:xt(s)?f=ti(j)?wo(_u(s)):{}:f={}}return(w?Zn:Mr)(s,function(D,O,I){return a(f,D,O,I)}),f}function H3(s,a){return s==null?!0:Qf(s,a)}function q3(s,a,f){return s==null?s:$0(s,a,Zf(f))}function G3(s,a,f,g){return g=typeof g=="function"?g:n,s==null?s:$0(s,a,Zf(f),g)}function No(s){return s==null?[]:Tf(s,Ut(s))}function V3(s){return s==null?[]:Tf(s,wn(s))}function Y3(s,a,f){return f===n&&(f=a,a=n),f!==n&&(f=sr(f),f=f===f?f:0),a!==n&&(a=sr(a),a=a===a?a:0),js(sr(s),a,f)}function K3(s,a,f){return a=ni(a),f===n?(f=a,a=0):f=ni(f),s=sr(s),tj(s,a,f)}function Q3(s,a,f){if(f&&typeof f!="boolean"&&un(s,a,f)&&(a=f=n),f===n&&(typeof a=="boolean"?(f=a,a=n):typeof s=="boolean"&&(f=s,s=n)),s===n&&a===n?(s=0,a=1):(s=ni(s),a===n?(a=s,s=0):a=ni(a)),s>a){var g=s;s=a,a=g}if(f||s%1||a%1){var w=d0();return Jt(s+w*(a-s+k2("1e-"+((w+"").length-1))),a)}return Vf(s,a)}var X3=bo(function(s,a,f){return a=a.toLowerCase(),s+(f?Wy(a):a)});function Wy(s){return wh(tt(s).toLowerCase())}function By(s){return s=tt(s),s&&s.replace(ZE,z2).replace(y2,"")}function J3(s,a,f){s=tt(s),a=$n(a);var g=s.length;f=f===n?g:js(Ie(f),0,g);var w=f;return f-=a.length,f>=0&&s.slice(f,w)==a}function Z3(s){return s=tt(s),s&&an.test(s)?s.replace(Ot,W2):s}function eP(s){return s=tt(s),s&&Xn.test(s)?s.replace(Qn,"\\$&"):s}var tP=bo(function(s,a,f){return s+(f?"-":"")+a.toLowerCase()}),nP=bo(function(s,a,f){return s+(f?" ":"")+a.toLowerCase()}),rP=G0("toLowerCase");function iP(s,a,f){s=tt(s),a=Ie(a);var g=a?mo(s):0;if(!a||g>=a)return s;var w=(a-g)/2;return Iu(Nu(w),f)+s+Iu(Eu(w),f)}function sP(s,a,f){s=tt(s),a=Ie(a);var g=a?mo(s):0;return a&&g<a?s+Iu(a-g,f):s}function oP(s,a,f){s=tt(s),a=Ie(a);var g=a?mo(s):0;return a&&g<a?Iu(a-g,f)+s:s}function aP(s,a,f){return f||a==null?a=0:a&&(a=+a),pN(tt(s).replace(On,""),a||0)}function lP(s,a,f){return(f?un(s,a,f):a===n)?a=1:a=Ie(a),Yf(tt(s),a)}function uP(){var s=arguments,a=tt(s[0]);return s.length<3?a:a.replace(s[1],s[2])}var cP=bo(function(s,a,f){return s+(f?"_":"")+a.toLowerCase()});function dP(s,a,f){return f&&typeof f!="number"&&un(s,a,f)&&(a=f=n),f=f===n?se:f>>>0,f?(s=tt(s),s&&(typeof a=="string"||a!=null&&!vh(a))&&(a=$n(a),!a&&po(s))?Oi(pr(s),0,f):s.split(a,f)):[]}var fP=bo(function(s,a,f){return s+(f?" ":"")+wh(a)});function hP(s,a,f){return s=tt(s),f=f==null?0:js(Ie(f),0,s.length),a=$n(a),s.slice(f,f+a.length)==a}function pP(s,a,f){var g=E.templateSettings;f&&un(s,a,f)&&(a=n),s=tt(s),a=Qu({},a,g,Z0);var w=Qu({},a.imports,g.imports,Z0),j=Ut(w),D=Tf(w,j),O,I,X=0,J=a.interpolate||uu,ie="__p += '",he=Mf((a.escape||uu).source+"|"+J.source+"|"+(J===Xt?VE:uu).source+"|"+(a.evaluate||uu).source+"|$","g"),Se="//# sourceURL="+(rt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++S2+"]")+`
`;s.replace(he,function(Te,We,qe,Ln,cn,In){return qe||(qe=Ln),ie+=s.slice(X,In).replace(e2,B2),We&&(O=!0,ie+=`' +
__e(`+We+`) +
'`),cn&&(I=!0,ie+=`';
`+cn+`;
__p += '`),qe&&(ie+=`' +
((__t = (`+qe+`)) == null ? '' : __t) +
'`),X=In+Te.length,Te}),ie+=`';
`;var De=rt.call(a,"variable")&&a.variable;if(!De)ie=`with (obj) {
`+ie+`
}
`;else if(qE.test(De))throw new Ae(u);ie=(I?ie.replace(au,""):ie).replace(mf,"$1").replace(gf,"$1;"),ie="function("+(De||"obj")+`) {
`+(De?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(O?", __e = _.escape":"")+(I?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ie+`return __p
}`;var Fe=qy(function(){return Ze(j,Se+"return "+ie).apply(n,D)});if(Fe.source=ie,gh(Fe))throw Fe;return Fe}function mP(s){return tt(s).toLowerCase()}function gP(s){return tt(s).toUpperCase()}function vP(s,a,f){if(s=tt(s),s&&(f||a===n))return e0(s);if(!s||!(a=$n(a)))return s;var g=pr(s),w=pr(a),j=t0(g,w),D=n0(g,w)+1;return Oi(g,j,D).join("")}function yP(s,a,f){if(s=tt(s),s&&(f||a===n))return s.slice(0,i0(s)+1);if(!s||!(a=$n(a)))return s;var g=pr(s),w=n0(g,pr(a))+1;return Oi(g,0,w).join("")}function xP(s,a,f){if(s=tt(s),s&&(f||a===n))return s.replace(On,"");if(!s||!(a=$n(a)))return s;var g=pr(s),w=t0(g,pr(a));return Oi(g,w).join("")}function wP(s,a){var f=re,g=q;if(xt(a)){var w="separator"in a?a.separator:w;f="length"in a?Ie(a.length):f,g="omission"in a?$n(a.omission):g}s=tt(s);var j=s.length;if(po(s)){var D=pr(s);j=D.length}if(f>=j)return s;var O=f-mo(g);if(O<1)return g;var I=D?Oi(D,0,O).join(""):s.slice(0,O);if(w===n)return I+g;if(D&&(O+=I.length-O),vh(w)){if(s.slice(O).search(w)){var X,J=I;for(w.global||(w=Mf(w.source,tt(bv.exec(w))+"g")),w.lastIndex=0;X=w.exec(J);)var ie=X.index;I=I.slice(0,ie===n?O:ie)}}else if(s.indexOf($n(w),O)!=O){var he=I.lastIndexOf(w);he>-1&&(I=I.slice(0,he))}return I+g}function _P(s){return s=tt(s),s&&on.test(s)?s.replace(lu,Q2):s}var bP=bo(function(s,a,f){return s+(f?" ":"")+a.toUpperCase()}),wh=G0("toUpperCase");function Hy(s,a,f){return s=tt(s),a=f?n:a,a===n?q2(s)?Z2(s):A2(s):s.match(a)||[]}var qy=Ue(function(s,a){try{return Mn(s,n,a)}catch(f){return gh(f)?f:new Ae(f)}}),SP=Zr(function(s,a){return Zn(a,function(f){f=$r(f),Xr(s,f,ph(s[f],s))}),s});function EP(s){var a=s==null?0:s.length,f=Ce();return s=a?gt(s,function(g){if(typeof g[1]!="function")throw new er(l);return[f(g[0]),g[1]]}):[],Ue(function(g){for(var w=-1;++w<a;){var j=s[w];if(Mn(j[0],this,g))return Mn(j[1],this,g)}})}function NP(s){return QN(nr(s,m))}function _h(s){return function(){return s}}function jP(s,a){return s==null||s!==s?a:s}var CP=Y0(),kP=Y0(!0);function _n(s){return s}function bh(s){return E0(typeof s=="function"?s:nr(s,m))}function PP(s){return j0(nr(s,m))}function DP(s,a){return C0(s,nr(a,m))}var TP=Ue(function(s,a){return function(f){return Ma(f,s,a)}}),OP=Ue(function(s,a){return function(f){return Ma(s,f,a)}});function Sh(s,a,f){var g=Ut(a),w=Tu(a,g);f==null&&!(xt(a)&&(w.length||!g.length))&&(f=a,a=s,s=this,w=Tu(a,Ut(a)));var j=!(xt(f)&&"chain"in f)||!!f.chain,D=ti(s);return Zn(w,function(O){var I=a[O];s[O]=I,D&&(s.prototype[O]=function(){var X=this.__chain__;if(j||X){var J=s(this.__wrapped__),ie=J.__actions__=yn(this.__actions__);return ie.push({func:I,args:arguments,thisArg:s}),J.__chain__=X,J}return I.apply(s,ji([this.value()],arguments))})}),s}function MP(){return qt._===this&&(qt._=sN),this}function Eh(){}function RP(s){return s=Ie(s),Ue(function(a){return k0(a,s)})}var $P=th(gt),AP=th(Kv),LP=th(jf);function Gy(s){return lh(s)?Cf($r(s)):hj(s)}function IP(s){return function(a){return s==null?n:Cs(s,a)}}var FP=Q0(),UP=Q0(!0);function Nh(){return[]}function jh(){return!1}function zP(){return{}}function WP(){return""}function BP(){return!0}function HP(s,a){if(s=Ie(s),s<1||s>T)return[];var f=se,g=Jt(s,se);a=Ce(a),s-=se;for(var w=Df(g,a);++f<s;)a(f);return w}function qP(s){return Le(s)?gt(s,$r):An(s)?[s]:yn(fy(tt(s)))}function GP(s){var a=++rN;return tt(s)+a}var VP=Lu(function(s,a){return s+a},0),YP=nh("ceil"),KP=Lu(function(s,a){return s/a},1),QP=nh("floor");function XP(s){return s&&s.length?Du(s,_n,zf):n}function JP(s,a){return s&&s.length?Du(s,Ce(a,2),zf):n}function ZP(s){return Jv(s,_n)}function e4(s,a){return Jv(s,Ce(a,2))}function t4(s){return s&&s.length?Du(s,_n,qf):n}function n4(s,a){return s&&s.length?Du(s,Ce(a,2),qf):n}var r4=Lu(function(s,a){return s*a},1),i4=nh("round"),s4=Lu(function(s,a){return s-a},0);function o4(s){return s&&s.length?Pf(s,_n):0}function a4(s,a){return s&&s.length?Pf(s,Ce(a,2)):0}return E.after=Pk,E.ary=Sy,E.assign=g3,E.assignIn=Ly,E.assignInWith=Qu,E.assignWith=v3,E.at=y3,E.before=Ey,E.bind=ph,E.bindAll=SP,E.bindKey=Ny,E.castArray=zk,E.chain=wy,E.chunk=Qj,E.compact=Xj,E.concat=Jj,E.cond=EP,E.conforms=NP,E.constant=_h,E.countBy=ok,E.create=x3,E.curry=jy,E.curryRight=Cy,E.debounce=ky,E.defaults=w3,E.defaultsDeep=_3,E.defer=Dk,E.delay=Tk,E.difference=Zj,E.differenceBy=eC,E.differenceWith=tC,E.drop=nC,E.dropRight=rC,E.dropRightWhile=iC,E.dropWhile=sC,E.fill=oC,E.filter=lk,E.flatMap=dk,E.flatMapDeep=fk,E.flatMapDepth=hk,E.flatten=gy,E.flattenDeep=aC,E.flattenDepth=lC,E.flip=Ok,E.flow=CP,E.flowRight=kP,E.fromPairs=uC,E.functions=k3,E.functionsIn=P3,E.groupBy=pk,E.initial=dC,E.intersection=fC,E.intersectionBy=hC,E.intersectionWith=pC,E.invert=T3,E.invertBy=O3,E.invokeMap=gk,E.iteratee=bh,E.keyBy=vk,E.keys=Ut,E.keysIn=wn,E.map=Hu,E.mapKeys=R3,E.mapValues=$3,E.matches=PP,E.matchesProperty=DP,E.memoize=Gu,E.merge=A3,E.mergeWith=Iy,E.method=TP,E.methodOf=OP,E.mixin=Sh,E.negate=Vu,E.nthArg=RP,E.omit=L3,E.omitBy=I3,E.once=Mk,E.orderBy=yk,E.over=$P,E.overArgs=Rk,E.overEvery=AP,E.overSome=LP,E.partial=mh,E.partialRight=Py,E.partition=xk,E.pick=F3,E.pickBy=Fy,E.property=Gy,E.propertyOf=IP,E.pull=yC,E.pullAll=yy,E.pullAllBy=xC,E.pullAllWith=wC,E.pullAt=_C,E.range=FP,E.rangeRight=UP,E.rearg=$k,E.reject=bk,E.remove=bC,E.rest=Ak,E.reverse=fh,E.sampleSize=Ek,E.set=z3,E.setWith=W3,E.shuffle=Nk,E.slice=SC,E.sortBy=kk,E.sortedUniq=DC,E.sortedUniqBy=TC,E.split=dP,E.spread=Lk,E.tail=OC,E.take=MC,E.takeRight=RC,E.takeRightWhile=$C,E.takeWhile=AC,E.tap=XC,E.throttle=Ik,E.thru=Bu,E.toArray=Ry,E.toPairs=Uy,E.toPairsIn=zy,E.toPath=qP,E.toPlainObject=Ay,E.transform=B3,E.unary=Fk,E.union=LC,E.unionBy=IC,E.unionWith=FC,E.uniq=UC,E.uniqBy=zC,E.uniqWith=WC,E.unset=H3,E.unzip=hh,E.unzipWith=xy,E.update=q3,E.updateWith=G3,E.values=No,E.valuesIn=V3,E.without=BC,E.words=Hy,E.wrap=Uk,E.xor=HC,E.xorBy=qC,E.xorWith=GC,E.zip=VC,E.zipObject=YC,E.zipObjectDeep=KC,E.zipWith=QC,E.entries=Uy,E.entriesIn=zy,E.extend=Ly,E.extendWith=Qu,Sh(E,E),E.add=VP,E.attempt=qy,E.camelCase=X3,E.capitalize=Wy,E.ceil=YP,E.clamp=Y3,E.clone=Wk,E.cloneDeep=Hk,E.cloneDeepWith=qk,E.cloneWith=Bk,E.conformsTo=Gk,E.deburr=By,E.defaultTo=jP,E.divide=KP,E.endsWith=J3,E.eq=gr,E.escape=Z3,E.escapeRegExp=eP,E.every=ak,E.find=uk,E.findIndex=py,E.findKey=b3,E.findLast=ck,E.findLastIndex=my,E.findLastKey=S3,E.floor=QP,E.forEach=_y,E.forEachRight=by,E.forIn=E3,E.forInRight=N3,E.forOwn=j3,E.forOwnRight=C3,E.get=yh,E.gt=Vk,E.gte=Yk,E.has=D3,E.hasIn=xh,E.head=vy,E.identity=_n,E.includes=mk,E.indexOf=cC,E.inRange=K3,E.invoke=M3,E.isArguments=Ds,E.isArray=Le,E.isArrayBuffer=Kk,E.isArrayLike=xn,E.isArrayLikeObject=jt,E.isBoolean=Qk,E.isBuffer=Mi,E.isDate=Xk,E.isElement=Jk,E.isEmpty=Zk,E.isEqual=e3,E.isEqualWith=t3,E.isError=gh,E.isFinite=n3,E.isFunction=ti,E.isInteger=Dy,E.isLength=Yu,E.isMap=Ty,E.isMatch=r3,E.isMatchWith=i3,E.isNaN=s3,E.isNative=o3,E.isNil=l3,E.isNull=a3,E.isNumber=Oy,E.isObject=xt,E.isObjectLike=Et,E.isPlainObject=Fa,E.isRegExp=vh,E.isSafeInteger=u3,E.isSet=My,E.isString=Ku,E.isSymbol=An,E.isTypedArray=Eo,E.isUndefined=c3,E.isWeakMap=d3,E.isWeakSet=f3,E.join=mC,E.kebabCase=tP,E.last=ir,E.lastIndexOf=gC,E.lowerCase=nP,E.lowerFirst=rP,E.lt=h3,E.lte=p3,E.max=XP,E.maxBy=JP,E.mean=ZP,E.meanBy=e4,E.min=t4,E.minBy=n4,E.stubArray=Nh,E.stubFalse=jh,E.stubObject=zP,E.stubString=WP,E.stubTrue=BP,E.multiply=r4,E.nth=vC,E.noConflict=MP,E.noop=Eh,E.now=qu,E.pad=iP,E.padEnd=sP,E.padStart=oP,E.parseInt=aP,E.random=Q3,E.reduce=wk,E.reduceRight=_k,E.repeat=lP,E.replace=uP,E.result=U3,E.round=i4,E.runInContext=A,E.sample=Sk,E.size=jk,E.snakeCase=cP,E.some=Ck,E.sortedIndex=EC,E.sortedIndexBy=NC,E.sortedIndexOf=jC,E.sortedLastIndex=CC,E.sortedLastIndexBy=kC,E.sortedLastIndexOf=PC,E.startCase=fP,E.startsWith=hP,E.subtract=s4,E.sum=o4,E.sumBy=a4,E.template=pP,E.times=HP,E.toFinite=ni,E.toInteger=Ie,E.toLength=$y,E.toLower=mP,E.toNumber=sr,E.toSafeInteger=m3,E.toString=tt,E.toUpper=gP,E.trim=vP,E.trimEnd=yP,E.trimStart=xP,E.truncate=wP,E.unescape=_P,E.uniqueId=GP,E.upperCase=bP,E.upperFirst=wh,E.each=_y,E.eachRight=by,E.first=vy,Sh(E,function(){var s={};return Mr(E,function(a,f){rt.call(E.prototype,f)||(s[f]=a)}),s}(),{chain:!1}),E.VERSION=r,Zn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){E[s].placeholder=E}),Zn(["drop","take"],function(s,a){He.prototype[s]=function(f){f=f===n?1:$t(Ie(f),0);var g=this.__filtered__&&!a?new He(this):this.clone();return g.__filtered__?g.__takeCount__=Jt(f,g.__takeCount__):g.__views__.push({size:Jt(f,se),type:s+(g.__dir__<0?"Right":"")}),g},He.prototype[s+"Right"]=function(f){return this.reverse()[s](f).reverse()}}),Zn(["filter","map","takeWhile"],function(s,a){var f=a+1,g=f==me||f==Me;He.prototype[s]=function(w){var j=this.clone();return j.__iteratees__.push({iteratee:Ce(w,3),type:f}),j.__filtered__=j.__filtered__||g,j}}),Zn(["head","last"],function(s,a){var f="take"+(a?"Right":"");He.prototype[s]=function(){return this[f](1).value()[0]}}),Zn(["initial","tail"],function(s,a){var f="drop"+(a?"":"Right");He.prototype[s]=function(){return this.__filtered__?new He(this):this[f](1)}}),He.prototype.compact=function(){return this.filter(_n)},He.prototype.find=function(s){return this.filter(s).head()},He.prototype.findLast=function(s){return this.reverse().find(s)},He.prototype.invokeMap=Ue(function(s,a){return typeof s=="function"?new He(this):this.map(function(f){return Ma(f,s,a)})}),He.prototype.reject=function(s){return this.filter(Vu(Ce(s)))},He.prototype.slice=function(s,a){s=Ie(s);var f=this;return f.__filtered__&&(s>0||a<0)?new He(f):(s<0?f=f.takeRight(-s):s&&(f=f.drop(s)),a!==n&&(a=Ie(a),f=a<0?f.dropRight(-a):f.take(a-s)),f)},He.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},He.prototype.toArray=function(){return this.take(se)},Mr(He.prototype,function(s,a){var f=/^(?:filter|find|map|reject)|While$/.test(a),g=/^(?:head|last)$/.test(a),w=E[g?"take"+(a=="last"?"Right":""):a],j=g||/^find/.test(a);w&&(E.prototype[a]=function(){var D=this.__wrapped__,O=g?[1]:arguments,I=D instanceof He,X=O[0],J=I||Le(D),ie=function(We){var qe=w.apply(E,ji([We],O));return g&&he?qe[0]:qe};J&&f&&typeof X=="function"&&X.length!=1&&(I=J=!1);var he=this.__chain__,Se=!!this.__actions__.length,De=j&&!he,Fe=I&&!Se;if(!j&&J){D=Fe?D:new He(this);var Te=s.apply(D,O);return Te.__actions__.push({func:Bu,args:[ie],thisArg:n}),new tr(Te,he)}return De&&Fe?s.apply(this,O):(Te=this.thru(ie),De?g?Te.value()[0]:Te.value():Te)})}),Zn(["pop","push","shift","sort","splice","unshift"],function(s){var a=mu[s],f=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",g=/^(?:pop|shift)$/.test(s);E.prototype[s]=function(){var w=arguments;if(g&&!this.__chain__){var j=this.value();return a.apply(Le(j)?j:[],w)}return this[f](function(D){return a.apply(Le(D)?D:[],w)})}}),Mr(He.prototype,function(s,a){var f=E[a];if(f){var g=f.name+"";rt.call(xo,g)||(xo[g]=[]),xo[g].push({name:a,func:f})}}),xo[Au(n,b).name]=[{name:"wrapper",func:n}],He.prototype.clone=_N,He.prototype.reverse=bN,He.prototype.value=SN,E.prototype.at=JC,E.prototype.chain=ZC,E.prototype.commit=ek,E.prototype.next=tk,E.prototype.plant=rk,E.prototype.reverse=ik,E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=sk,E.prototype.first=E.prototype.head,ja&&(E.prototype[ja]=nk),E},go=eN();bs?((bs.exports=go)._=go,bf._=go):qt._=go}).call(Yt)})(bd,bd.exports);var YF=bd.exports;async function Sd(e){return ut(async()=>{const{data:t,error:n}=await oe.from("songs").select("*").eq("group_id",e).order("title");return{data:t,error:n}},"Error al cargar las canciones")}async function KF(e){const t={...e,type:e.type||"song"};return ut(async()=>{const{data:n,error:r}=await oe.from("songs").insert(t).select().single();return{data:n,error:r}},"Error al crear la cancin")}async function QF(e,t,n){const{data:{user:r}}=await oe.auth.getUser();if(!r)return H.error("No se pudo obtener la informacin del usuario"),null;const i={group_id:e,title:t,type:"medley",medley_song_ids:n,created_by:r.id};return ut(async()=>{const{data:o,error:l}=await oe.from("songs").insert(i).select().single();return{data:o,error:l}},"Error al crear el medley")}async function n1(e,t){return ut(async()=>{const{data:n,error:r}=await oe.from("songs").update(t).eq("id",e).select().single();return{data:n,error:r}},"Error al actualizar la cancin")}async function XF(e){try{const{error:t}=await oe.from("songs").delete().eq("id",e);return t?(console.error("Error al eliminar la cancin:",t),H.error("Error al eliminar la cancin"),!1):!0}catch(t){return console.error("Error al eliminar la cancin:",t),H.error("Error al eliminar la cancin"),!1}}async function $m(e){return ut(async()=>{const{data:t,error:n}=await oe.from("setlists").select(`
          *,
          songs:setlist_songs(
            *,
            song:songs(*)
          )
        `).eq("group_id",e).order("name");return{data:t,error:n}},"Error al cargar los setlists")}async function r1(e){return ut(async()=>{const{data:t,error:n}=await oe.from("setlists").select(`
          *,
          songs:setlist_songs(
            *,
            song:songs(*)
          )
        `).eq("id",e).single();return{data:t,error:n}},"Error al cargar el setlist")}async function _E(e){return ut(async()=>{const{data:t,error:n}=await oe.from("setlists").insert(e).select().single();return{data:t,error:n}},"Error al crear el setlist")}async function JF(e,t){return ut(async()=>{const{data:n,error:r}=await oe.from("setlists").update(t).eq("id",e).select().single();return{data:n,error:r}},"Error al actualizar el setlist")}async function ZF(e){try{const{error:t}=await oe.from("setlists").delete().eq("id",e);return t?(console.error("Error al eliminar el setlist:",t),H.error("Error al eliminar el setlist"),!1):!0}catch(t){return console.error("Error al eliminar el setlist:",t),H.error("Error al eliminar el setlist"),!1}}async function Am(e,t,n){try{console.log("Iniciando addSongToSetlist con:",{setlistId:e,songId:t,position:n});const{data:{user:r}}=await oe.auth.getUser();if(!r)return console.error("No se pudo obtener la informacin del usuario"),H.error("No se pudo obtener la informacin del usuario"),null;console.log("Usuario autenticado:",r.id);const i={setlist_id:e,song_id:t,position:n,created_by:r.id};console.log("Datos a insertar:",i);const{data:o,error:l}=await oe.from("setlist_songs").insert(i).select().single();return l?(console.error("Error de Supabase al aadir la cancin al setlist:",l),console.error("Cdigo de error:",l.code),console.error("Mensaje de error:",l.message),console.error("Detalles:",l.details),H.error(`Error al aadir la cancin al setlist: ${l.message}`),null):(console.log("Cancin aadida exitosamente:",o),o)}catch(r){return console.error("Error general al aadir la cancin al setlist:",r),H.error("Error al aadir la cancin al setlist"),null}}async function e8(e,t){try{const{error:n,count:r}=await oe.from("setlist_songs").delete().eq("setlist_id",e).eq("song_id",t);return console.log("Resultado de Supabase al eliminar:",{error:n,count:r}),n?(console.error("Error al eliminar la cancin del setlist:",n),H.error("Error al eliminar la cancin del setlist"),!1):!0}catch(n){return console.error("Error al eliminar la cancin del setlist:",n),H.error("Error al eliminar la cancin del setlist"),!1}}async function t8(e,t){try{const{error:n}=await oe.rpc("reorder_setlist_songs",{p_setlist_id:e,p_song_positions:t});return n?(console.error("Error al reordenar las canciones del setlist:",n),H.error("Error al reordenar las canciones del setlist"),!1):!0}catch(n){return console.error("Error al reordenar las canciones del setlist:",n),H.error("Error al reordenar las canciones del setlist"),!1}}async function i1(e,t){return await ut(async()=>{const{data:r,error:i}=await oe.from("events").update({setlist_id:t}).eq("id",e);return{data:r,error:i}},"Error al asignar el setlist al evento")!==null}async function n8(e,t){return ut(async()=>{const{data:n,error:r}=await oe.from("songs").update(t).eq("id",e).eq("type","medley").select().single();return{data:n,error:r}},"Error al actualizar el medley")}async function r8(e,t){try{const{data:n,error:r}=await oe.from("songs").select("medley_song_ids").eq("id",e).eq("type","medley").single();if(r)return console.error("Error al obtener el medley:",r),H.error("Error al obtener el medley"),null;const o=[...n.medley_song_ids||[],t],{data:l,error:u}=await oe.from("songs").update({medley_song_ids:o}).eq("id",e).select().single();return u?(console.error("Error al aadir la cancin al medley:",u),H.error("Error al aadir la cancin al medley"),null):l}catch(n){return console.error("Error al aadir la cancin al medley:",n),H.error("Error al aadir la cancin al medley"),null}}async function i8(e,t){try{const{data:n,error:r}=await oe.from("songs").select("medley_song_ids").eq("id",e).eq("type","medley").single();if(r)return console.error("Error al obtener el medley:",r),H.error("Error al obtener el medley"),!1;const o=(n.medley_song_ids||[]).filter(u=>u!==t),{error:l}=await oe.from("songs").update({medley_song_ids:o}).eq("id",e);return l?(console.error("Error al eliminar la cancin del medley:",l),H.error("Error al eliminar la cancin del medley"),!1):!0}catch(n){return console.error("Error al eliminar la cancin del medley:",n),H.error("Error al eliminar la cancin del medley"),!1}}async function s8(e){try{const{error:t}=await oe.from("songs").delete().eq("id",e).eq("type","medley");return t?(console.error("Error al eliminar el medley:",t),H.error("Error al eliminar el medley"),!1):!0}catch(t){return console.error("Error al eliminar el medley:",t),H.error("Error al eliminar el medley"),!1}}async function o8(e,t){try{const n=await r1(e);if(!n)return H.error("No se pudo encontrar el setlist original"),null;const{data:{user:r}}=await oe.auth.getUser();if(!r)return H.error("No se pudo obtener la informacin del usuario"),null;const i={name:t||`${n.name} (copia)`,description:n.description,group_id:n.group_id,estimated_duration_minutes:n.estimated_duration_minutes,created_by:r.id},o=await _E(i);if(!o)return H.error("Error al crear el nuevo setlist"),null;if(n.songs&&n.songs.length>0){const l=n.songs.map(u=>Am(o.id,u.song_id,u.position));await Promise.all(l)}return await r1(o.id)}catch(n){return console.error("Error al duplicar el setlist:",n),H.error("Error al duplicar el setlist"),null}}let Ms=null;function s1({isOpen:e,onClose:t,groupId:n,selectedDate:r,event:i,onEventSaved:o,availableDates:l,members:u}){var V;const[c,h]=v.useState(""),[p,m]=v.useState(""),[y,x]=v.useState(""),[S,C]=v.useState(""),[k,b]=v.useState(!1),[_,N]=v.useState([]),[P,R]=v.useState(!1),{user:z}=Vn(),[L,W]=v.useState(""),[ue,re]=v.useState([]),[q,Ee]=v.useState(null),[ne,me]=v.useState(!1),[be,Me]=v.useState([]),[$,T]=v.useState([]),[F,te]=v.useState("");v.useEffect(()=>{if(i)h(i.name),m(i.date),x(i.time),C(i.notes||""),W(i.location||""),te(i.setlist_id||""),i.location&&Ee({display_name:i.location,lat:"",lon:"",type:"",class:""}),se();else if(r){const U=Ye(r,"yyyy-MM-dd");m(U),x("20:00"),te(""),_e(U)}},[i,r]),v.useEffect(()=>{e&&(async()=>{const[K,fe]=await Promise.all([oe.from("events").select("*").eq("group_id",n),$m(n)]);Me(K.data||[]),T(fe||[])})()},[e,n]);const se=async()=>{if(i)try{const U=await ut(()=>oe.from("event_members").select("group_member_id, user_id").eq("event_id",i.id),"Error loading event members"),K=await ut(()=>oe.from("member_availability").select("user_id").eq("date",i.date),"Error loading member availability"),fe=await ut(()=>oe.from("events").select(`
            date,
            event_members (
              user_id
            )
          `).neq("group_id",n).eq("date",i.date),"Error loading external events");if(U){const ee=new Set((K==null?void 0:K.map(G=>G.user_id))||[]),M=new Set;fe==null||fe.forEach(G=>{var de;(de=G.event_members)==null||de.forEach(ve=>{M.add(ve.user_id)})});const ae=new Set(U.map(G=>G.group_member_id)),ce=u.map(G=>({memberId:G.id,userId:G.user_id,selected:ae.has(G.id),isAvailable:ae.has(G.id)||(G.user_id?ee.has(G.user_id)&&!M.has(G.user_id):!0),sync_calendar:G.sync_calendar}));N(ce)}}catch(U){console.error("Error loading event members:",U)}},_e=async(U,K)=>{try{const fe=await ut(()=>oe.from("events").select(`
            date,
            event_members (
              user_id
            )
          `).neq("group_id",n).eq("date",U),"Error loading external events"),ee=new Set;fe==null||fe.forEach(G=>{var de;(de=G.event_members)==null||de.forEach(ve=>{ee.add(ve.user_id)})});const M=await ut(()=>oe.from("member_availability").select("user_id").eq("date",U),"Error loading member availability"),ae=new Set((M==null?void 0:M.map(G=>G.user_id))||[]),ce=u.map(G=>{const de=G.user_id?ae.has(G.user_id)&&!ee.has(G.user_id):!0;return{memberId:G.id,userId:G.user_id,selected:K?K.includes(G.id):G.role_in_group==="principal"&&de,isAvailable:de,sync_calendar:G.sync_calendar}});N(ce)}catch(fe){console.error("Error loading available members:",fe)}};v.useEffect(()=>{ge()},[_]);const ge=()=>{const U=u.filter(ee=>ee.role_in_group==="principal"),K=_.filter(ee=>ee.selected).map(ee=>ee.memberId),fe=new Set;return U.forEach(ee=>{K.includes(ee.id)||ee.instruments.forEach(M=>{_.filter(ce=>ce.selected).some(ce=>{const G=u.find(de=>de.id===ce.memberId);return G==null?void 0:G.instruments.some(de=>de.id===M.id)})||fe.add(M.name)})}),R(fe.size>0),fe},$e=(U,K)=>{N(fe=>fe.map(ee=>ee.memberId===U?{...ee,selected:K}:ee))},ke=async U=>{if(!U.trim()){re([]);return}Ms&&Ms.abort(),Ms=new AbortController,me(!0);try{const ee=(await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(U)}&countrycodes=es&bounded=1&viewbox=-9.38,43.45,3.35,36.00&limit=5`,{signal:Ms.signal})).json()).sort((M,ae)=>{const ce=M.display_name.toLowerCase().includes("madrid")||M.display_name.toLowerCase().includes("espaa"),G=ae.display_name.toLowerCase().includes("madrid")||ae.display_name.toLowerCase().includes("espaa");return ce&&!G?-1:!ce&&G?1:0});re(ee)}catch(K){K.name!=="AbortError"&&(console.error("Error searching locations:",K),H.error("Error al buscar ubicaciones"))}finally{me(!1),Ms=null}};v.useEffect(()=>()=>{Ms&&Ms.abort()},[]);const Oe=xe.useCallback(YF.debounce(U=>{ke(U)},300),[]),Q=U=>{const K=U.target.value;if(W(K),re([]),!K.trim()){re([]);return}Oe(K)},pe=async()=>{try{if(!c||!p){H.error("Por favor completa los campos requeridos");return}b(!0);const U={group_id:n,name:c.trim(),date:p,time:y,datetime:(()=>{const fe=new Date(`${p}T${y}`),ee=-fe.getTimezoneOffset(),M=new Date(fe.getTime()-ee*60*1e3).toISOString().replace("Z",a8(ee));return console.log("Zona horaria local:",Intl.DateTimeFormat().resolvedOptions().timeZone),console.log("Fecha local:",fe.toString()),console.log("Fecha con offset local:",M),M})(),notes:S.trim()||null,created_by:z.id,location:q?q.display_name:L};let K;if(i){const{data:fe,error:ee}=await oe.from("events").update(U).eq("id",i.id).select().single();if(ee)throw ee;K=i.id}else{const{data:fe,error:ee}=await oe.from("events").insert([U]).select().single();if(ee)throw ee;K=fe.id}if(K){i&&await oe.from("event_members").delete().eq("event_id",K);const fe=_.filter(ee=>ee.selected).map(ee=>({event_id:K,group_member_id:ee.memberId,user_id:ee.userId,created_by:z.id}));if(fe.length>0){const{error:ee}=await oe.from("event_members").insert(fe);if(ee)throw ee}console.log("Actualizando calendarios para miembros:",_),await Promise.all(_.filter(ee=>ee.selected&&ee.sync_calendar).map(ee=>(console.log("Actualizando calendario para miembro:",ee),wE(n,ee.memberId)))),F?await i1(K,F):i!=null&&i.setlist_id&&await i1(K,null)}b(!1),o&&o(),t(),H.success(i?"Evento actualizado":"Evento creado")}catch(U){b(!1),console.error("Error saving event:",U),H.error("Error al guardar el evento")}},Z=U=>{const K=new Set(l.map(ee=>Ye(ee,"yyyy-MM-dd"))),fe=new Set(be.map(ee=>Ye(new Date(ee.date),"yyyy-MM-dd")));return U.filter(ee=>{const M=Ye(ee,"yyyy-MM-dd");return K.has(M)&&!fe.has(M)}).sort((ee,M)=>ee.getTime()-M.getTime())};return e?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-white flex justify-between items-center p-4 border-b z-10",children:[d.jsx("h2",{className:"text-xl font-semibold",children:i?"Edit Event":"Create Event"}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:d.jsx(hi,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:pe,className:"p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsx(mt,{label:"Event Name",value:c,onChange:U=>h(U.target.value),required:!0,placeholder:"Enter event name"}),d.jsx(mt,{label:"Time",type:"time",value:y,onChange:U=>x(U.target.value),required:!0})]}),!i&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Date"}),d.jsxs("select",{value:p,onChange:U=>{m(U.target.value),_e(U.target.value)},className:"w-full border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 p-2",children:[d.jsx("option",{value:"",disabled:!0,children:"Select a date"}),Z(l).map((U,K)=>{const fe=Ye(U,"yyyy-MM-dd");return d.jsx("option",{value:fe,children:Ye(U,"EEEE, d MMMM yyyy",{locale:Bo})},K)})]})]}),i&&d.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:d.jsxs("span",{className:"text-sm text-gray-600",children:["Event date: ",Ye(new Date(i.date),"EEEE, d MMMM yyyy",{locale:Bo})]})}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Setlist (opcional)"}),d.jsxs("select",{value:F,onChange:U=>te(U.target.value),className:"w-full border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 p-2",children:[d.jsx("option",{value:"",children:"Sin setlist"}),$.map(U=>{var K;return d.jsxs("option",{value:U.id,children:[U.name," (",((K=U.songs)==null?void 0:K.length)||0," canciones)"]},U.id)})]}),F&&d.jsx("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-800",children:["Setlist seleccionado: ",(V=$.find(U=>U.id===F))==null?void 0:V.name]})})]}),p&&d.jsx(VF,{members:u,selectedMembers:_,onMemberSelectionChange:$e,validationError:P}),d.jsxs("div",{className:"relative space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ubicacin"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(Ic,{className:"h-5 w-5 text-gray-400"})}),d.jsx(mt,{value:L,onChange:Q,className:"pl-10 pr-10",placeholder:"Buscar ubicacin..."}),L&&d.jsx("button",{type:"button",onClick:()=>{W(""),Ee(null),re([])},className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d.jsx(hi,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),ne&&d.jsx("div",{className:"flex items-center justify-center p-4",children:d.jsx(ua,{className:"h-6 w-6 animate-spin text-primary"})}),ue.length>0&&d.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:ue.map((U,K)=>d.jsxs("button",{type:"button",className:"w-full text-left px-4 py-3 hover:bg-gray-50 focus:bg-gray-50 focus:outline-none transition-colors duration-150 flex items-start gap-3 border-b border-gray-100 last:border-0",onClick:()=>{Ee(U),W(U.display_name),re([])},children:[d.jsx(Ic,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-900",children:U.display_name.split(",")[0]}),d.jsx("span",{className:"block text-xs text-gray-500 mt-0.5",children:U.display_name.split(",").slice(1).join(",").trim()})]})]},K))}),q&&d.jsx("div",{className:"mt-3 p-4 bg-primary/5 rounded-lg border border-primary/10",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Ic,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"block text-sm font-medium text-gray-900",children:typeof q.display_name=="string"&&q.display_name.includes(",")?q.display_name.split(",")[0]:q.display_name}),d.jsx("span",{className:"block text-sm text-gray-500 mt-1",children:typeof q.display_name=="string"&&q.display_name.includes(",")?q.display_name.split(",").slice(1).join(",").trim():""})]}),d.jsx("button",{type:"button",onClick:()=>{Ee(null),W("")},className:"flex-shrink-0 text-gray-400 hover:text-gray-600",children:d.jsx(hi,{className:"h-5 w-5"})})]})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),d.jsx("textarea",{value:S,onChange:U=>C(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",rows:2,placeholder:"Add additional notes..."})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx(Ne,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(Ne,{onClick:pe,disabled:k,className:"w-full",children:k?d.jsxs(d.Fragment,{children:[d.jsx(ua,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):"Guardar"})]})]})]})}):null}function a8(e){const t=e>0?"+":"-",n=Math.floor(Math.abs(e)/60);return`${t}${n.toString().padStart(2,"0")}`}const l8=({setlist:e,eventName:t,eventDate:n,bandName:r})=>{if(!e)return null;const i=e!=null&&e.songs?e.songs.map(l=>{var u;return{...l,type:((u=l.song)==null?void 0:u.type)==="medley"?"medley":"song"}}).sort((l,u)=>l.position-u.position):[],o=(l,u)=>{var m,y;const c=l.type==="medley",h=(m=l.song)==null?void 0:m.title,p=String(u+1).padStart(2,"0");return d.jsxs("li",{className:"py-1.5 border-b border-gray-300 break-inside-avoid flex items-start",children:[d.jsx("span",{className:"font-mono font-bold text-base w-7 mr-3 flex-shrink-0 pt-0.5",children:p}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("span",{className:"text-base font-semibold",children:h}),c&&((y=l.song)==null?void 0:y.medley_song_ids)&&d.jsx("div",{className:"pt-1 space-y-0.5",children:d.jsxs("p",{className:"text-xs text-gray-600",children:["Medley (",l.song.medley_song_ids.length," canciones)"]})})]})]},`item-${l.id}`)};return d.jsxs("div",{className:"p-6 font-sans bg-white text-black",children:[d.jsxs("header",{className:"text-center pb-3 mb-6 border-b-2 border-black",children:[d.jsx("h1",{className:"font-serif text-4xl font-bold my-0.5 tracking-wider",children:r||""}),d.jsx("p",{className:"text-base italic text-gray-700",children:t&&n?`${t} - ${new Date(n).toLocaleDateString()}`:e.description||"Evento / Fecha"})]}),d.jsx("main",{children:d.jsx("ol",{className:"list-none p-0 m-0",style:{columnCount:2,columnGap:"32px"},children:i.map((l,u)=>o(l,u))})})]})},u8=({isOpen:e,onClose:t,setlist:n,eventName:r,eventDate:i,bandName:o})=>{const[l,u]=v.useState(!0),c=()=>{const h=document.createElement("div");h.id="printable-content",document.body.appendChild(h);const p=Lg(h);p.render(d.jsx(l8,{setlist:n,eventName:r,eventDate:i,bandName:o})),setTimeout(()=>{window.print()},50),window.onafterprint=()=>{p.unmount(),document.body.removeChild(h),window.onafterprint=null}};return d.jsx(d.Fragment,{children:d.jsx("div",{className:`fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"} print:hidden`,onClick:t,children:d.jsx("div",{className:`bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col font-sans relative transform transition-all duration-300 ${e?"scale-100 opacity-100":"scale-95 opacity-0"}`,onClick:h=>h.stopPropagation(),children:n&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:d.jsx(us,{className:"w-6 h-6 text-indigo-600"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 truncate",children:n.name})]}),d.jsxs("div",{className:"flex items-center gap-4 print:hidden",children:[d.jsx("button",{onClick:c,className:"p-2 text-gray-500 hover:text-indigo-600 transition-colors",title:"Imprimir Setlist",children:d.jsx(gA,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{htmlFor:"showArtists",className:"text-sm font-medium text-gray-600",children:"Artistas"}),d.jsx("button",{onClick:()=>u(!l),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l?"bg-indigo-600":"bg-gray-200"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l?"translate-x-6":"translate-x-1"}`})})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(hi,{className:"w-6 h-6"})})]})]}),d.jsxs("div",{className:"p-6 overflow-y-auto flex-grow",children:[n.description&&d.jsx("p",{className:"text-sm text-gray-600 italic mb-6 bg-gray-50 p-3 rounded-md border border-gray-200",children:n.description}),(()=>{const h=v.useMemo(()=>n!=null&&n.songs?n.songs.map(x=>{var S;return{...x,type:((S=x.song)==null?void 0:S.type)==="medley"?"medley":"song"}}).sort((x,S)=>x.position-S.position):[],[n==null?void 0:n.songs]),p=h.length,m=p>10,y=m?Math.ceil(p/2):p;return p===0?d.jsx("div",{className:"text-center py-10",children:d.jsx("p",{className:"text-gray-500",children:"Este setlist est vaco."})}):d.jsx("div",{className:"grid gap-x-8",style:{gridTemplateRows:`repeat(${y}, auto)`,gridAutoFlow:"column",gridTemplateColumns:m?"1fr 1fr":"1fr"},children:h.map((x,S)=>{var C,k,b,_,N,P,R;return x.type==="medley"?d.jsx("div",{className:"bg-slate-50 rounded-lg p-2 my-1 transition-all duration-300",children:d.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[d.jsxs("span",{className:"text-gray-400 font-mono w-5 text-right pt-1 self-start",children:[S+1,"."]}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("p",{className:"text-indigo-600 font-bold",children:(C=x.song)==null?void 0:C.title}),d.jsxs("p",{className:"text-xs text-gray-400",children:["Medley (",((b=(k=x.song)==null?void 0:k.medley_song_ids)==null?void 0:b.length)||0," canciones)"]})]})]})},`medley-${x.id}`):d.jsxs("div",{className:"flex items-baseline space-x-3 text-sm group py-1 min-h-[3.25rem]",children:[d.jsxs("span",{className:"text-gray-400 font-mono w-5 text-right",children:[S+1,"."]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-800 font-medium group-hover:text-indigo-600 transition-colors",children:((_=x.song)==null?void 0:_.title)||"N/A"}),d.jsx("p",{className:`text-gray-500 text-xs transition-all duration-300 ease-in-out ${l&&((N=x.song)!=null&&N.artist)?"opacity-100 h-4":"opacity-0 h-0"}`,children:(P=x.song)==null?void 0:P.artist})]})]},`song-${((R=x.song)==null?void 0:R.id)||S}`)})})})()]})]})})})})};function c8({groupId:e,canManageEvents:t,availableDates:n,members:r}){const[i,o]=v.useState([]),[l,u]=v.useState(!0),[c,h]=v.useState(null),[p,m]=v.useState(!1),[y,x]=v.useState(!1),[S,C]=v.useState("upcoming"),[k,b]=v.useState(null),[_,N]=v.useState(null),[P,R]=v.useState("");v.useEffect(()=>{z()},[e]);const z=async()=>{try{u(!0);const{data:$,error:T}=await oe.from("events").select(`
          *,
          setlist:setlists (
            id,
            name,
            songs:setlist_songs(
              id,
              song:songs(type)
            )
          )
        `).eq("group_id",e).order("date").order("time");if(T)throw T;if($){const F=await Promise.all($.map(async te=>{const{data:se,error:_e}=await oe.from("event_members").select("group_member_id, user_id").eq("event_id",te.id);if(_e)return console.error("Error loading event members:",_e),{...te,members:[]};const ge=(se==null?void 0:se.map($e=>{const ke=r.find(Oe=>Oe.id===$e.group_member_id);return{group_member_id:$e.group_member_id,user_id:$e.user_id,member_name:(ke==null?void 0:ke.name)||"Unknown Member",role_in_group:(ke==null?void 0:ke.role_in_group)||"principal"}}))||[];return{...te,members:ge}}));o(F)}}catch($){console.error("Error fetching events:",$),H.error("Error loading events")}finally{u(!1)}},L=async $=>{if(window.confirm("Ests seguro de que quieres eliminar este evento?"))try{const{data:T,error:F}=await oe.from("event_members").select(`
          group_member_id,
          user_id,
          group_members!event_members_group_member_id_fkey(sync_calendar)
        `).eq("event_id",$);if(F)throw F;const{error:te}=await oe.from("events").delete().eq("id",$);if(te)throw te;T&&T.length>0&&(console.log("Actualizando calendarios despus de eliminar evento"),await Promise.all(T.filter(se=>se.group_members.sync_calendar).map(async se=>{try{await wE(e,se.group_member_id),console.log("Calendario actualizado para miembro:",se.group_member_id)}catch(_e){console.error("Error actualizando calendario para miembro:",se.group_member_id,_e)}}))),H.success("Evento eliminado correctamente"),z()}catch(T){console.error("Error deleting event:",T),H.error("Error al eliminar el evento")}},W=$=>{h($),x(!0)},ue=async $=>{try{const{data:F,error:te}=await oe.from("groups").select("name").eq("id",$.group_id).single();if(te)throw te;R((F==null?void 0:F.name)||"")}catch{R("")}const T=$.setlist;if(!T){console.warn("Se intent abrir un preview con un setlist undefined");return}if(N({name:$.name,date:$.date}),!T){console.warn("Se intent abrir un preview con un setlist undefined");return}try{const{data:F,error:te}=await oe.from("setlists").select(`
          *,
          songs: setlist_songs(*, song: songs(*))
        `).eq("id",T.id).single();if(te)throw te;F&&b(F)}catch(F){console.error("Error al cargar el setlist completo:",F),H.error("Error al cargar el setlist")}};if(l)return d.jsx("div",{className:"text-center py-4",children:"Cargando eventos..."});const re=$=>{const T=$.reduce((F,te)=>{const se=Ye(Os(te.date),"MMMM yyyy");return F[se]||(F[se]=[]),F[se].push(te),F},{});return Object.entries(T)},q=$=>{if(!$)return"";if(console.log("Location raw:",$),typeof $=="object"&&$!==null)return $.name||String($);if(typeof $!="string")return String($);if($.startsWith("{")||$.startsWith("["))try{const T=JSON.parse($);return T.name||T.formatted_address||T.description||String(T)}catch(T){return console.log("Location parse error:",T),$}return $},Ee=$=>{if(!$)return;const T=q($);window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(T)}`,"_blank")},ne=$=>{const T=$.members.filter(te=>te.role_in_group==="principal"),F=$.members.filter(te=>te.role_in_group==="sustituto");return d.jsxs("div",{className:"mt-1.5 space-y-1",children:[d.jsx("div",{className:"flex flex-wrap gap-1",children:T.map(te=>d.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-indigo-50 text-indigo-700",children:te.member_name},te.group_member_id))}),F.length>0&&d.jsxs("div",{className:"flex flex-wrap gap-1",children:[d.jsx("span",{className:"text-xs text-gray-500 mr-1",children:"Sustitutos:"}),F.map(te=>d.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-yellow-50 text-yellow-700",children:te.member_name},te.group_member_id))]}),$.location&&d.jsx("div",{className:"flex items-center gap-1 mt-1",children:d.jsxs("button",{onClick:()=>Ee($.location),className:"inline-flex items-center text-xs text-gray-600 hover:text-indigo-600",children:[d.jsx(Ic,{className:"w-3 h-3 mr-1"}),d.jsx("span",{className:"underline",children:me(q($.location))})]})})]})},me=($,T=40)=>{if(!$)return"";if($.includes(",")){const F=$.split(",")[0];return F.length<=T?F:`${F.slice(0,T)}...`}return $.length>T?`${$.slice(0,T)}...`:$},be=i.filter($=>Qw(ds(Os($.date)))),Me=i.filter($=>!Qw(ds(Os($.date))));return d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100",children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Eventos"}),t&&d.jsx(Ne,{onClick:()=>m(!0),children:"Aadir Evento"})]}),i.length===0?d.jsxs("div",{className:"text-center py-6 text-gray-500",children:[d.jsx(md,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),d.jsx("p",{children:"No hay eventos programados"})]}):d.jsxs("div",{className:"mt-4",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsxs("nav",{className:"-mb-px flex space-x-8",children:[d.jsxs("button",{onClick:()=>C("upcoming"),className:`${S==="upcoming"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[d.jsx("span",{children:"Prximos eventos"}),be.length>0&&d.jsx("span",{className:`${S==="upcoming"?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-900"} py-0.5 px-2.5 rounded-full text-xs font-medium`,children:be.length})]}),d.jsxs("button",{onClick:()=>C("past"),className:`${S==="past"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[d.jsx("span",{children:"Eventos pasados"}),Me.length>0&&d.jsx("span",{className:`${S==="past"?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-900"} py-0.5 px-2.5 rounded-full text-xs font-medium`,children:Me.length})]})]})}),d.jsx("div",{className:"mt-4 space-y-6",children:re(S==="upcoming"?be:Me).map(([$,T])=>d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:$}),d.jsx("div",{className:"space-y-1",children:T.map(F=>d.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 hover:border-gray-200 transition-colors",children:d.jsx("div",{className:"p-3",children:d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex-shrink-0 w-12 text-center",children:[d.jsx("div",{className:"text-lg font-bold text-gray-900",children:Ye(Os(F.date),"d")}),d.jsx("div",{className:"text-xs text-gray-500 uppercase",children:Ye(Os(F.date),"EEE")})]}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:F.name}),d.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mt-0.5",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(cA,{className:"w-3 h-3 mr-1"}),Ye(Os(`2000-01-01T${F.time}`),"h:mm a")]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(gd,{className:"w-3 h-3 mr-1"}),F.members.length]}),F.setlist?d.jsxs("div",{className:"flex items-center",children:[d.jsx(us,{className:"w-3 h-3 mr-1 text-blue-500"}),d.jsx("span",{className:"text-indigo-600 font-medium cursor-pointer hover:underline",onClick:()=>F.setlist&&ue(F),children:F.setlist.name}),d.jsx("span",{className:"text-gray-400 ml-1",children:(()=>{var _e,ge;const te=((_e=F.setlist.songs)==null?void 0:_e.filter($e=>{var ke,Oe;return((ke=$e.song)==null?void 0:ke.type)==="song"||!((Oe=$e.song)!=null&&Oe.type)}))||[],se=((ge=F.setlist.songs)==null?void 0:ge.filter($e=>{var ke;return((ke=$e.song)==null?void 0:ke.type)==="medley"}))||[];return`(${te.length} canciones${se.length>0?`, ${se.length} medleys`:""})`})()})]}):d.jsxs("div",{className:"flex items-center",children:[d.jsx(us,{className:"w-3 h-3 mr-1 text-gray-300"}),d.jsx("span",{className:"text-gray-400 italic",children:"Sin setlist"})]})]})]})]}),ne(F),F.notes&&d.jsx("p",{className:"mt-1 text-xs text-gray-500 line-clamp-1",children:F.notes})]}),t&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>W(F),className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",title:"Editar evento",children:d.jsx(jS,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>L(F.id),className:"p-1 text-red-400 hover:text-red-600 rounded-full hover:bg-red-50",title:"Eliminar evento",children:d.jsx(Yg,{className:"w-4 h-4"})})]})]})})},F.id))})]},$))})]})]})}),d.jsx(s1,{isOpen:p,onClose:()=>m(!1),groupId:e,onEventSaved:()=>{z(),m(!1)},availableDates:n,members:r}),c&&d.jsx(s1,{isOpen:y,onClose:()=>{x(!1),h(null)},groupId:e,event:c,onEventSaved:()=>{z(),x(!1),h(null)},availableDates:[...n,Os(c.date)],members:r}),k&&d.jsx(u8,{isOpen:!!k,onClose:()=>{b(null),N(null),R("")},setlist:k,eventName:_==null?void 0:_.name,eventDate:_==null?void 0:_.date,bandName:P})]})}function d8({isOpen:e,onClose:t,onConfirm:n,title:r,message:i}){return e?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-red-600",children:r}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:d.jsx(hi,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("p",{className:"text-gray-700 mb-6",children:i}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx(Ne,{variant:"secondary",onClick:t,children:"Cancelar"}),d.jsx(Ne,{onClick:n,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500",children:"Eliminar"})]})]})]})}):null}function f8({isOpen:e,onClose:t,calendarUrl:n}){const r=async()=>{await navigator.clipboard.writeText(n),H.success("URL copiada al portapapeles")};return d.jsxs(Ks,{open:e,onClose:t,className:"relative z-50",children:[d.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),d.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:d.jsxs(Ks.Panel,{className:"mx-auto max-w-md rounded-lg bg-white p-6",children:[d.jsxs(Ks.Title,{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[d.jsx(md,{className:"w-5 h-5"}),"Suscribirse al Calendario"]}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900",children:"Google Calendar"}),d.jsxs("ol",{className:"mt-2 list-decimal list-inside text-sm text-gray-600",children:[d.jsx("li",{children:"Abre Google Calendar"}),d.jsx("li",{children:'En el panel izquierdo, junto a "Otros calendarios", haz clic en el "+"'}),d.jsx("li",{children:'Selecciona "Desde URL"'}),d.jsx("li",{children:'Pega la URL del calendario y haz clic en "Aadir calendario"'})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900",children:"Apple Calendar"}),d.jsxs("ol",{className:"mt-2 list-decimal list-inside text-sm text-gray-600",children:[d.jsx("li",{children:"Abre la aplicacin Calendario"}),d.jsx("li",{children:"Ve a Archivo  Nueva suscripcin a calendario"}),d.jsx("li",{children:'Pega la URL del calendario y haz clic en "Suscribirse"'})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900",children:"Outlook"}),d.jsxs("ol",{className:"mt-2 list-decimal list-inside text-sm text-gray-600",children:[d.jsx("li",{children:"Abre Outlook Calendar"}),d.jsx("li",{children:'Ve a "Aadir calendario"  "Desde Internet"'}),d.jsx("li",{children:'Pega la URL del calendario y haz clic en "Importar"'})]})]}),d.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-md",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"URL del calendario:"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:n,readOnly:!0,className:"flex-1 text-sm bg-white border border-gray-300 rounded-md px-3 py-2"}),d.jsxs(Ne,{onClick:r,variant:"secondary",className:"flex items-center gap-1",children:[d.jsx(dA,{className:"w-4 h-4"}),"Copiar"]})]})]})]}),d.jsx("div",{className:"mt-6 flex justify-end",children:d.jsx(Ne,{onClick:t,children:"Cerrar"})})]})})]})}const o1={title:"",artist:"",duration_minutes:"",key:"",notes:""},a1=["","C","C#","Db","D","D#","Eb","E","F","F#","Gb","G","G#","Ab","A","A#","Bb","B"];function h8(e,t){const[n,r]=v.useState(e);return v.useEffect(()=>{const i=setTimeout(()=>r(e),t);return()=>clearTimeout(i)},[e,t]),n}function p8({groupId:e,canManageSongs:t=!0}){const[n,r]=v.useState([]),[i,o]=v.useState(!0),[l,u]=v.useState(!1),[c,h]=v.useState(null),[p,m]=v.useState(o1),[y,x]=v.useState(!1),[S,C]=v.useState(null),[k,b]=v.useState([]),[_,N]=v.useState(!1),[P,R]=v.useState(!1),z=v.useRef(null),[L,W]=v.useState(null),[ue,re]=v.useState(""),[q,Ee]=v.useState(!1),[ne,me]=v.useState(null),be=h8(p.title,400);v.useEffect(()=>{Me()},[e]),v.useEffect(()=>{if(console.log("Debounced title changed:",be),be.length<2){console.log("Title too short, clearing suggestions"),b([]),N(!1);return}console.log("Fetching suggestions for:",be),R(!0),fetch(`https://corsproxy.io/?https://api.deezer.com/search?q=${encodeURIComponent(be)}`).then(Q=>Q.json()).then(Q=>{console.log("Deezer API response:",Q),b(Q.data||[]),N(!0)}).catch(Q=>{console.error("Error fetching suggestions:",Q),b([])}).finally(()=>R(!1))},[be]),v.useEffect(()=>{function Q(pe){z.current&&!z.current.contains(pe.target)&&N(!1)}return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[]);const Me=async()=>{o(!0);const Q=await Sd(e);Q&&r(Q),o(!1)},$=async Q=>{if(Q.preventDefault(),!p.title.trim()){H.error("El ttulo es obligatorio");return}const{data:{user:pe}}=await oe.auth.getUser();if(!pe){H.error("No se pudo obtener la informacin del usuario");return}const Z={group_id:e,title:p.title.trim(),artist:p.artist.trim()||void 0,duration_minutes:p.duration_minutes?parseInt(p.duration_minutes):void 0,key:p.key.trim()||void 0,notes:p.notes.trim()||void 0,created_by:pe.id};if(c){const V=await n1(c.id,Z);V&&(H.success("Cancin actualizada correctamente"),r(U=>U.map(K=>K.id===c.id?V:K)))}else{const V=await KF(Z);V&&(H.success("Cancin creada correctamente"),r(U=>[...U,V]))}se()},T=Q=>{var pe;h(Q),m({title:Q.title,artist:Q.artist||"",duration_minutes:((pe=Q.duration_minutes)==null?void 0:pe.toString())||"",key:Q.key||"",notes:Q.notes||""}),u(!0)},F=Q=>{C(Q),x(!0)},te=async()=>{if(!S)return;console.log("Eliminando cancin:",S.id);const Q=await XF(S.id);console.log("Resultado de eliminacin:",Q),Q?(H.success("Cancin eliminada correctamente"),r(pe=>pe.filter(Z=>Z.id!==S.id))):H.error("No se pudo eliminar la cancin"),x(!1),C(null)},se=()=>{m(o1),h(null),u(!1)},_e=Q=>{if(!Q)return"-";const pe=Math.floor(Q/60),Z=Q%60;return pe>0?`${pe}h ${Z}m`:`${Z}m`},ge=Q=>{m({...p,title:Q.title,artist:Q.artist.name,duration_minutes:Math.round(Q.duration/60).toString()}),N(!1)},$e=(Q,pe,Z)=>{W({songId:Q,field:pe}),re(Z||""),me(null)},ke=async(Q,pe)=>{if(ue===(Q[pe]||"")){W(null);return}Ee(!0),me(null);const Z=await n1(Q.id,{[pe]:pe==="duration_minutes"?parseInt(ue)||null:ue||null});Ee(!1),Z?(r(V=>V.map(U=>U.id===Q.id?{...U,...Z}:U)),W(null)):me("Error al guardar")},Oe=(Q,pe,Z)=>{Q.key==="Enter"?(Q.preventDefault(),ke(pe,Z)):Q.key==="Escape"&&W(null)};return i?d.jsx("div",{className:"text-center py-8",children:"Cargando canciones..."}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Pool de Canciones"}),t&&d.jsx(Ne,{onClick:()=>u(!l),variant:l?"secondary":"primary",children:l?"Cancelar":"Aadir Cancin"})]}),!t&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:d.jsx("p",{className:"text-yellow-800 text-sm",children:"Solo los miembros principales pueden gestionar canciones y setlists."})}),l&&t&&d.jsxs("form",{onSubmit:$,className:"bg-white p-6 rounded-lg shadow-md space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:c?"Editar Cancin":"Nueva Cancin"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(mt,{label:"Ttulo *",value:p.title,onChange:Q=>{m({...p,title:Q.target.value}),N(!0)},required:!0,autoComplete:"off"}),_&&k.length>0&&d.jsxs("div",{ref:z,className:"absolute z-10 left-0 right-0 bg-white border border-gray-200 rounded shadow-lg max-h-60 overflow-y-auto mt-1",children:[P&&d.jsx("div",{className:"p-2 text-gray-500 text-sm",children:"Buscando..."}),k.map(Q=>d.jsxs("div",{className:"p-2 hover:bg-blue-100 cursor-pointer flex flex-col",onClick:()=>ge(Q),children:[d.jsx("span",{className:"font-medium",children:Q.title}),d.jsxs("span",{className:"text-xs text-gray-500",children:[Q.artist.name,"  ",Math.round(Q.duration/60)," min"]})]},Q.id))]})]}),d.jsx(mt,{label:"Artista",value:p.artist,onChange:Q=>m({...p,artist:Q.target.value})}),d.jsx(mt,{label:"Duracin (minutos)",type:"number",value:p.duration_minutes,onChange:Q=>m({...p,duration_minutes:Q.target.value}),min:"1"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tonalidad"}),d.jsx("select",{className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.key,onChange:Q=>m({...p,key:Q.target.value}),children:a1.map(Q=>d.jsx("option",{value:Q,children:Q||"Sin especificar"},Q))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas"}),d.jsx("textarea",{value:p.notes,onChange:Q=>m({...p,notes:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Notas adicionales sobre la cancin..."})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(Ne,{type:"submit",variant:"primary",children:c?"Actualizar":"Crear"}),d.jsx(Ne,{type:"button",variant:"secondary",onClick:se,children:"Cancelar"})]})]}),d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay canciones en el pool. Aade la primera cancin para empezar."}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ttulo"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Artista"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duracin"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tonalidad"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(Q=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap align-top",children:[(L==null?void 0:L.songId)===Q.id&&L.field==="title"?d.jsx("input",{className:"w-full border border-blue-400 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",value:ue,autoFocus:!0,onChange:pe=>re(pe.target.value),onBlur:()=>ke(Q,"title"),onKeyDown:pe=>Oe(pe,Q,"title"),disabled:q}):d.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-pointer hover:underline",onClick:()=>t&&$e(Q.id,"title",Q.title),title:"Haz clic para editar",children:Q.title}),(L==null?void 0:L.songId)===Q.id&&ne&&d.jsx("div",{className:"text-xs text-red-500 mt-1",children:ne})]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap align-top text-sm text-gray-900",children:(L==null?void 0:L.songId)===Q.id&&L.field==="artist"?d.jsx("input",{className:"w-full border border-blue-400 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",value:ue,autoFocus:!0,onChange:pe=>re(pe.target.value),onBlur:()=>ke(Q,"artist"),onKeyDown:pe=>Oe(pe,Q,"artist"),disabled:q}):d.jsx("div",{className:"cursor-pointer hover:underline",onClick:()=>t&&$e(Q.id,"artist",Q.artist||""),title:"Haz clic para editar",children:Q.artist||d.jsx("span",{className:"text-gray-400",children:"Sin artista"})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap align-top text-sm text-gray-900",children:(L==null?void 0:L.songId)===Q.id&&L.field==="duration_minutes"?d.jsx("input",{className:"w-20 border border-blue-400 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",type:"number",min:"1",value:ue,autoFocus:!0,onChange:pe=>re(pe.target.value),onBlur:()=>ke(Q,"duration_minutes"),onKeyDown:pe=>Oe(pe,Q,"duration_minutes"),disabled:q}):d.jsx("div",{className:"cursor-pointer hover:underline",onClick:()=>{var pe;return t&&$e(Q.id,"duration_minutes",((pe=Q.duration_minutes)==null?void 0:pe.toString())||"")},title:"Haz clic para editar",children:_e(Q.duration_minutes)})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap align-top text-sm text-gray-900",children:(L==null?void 0:L.songId)===Q.id&&L.field==="key"?d.jsx("select",{className:"w-28 border border-blue-400 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",value:ue,autoFocus:!0,onChange:pe=>re(pe.target.value),onBlur:()=>ke(Q,"key"),onKeyDown:pe=>Oe(pe,Q,"key"),disabled:q,children:a1.map(pe=>d.jsx("option",{value:pe,children:pe||"Sin especificar"},pe))}):d.jsx("div",{className:"cursor-pointer hover:underline",onClick:()=>t&&$e(Q.id,"key",Q.key||""),title:"Haz clic para editar",children:Q.key||d.jsx("span",{className:"text-gray-400",children:"Sin especificar"})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>T(Q),className:"text-blue-600 hover:text-blue-900",children:"Editar"}),d.jsx("button",{onClick:()=>F(Q),className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})})]},Q.id))})]})})}),y&&S&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmar Eliminacin"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:['Ests seguro de que quieres eliminar la cancin "',S.title,'"? Esta accin no se puede deshacer.']}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx(Ne,{variant:"secondary",onClick:()=>{x(!1),C(null)},children:"Cancelar"}),d.jsx(Ne,{variant:"danger",onClick:te,children:"Eliminar"})]})]})})]})}var bE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l1=xe.createContext&&xe.createContext(bE),m8=["attr","size","title"];function g8(e,t){if(e==null)return{};var n=v8(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function v8(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ed.apply(this,arguments)}function u1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u1(Object(n),!0).forEach(function(r){y8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y8(e,t,n){return t=x8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x8(e){var t=w8(e,"string");return typeof t=="symbol"?t:t+""}function w8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SE(e){return e&&e.map((t,n)=>xe.createElement(t.tag,Nd({key:n},t.attr),SE(t.child)))}function Si(e){return t=>xe.createElement(_8,Ed({attr:Nd({},e.attr)},t),SE(e.child))}function _8(e){var t=n=>{var{attr:r,size:i,title:o}=e,l=g8(e,m8),u=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),xe.createElement("svg",Ed({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:c,style:Nd(Nd({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&xe.createElement("title",null,o),e.children)};return l1!==void 0?xe.createElement(l1.Consumer,null,n=>t(n)):t(bE)}function b8(e){return Si({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function S8(e){return Si({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function E8(e){return Si({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function EE(e){return Si({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function N8(e){return Si({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function j8(e){return Si({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"},child:[]}]})(e)}function Lm(e){return Si({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function c1(e){return Si({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function C8(e){return Si({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function k8(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const ff=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ya(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function hv(e){return"nodeType"in e}function Tn(e){var t,n;return e?ya(e)?e:hv(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function pv(e){const{Document:t}=Tn(e);return e instanceof t}function iu(e){return ya(e)?!1:e instanceof Tn(e).HTMLElement}function NE(e){return e instanceof Tn(e).SVGElement}function xa(e){return e?ya(e)?e.document:hv(e)?pv(e)?e:iu(e)||NE(e)?e.ownerDocument:document:document:document}const qr=ff?v.useLayoutEffect:v.useEffect;function mv(e){const t=v.useRef(e);return qr(()=>{t.current=e}),v.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function P8(){const e=v.useRef(null),t=v.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=v.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function zl(e,t){t===void 0&&(t=[e]);const n=v.useRef(e);return qr(()=>{n.current!==e&&(n.current=e)},t),n}function su(e,t){const n=v.useRef();return v.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function jd(e){const t=mv(e),n=v.useRef(null),r=v.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function Im(e){const t=v.useRef();return v.useEffect(()=>{t.current=e},[e]),t.current}let gp={};function ou(e,t){return v.useMemo(()=>{if(t)return t;const n=gp[e]==null?0:gp[e]+1;return gp[e]=n,e+"-"+n},[e,t])}function jE(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,l)=>{const u=Object.entries(l);for(const[c,h]of u){const p=o[c];p!=null&&(o[c]=p+e*h)}return o},{...t})}}const Jo=jE(1),Cd=jE(-1);function D8(e){return"clientX"in e&&"clientY"in e}function gv(e){if(!e)return!1;const{KeyboardEvent:t}=Tn(e.target);return t&&e instanceof t}function T8(e){if(!e)return!1;const{TouchEvent:t}=Tn(e.target);return t&&e instanceof t}function Fm(e){if(T8(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return D8(e)?{x:e.clientX,y:e.clientY}:null}const Wl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Wl.Translate.toString(e),Wl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),d1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function O8(e){return e.matches(d1)?e:e.querySelector(d1)}const M8={display:"none"};function R8(e){let{id:t,value:n}=e;return xe.createElement("div",{id:t,style:M8},n)}function $8(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return xe.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function A8(){const[e,t]=v.useState("");return{announce:v.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const CE=v.createContext(null);function L8(e){const t=v.useContext(CE);v.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function I8(){const[e]=v.useState(()=>new Set),t=v.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[v.useCallback(r=>{let{type:i,event:o}=r;e.forEach(l=>{var u;return(u=l[i])==null?void 0:u.call(l,o)})},[e]),t]}const F8={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},U8={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function z8(e){let{announcements:t=U8,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=F8}=e;const{announce:o,announcement:l}=A8(),u=ou("DndLiveRegion"),[c,h]=v.useState(!1);if(v.useEffect(()=>{h(!0)},[]),L8(v.useMemo(()=>({onDragStart(m){let{active:y}=m;o(t.onDragStart({active:y}))},onDragMove(m){let{active:y,over:x}=m;t.onDragMove&&o(t.onDragMove({active:y,over:x}))},onDragOver(m){let{active:y,over:x}=m;o(t.onDragOver({active:y,over:x}))},onDragEnd(m){let{active:y,over:x}=m;o(t.onDragEnd({active:y,over:x}))},onDragCancel(m){let{active:y,over:x}=m;o(t.onDragCancel({active:y,over:x}))}}),[o,t])),!c)return null;const p=xe.createElement(xe.Fragment,null,xe.createElement(R8,{id:r,value:i.draggable}),xe.createElement($8,{id:u,announcement:l}));return n?Hs.createPortal(p,n):p}var Lt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Lt||(Lt={}));function kd(){}function W8(e,t){return v.useMemo(()=>({sensor:e,options:{}}),[e,t])}function B8(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Dr=Object.freeze({x:0,y:0});function H8(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function q8(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function G8(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function V8(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function f1(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Y8=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=f1(t,t.left,t.top),o=[];for(const l of r){const{id:u}=l,c=n.get(u);if(c){const h=H8(f1(c),i);o.push({id:u,data:{droppableContainer:l,value:h}})}}return o.sort(q8)};function K8(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),l=i-r,u=o-n;if(r<i&&n<o){const c=t.width*t.height,h=e.width*e.height,p=l*u,m=p/(c+h-p);return Number(m.toFixed(4))}return 0}const Q8=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const c=K8(u,t);c>0&&i.push({id:l,data:{droppableContainer:o,value:c}})}}return i.sort(G8)};function X8(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function kE(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Dr}function J8(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((l,u)=>({...l,top:l.top+e*u.y,bottom:l.bottom+e*u.y,left:l.left+e*u.x,right:l.right+e*u.x}),{...n})}}const Z8=J8(1);function eU(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function tU(e,t,n){const r=eU(t);if(!r)return e;const{scaleX:i,scaleY:o,x:l,y:u}=r,c=e.left-l-(1-i)*parseFloat(n),h=e.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?e.width/i:e.width,m=o?e.height/o:e.height;return{width:p,height:m,top:h,right:c+p,bottom:h+m,left:c}}const nU={ignoreTransform:!1};function wa(e,t){t===void 0&&(t=nU);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:p}=Tn(e).getComputedStyle(e);h&&(n=tU(n,h,p))}const{top:r,left:i,width:o,height:l,bottom:u,right:c}=n;return{top:r,left:i,width:o,height:l,bottom:u,right:c}}function h1(e){return wa(e,{ignoreTransform:!0})}function rU(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function iU(e,t){return t===void 0&&(t=Tn(e).getComputedStyle(e)),t.position==="fixed"}function sU(e,t){t===void 0&&(t=Tn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function vv(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(pv(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!iu(i)||NE(i)||n.includes(i))return n;const o=Tn(e).getComputedStyle(i);return i!==e&&sU(i,o)&&n.push(i),iU(i,o)?n:r(i.parentNode)}return e?r(e):n}function PE(e){const[t]=vv(e,1);return t??null}function vp(e){return!ff||!e?null:ya(e)?e:hv(e)?pv(e)||e===xa(e).scrollingElement?window:iu(e)?e:null:null}function DE(e){return ya(e)?e.scrollX:e.scrollLeft}function TE(e){return ya(e)?e.scrollY:e.scrollTop}function Um(e){return{x:DE(e),y:TE(e)}}var Bt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Bt||(Bt={}));function OE(e){return!ff||!e?!1:e===document.scrollingElement}function ME(e){const t={x:0,y:0},n=OE(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:l,isRight:u,maxScroll:r,minScroll:t}}const oU={x:.2,y:.2};function aU(e,t,n,r,i){let{top:o,left:l,right:u,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=oU);const{isTop:h,isBottom:p,isLeft:m,isRight:y}=ME(e),x={x:0,y:0},S={x:0,y:0},C={height:t.height*i.y,width:t.width*i.x};return!h&&o<=t.top+C.height?(x.y=Bt.Backward,S.y=r*Math.abs((t.top+C.height-o)/C.height)):!p&&c>=t.bottom-C.height&&(x.y=Bt.Forward,S.y=r*Math.abs((t.bottom-C.height-c)/C.height)),!y&&u>=t.right-C.width?(x.x=Bt.Forward,S.x=r*Math.abs((t.right-C.width-u)/C.width)):!m&&l<=t.left+C.width&&(x.x=Bt.Backward,S.x=r*Math.abs((t.left+C.width-l)/C.width)),{direction:x,speed:S}}function lU(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function RE(e){return e.reduce((t,n)=>Jo(t,Um(n)),Dr)}function uU(e){return e.reduce((t,n)=>t+DE(n),0)}function cU(e){return e.reduce((t,n)=>t+TE(n),0)}function dU(e,t){if(t===void 0&&(t=wa),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);PE(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const fU=[["x",["left","right"],uU],["y",["top","bottom"],cU]];class yv{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=vv(n),i=RE(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,l,u]of fU)for(const c of l)Object.defineProperty(this,c,{get:()=>{const h=u(r),p=i[o]-h;return this.rect[c]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class vl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function hU(e){const{EventTarget:t}=Tn(e);return e instanceof t?e:xa(e)}function yp(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var or;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(or||(or={}));function p1(e){e.preventDefault()}function pU(e){e.stopPropagation()}var et;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(et||(et={}));const $E={start:[et.Space,et.Enter],cancel:[et.Esc],end:[et.Space,et.Enter,et.Tab]},mU=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case et.Right:return{...n,x:n.x+25};case et.Left:return{...n,x:n.x-25};case et.Down:return{...n,y:n.y+25};case et.Up:return{...n,y:n.y-25}}};class AE{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new vl(xa(n)),this.windowListeners=new vl(Tn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(or.Resize,this.handleCancel),this.windowListeners.add(or.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(or.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&dU(r),n(Dr)}handleKeyDown(t){if(gv(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=$E,coordinateGetter:l=mU,scrollBehavior:u="smooth"}=i,{code:c}=t;if(o.end.includes(c)){this.handleEnd(t);return}if(o.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:h}=r.current,p=h?{x:h.left,y:h.top}:Dr;this.referenceCoordinates||(this.referenceCoordinates=p);const m=l(t,{active:n,context:r.current,currentCoordinates:p});if(m){const y=Cd(m,p),x={x:0,y:0},{scrollableAncestors:S}=r.current;for(const C of S){const k=t.code,{isTop:b,isRight:_,isLeft:N,isBottom:P,maxScroll:R,minScroll:z}=ME(C),L=lU(C),W={x:Math.min(k===et.Right?L.right-L.width/2:L.right,Math.max(k===et.Right?L.left:L.left+L.width/2,m.x)),y:Math.min(k===et.Down?L.bottom-L.height/2:L.bottom,Math.max(k===et.Down?L.top:L.top+L.height/2,m.y))},ue=k===et.Right&&!_||k===et.Left&&!N,re=k===et.Down&&!P||k===et.Up&&!b;if(ue&&W.x!==m.x){const q=C.scrollLeft+y.x,Ee=k===et.Right&&q<=R.x||k===et.Left&&q>=z.x;if(Ee&&!y.y){C.scrollTo({left:q,behavior:u});return}Ee?x.x=C.scrollLeft-q:x.x=k===et.Right?C.scrollLeft-R.x:C.scrollLeft-z.x,x.x&&C.scrollBy({left:-x.x,behavior:u});break}else if(re&&W.y!==m.y){const q=C.scrollTop+y.y,Ee=k===et.Down&&q<=R.y||k===et.Up&&q>=z.y;if(Ee&&!y.x){C.scrollTo({top:q,behavior:u});return}Ee?x.y=C.scrollTop-q:x.y=k===et.Down?C.scrollTop-R.y:C.scrollTop-z.y,x.y&&C.scrollBy({top:-x.y,behavior:u});break}}this.handleMove(t,Jo(Cd(m,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}AE.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=$E,onActivation:i}=t,{active:o}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const u=o.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function m1(e){return!!(e&&"distance"in e)}function g1(e){return!!(e&&"delay"in e)}class xv{constructor(t,n,r){var i;r===void 0&&(r=hU(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:l}=o;this.props=t,this.events=n,this.document=xa(l),this.documentListeners=new vl(this.document),this.listeners=new vl(r),this.windowListeners=new vl(Tn(l)),this.initialCoordinates=(i=Fm(o))!=null?i:Dr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(or.Resize,this.handleCancel),this.windowListeners.add(or.DragStart,p1),this.windowListeners.add(or.VisibilityChange,this.handleCancel),this.windowListeners.add(or.ContextMenu,p1),this.documentListeners.add(or.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(g1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(m1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(or.Click,pU,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(or.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:l,options:{activationConstraint:u}}=o;if(!i)return;const c=(n=Fm(t))!=null?n:Dr,h=Cd(i,c);if(!r&&u){if(m1(u)){if(u.tolerance!=null&&yp(h,u.tolerance))return this.handleCancel();if(yp(h,u.distance))return this.handleStart()}if(g1(u)&&yp(h,u.tolerance))return this.handleCancel();this.handlePending(u,h);return}t.cancelable&&t.preventDefault(),l(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===et.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const gU={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class wv extends xv{constructor(t){const{event:n}=t,r=xa(n.target);super(t,gU,r)}}wv.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const vU={move:{name:"mousemove"},end:{name:"mouseup"}};var zm;(function(e){e[e.RightClick=2]="RightClick"})(zm||(zm={}));class yU extends xv{constructor(t){super(t,vU,xa(t.event.target))}}yU.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===zm.RightClick?!1:(r==null||r({event:n}),!0)}}];const xp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class xU extends xv{constructor(t){super(t,xp)}static setup(){return window.addEventListener(xp.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(xp.move.name,t)};function t(){}}}xU.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var yl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(yl||(yl={}));var Pd;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Pd||(Pd={}));function wU(e){let{acceleration:t,activator:n=yl.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:l=5,order:u=Pd.TreeOrder,pointerCoordinates:c,scrollableAncestors:h,scrollableAncestorRects:p,delta:m,threshold:y}=e;const x=bU({delta:m,disabled:!o}),[S,C]=P8(),k=v.useRef({x:0,y:0}),b=v.useRef({x:0,y:0}),_=v.useMemo(()=>{switch(n){case yl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case yl.DraggableRect:return i}},[n,i,c]),N=v.useRef(null),P=v.useCallback(()=>{const z=N.current;if(!z)return;const L=k.current.x*b.current.x,W=k.current.y*b.current.y;z.scrollBy(L,W)},[]),R=v.useMemo(()=>u===Pd.TreeOrder?[...h].reverse():h,[u,h]);v.useEffect(()=>{if(!o||!h.length||!_){C();return}for(const z of R){if((r==null?void 0:r(z))===!1)continue;const L=h.indexOf(z),W=p[L];if(!W)continue;const{direction:ue,speed:re}=aU(z,W,_,t,y);for(const q of["x","y"])x[q][ue[q]]||(re[q]=0,ue[q]=0);if(re.x>0||re.y>0){C(),N.current=z,S(P,l),k.current=re,b.current=ue;return}}k.current={x:0,y:0},b.current={x:0,y:0},C()},[t,P,r,C,o,l,JSON.stringify(_),JSON.stringify(x),S,h,R,p,JSON.stringify(y)])}const _U={x:{[Bt.Backward]:!1,[Bt.Forward]:!1},y:{[Bt.Backward]:!1,[Bt.Forward]:!1}};function bU(e){let{delta:t,disabled:n}=e;const r=Im(t);return su(i=>{if(n||!r||!i)return _U;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Bt.Backward]:i.x[Bt.Backward]||o.x===-1,[Bt.Forward]:i.x[Bt.Forward]||o.x===1},y:{[Bt.Backward]:i.y[Bt.Backward]||o.y===-1,[Bt.Forward]:i.y[Bt.Forward]||o.y===1}}},[n,t,r])}function SU(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return su(i=>{var o;return t==null?null:(o=r??i)!=null?o:null},[r,t])}function EU(e,t){return v.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...o]},[]),[e,t])}var Bl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Bl||(Bl={}));var Wm;(function(e){e.Optimized="optimized"})(Wm||(Wm={}));const v1=new Map;function NU(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,l]=v.useState(null),{frequency:u,measure:c,strategy:h}=i,p=v.useRef(e),m=k(),y=zl(m),x=v.useCallback(function(b){b===void 0&&(b=[]),!y.current&&l(_=>_===null?b:_.concat(b.filter(N=>!_.includes(N))))},[y]),S=v.useRef(null),C=su(b=>{if(m&&!n)return v1;if(!b||b===v1||p.current!==e||o!=null){const _=new Map;for(let N of e){if(!N)continue;if(o&&o.length>0&&!o.includes(N.id)&&N.rect.current){_.set(N.id,N.rect.current);continue}const P=N.node.current,R=P?new yv(c(P),P):null;N.rect.current=R,R&&_.set(N.id,R)}return _}return b},[e,o,n,m,c]);return v.useEffect(()=>{p.current=e},[e]),v.useEffect(()=>{m||x()},[n,m]),v.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),v.useEffect(()=>{m||typeof u!="number"||S.current!==null||(S.current=setTimeout(()=>{x(),S.current=null},u))},[u,m,x,...r]),{droppableRects:C,measureDroppableContainers:x,measuringScheduled:o!=null};function k(){switch(h){case Bl.Always:return!1;case Bl.BeforeDragging:return n;default:return!n}}}function LE(e,t){return su(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function jU(e,t){return LE(e,t)}function CU(e){let{callback:t,disabled:n}=e;const r=mv(t),i=v.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return v.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function hf(e){let{callback:t,disabled:n}=e;const r=mv(t),i=v.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return v.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function kU(e){return new yv(wa(e),e)}function y1(e,t,n){t===void 0&&(t=kU);const[r,i]=v.useState(null);function o(){i(c=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=c??n)!=null?h:null}const p=t(e);return JSON.stringify(c)===JSON.stringify(p)?c:p})}const l=CU({callback(c){if(e)for(const h of c){const{type:p,target:m}=h;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){o();break}}}}),u=hf({callback:o});return qr(()=>{o(),e?(u==null||u.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),l==null||l.disconnect())},[e]),r}function PU(e){const t=LE(e);return kE(e,t)}const x1=[];function DU(e){const t=v.useRef(e),n=su(r=>e?r&&r!==x1&&e&&t.current&&e.parentNode===t.current.parentNode?r:vv(e):x1,[e]);return v.useEffect(()=>{t.current=e},[e]),n}function TU(e){const[t,n]=v.useState(null),r=v.useRef(e),i=v.useCallback(o=>{const l=vp(o.target);l&&n(u=>u?(u.set(l,Um(l)),new Map(u)):null)},[]);return v.useEffect(()=>{const o=r.current;if(e!==o){l(o);const u=e.map(c=>{const h=vp(c);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,Um(h)]):null}).filter(c=>c!=null);n(u.length?new Map(u):null),r.current=e}return()=>{l(e),l(o)};function l(u){u.forEach(c=>{const h=vp(c);h==null||h.removeEventListener("scroll",i)})}},[i,e]),v.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,l)=>Jo(o,l),Dr):RE(e):Dr,[e,t])}function w1(e,t){t===void 0&&(t=[]);const n=v.useRef(null);return v.useEffect(()=>{n.current=null},t),v.useEffect(()=>{const r=e!==Dr;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Cd(e,n.current):Dr}function OU(e){v.useEffect(()=>{if(!ff)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function MU(e,t){return v.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=l=>{o(l,t)},n},{}),[e,t])}function IE(e){return v.useMemo(()=>e?rU(e):null,[e])}const _1=[];function RU(e,t){t===void 0&&(t=wa);const[n]=e,r=IE(n?Tn(n):null),[i,o]=v.useState(_1);function l(){o(()=>e.length?e.map(c=>OE(c)?r:new yv(t(c),c)):_1)}const u=hf({callback:l});return qr(()=>{u==null||u.disconnect(),l(),e.forEach(c=>u==null?void 0:u.observe(c))},[e]),i}function $U(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return iu(t)?t:e}function AU(e){let{measure:t}=e;const[n,r]=v.useState(null),i=v.useCallback(h=>{for(const{target:p}of h)if(iu(p)){r(m=>{const y=t(p);return m?{...m,width:y.width,height:y.height}:y});break}},[t]),o=hf({callback:i}),l=v.useCallback(h=>{const p=$U(h);o==null||o.disconnect(),p&&(o==null||o.observe(p)),r(p?t(p):null)},[t,o]),[u,c]=jd(l);return v.useMemo(()=>({nodeRef:u,rect:n,setRef:c}),[n,u,c])}const LU=[{sensor:wv,options:{}},{sensor:AE,options:{}}],IU={current:{}},Uc={draggable:{measure:h1},droppable:{measure:h1,strategy:Bl.WhileDragging,frequency:Wm.Optimized},dragOverlay:{measure:wa}};class xl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const FU={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new xl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:kd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Uc,measureDroppableContainers:kd,windowRect:null,measuringScheduled:!1},UU={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:kd,draggableNodes:new Map,over:null,measureDroppableContainers:kd},pf=v.createContext(UU),FE=v.createContext(FU);function zU(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new xl}}}function WU(e,t){switch(t.type){case Lt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Lt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Lt.DragEnd:case Lt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Lt.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new xl(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Lt.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const l=new xl(e.droppable.containers);return l.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:l}}}case Lt.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new xl(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function BU(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=v.useContext(pf),o=Im(r),l=Im(n==null?void 0:n.id);return v.useEffect(()=>{if(!t&&!r&&o&&l!=null){if(!gv(o)||document.activeElement===o.target)return;const u=i.get(l);if(!u)return;const{activatorNode:c,node:h}=u;if(!c.current&&!h.current)return;requestAnimationFrame(()=>{for(const p of[c.current,h.current]){if(!p)continue;const m=O8(p);if(m){m.focus();break}}})}},[r,t,i,l,o]),null}function HU(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function qU(e){return v.useMemo(()=>({draggable:{...Uc.draggable,...e==null?void 0:e.draggable},droppable:{...Uc.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Uc.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function GU(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=v.useRef(!1),{x:l,y:u}=typeof i=="boolean"?{x:i,y:i}:i;qr(()=>{if(!l&&!u||!t){o.current=!1;return}if(o.current||!r)return;const h=t==null?void 0:t.node.current;if(!h||h.isConnected===!1)return;const p=n(h),m=kE(p,r);if(l||(m.x=0),u||(m.y=0),o.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const y=PE(h);y&&y.scrollBy({top:m.y,left:m.x})}},[t,l,u,r,n])}const UE=v.createContext({...Dr,scaleX:1,scaleY:1});var zi;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(zi||(zi={}));const VU=v.memo(function(t){var n,r,i,o;let{id:l,accessibility:u,autoScroll:c=!0,children:h,sensors:p=LU,collisionDetection:m=Q8,measuring:y,modifiers:x,...S}=t;const C=v.useReducer(WU,void 0,zU),[k,b]=C,[_,N]=I8(),[P,R]=v.useState(zi.Uninitialized),z=P===zi.Initialized,{draggable:{active:L,nodes:W,translate:ue},droppable:{containers:re}}=k,q=L!=null?W.get(L):null,Ee=v.useRef({initial:null,translated:null}),ne=v.useMemo(()=>{var Ot;return L!=null?{id:L,data:(Ot=q==null?void 0:q.data)!=null?Ot:IU,rect:Ee}:null},[L,q]),me=v.useRef(null),[be,Me]=v.useState(null),[$,T]=v.useState(null),F=zl(S,Object.values(S)),te=ou("DndDescribedBy",l),se=v.useMemo(()=>re.getEnabled(),[re]),_e=qU(y),{droppableRects:ge,measureDroppableContainers:$e,measuringScheduled:ke}=NU(se,{dragging:z,dependencies:[ue.x,ue.y],config:_e.droppable}),Oe=SU(W,L),Q=v.useMemo(()=>$?Fm($):null,[$]),pe=lu(),Z=jU(Oe,_e.draggable.measure);GU({activeNode:L!=null?W.get(L):null,config:pe.layoutShiftCompensation,initialRect:Z,measure:_e.draggable.measure});const V=y1(Oe,_e.draggable.measure,Z),U=y1(Oe?Oe.parentElement:null),K=v.useRef({activatorEvent:null,active:null,activeNode:Oe,collisionRect:null,collisions:null,droppableRects:ge,draggableNodes:W,draggingNode:null,draggingNodeRect:null,droppableContainers:re,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),fe=re.getNodeFor((n=K.current.over)==null?void 0:n.id),ee=AU({measure:_e.dragOverlay.measure}),M=(r=ee.nodeRef.current)!=null?r:Oe,ae=z?(i=ee.rect)!=null?i:V:null,ce=!!(ee.nodeRef.current&&ee.rect),G=PU(ce?null:V),de=IE(M?Tn(M):null),ve=DU(z?fe??Oe:null),Pe=RU(ve),je=HU(x,{transform:{x:ue.x-G.x,y:ue.y-G.y,scaleX:1,scaleY:1},activatorEvent:$,active:ne,activeNodeRect:V,containerNodeRect:U,draggingNodeRect:ae,over:K.current.over,overlayNodeRect:ee.rect,scrollableAncestors:ve,scrollableAncestorRects:Pe,windowRect:de}),Ke=Q?Jo(Q,ue):null,nt=TU(ve),Xe=w1(nt),yt=w1(nt,[V]),Ft=Jo(je,Xe),sn=ae?Z8(ae,je):null,Yr=ne&&sn?m({active:ne,collisionRect:sn,droppableRects:ge,droppableContainers:se,pointerCoordinates:Ke}):null,lo=V8(Yr,"id"),[Yn,uo]=v.useState(null),_a=ce?je:Jo(je,yt),ba=X8(_a,(o=Yn==null?void 0:Yn.rect)!=null?o:null,V),ys=v.useRef(null),co=v.useCallback((Ot,on)=>{let{sensor:an,options:Tr}=on;if(me.current==null)return;const vn=W.get(me.current);if(!vn)return;const Xt=Ot.nativeEvent,Kn=new an({active:me.current,activeNode:vn,event:Xt,options:Tr,context:K,onAbort(Mt){if(!W.get(Mt))return;const{onDragAbort:Xn}=F.current,On={id:Mt};Xn==null||Xn(On),_({type:"onDragAbort",event:On})},onPending(Mt,Qn,Xn,On){if(!W.get(Mt))return;const{onDragPending:ws}=F.current,Or={id:Mt,constraint:Qn,initialCoordinates:Xn,offset:On};ws==null||ws(Or),_({type:"onDragPending",event:Or})},onStart(Mt){const Qn=me.current;if(Qn==null)return;const Xn=W.get(Qn);if(!Xn)return;const{onDragStart:On}=F.current,xs={activatorEvent:Xt,active:{id:Qn,data:Xn.data,rect:Ee}};Hs.unstable_batchedUpdates(()=>{On==null||On(xs),R(zi.Initializing),b({type:Lt.DragStart,initialCoordinates:Mt,active:Qn}),_({type:"onDragStart",event:xs}),Me(ys.current),T(Xt)})},onMove(Mt){b({type:Lt.DragMove,coordinates:Mt})},onEnd:Ei(Lt.DragEnd),onCancel:Ei(Lt.DragCancel)});ys.current=Kn;function Ei(Mt){return async function(){const{active:Xn,collisions:On,over:xs,scrollAdjustedTranslate:ws}=K.current;let Or=null;if(Xn&&ws){const{cancelDrop:_s}=F.current;Or={activatorEvent:Xt,active:Xn,collisions:On,delta:ws,over:xs},Mt===Lt.DragEnd&&typeof _s=="function"&&await Promise.resolve(_s(Or))&&(Mt=Lt.DragCancel)}me.current=null,Hs.unstable_batchedUpdates(()=>{b({type:Mt}),R(zi.Uninitialized),uo(null),Me(null),T(null),ys.current=null;const _s=Mt===Lt.DragEnd?"onDragEnd":"onDragCancel";if(Or){const Ea=F.current[_s];Ea==null||Ea(Or),_({type:_s,event:Or})}})}}},[W]),Sa=v.useCallback((Ot,on)=>(an,Tr)=>{const vn=an.nativeEvent,Xt=W.get(Tr);if(me.current!==null||!Xt||vn.dndKit||vn.defaultPrevented)return;const Kn={active:Xt};Ot(an,on.options,Kn)===!0&&(vn.dndKit={capturedBy:on.sensor},me.current=Tr,co(an,on))},[W,co]),au=EU(p,Sa);OU(p),qr(()=>{V&&P===zi.Initializing&&R(zi.Initialized)},[V,P]),v.useEffect(()=>{const{onDragMove:Ot}=F.current,{active:on,activatorEvent:an,collisions:Tr,over:vn}=K.current;if(!on||!an)return;const Xt={active:on,activatorEvent:an,collisions:Tr,delta:{x:Ft.x,y:Ft.y},over:vn};Hs.unstable_batchedUpdates(()=>{Ot==null||Ot(Xt),_({type:"onDragMove",event:Xt})})},[Ft.x,Ft.y]),v.useEffect(()=>{const{active:Ot,activatorEvent:on,collisions:an,droppableContainers:Tr,scrollAdjustedTranslate:vn}=K.current;if(!Ot||me.current==null||!on||!vn)return;const{onDragOver:Xt}=F.current,Kn=Tr.get(lo),Ei=Kn&&Kn.rect.current?{id:Kn.id,rect:Kn.rect.current,data:Kn.data,disabled:Kn.disabled}:null,Mt={active:Ot,activatorEvent:on,collisions:an,delta:{x:vn.x,y:vn.y},over:Ei};Hs.unstable_batchedUpdates(()=>{uo(Ei),Xt==null||Xt(Mt),_({type:"onDragOver",event:Mt})})},[lo]),qr(()=>{K.current={activatorEvent:$,active:ne,activeNode:Oe,collisionRect:sn,collisions:Yr,droppableRects:ge,draggableNodes:W,draggingNode:M,draggingNodeRect:ae,droppableContainers:re,over:Yn,scrollableAncestors:ve,scrollAdjustedTranslate:Ft},Ee.current={initial:ae,translated:sn}},[ne,Oe,Yr,sn,W,M,ae,ge,re,Yn,ve,Ft]),wU({...pe,delta:ue,draggingRect:sn,pointerCoordinates:Ke,scrollableAncestors:ve,scrollableAncestorRects:Pe});const mf=v.useMemo(()=>({active:ne,activeNode:Oe,activeNodeRect:V,activatorEvent:$,collisions:Yr,containerNodeRect:U,dragOverlay:ee,draggableNodes:W,droppableContainers:re,droppableRects:ge,over:Yn,measureDroppableContainers:$e,scrollableAncestors:ve,scrollableAncestorRects:Pe,measuringConfiguration:_e,measuringScheduled:ke,windowRect:de}),[ne,Oe,V,$,Yr,U,ee,W,re,ge,Yn,$e,ve,Pe,_e,ke,de]),gf=v.useMemo(()=>({activatorEvent:$,activators:au,active:ne,activeNodeRect:V,ariaDescribedById:{draggable:te},dispatch:b,draggableNodes:W,over:Yn,measureDroppableContainers:$e}),[$,au,ne,V,b,te,W,Yn,$e]);return xe.createElement(CE.Provider,{value:N},xe.createElement(pf.Provider,{value:gf},xe.createElement(FE.Provider,{value:mf},xe.createElement(UE.Provider,{value:ba},h)),xe.createElement(BU,{disabled:(u==null?void 0:u.restoreFocus)===!1})),xe.createElement(z8,{...u,hiddenTextDescribedById:te}));function lu(){const Ot=(be==null?void 0:be.autoScrollEnabled)===!1,on=typeof c=="object"?c.enabled===!1:c===!1,an=z&&!Ot&&!on;return typeof c=="object"?{...c,enabled:an}:{enabled:an}}}),YU=v.createContext(null),b1="button",KU="Draggable";function QU(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=ou(KU),{activators:l,activatorEvent:u,active:c,activeNodeRect:h,ariaDescribedById:p,draggableNodes:m,over:y}=v.useContext(pf),{role:x=b1,roleDescription:S="draggable",tabIndex:C=0}=i??{},k=(c==null?void 0:c.id)===t,b=v.useContext(k?UE:YU),[_,N]=jd(),[P,R]=jd(),z=MU(l,t),L=zl(n);qr(()=>(m.set(t,{id:t,key:o,node:_,activatorNode:P,data:L}),()=>{const ue=m.get(t);ue&&ue.key===o&&m.delete(t)}),[m,t]);const W=v.useMemo(()=>({role:x,tabIndex:C,"aria-disabled":r,"aria-pressed":k&&x===b1?!0:void 0,"aria-roledescription":S,"aria-describedby":p.draggable}),[r,x,C,k,S,p.draggable]);return{active:c,activatorEvent:u,activeNodeRect:h,attributes:W,isDragging:k,listeners:r?void 0:z,node:_,over:y,setNodeRef:N,setActivatorNodeRef:R,transform:b}}function XU(){return v.useContext(FE)}const JU="Droppable",ZU={timeout:25};function e7(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=ou(JU),{active:l,dispatch:u,over:c,measureDroppableContainers:h}=v.useContext(pf),p=v.useRef({disabled:n}),m=v.useRef(!1),y=v.useRef(null),x=v.useRef(null),{disabled:S,updateMeasurementsFor:C,timeout:k}={...ZU,...i},b=zl(C??r),_=v.useCallback(()=>{if(!m.current){m.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{h(Array.isArray(b.current)?b.current:[b.current]),x.current=null},k)},[k]),N=hf({callback:_,disabled:S||!l}),P=v.useCallback((W,ue)=>{N&&(ue&&(N.unobserve(ue),m.current=!1),W&&N.observe(W))},[N]),[R,z]=jd(P),L=zl(t);return v.useEffect(()=>{!N||!R.current||(N.disconnect(),m.current=!1,N.observe(R.current))},[R,N]),v.useEffect(()=>(u({type:Lt.RegisterDroppable,element:{id:r,key:o,disabled:n,node:R,rect:y,data:L}}),()=>u({type:Lt.UnregisterDroppable,key:o,id:r})),[r]),v.useEffect(()=>{n!==p.current.disabled&&(u({type:Lt.SetDroppableDisabled,id:r,key:o,disabled:n}),p.current.disabled=n)},[r,o,n,u]),{active:l,rect:y,isOver:(c==null?void 0:c.id)===r,node:R,over:c,setNodeRef:z}}function _v(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function t7(e,t){return e.reduce((n,r,i)=>{const o=t.get(r);return o&&(n[i]=o),n},Array(e.length))}function _c(e){return e!==null&&e>=0}function n7(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function r7(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const zE=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=_v(t,r,n),l=t[i],u=o[i];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},bc={scaleX:1,scaleY:1},i7=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:l}=e;const u=(t=o[n])!=null?t:r;if(!u)return null;if(i===n){const h=o[l];return h?{x:0,y:n<l?h.top+h.height-(u.top+u.height):h.top-u.top,...bc}:null}const c=s7(o,i,n);return i>n&&i<=l?{x:0,y:-u.height-c,...bc}:i<n&&i>=l?{x:0,y:u.height+c,...bc}:{x:0,y:0,...bc}};function s7(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];return r?n<t?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const WE="Sortable",BE=xe.createContext({activeIndex:-1,containerId:WE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:zE,disabled:{draggable:!1,droppable:!1}});function o7(e){let{children:t,id:n,items:r,strategy:i=zE,disabled:o=!1}=e;const{active:l,dragOverlay:u,droppableRects:c,over:h,measureDroppableContainers:p}=XU(),m=ou(WE,n),y=u.rect!==null,x=v.useMemo(()=>r.map(z=>typeof z=="object"&&"id"in z?z.id:z),[r]),S=l!=null,C=l?x.indexOf(l.id):-1,k=h?x.indexOf(h.id):-1,b=v.useRef(x),_=!n7(x,b.current),N=k!==-1&&C===-1||_,P=r7(o);qr(()=>{_&&S&&p(x)},[_,x,S,p]),v.useEffect(()=>{b.current=x},[x]);const R=v.useMemo(()=>({activeIndex:C,containerId:m,disabled:P,disableTransforms:N,items:x,overIndex:k,useDragOverlay:y,sortedRects:t7(x,c),strategy:i}),[C,m,P.draggable,P.droppable,N,x,k,c,y,i]);return xe.createElement(BE.Provider,{value:R},t)}const a7=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return _v(n,r,i).indexOf(t)},l7=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:l,previousItems:u,previousContainerId:c,transition:h}=e;return!h||!r||u!==o&&i===l?!1:n?!0:l!==i&&t===c},u7={duration:200,easing:"ease"},HE="transform",c7=Wl.Transition.toString({property:HE,duration:0,easing:"linear"}),d7={roleDescription:"sortable"};function f7(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,l]=v.useState(null),u=v.useRef(n);return qr(()=>{if(!t&&n!==u.current&&r.current){const c=i.current;if(c){const h=wa(r.current,{ignoreTransform:!0}),p={x:c.left-h.left,y:c.top-h.top,scaleX:c.width/h.width,scaleY:c.height/h.height};(p.x||p.y)&&l(p)}}n!==u.current&&(u.current=n)},[t,n,r,i]),v.useEffect(()=>{o&&l(null)},[o]),o}function h7(e){let{animateLayoutChanges:t=l7,attributes:n,disabled:r,data:i,getNewIndex:o=a7,id:l,strategy:u,resizeObserverConfig:c,transition:h=u7}=e;const{items:p,containerId:m,activeIndex:y,disabled:x,disableTransforms:S,sortedRects:C,overIndex:k,useDragOverlay:b,strategy:_}=v.useContext(BE),N=p7(r,x),P=p.indexOf(l),R=v.useMemo(()=>({sortable:{containerId:m,index:P,items:p},...i}),[m,i,P,p]),z=v.useMemo(()=>p.slice(p.indexOf(l)),[p,l]),{rect:L,node:W,isOver:ue,setNodeRef:re}=e7({id:l,data:R,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:z,...c}}),{active:q,activatorEvent:Ee,activeNodeRect:ne,attributes:me,setNodeRef:be,listeners:Me,isDragging:$,over:T,setActivatorNodeRef:F,transform:te}=QU({id:l,data:R,attributes:{...d7,...n},disabled:N.draggable}),se=k8(re,be),_e=!!q,ge=_e&&!S&&_c(y)&&_c(k),$e=!b&&$,ke=$e&&ge?te:null,Q=ge?ke??(u??_)({rects:C,activeNodeRect:ne,activeIndex:y,overIndex:k,index:P}):null,pe=_c(y)&&_c(k)?o({id:l,items:p,activeIndex:y,overIndex:k}):P,Z=q==null?void 0:q.id,V=v.useRef({activeId:Z,items:p,newIndex:pe,containerId:m}),U=p!==V.current.items,K=t({active:q,containerId:m,isDragging:$,isSorting:_e,id:l,index:P,items:p,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:h,wasDragging:V.current.activeId!=null}),fe=f7({disabled:!K,index:P,node:W,rect:L});return v.useEffect(()=>{_e&&V.current.newIndex!==pe&&(V.current.newIndex=pe),m!==V.current.containerId&&(V.current.containerId=m),p!==V.current.items&&(V.current.items=p)},[_e,pe,m,p]),v.useEffect(()=>{if(Z===V.current.activeId)return;if(Z!=null&&V.current.activeId==null){V.current.activeId=Z;return}const M=setTimeout(()=>{V.current.activeId=Z},50);return()=>clearTimeout(M)},[Z]),{active:q,activeIndex:y,attributes:me,data:R,rect:L,index:P,newIndex:pe,items:p,isOver:ue,isSorting:_e,isDragging:$,listeners:Me,node:W,overIndex:k,over:T,setNodeRef:se,setActivatorNodeRef:F,setDroppableNodeRef:re,setDraggableNodeRef:be,transform:fe??Q,transition:ee()};function ee(){if(fe||U&&V.current.newIndex===P)return c7;if(!($e&&!gv(Ee)||!h)&&(_e||K))return Wl.Transition.toString({...h,property:HE})}}function p7(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}et.Down,et.Right,et.Up,et.Left;function m7({isOpen:e,onClose:t,groupId:n,availableSongs:r,onMedleyCreated:i}){const[o,l]=v.useState(""),[u,c]=v.useState([]),[h,p]=v.useState(!1),[m,y]=v.useState(""),x=k=>{c(b=>b.includes(k)?b.filter(_=>_!==k):[...b,k])},S=async()=>{if(u.length<2){H.error("Selecciona al menos dos canciones para el medley");return}let k=o.trim();if(k||(k=u.map(_=>r.find(N=>N.id===_)).filter(_=>!!_).map(_=>_.title).join(" | ")),!k){H.error("No se pudo generar el nombre del medley.");return}p(!0);try{const b=await QF(n,k,u);b&&(H.success("Medley creado con xito"),i(b),C())}catch(b){console.error("Error creating medley:",b),H.error("Error al crear el medley")}finally{p(!1)}},C=()=>{l(""),c([]),y(""),t()};return e?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full shadow-lg max-h-[80vh] overflow-y-auto",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Crear Nuevo Medley"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(mt,{label:"Nombre del Medley",value:o,onChange:k=>l(k.target.value),placeholder:"Ej: Medley de Rock Clsico",autoFocus:!0}),d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Canciones (opcional)"}),d.jsxs("div",{className:"border rounded-md p-2",children:[d.jsx(mt,{placeholder:"Buscar cancin para aadir...",value:m,onChange:k=>y(k.target.value),className:"mb-2"}),d.jsx("div",{className:"max-h-40 overflow-y-auto",children:r.filter(k=>k.type==="song").filter(k=>{var b;return k.title.toLowerCase().includes(m.toLowerCase())||((b=k.artist)==null?void 0:b.toLowerCase().includes(m.toLowerCase()))}).map(k=>d.jsx("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50",children:d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-2 py-1 hover:bg-gray-50 rounded px-1",children:[d.jsx("input",{type:"checkbox",checked:u.includes(k.id),onChange:()=>x(k.id),className:"rounded"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-medium text-sm truncate",children:k.title}),k.artist&&d.jsx("div",{className:"text-xs text-gray-500 truncate",children:k.artist})]})]})})},k.id))})]})]}),d.jsxs("div",{className:"flex gap-2 justify-end",children:[d.jsx(Ne,{variant:"secondary",onClick:C,disabled:h,children:"Cancelar"}),d.jsx(Ne,{variant:"primary",onClick:S,loading:h,disabled:u.length<2,children:"Crear Medley"})]})]})}):null}function g7({medley:e,availableSongs:t,canEdit:n=!0,onSongAdded:r,onSongRemoved:i,onMedleyRenamed:o,onMedleyDeleted:l}){const[u,c]=v.useState(!1),[h,p]=v.useState(!1),[m,y]=v.useState(e.title),[x,S]=v.useState(!1),[C,k]=v.useState(!1),[b,_]=v.useState(!1),[N,P]=v.useState(""),[R,z]=v.useState([]);v.useEffect(()=>{(async()=>{if(e.medley_song_ids&&e.medley_song_ids.length>0){const me=await Sd(e.group_id);if(me){const be=me.filter(Me=>{var $;return(($=e.medley_song_ids)==null?void 0:$.includes(Me.id))&&Me.type==="song"});z(be)}}})()},[e.medley_song_ids,e.group_id]);const L=async()=>{if(!m.trim()){H.error("El nombre del medley es obligatorio");return}k(!0);try{await n8(e.id,{title:m})&&(H.success("Medley actualizado"),o(e.id,m),p(!1))}catch(ne){console.error("Error al actualizar el medley:",ne),H.error("Error al actualizar el medley")}finally{k(!1)}},W=async()=>{k(!0);try{await s8(e.id)&&(H.success("Medley eliminado"),l(e.id))}catch(ne){console.error("Error al eliminar el medley:",ne),H.error("Error al eliminar el medley")}finally{k(!1),_(!1)}},ue=async ne=>{k(!0);try{await i8(e.id,ne)&&(H.success("Cancin eliminada del medley"),i(e.id,ne),z(be=>be.filter(Me=>Me.id!==ne)))}catch(me){console.error("Error al eliminar la cancin del medley:",me),H.error("Error al eliminar la cancin del medley")}finally{k(!1)}},re=async ne=>{if(!t.find(be=>be.id===ne)){H.error("No se pudo encontrar la cancin seleccionada");return}k(!0);try{const be=await r8(e.id,ne);if(be){H.success("Cancin aadida al medley"),r(e.id,ne),S(!1),P("");const Me=await Sd(e.group_id);if(Me&&be.medley_song_ids){const $=Me.filter(T=>{var F;return((F=be.medley_song_ids)==null?void 0:F.includes(T.id))&&T.type==="song"});z($)}}}catch(be){console.error("Error al aadir la cancin al medley:",be),H.error("Error al aadir la cancin al medley")}finally{k(!1)}},q=e.medley_song_ids?e.medley_song_ids.map(ne=>R.find(me=>me.id===ne)).filter(Boolean):[],Ee=Array.from(new Map(q.map(ne=>[ne.id,ne])).values());return d.jsxs("div",{className:"border-l-4 border-blue-400 bg-blue-50 rounded p-3 mb-2",children:[d.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>c(!u),children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(j8,{className:"text-blue-600"}),d.jsx("span",{className:"font-semibold text-blue-800",children:e.title})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsxs("span",{children:[Ee.length," canciones"]}),u?d.jsx(S8,{}):d.jsx(b8,{})]})]}),u&&d.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",onClick:ne=>ne.stopPropagation(),children:[n&&d.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3",children:[d.jsxs(Ne,{variant:"secondary",onClick:()=>{p(!h),h&&y(e.title)},children:[d.jsx(EE,{className:"mr-1"}),h?"Cancelar":"Renombrar"]}),!h&&d.jsxs(Ne,{variant:"danger",onClick:()=>_(!0),loading:C,children:[d.jsx(C8,{className:"mr-1"}),"Eliminar"]})]}),h&&d.jsxs("div",{className:"flex items-center gap-2 mb-4 p-2 bg-white rounded-md",children:[d.jsx(mt,{value:m,onChange:ne=>y(ne.target.value),placeholder:"Nuevo nombre del medley"}),d.jsx(Ne,{onClick:L,loading:C,children:"Guardar"})]}),!h&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Canciones:"}),Ee.length===0?d.jsx("p",{className:"text-sm text-gray-500 italic",children:"No hay canciones en este medley"}):d.jsx("ul",{className:"space-y-1",children:Ee.map(ne=>d.jsxs("li",{className:"flex items-center justify-between py-1 pl-2 hover:bg-blue-100 rounded",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium text-sm",children:ne.title}),ne.artist&&d.jsx("span",{className:"text-xs text-gray-500 ml-2",children:ne.artist})]}),n&&d.jsx(Ne,{variant:"danger",onClick:()=>ue(ne.id),loading:C,children:d.jsx(c1,{})})]},ne.id))})]}),n&&d.jsx("div",{className:"mt-3",children:x?d.jsxs("div",{className:"border rounded p-2 bg-white",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium",children:"Aadir cancin:"}),d.jsx(Ne,{variant:"secondary",onClick:()=>{S(!1),P("")},children:d.jsx(c1,{})})]}),d.jsx(mt,{placeholder:"Buscar cancin...",value:N,onChange:ne=>P(ne.target.value),className:"mb-2"}),d.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[t.filter(ne=>ne.type==="song").filter(ne=>!Ee.some(me=>me.id===ne.id)).filter(ne=>{var me;return ne.title.toLowerCase().includes(N.toLowerCase())||((me=ne.artist)==null?void 0:me.toLowerCase().includes(N.toLowerCase()))}).map(ne=>d.jsxs("button",{onClick:()=>re(ne.id),className:"w-full text-left p-1 hover:bg-gray-100 rounded text-sm",disabled:C,children:[d.jsx("div",{className:"font-medium",children:ne.title}),ne.artist&&d.jsx("div",{className:"text-xs text-gray-500",children:ne.artist})]},ne.id)),t.filter(ne=>ne.type==="song"&&!Ee.some(me=>me.id===ne.id)).length===0&&d.jsx("p",{className:"text-xs text-gray-500 p-1",children:"No hay ms canciones para aadir."})]})]}):d.jsxs(Ne,{variant:"primary",onClick:()=>S(!0),children:[d.jsx(Lm,{className:"mr-1"}),"Aadir Cancin"]})})]})]}),b&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>_(!1),children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full shadow-xl",onClick:ne=>ne.stopPropagation(),children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmar Eliminacin"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:['Ests seguro de que quieres eliminar el medley "',e.title,'"? Esta accin no se puede deshacer.']}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx(Ne,{variant:"secondary",onClick:()=>_(!1),disabled:C,children:"Cancelar"}),d.jsx(Ne,{variant:"danger",onClick:W,loading:C,children:C?"Eliminando...":"Eliminar"})]})]})})]})}const S1={name:"",description:"",estimated_duration_minutes:""};function v7({item:e,canManageSetlists:t,songs:n,onRemoveSong:r,onSongAddedToMedley:i,onSongRemovedFromMedley:o,onMedleyRenamed:l,onMedleyDeleted:u}){var S,C,k,b;const{attributes:c,listeners:h,setNodeRef:p,transform:m,transition:y}=h7({id:e.id}),x={transform:Wl.Transform.toString(m),transition:y};return d.jsxs("div",{ref:p,style:x,...c,className:"flex items-center gap-2 mb-2",children:[t&&d.jsx("div",{...h,className:"cursor-grab text-gray-400 py-3 px-2 touch-none",children:d.jsx(N8,{})}),d.jsx("div",{className:"flex-grow",children:e.type==="song"?d.jsxs("div",{className:"bg-white p-3 rounded-md shadow-sm border border-gray-200 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:(S=e.data.song)==null?void 0:S.title}),d.jsxs("p",{className:"text-sm text-gray-500",children:[(C=e.data.song)==null?void 0:C.artist," - ",(k=e.data.song)==null?void 0:k.duration_minutes,"m - Tono: ",(b=e.data.song)==null?void 0:b.key]})]}),t&&d.jsx(Ne,{variant:"danger",onClick:()=>r(e.data.setlist_id,e.data.song_id),children:"Eliminar"})]}):d.jsx(g7,{medley:e.data,availableSongs:n.filter(_=>_.type==="song"),canEdit:t,onSongAdded:i,onSongRemoved:o,onMedleyRenamed:l,onMedleyDeleted:u})})]})}function y7({groupId:e,canManageSetlists:t=!0}){const[n,r]=v.useState([]),[i,o]=v.useState([]),[l,u]=v.useState(!0),[c,h]=v.useState(!1),[p,m]=v.useState(null),[y,x]=v.useState(null),[S,C]=v.useState(S1),[k,b]=v.useState(!1),[_,N]=v.useState(null),[P,R]=v.useState(!1),[z,L]=v.useState(null),[W,ue]=v.useState(""),[re,q]=v.useState(""),[Ee,ne]=v.useState(!1);v.useState(null),v.useState("");const[me,be]=v.useState([]),Me=B8(W8(wv));v.useEffect(()=>{$()},[e]),v.useEffect(()=>{if(y){const M=[];y.songs&&y.songs.forEach(G=>{var ve,Pe,je,Ke;const de=((ve=G.song)==null?void 0:ve.type)==="medley";de&&console.log("Processing medley item:",{songId:G.id,songSongId:(Pe=G.song)==null?void 0:Pe.id,songTitle:(je=G.song)==null?void 0:je.title,songType:(Ke=G.song)==null?void 0:Ke.type,position:G.position}),G.id?M.push({id:G.id,type:de?"medley":"song",position:G.position,data:de?G.song:G}):console.error("Song with undefined ID found:",G)}),y.medleys&&y.medleys.length>0&&(console.warn("Legacy medleys found in setlist - these will be ignored in the new system:",y.medleys),console.warn('All medleys should be in the songs table with type="medley"')),M.sort((G,de)=>G.position-de.position);const ae=M.map(G=>G.id),ce=ae.filter((G,de)=>ae.indexOf(G)!==de);ce.length>0&&(console.error("Duplicate IDs found in setlistItems:",ce),console.error("All items:",M),console.error("selectedSetlist.songs:",y.songs),console.error("selectedSetlist.medleys:",y.medleys)),console.log("All setlistItems:",M.map(G=>({id:G.id,type:G.type,position:G.position}))),be(M)}else be([])},[y]);const $=async()=>{u(!0);const[M,ae]=await Promise.all([$m(e),Sd(e)]);return M&&r(M),ae&&o(ae),u(!1),M},T=async M=>{if(M.preventDefault(),!S.name.trim()){H.error("El nombre es obligatorio");return}const{data:{user:ae}}=await oe.auth.getUser();if(!ae){H.error("No se pudo obtener la informacin del usuario");return}const ce={group_id:e,name:S.name.trim(),description:S.description.trim()||void 0,estimated_duration_minutes:S.estimated_duration_minutes?parseInt(S.estimated_duration_minutes):void 0,created_by:ae.id};if(p){const G=await JF(p.id,ce);G&&(H.success("Setlist actualizado correctamente"),r(de=>de.map(ve=>ve.id===p.id?{...ve,...G}:ve)),(y==null?void 0:y.id)===p.id&&x(de=>de?{...de,...G}:null))}else{const G=await _E({...ce,name:ce.name});G&&(H.success("Setlist creado correctamente"),r(de=>[...de,{...G,songs:[]}]))}ke()},F=M=>{var ae;m(M),C({name:M.name,description:M.description||"",estimated_duration_minutes:((ae=M.estimated_duration_minutes)==null?void 0:ae.toString())||""}),h(!0)},te=M=>{N(M),b(!0)},se=async()=>{if(!_)return;await ZF(_.id)?(H.success("Setlist eliminado correctamente"),r(ae=>ae.filter(ce=>ce.id!==_.id)),(y==null?void 0:y.id)===_.id&&x(null)):H.error("No se pudo eliminar el setlist"),b(!1),N(null)},_e=async(M,ae)=>{if(!y)return;const G=(y.songs&&y.songs.length>0?Math.max(...y.songs.map(ve=>ve.position)):0)+1,de=await Am(M,ae,G);if(de){H.success("Cancin aadida al setlist");const ve=i.find(Pe=>Pe.id===ae);if(ve){const Pe={...de,position:G,song:ve},je={...y,songs:[...y.songs||[],Pe]};x(je),r(Ke=>Ke.map(nt=>nt.id===M?je:nt))}}else console.error("No se pudo aadir la cancin al setlist")},ge=async(M,ae)=>{var G;if(await e8(M,ae)){H.success("Cancin eliminada del setlist");const de=y?{...y,songs:(G=y.songs)==null?void 0:G.filter(ve=>ve.song_id!==ae)}:null;de&&(x(de),r(ve=>ve.map(Pe=>Pe.id===de.id?de:Pe)))}else H.error("No se pudo eliminar la cancin del setlist")},$e=M=>{const{active:ae,over:ce}=M;if(!ce||ae.id===ce.id||!y)return;const G=me.findIndex(Xe=>Xe.id===ae.id),de=me.findIndex(Xe=>Xe.id===ce.id),Pe=_v(me,G,de).map((Xe,yt)=>({id:Xe.id,type:Xe.type,position:yt+1})),je=Pe.map(Xe=>{var Ft;return{...(Ft=y.songs)==null?void 0:Ft.find(sn=>sn.id===Xe.id),position:Xe.position}}),Ke={...y,songs:je};x(Ke),r(Xe=>Xe.map(yt=>yt.id===Ke.id?Ke:yt)),console.log("Reordering items:",Pe);const nt=Pe.map(Xe=>({songId:Xe.id,position:Xe.position}));t8(y.id,nt).then(Xe=>{Xe?console.log("Reorder successful"):(H.error("No se pudo guardar el orden. Se revertirn los cambios."),$())})},ke=()=>{C(S1),m(null),h(!1)},Oe=M=>{if(!i)return[];const ae=new Set((M.songs||[]).map(ce=>ce.song_id));return i.filter(ce=>!ae.has(ce.id))},Q=M=>{const ae=n.find(ce=>ce.id===M.id);x(ae||null)},pe=(M,ae,ce)=>{if(!y)return;const G={...ce,song:ae},de={...y,medleys:(y.medleys||[]).map(ve=>ve.id===M?{...ve,songs:[...ve.songs||[],G].sort((Pe,je)=>Pe.position-je.position)}:ve)};x(de),r(ve=>ve.map(Pe=>Pe.id===de.id?de:Pe))},Z=(M,ae)=>{if(!y)return;const ce={...y,medleys:(y.medleys||[]).map(G=>G.id===M?{...G,songs:(G.songs||[]).filter(de=>de.song_id!==ae)}:G)};x(ce),r(G=>G.map(de=>de.id===ce.id?ce:de))},V=(M,ae)=>{if(!y)return;const ce={...y,medleys:(y.medleys||[]).map(G=>G.id===M?{...G,name:ae}:G)};x(ce),r(G=>G.map(de=>de.id===ce.id?ce:de))},U=M=>{if(!y)return;const ae={...y,medleys:(y.medleys||[]).filter(ce=>ce.id!==M)};x(ae),r(ce=>ce.map(G=>G.id===ae.id?ae:G))},K=async M=>{if(!y)return;const ce=(y.songs&&y.songs.length>0?Math.max(...y.songs.map(de=>de.position)):0)+1;if(await Am(y.id,M.id,ce)){H.success("Medley creado y aadido al setlist"),await $();const de=await $m(e);if(de){const ve=de.find(Pe=>Pe.id===y.id);ve&&x(ve)}}else H.error("Medley creado pero no se pudo aadir al setlist")},fe=M=>{L(M),ue(`${M.name} (copia)`),R(!0)},ee=async()=>{if(!z||!W.trim())return;u(!0),R(!1),await o8(z.id,W.trim())?(H.success("Setlist duplicado correctamente"),await $()):H.error("No se pudo duplicar el setlist"),L(null),ue(""),u(!1)};return l?d.jsx("div",{className:"text-center py-8",children:"Cargando setlists..."}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Setlists"}),t&&d.jsx(Ne,{onClick:()=>h(!c),variant:c?"secondary":"primary",children:c?"Cancelar":"Crear Setlist"})]}),!t&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:d.jsx("p",{className:"text-yellow-800 text-sm",children:"Solo los miembros principales pueden gestionar canciones y setlists."})}),c&&t&&d.jsxs("form",{onSubmit:T,className:"bg-white p-6 rounded-lg shadow-md space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:p?"Editar Setlist":"Nuevo Setlist"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(mt,{label:"Nombre *",value:S.name,onChange:M=>C({...S,name:M.target.value}),required:!0}),d.jsx(mt,{label:"Duracin estimada (minutos)",type:"number",value:S.estimated_duration_minutes,onChange:M=>C({...S,estimated_duration_minutes:M.target.value}),min:"1"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),d.jsx("textarea",{value:S.description,onChange:M=>C({...S,description:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descripcin breve del setlist..."})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(Ne,{type:"submit",variant:"primary",children:p?"Actualizar":"Crear"}),d.jsx(Ne,{type:"button",variant:"secondary",onClick:ke,children:"Cancelar"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"md:col-span-1 space-y-3",children:[n.map(M=>{var ae,ce;return d.jsxs("div",{className:`p-4 rounded-lg cursor-pointer transition-all ${(y==null?void 0:y.id)===M.id?"bg-blue-600 text-white shadow-lg":"bg-white hover:bg-gray-100"}`,onClick:()=>Q(M),children:[d.jsx("h4",{className:`font-bold ${(y==null?void 0:y.id)===M.id?"text-white":"text-gray-800"}`,children:M.name}),d.jsxs("p",{className:`text-sm ${(y==null?void 0:y.id)===M.id?"text-blue-100":"text-gray-500"}`,children:[(((ae=M.songs)==null?void 0:ae.length)||0)+(((ce=M.medleys)==null?void 0:ce.length)||0)," items"]})]},M.id)}),n.length===0&&!l&&d.jsx("p",{className:"text-center text-gray-500 py-4",children:"No hay setlists. Crea el primero!"})]}),d.jsx("div",{className:"md:col-span-2",children:y?d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-gray-800",children:y.name}),d.jsx("p",{className:"text-sm text-gray-500",children:y.description})]}),t&&d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Ne,{variant:"primary",onClick:()=>ne(!0),children:[d.jsx(Lm,{className:"mr-1"})," Crear Medley"]}),d.jsxs(Ne,{variant:"secondary",onClick:()=>F(y),children:[d.jsx(EE,{className:"mr-2"})," Editar"]}),d.jsxs(Ne,{variant:"secondary",onClick:()=>fe(y),children:[d.jsx(E8,{className:"mr-2"})," Duplicar"]}),d.jsx(Ne,{variant:"danger",onClick:()=>te(y),children:"Eliminar"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Canciones en el Setlist"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(VU,{sensors:Me,collisionDetection:Y8,onDragEnd:$e,children:d.jsx(o7,{items:me.map(M=>M.id),strategy:i7,children:me.map((M,ae)=>d.jsx(v7,{item:M,canManageSetlists:t,songs:i,onRemoveSong:ge,onSongAddedToMedley:pe,onSongRemovedFromMedley:Z,onMedleyRenamed:V,onMedleyDeleted:U},`${M.type}-${M.id}-${ae}`))})}),me.length===0&&d.jsx("p",{className:"text-gray-500 text-sm py-4 text-center",children:"Este setlist est vaco."})]})]}),t&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Aadir Cancin al Setlist"}),d.jsx(mt,{placeholder:"Buscar cancin...",value:re,onChange:M=>q(M.target.value),className:"mb-2"}),d.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-2",children:[Oe(y).filter(M=>{var ae;return M.title.toLowerCase().includes(re.toLowerCase())||((ae=M.artist)==null?void 0:ae.toLowerCase().includes(re.toLowerCase()))}).map(M=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-medium text-sm",children:[M.type==="medley"&&d.jsx("span",{className:"text-blue-600 mr-1",children:""}),M.title]}),d.jsx("p",{className:"text-xs text-gray-500",children:M.type==="medley"?"Medley":M.artist})]}),d.jsx(Ne,{onClick:()=>_e(y.id,M.id),children:d.jsx(Lm,{})})]},M.id)),Oe(y).length===0&&d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Todas las canciones ya estn en este setlist."})]})]})]})]}):d.jsx("div",{className:"text-center py-12 text-gray-500",children:d.jsx("p",{children:"Selecciona un setlist para ver los detalles"})})})]}),k&&_&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmar Eliminacin"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:['Ests seguro de que quieres eliminar el setlist "',_.name,'"? Esta accin no se puede deshacer.']}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx(Ne,{variant:"secondary",onClick:()=>{b(!1),N(null)},children:"Cancelar"}),d.jsx(Ne,{variant:"danger",onClick:se,children:"Eliminar"})]})]})}),P&&z&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Duplicar Setlist"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Introduce un nombre para el nuevo setlist:"}),d.jsx(mt,{value:W,onChange:M=>ue(M.target.value),className:"mb-6",autoFocus:!0}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx(Ne,{variant:"secondary",onClick:()=>{R(!1),L(null),ue("")},children:"Cancelar"}),d.jsx(Ne,{variant:"primary",onClick:ee,disabled:!W.trim(),children:"Duplicar"})]})]})}),Ee&&y&&d.jsx(m7,{isOpen:Ee,onClose:()=>ne(!1),groupId:e,availableSongs:Oe(y),onMedleyCreated:M=>{K(M),ne(!1)}})]})}function x7({groupId:e,canManageSongs:t=!0,canManageSetlists:n=!0}){const[r,i]=v.useState("songs");return d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[d.jsx("button",{onClick:()=>i("songs"),className:`${r==="songs"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Pool de Canciones"}),d.jsx("button",{onClick:()=>i("setlists"),className:`${r==="setlists"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Setlists"})]})}),d.jsxs("div",{className:"p-6",children:[r==="songs"&&d.jsx(p8,{groupId:e,canManageSongs:t}),r==="setlists"&&d.jsx(y7,{groupId:e,canManageSetlists:n})]})]})})}function w7(){const{id:e}=Hb(),[t,n]=v.useState(null),[r,i]=v.useState([]),[o,l]=v.useState([]),[u,c]=v.useState(!1),[h,p]=v.useState(!1),[m,y]=v.useState(!1),[x,S]=v.useState(null),[C,k]=v.useState(null),[b,_]=v.useState(!0),[N,P]=v.useState(!1),[R,z]=v.useState(null),[L,W]=v.useState(!1),[ue,re]=v.useState([]),{user:q}=Vn(),[Ee,ne]=v.useState(!1),[me,be]=v.useState(!1),[Me,$]=v.useState(""),[T,F]=v.useState("overview");v.useEffect(()=>{e&&se()},[e,q]),v.useEffect(()=>{e&&q&&te()},[e,q,r]);const te=async()=>{if(q)try{const V=await ut(()=>oe.from("users").select("role").eq("id",q.id).single(),"Error checking permissions");V&&(z(V.role),P(V.role==="admin"));const U=r.find(K=>K.user_id===q.id);ne(!!U),W((U==null?void 0:U.role_in_group)==="principal"||!1),(U==null?void 0:U.role_in_group)==="principal"&&P(!0)}catch(V){console.error("Error checking permissions:",V)}},se=async()=>{try{const V=await ut(()=>oe.from("groups").select("*").eq("id",e).single(),"Error loading group");V&&n(V);const U=await ut(()=>oe.from("group_members").select(`
            *,
            group_member_roles!group_member_roles_group_member_id_fkey (
              role:roles (
                id,
                name
              )
            )
          `).eq("group_id",e).order("role_in_group",{ascending:!1}).order("name"),"Error loading members");if(U){const fe=U.map(ee=>({...ee,instruments:(ee.group_member_roles||[]).filter(M=>M==null?void 0:M.role).map(M=>({id:M.role.id,name:M.role.name}))}));i(fe)}const K=await ut(()=>oe.from("roles").select("*").eq("group_id",e).order("name"),"Error loading roles");K&&l(K)}catch(V){console.error("Error fetching group data:",V)}finally{_(!1)}},_e=async V=>{if(!(!q||!e))try{await ut(()=>oe.rpc("link_group_member",{p_member_id:V,p_user_id:q.id,p_group_id:e}),"Error linking member"),H.success("Te has vinculado correctamente!"),await se(),await te()}catch(U){console.error("Error linking member:",U)}},ge=V=>{S(V),p(!0)},$e=V=>{k(V),y(!0)},ke=async()=>{if(C)try{await ut(()=>oe.from("group_members").delete().eq("id",C.id),"Error deleting member"),H.success("Miembro eliminado correctamente"),y(!1),k(null),se()}catch(V){console.error("Error deleting member:",V)}},Oe=r.filter(V=>V.role_in_group==="principal"),Q=r.filter(V=>V.role_in_group==="sustituto"),pe=(V,U)=>d.jsxs("div",{children:[d.jsx("div",{className:"bg-gray-50 px-3 py-2",children:d.jsx("h3",{className:"text-sm font-medium text-gray-700",children:U})}),d.jsx("div",{className:"divide-y",children:V.map(K=>d.jsxs("div",{className:"p-3 hover:bg-gray-50",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-medium text-gray-900",children:K.name}),d.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${K.role_in_group==="principal"?"bg-indigo-100 text-indigo-700":"bg-yellow-100 text-yellow-700"}`,children:K.role_in_group==="principal"?"Principal":"Sustituto"}),!K.user_id&&d.jsx("span",{className:"text-xs text-gray-500",children:"(Sin vincular)"})]}),K.instruments.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:K.instruments.map((fe,ee)=>d.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[d.jsx(us,{className:"w-3 h-3 mr-1"}),fe.name]},`${K.id}-${fe.id}-${ee}`))}),K.user_id===(q==null?void 0:q.id)&&d.jsx("div",{className:"mt-2 flex items-center",children:d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:K.sync_calendar,onChange:async()=>{try{await ut(()=>oe.from("group_members").update({sync_calendar:!K.sync_calendar}).eq("id",K.id),"Error actualizando preferencias de calendario"),H.success("Preferencias de calendario actualizadas"),se()}catch(fe){console.error("Error:",fe)}},className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"}),d.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Sincronizar eventos al calendario"})]})}),K.user_id===(q==null?void 0:q.id)&&K.sync_calendar&&d.jsxs("button",{onClick:()=>Z(K.id),className:"mt-2 text-sm text-indigo-600 hover:text-indigo-700 flex items-center",children:[d.jsx(md,{className:"w-4 h-4 mr-1"}),"Obtener enlace de suscripcin al calendario"]})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[(R==="admin"||K.user_id===(q==null?void 0:q.id))&&d.jsx("button",{onClick:()=>ge(K),className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",title:"Editar miembro",children:d.jsx(jS,{className:"w-4 h-4"})}),(R==="admin"||L)&&d.jsx("button",{onClick:()=>$e(K),className:"p-1 text-red-400 hover:text-red-600 rounded-full hover:bg-red-50",title:"Eliminar miembro",children:d.jsx(Yg,{className:"w-4 h-4"})})]})]}),!K.user_id&&!Ee&&d.jsxs(Ne,{onClick:()=>_e(K.id),variant:"secondary",className:"w-full mt-2 text-sm py-1",children:[d.jsx(Aw,{className:"w-3 h-3 mr-1"}),"Soy este miembro"]})]},K.id))})]}),Z=async V=>{try{const{data:U,error:K}=await oe.rpc("get_group_calendar",{p_group_id:t==null?void 0:t.id,p_member_id:V});if(K)throw K;if(!U)throw new Error("No se pudo generar el calendario");const fe=new Blob([U],{type:"text/calendar"}),ee=new File([fe],"calendar.ics",{type:"text/calendar"}),{error:M}=await oe.storage.from("calendars").upload(`${t==null?void 0:t.id}/${V}/calendar.ics`,ee,{cacheControl:"0",upsert:!0});if(M)throw console.error("Upload error:",M),M;const{data:{publicUrl:ae}}=await oe.storage.from("calendars").getPublicUrl(`${t==null?void 0:t.id}/${V}/calendar.ics`);if(ae)$(ae),be(!0);else throw new Error("No se pudo generar el enlace pblico")}catch(U){console.error("Error:",U),U.message==="new row violates row-level security policy"?H.error("Error de permisos al generar el calendario. Por favor, contacta con el administrador."):H.error("Error al generar el enlace del calendario")}};return b?d.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:d.jsx(ua,{className:"w-8 h-8 animate-spin text-indigo-600"})}):t?d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),d.jsx("p",{className:"text-gray-500 mt-1",children:"Gestiona miembros y disponibilidad"})]}),(N||L)&&(!Ee||R==="admin"||L)&&d.jsxs(Ne,{onClick:()=>c(!0),className:"flex items-center space-x-2",children:[d.jsx(Vg,{className:"w-5 h-5"}),d.jsx("span",{children:R==="admin"||L?"Aadir Miembro":"Unirse al Grupo"})]})]}),d.jsx("div",{className:"border-b border-gray-200 mb-6",children:d.jsxs("nav",{className:"-mb-px flex space-x-8",children:[d.jsxs("button",{onClick:()=>F("overview"),className:`${T==="overview"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[d.jsx(md,{className:"w-4 h-4"}),d.jsx("span",{children:"Vista General"})]}),d.jsxs("button",{onClick:()=>F("setlists"),className:`${T==="setlists"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[d.jsx(hA,{className:"w-4 h-4"}),d.jsx("span",{children:"Canciones y Setlists"})]})]})}),T==="overview"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-lg font-semibold",children:"Miembros del Grupo"})}),r.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsx(Aw,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),d.jsxs("p",{className:"text-gray-500",children:["No hay miembros an. ",N?'Haz clic en "Unirse al Grupo" para ser el primer miembro!':"Espera a que alguien se una al grupo."]})]}):d.jsxs("div",{className:"divide-y divide-gray-200",children:[Oe.length>0&&pe(Oe,"Miembros Principales"),Q.length>0&&pe(Q,"Miembros Sustitutos")]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-lg font-semibold",children:"Disponibilidad"})}),d.jsx("div",{className:"p-4",children:d.jsx(GF,{members:r,onAvailableDatesChange:re,groupName:t.name})})]})]}),t&&e&&d.jsx("div",{className:"mt-6 bg-white rounded-lg shadow-md",children:d.jsx(c8,{groupId:e,canManageEvents:R==="admin"||L,availableDates:ue,members:r})})]}),T==="setlists"&&t&&e&&d.jsx(x7,{groupId:e,canManageSongs:R==="admin"||L,canManageSetlists:R==="admin"||L}),t&&(N||L)&&(!Ee||R==="admin"||L)&&d.jsx(hI,{isOpen:u,onClose:()=>c(!1),groupId:t.id,instruments:o,onMemberAdded:se,isEmptyGroup:r.length===0,userRole:R}),x&&d.jsx(pI,{isOpen:h,onClose:()=>{p(!1),S(null)},member:x,instruments:o,onMemberUpdated:se,userRole:R}),d.jsx(d8,{isOpen:m,onClose:()=>{y(!1),k(null)},onConfirm:ke,title:"Eliminar Miembro",message:`Ests seguro de que quieres eliminar a ${C==null?void 0:C.name}? Esta accin no se puede deshacer.`}),d.jsx(f8,{isOpen:me,onClose:()=>be(!1),calendarUrl:Me})]}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Grupo no encontrado"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"El grupo que buscas no existe o no tienes acceso a l."})]})}function E1({children:e}){console.log("ProtectedRoute mounted");const{user:t}=Vn(),n=bi();return console.log("ProtectedRoute check:",{user:t,currentPath:n.pathname}),t?d.jsx(d.Fragment,{children:e}):(console.log("No user in ProtectedRoute, redirecting to login"),d.jsx(SO,{to:"/login",state:{returnTo:n.pathname+n.search},replace:!0}))}function _7(){return d.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Poltica de Privacidad"}),d.jsxs("div",{className:"prose prose-indigo",children:[d.jsxs("p",{className:"mb-4",children:["ltima actualizacin: ",new Date().toLocaleDateString()]}),d.jsxs("section",{className:"mb-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Informacin que Recopilamos"}),d.jsx("p",{children:"Band Manager recopila la siguiente informacin personal:"}),d.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[d.jsx("li",{children:"Direccin de correo electrnico"}),d.jsx("li",{children:"Nombre"}),d.jsx("li",{children:"Informacin de perfil de usuario"})]})]}),d.jsxs("section",{className:"mb-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Uso de Permisos"}),d.jsx("p",{children:"Nuestra aplicacin requiere ciertos permisos para funcionar correctamente:"}),d.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Acceso a Internet:"})," Necesario para sincronizar datos con nuestros servidores, guardar la informacin de tu banda y permitir la colaboracin entre miembros."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Almacenamiento:"})," Utilizado para guardar archivos localmente (como partituras, letras de canciones y configuraciones de la aplicacin) mejorando as el rendimiento y permitiendo el uso sin conexin."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Notificaciones:"})," Para mantenerte informado sobre actualizaciones importantes, mensajes de otros miembros de la banda y recordatorios de eventos."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Cmara (opcional):"})," Solo si decides subir fotos directamente desde la aplicacin para tu perfil o contenido de la banda."]})]}),d.jsx("p",{className:"mb-4",children:"Todos estos permisos son utilizados exclusivamente para proporcionar y mejorar las funcionalidades de la aplicacin. No compartimos ninguna informacin recopilada a travs de estos permisos con terceros."}),d.jsx("p",{children:"Puedes gestionar estos permisos en cualquier momento a travs de la configuracin de tu dispositivo. Ten en cuenta que desactivar ciertos permisos puede limitar algunas funcionalidades de la aplicacin."})]}),d.jsxs("section",{className:"mb-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Cmo Utilizamos su Informacin"}),d.jsx("p",{children:"Utilizamos la informacin recopilada para:"}),d.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[d.jsx("li",{children:"Proporcionar y mantener nuestro servicio"}),d.jsx("li",{children:"Gestionar su cuenta y membresa"}),d.jsx("li",{children:"Permitir la participacin en funciones interactivas"}),d.jsx("li",{children:"Enviar notificaciones relacionadas con el servicio"})]})]}),d.jsxs("section",{className:"mb-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Seguridad de los Datos"}),d.jsx("p",{children:"La seguridad de sus datos es importante para nosotros. Utilizamos Supabase como nuestra plataforma de base de datos y autenticacin, que implementa estndares de seguridad de la industria para proteger su informacin personal."})]}),d.jsxs("section",{className:"mb-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Sus Derechos"}),d.jsx("p",{children:"Usted tiene derecho a:"}),d.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[d.jsx("li",{children:"Acceder a sus datos personales"}),d.jsx("li",{children:"Corregir datos inexactos"}),d.jsx("li",{children:"Solicitar la eliminacin de sus datos"}),d.jsx("li",{children:"Oponerse al procesamiento de sus datos"})]})]}),d.jsxs("section",{className:"mb-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Contacto"}),d.jsxs("p",{children:["Si tiene preguntas sobre esta Poltica de Privacidad, puede contactarnos en:",d.jsx("br",{}),d.jsx("a",{href:"mailto:privacy@bandmanager.com",className:"text-indigo-600 hover:text-indigo-800",children:"privacy@bandmanager.com"})]})]})]})]})}function b7(){console.log("AcceptInvitation component mounted");const[e]=Yb(),t=e.get("token"),n=Gr(),{user:r}=Vn(),[i,o]=v.useState(!0),[l,u]=v.useState(null);v.useEffect(()=>{if(console.log("AcceptInvitation useEffect triggered",{token:t,user:r,groupMemberId:e.get("group_member_id"),currentPath:window.location.pathname+window.location.search}),!t){console.log("No token found"),H.error("Token de invitacin no vlido"),n("/");return}(async()=>{try{if(!r){const x=`/accept-invitation?token=${t}&group_member_id=${e.get("group_member_id")}`;console.log("No user found, redirecting to login with return URL:",x),n("/login",{state:{returnTo:x}});return}const{data:p,error:m}=await oe.rpc("get_invitation_details",{p_token:t});if(console.log("Invitation check result:",{invitationData:p,invitationError:m}),m)throw m;if(!p||p.length===0){H.error("Invitacin no encontrada o ya procesada"),n("/");return}const y=p[0];if(console.log("Invitation data:",y),r.email!==y.email){H.error("Esta invitacin es para otro correo electrnico"),n("/");return}if(!e.get("group_member_id")){const x=new URLSearchParams(e);x.set("group_member_id",y.group_member_id),n(`${location.pathname}?${x.toString()}`,{replace:!0})}u({groupName:y.group_name,role:y.role_in_group}),o(!1)}catch(p){console.error("Error checking invitation:",p),H.error(p.message||"Error al verificar la invitacin"),n("/")}})()},[t,r,n,e]);const c=async h=>{try{o(!0);const{data:p,error:m}=await oe.rpc("get_invitation_details",{p_token:t});if(m)throw m;if(!p||p.length===0)throw new Error("Invitacin no encontrada");const{group_member_id:y}=p[0],{error:x}=await oe.rpc("handle_group_invitation",{p_group_member_id:y,p_accept:h});if(x)throw x;H.success(h?"Invitacin aceptada":"Invitacin rechazada"),n("/")}catch(p){console.error("Error handling invitation:",p),H.error(p.message)}finally{o(!1)}};return i?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500 mx-auto"}),d.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando invitacin..."})]})}):l?d.jsx("div",{className:"max-w-lg mx-auto mt-16 p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Invitacin a Grupo"}),d.jsxs("div",{className:"mb-8 text-center",children:[d.jsxs("p",{className:"text-lg mb-2",children:["Has sido invitado a unirte a ",d.jsx("strong",{children:l.groupName})]}),d.jsxs("p",{className:"text-gray-600",children:["Rol: ",d.jsx("span",{className:"capitalize",children:l.role})]})]}),d.jsxs("div",{className:"flex justify-center space-x-4",children:[d.jsx(Ne,{onClick:()=>c(!0),loading:i,className:"bg-green-500 hover:bg-green-600",children:"Aceptar"}),d.jsx(Ne,{onClick:()=>c(!1),variant:"secondary",loading:i,className:"bg-red-500 hover:bg-red-600 text-white",children:"Rechazar"})]})]})}):null}function S7(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[i,o]=v.useState(!1),l=async u=>{u.preventDefault(),o(!0),r("");const{error:c}=await oe.auth.resetPasswordForEmail(e,{redirectTo:"https://bandplan.netlify.app/reset-password"});o(!1),r(c?"Error: "+c.message:"Revisa tu correo para continuar el proceso!")};return d.jsx("div",{className:"max-w-md mx-auto mt-16",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[d.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Olvidaste tu contrasea?"}),d.jsxs("form",{onSubmit:l,className:"space-y-6",children:[d.jsx(mt,{label:"Email",type:"email",value:e,onChange:u=>t(u.target.value),required:!0,placeholder:"tu@email.com"}),d.jsx(Ne,{type:"submit",loading:i,fullWidth:!0,children:"Enviar enlace"})]}),n&&d.jsx("div",{className:`mt-4 p-3 rounded-lg ${n.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:n}),d.jsx("p",{className:"mt-4 text-center text-sm text-gray-600",children:d.jsx(os,{to:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"Volver al login"})})]})})}function E7(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[i,o]=v.useState(!1),[l,u]=v.useState(!1),[c,h]=v.useState(!1),p=Gr(),m=bi();v.useEffect(()=>{(async()=>{var S;console.log("Verificando autenticacin para reset de contrasea");try{const{data:C}=await oe.auth.getSession(),k=new URLSearchParams(m.search),b=k.get("token"),_=k.get("type"),N=(S=m.state)==null?void 0:S.resetCode,P=localStorage.getItem("recovery_token");if(console.log("Verificando tokens de recuperacin:",{urlToken:(b==null?void 0:b.substring(0,10))+"..."||"No presente",stateResetCode:N?"Presente":"No presente",storedToken:P?"Presente":"No presente",type:_}),console.log("Sesin activa:",!!C.session),b&&_==="recovery")console.log("Token de recuperacin vlido detectado en URL"),h(!0);else if(N){console.log("Cdigo de recuperacin detectado en state"),h(!0);try{await oe.auth.verifyOtp({token_hash:N,type:"recovery"})}catch(R){console.warn("Error al verificar OTP con resetCode:",R)}}else if(P){console.log("Token de recuperacin encontrado en localStorage"),h(!0),localStorage.removeItem("recovery_token");try{await oe.auth.verifyOtp({token_hash:P,type:"recovery"})}catch(R){console.warn("Error al verificar OTP con storedToken:",R)}}else C.session?(console.log("Sesin activa detectada, permitiendo reset de contrasea"),h(!0)):l||(console.log("No hay token de recuperacin vlido ni sesin activa"),p("/login"))}catch(C){console.error("Error al verificar autenticacin:",C),p("/login")}})()},[m,p,l]);const y=async x=>{x.preventDefault(),o(!0),r("");try{const{error:S}=await oe.auth.updateUser({password:e});if(S)throw S;u(!0),r("Contrasea actualizada correctamente! Redirigiendo al inicio..."),setTimeout(()=>{p("/",{replace:!0})},2e3)}catch(S){r("Error: "+S.message)}finally{o(!1)}};return d.jsx("div",{className:"max-w-md mx-auto mt-16",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[d.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Restablecer contrasea"}),c?d.jsxs(d.Fragment,{children:[d.jsxs("form",{onSubmit:y,className:"space-y-6",children:[d.jsx(mt,{label:"Nueva contrasea",type:"password",value:e,onChange:x=>t(x.target.value),required:!0,placeholder:""}),d.jsx(Ne,{type:"submit",loading:i,fullWidth:!0,children:"Actualizar contrasea"})]}),n&&d.jsx("div",{className:`mt-4 p-3 rounded-lg ${n.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:n})]}):d.jsxs("div",{className:"py-6 text-center",children:[d.jsx("div",{className:"animate-pulse inline-block p-3 mb-4 rounded-full bg-indigo-100",children:d.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),d.jsx("p",{className:"text-gray-700 mb-2",children:"Verificando token de recuperacin..."}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Si no eres redirigido automticamente, solicita un",d.jsx(os,{to:"/forgot-password",className:"text-indigo-600 hover:text-indigo-500",children:" nuevo enlace"}),"."]})]})]})})}function N7(){const{setUser:e,setSession:t}=Vn();return v.useEffect(()=>{const n=new URLSearchParams(window.location.search),r=n.get("token"),i=n.get("type"),o=window.location.hash;console.log("App: Verificando token en URL:",{token:r?r.substring(0,10)+"...":null,type:i,hash:o.length>0?o.substring(0,20)+"...":null}),r&&i==="recovery"&&window.location.pathname!=="/reset-password"?(console.log("App: Token PKCE de recuperacin detectado, redirigiendo a /reset-password"),window.location.replace(`/reset-password?token=${r}&type=${i}`)):o.includes("access_token=")&&o.includes("type=recovery")&&window.location.pathname!=="/reset-password"&&(console.log("App: Token hash de recuperacin detectado, redirigiendo a /reset-password"),window.location.replace("/reset-password"+o))},[]),v.useEffect(()=>{console.log("App mounted"),oe.auth.getSession().then(({data:{session:r}})=>{console.log("Initial session:",r),t(r),e((r==null?void 0:r.user)??null)});const{data:{subscription:n}}=oe.auth.onAuthStateChange((r,i)=>{console.log("Auth state changed:",i),t(i),e((i==null?void 0:i.user)??null)});return()=>n.unsubscribe()},[e,t]),d.jsx(MO,{children:d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx(yA,{}),d.jsx("main",{className:"container mx-auto px-4 py-8",children:d.jsxs(NO,{children:[d.jsx(oi,{path:"/login",element:d.jsx(xA,{})}),d.jsx(oi,{path:"/register",element:d.jsx(wA,{})}),d.jsx(oi,{path:"/forgot-password",element:d.jsx(S7,{})}),d.jsx(oi,{path:"/reset-password",element:d.jsx(E7,{})}),d.jsx(oi,{path:"/accept-invitation",element:d.jsx(b7,{})}),d.jsx(oi,{path:"/",element:d.jsx(E1,{children:d.jsx(fI,{})})}),d.jsx(oi,{path:"/group/:id",element:d.jsx(E1,{children:d.jsx(w7,{})})}),d.jsx(oi,{path:"/privacy-policy",element:d.jsx(_7,{})})]})}),d.jsx(jM,{position:"top-right"})]})})}Lg(document.getElementById("root")).render(d.jsx(v.StrictMode,{children:d.jsx(N7,{})}));export{N1 as g};
